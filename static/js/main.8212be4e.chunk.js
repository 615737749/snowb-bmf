(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{120:function(e,t){},231:function(e,t,n){},370:function(e,t,n){"use strict";n.r(t);var r,i,o,a,c=n(1),l=n(0),s=n.n(l),u=n(22),f=n.n(u),p=(n(231),n(12)),d=n(431),h=n(432),b=n(11),g=n(2),j=n(8),O=n(15),y=n(19),m=n(4),w=(n(32),r=g.k.bound,i=g.k.bound,o=function(){function e(){Object(O.a)(this,e),Object(j.a)(this,"globalLoader",a,this)}return Object(y.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),a=Object(m.a)(o.prototype,"globalLoader",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(m.a)(o.prototype,"showGlobalLoader",[r],Object.getOwnPropertyDescriptor(o.prototype,"showGlobalLoader"),o.prototype),Object(m.a)(o.prototype,"hideGlobalLoader",[i],Object.getOwnPropertyDescriptor(o.prototype,"hideGlobalLoader"),o.prototype),o),x=n(70),v=n(140);function k(){return new Worker(n.p+"static/js/RectanglePacker.89b15b65e604634cf633.worker.js")}var P,S,C,z,B,T,A,I,$,L,N,M,E,D,X,F,Y,W,G,H,R,J,U={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},K={num:function(e,t){return U.num(e)?e:t}},V=(P=g.k.bound,S=g.k.bound,C=g.k.bound,z=g.k.bound,B=g.k.bound,T=g.k.bound,A=g.k.bound,I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"scale",$,this),Object(j.a)(this,"offsetX",L,this),Object(j.a)(this,"offsetY",N,this),Object(j.a)(this,"width",M,this),Object(j.a)(this,"height",E,this),Object(j.a)(this,"previewText",D,this),Object(j.a)(this,"selectLetter",X,this),Object(j.a)(this,"selectNextLetter",F,this),Object(j.a)(this,"showPreview",Y,this),Object(j.a)(this,"previewScale",W,this),Object(j.a)(this,"previewOffsetX",G,this),Object(j.a)(this,"previewOffsetY",H,this),Object(j.a)(this,"packFailed",R,this),t.previewText&&(this.previewText=t.previewText)}return Object(y.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=K.num(e.scale,this.scale),this.offsetX=K.num(e.offsetX,this.offsetX),this.offsetY=K.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(K.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=K.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=K.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),$=Object(m.a)(I.prototype,"scale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Object(m.a)(I.prototype,"offsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=Object(m.a)(I.prototype,"offsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=Object(m.a)(I.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=Object(m.a)(I.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(m.a)(I.prototype,"previewText",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),X=Object(m.a)(I.prototype,"selectLetter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=Object(m.a)(I.prototype,"selectNextLetter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=Object(m.a)(I.prototype,"showPreview",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(m.a)(I.prototype,"previewScale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=Object(m.a)(I.prototype,"previewOffsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(m.a)(I.prototype,"previewOffsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(m.a)(I.prototype,"packFailed",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(m.a)(I.prototype,"setTransform",[P],Object.getOwnPropertyDescriptor(I.prototype,"setTransform"),I.prototype),Object(m.a)(I.prototype,"setSize",[S],Object.getOwnPropertyDescriptor(I.prototype,"setSize"),I.prototype),Object(m.a)(I.prototype,"setPreviewText",[C],Object.getOwnPropertyDescriptor(I.prototype,"setPreviewText"),I.prototype),Object(m.a)(I.prototype,"setShowPreview",[z],Object.getOwnPropertyDescriptor(I.prototype,"setShowPreview"),I.prototype),Object(m.a)(I.prototype,"setPreviewTransform",[B],Object.getOwnPropertyDescriptor(I.prototype,"setPreviewTransform"),I.prototype),Object(m.a)(I.prototype,"setSelectLetter",[T],Object.getOwnPropertyDescriptor(I.prototype,"setSelectLetter"),I.prototype),Object(m.a)(I.prototype,"setPackFailed",[A],Object.getOwnPropertyDescriptor(I.prototype,"setPackFailed"),I.prototype),I),q={fontSize:"14px",fontFamily:"sans-serif"};function Q(e){var t=Object(p.a)(Object(p.a)({},q),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),U.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=q.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var _,Z,ee,te,ne,re,ie,oe,ae,ce,le,se,ue,fe,pe,de,he,be,ge,je=n(180);var Oe,ye,me,we,xe,ve,ke,Pe,Se,Ce,ze=(ee=g.B.ref,te=g.B.ref,ne=g.k.bound,re=g.k.bound,ie=g.k.bound,oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"font",ae,this),Object(j.a)(this,"family",ce,this),Object(j.a)(this,"size",le,this),Object(j.a)(this,"lineHeight",se,this),Object(j.a)(this,"middle",ue,this),Object(j.a)(this,"hanging",fe,this),Object(j.a)(this,"top",pe,this),Object(j.a)(this,"alphabetic",de,this),Object(j.a)(this,"ideographic",he,this),Object(j.a)(this,"bottom",be,this),Object(j.a)(this,"opentype",ge,this),this.size=t.size||72,this.lineHeight=t.lineHeight||1.25,t.font&&t.font.byteLength?this.setFont(t.font):this.updateBaseines()}return Object(y.a)(e,[{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}}]),Object(y.a)(e,[{key:"updateBaseines",value:function(){var e=function(e,t){J||(J=document.createElement("canvas"));var n=J.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=Q(t);J.width=1,J.height=1,n.font=r,n.textBaseline="middle";var i=n.measureText(e);n.textBaseline="hanging";var o=n.measureText(e);n.textBaseline="top";var a=n.measureText(e);n.textBaseline="alphabetic";var c=n.measureText(e);n.textBaseline="ideographic";var l=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e);return{middle:0,hanging:o.actualBoundingBoxAscent-i.actualBoundingBoxAscent,top:a.actualBoundingBoxAscent-i.actualBoundingBoxAscent,alphabetic:i.actualBoundingBoxDescent-c.actualBoundingBoxDescent,ideographic:i.actualBoundingBoxDescent-l.actualBoundingBoxDescent,bottom:i.actualBoundingBoxDescent-s.actualBoundingBoxDescent}}("a",{fontFamily:this.family,fontSize:this.size});this.middle=e.middle,this.hanging=e.hanging,this.top=e.top,this.alphabetic=e.alphabetic,this.ideographic=e.ideographic,this.bottom=e.bottom}},{key:"setFont",value:function(e){var t=this;try{this.opentype=Object(je.a)(e,{lowMemory:!0})}catch(o){return Promise.resolve()}var n=this.opentype.names,r=n.postScriptName[Object.keys(n.postScriptName)[0]],i=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(_)_.appendChild(n);else{var r=document.createTextNode("A");_=document.createElement("style"),Z=document.createElement("div"),document.head.appendChild(_),_.appendChild(n),Z.appendChild(r),Z.style.position="absolute",Z.style.left="-1000px",Z.style.top="-1000px",Z.style.opacity="0",Z.style.fontSize="12px",Z.style.pointerEvents="none",document.body.appendChild(Z)}return Z.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(r,i).then((function(){Object(g.F)((function(){t.family=r,t.font=e,t.updateBaseines()}))}))}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}}]),e}(),ae=Object(m.a)(oe.prototype,"font",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=Object(m.a)(oe.prototype,"family",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"sans-serif"}}),le=Object(m.a)(oe.prototype,"size",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Object(m.a)(oe.prototype,"lineHeight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),ue=Object(m.a)(oe.prototype,"middle",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=Object(m.a)(oe.prototype,"hanging",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=Object(m.a)(oe.prototype,"top",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=Object(m.a)(oe.prototype,"alphabetic",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=Object(m.a)(oe.prototype,"ideographic",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=Object(m.a)(oe.prototype,"bottom",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=Object(m.a)(oe.prototype,"opentype",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(m.a)(oe.prototype,"minBaseLine",[g.m],Object.getOwnPropertyDescriptor(oe.prototype,"minBaseLine"),oe.prototype),Object(m.a)(oe.prototype,"maxBaseLine",[g.m],Object.getOwnPropertyDescriptor(oe.prototype,"maxBaseLine"),oe.prototype),Object(m.a)(oe.prototype,"setFont",[ne],Object.getOwnPropertyDescriptor(oe.prototype,"setFont"),oe.prototype),Object(m.a)(oe.prototype,"setSize",[re],Object.getOwnPropertyDescriptor(oe.prototype,"setSize"),oe.prototype),Object(m.a)(oe.prototype,"setLineHeight",[ie],Object.getOwnPropertyDescriptor(oe.prototype,"setLineHeight"),oe.prototype),oe),Be=n(26);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Ce||(Ce={}));var Te,Ae,Ie,$e,Le,Ne,Me,Ee,De,Xe,Fe,Ye=(Oe=g.B.shallow,ye=g.k.bound,me=g.k.bound,we=g.k.bound,xe=g.k.bound,ve=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"type",ke,this),Object(j.a)(this,"angle",Pe,this),Object(j.a)(this,"palette",Se,this),this.type=n.type&&Ce[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(p.a)(Object(p.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"#FFF"),this.addColor(1))}return Object(y.a)(e,[{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}},{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(Be.a)(this.ids))+1}}]),e}(),ke=Object(m.a)(ve.prototype,"type",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=Object(m.a)(ve.prototype,"angle",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Object(m.a)(ve.prototype,"palette",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(m.a)(ve.prototype,"ids",[g.m],Object.getOwnPropertyDescriptor(ve.prototype,"ids"),ve.prototype),Object(m.a)(ve.prototype,"nextId",[g.m],Object.getOwnPropertyDescriptor(ve.prototype,"nextId"),ve.prototype),Object(m.a)(ve.prototype,"setType",[ye],Object.getOwnPropertyDescriptor(ve.prototype,"setType"),ve.prototype),Object(m.a)(ve.prototype,"setAngle",[me],Object.getOwnPropertyDescriptor(ve.prototype,"setAngle"),ve.prototype),Object(m.a)(ve.prototype,"addColor",[we],Object.getOwnPropertyDescriptor(ve.prototype,"addColor"),ve.prototype),Object(m.a)(ve.prototype,"updatePalette",[xe],Object.getOwnPropertyDescriptor(ve.prototype,"updatePalette"),ve.prototype),ve);var We,Ge,He,Re,Je,Ue,Ke,Ve,qe,Qe,_e=(Te=g.B.ref,Ae=g.B.ref,Ie=g.k.bound,$e=g.k.bound,Le=g.k.bound,Ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"buffer",Me,this),Object(j.a)(this,"image",Ee,this),Object(j.a)(this,"src",De,this),Object(j.a)(this,"repetition",Xe,this),Object(j.a)(this,"scale",Fe,this),this.scale=K.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(y.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(g.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),Me=Object(m.a)(Ne.prototype,"buffer",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i+=1)r[i]=t.charCodeAt(i);return r.buffer}("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),Ee=Object(m.a)(Ne.prototype,"image",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=Object(m.a)(Ne.prototype,"src",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xe=Object(m.a)(Ne.prototype,"repetition",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),Fe=Object(m.a)(Ne.prototype,"scale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(m.a)(Ne.prototype,"setImage",[Ie],Object.getOwnPropertyDescriptor(Ne.prototype,"setImage"),Ne.prototype),Object(m.a)(Ne.prototype,"setRepetition",[$e],Object.getOwnPropertyDescriptor(Ne.prototype,"setRepetition"),Ne.prototype),Object(m.a)(Ne.prototype,"setScale",[Le],Object.getOwnPropertyDescriptor(Ne.prototype,"setScale"),Ne.prototype),Ne);!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(Qe||(Qe={}));var Ze,et,tt,nt,rt,it,ot,at,ct,lt,st,ut,ft,pt,dt,ht,bt,gt,jt,Ot,yt,mt,wt,xt,vt,kt,Pt,St,Ct,zt,Bt,Tt,At,It,$t,Lt,Nt,Mt,Et,Dt,Xt,Ft,Yt,Wt,Gt,Ht,Rt,Jt,Ut,Kt,Vt,qt,Qt,_t,Zt,en,tn,nn,rn,on,an,cn,ln,sn,un,fn,pn,dn,hn,bn=(We=g.B.shallow,Ge=g.B.shallow,He=g.k.bound,Re=g.k.bound,Je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"type",Ue,this),Object(j.a)(this,"color",Ke,this),Object(j.a)(this,"gradient",Ve,this),Object(j.a)(this,"patternTexture",qe,this),this.color=t.color||"#000000",this.type=t.type&&Qe[t.type]?t.type:0,this.gradient=new Ye(t.gradient),this.patternTexture=new _e(t.patternTexture)}return Object(y.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),Ue=Object(m.a)(Je.prototype,"type",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=Object(m.a)(Je.prototype,"color",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Object(m.a)(Je.prototype,"gradient",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Object(m.a)(Je.prototype,"patternTexture",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(m.a)(Je.prototype,"setType",[He],Object.getOwnPropertyDescriptor(Je.prototype,"setType"),Je.prototype),Object(m.a)(Je.prototype,"setColor",[Re],Object.getOwnPropertyDescriptor(Je.prototype,"setColor"),Je.prototype),Je),gn=n(44),jn=n(77),On=n(76),yn=(Ze=g.k.bound,et=g.k.bound,tt=g.k.bound,nt=function(e){Object(jn.a)(n,e);var t=Object(On.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(O.a)(this,n),e=t.call(this,r),Object(j.a)(e,"width",rt,Object(gn.a)(e)),Object(j.a)(e,"lineCap",it,Object(gn.a)(e)),Object(j.a)(e,"lineJoin",ot,Object(gn.a)(e)),e.width=K.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e}return Object(y.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}}]),n}(bn),rt=Object(m.a)(nt.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),it=Object(m.a)(nt.prototype,"lineCap",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Object(m.a)(nt.prototype,"lineJoin",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(m.a)(nt.prototype,"setWidth",[Ze],Object.getOwnPropertyDescriptor(nt.prototype,"setWidth"),nt.prototype),Object(m.a)(nt.prototype,"setLineCap",[et],Object.getOwnPropertyDescriptor(nt.prototype,"setLineCap"),nt.prototype),Object(m.a)(nt.prototype,"setLineJoin",[tt],Object.getOwnPropertyDescriptor(nt.prototype,"setLineJoin"),nt.prototype),nt),mn=(at=g.k.bound,ct=g.k.bound,lt=g.k.bound,st=g.k.bound,ut=g.k.bound,ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"color",pt,this),Object(j.a)(this,"blur",dt,this),Object(j.a)(this,"offsetX",ht,this),Object(j.a)(this,"offsetY",bt,this),this.color=t.color||"#000000",this.blur=K.num(t.blur,1),this.offsetX=K.num(t.offsetX,1),this.offsetY=K.num(t.offsetY,1)}return Object(y.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),pt=Object(m.a)(ft.prototype,"color",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Object(m.a)(ft.prototype,"blur",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ht=Object(m.a)(ft.prototype,"offsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bt=Object(m.a)(ft.prototype,"offsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(m.a)(ft.prototype,"setColor",[at],Object.getOwnPropertyDescriptor(ft.prototype,"setColor"),ft.prototype),Object(m.a)(ft.prototype,"setBlur",[ct],Object.getOwnPropertyDescriptor(ft.prototype,"setBlur"),ft.prototype),Object(m.a)(ft.prototype,"setOffsetX",[lt],Object.getOwnPropertyDescriptor(ft.prototype,"setOffsetX"),ft.prototype),Object(m.a)(ft.prototype,"setOffsetY",[st],Object.getOwnPropertyDescriptor(ft.prototype,"setOffsetY"),ft.prototype),Object(m.a)(ft.prototype,"setOffset",[ut],Object.getOwnPropertyDescriptor(ft.prototype,"setOffset"),ft.prototype),ft),wn=(gt=g.k.bound,jt=g.k.bound,Ot=g.k.bound,yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"font",mt,this),Object(j.a)(this,"fill",wt,this),Object(j.a)(this,"useStroke",xt,this),Object(j.a)(this,"stroke",vt,this),Object(j.a)(this,"useShadow",kt,this),Object(j.a)(this,"shadow",Pt,this),Object(j.a)(this,"bgColor",St,this),this.font=new ze(t.font),this.fill=new bn(t.fill),this.stroke=new yn(t.stroke),this.shadow=new mn(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(y.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),mt=Object(m.a)(yt.prototype,"font",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Object(m.a)(yt.prototype,"fill",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Object(m.a)(yt.prototype,"useStroke",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Object(m.a)(yt.prototype,"stroke",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Object(m.a)(yt.prototype,"useShadow",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Object(m.a)(yt.prototype,"shadow",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Object(m.a)(yt.prototype,"bgColor",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(m.a)(yt.prototype,"setUseStroke",[gt],Object.getOwnPropertyDescriptor(yt.prototype,"setUseStroke"),yt.prototype),Object(m.a)(yt.prototype,"setUseShadow",[jt],Object.getOwnPropertyDescriptor(yt.prototype,"setUseShadow"),yt.prototype),Object(m.a)(yt.prototype,"setBgColor",[Ot],Object.getOwnPropertyDescriptor(yt.prototype,"setBgColor"),yt.prototype),yt),xn=(Ct=g.k.bound,zt=g.k.bound,Bt=g.k.bound,Tt=g.k.bound,At=g.k.bound,It=g.k.bound,$t=g.k.bound,Lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"padding",Nt,this),Object(j.a)(this,"spacing",Mt,this),Object(j.a)(this,"power",Et,this),Object(j.a)(this,"width",Dt,this),Object(j.a)(this,"height",Xt,this),Object(j.a)(this,"auto",Ft,this),Object(j.a)(this,"fixedSize",Yt,this),this.padding=K.num(t.padding,1),this.spacing=K.num(t.spacing,1),this.power=!!t.power,this.width=K.num(t.width,1024),this.height=K.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(y.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setPower",value:function(e){this.power=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),Nt=Object(m.a)(Lt.prototype,"padding",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mt=Object(m.a)(Lt.prototype,"spacing",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Et=Object(m.a)(Lt.prototype,"power",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dt=Object(m.a)(Lt.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Xt=Object(m.a)(Lt.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Ft=Object(m.a)(Lt.prototype,"auto",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yt=Object(m.a)(Lt.prototype,"fixedSize",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(m.a)(Lt.prototype,"setPadding",[Ct],Object.getOwnPropertyDescriptor(Lt.prototype,"setPadding"),Lt.prototype),Object(m.a)(Lt.prototype,"setSpacing",[zt],Object.getOwnPropertyDescriptor(Lt.prototype,"setSpacing"),Lt.prototype),Object(m.a)(Lt.prototype,"setPower",[Bt],Object.getOwnPropertyDescriptor(Lt.prototype,"setPower"),Lt.prototype),Object(m.a)(Lt.prototype,"setWidth",[Tt],Object.getOwnPropertyDescriptor(Lt.prototype,"setWidth"),Lt.prototype),Object(m.a)(Lt.prototype,"setHeight",[At],Object.getOwnPropertyDescriptor(Lt.prototype,"setHeight"),Lt.prototype),Object(m.a)(Lt.prototype,"setAuto",[It],Object.getOwnPropertyDescriptor(Lt.prototype,"setAuto"),Lt.prototype),Object(m.a)(Lt.prototype,"setFixedSize",[$t],Object.getOwnPropertyDescriptor(Lt.prototype,"setFixedSize"),Lt.prototype),Lt),vn=(Wt=g.k.bound,Gt=g.k.bound,Ht=g.k.bound,Rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"xAdvance",Jt,this),Object(j.a)(this,"xOffset",Ut,this),Object(j.a)(this,"yOffset",Kt,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(y.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),Jt=Object(m.a)(Rt.prototype,"xAdvance",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ut=Object(m.a)(Rt.prototype,"xOffset",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kt=Object(m.a)(Rt.prototype,"yOffset",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(m.a)(Rt.prototype,"setXAdvance",[Wt],Object.getOwnPropertyDescriptor(Rt.prototype,"setXAdvance"),Rt.prototype),Object(m.a)(Rt.prototype,"setXOffset",[Gt],Object.getOwnPropertyDescriptor(Rt.prototype,"setXOffset"),Rt.prototype),Object(m.a)(Rt.prototype,"setYOffset",[Ht],Object.getOwnPropertyDescriptor(Rt.prototype,"setYOffset"),Rt.prototype),Rt);function kn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,i=e.height,o=0,a=0,c=0,l=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(i/2),h=Math.ceil(r/2),b=0;b<d;b+=1){for(var g=0;g<r&&(s&&n[4*(b*r+g)+3]>t&&(s=!1),u&&n[4*((i-b-1)*r+g)+3]>t&&(u=!1),s||u);g+=1);if(!s&&!u)break;s&&(o+=1),u&&(a+=1)}if(o+a>=i)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*i,width:0,height:0};d=i-a;for(var j=0;j<h;j+=1){for(var O=o;O<d&&(f&&n[4*(r*O+j)+3]>t&&(f=!1),p&&n[4*(r*O+r-j-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(c+=1),p&&(l+=1)}return{trimOffsetLeft:-1*c,trimOffsetTop:-1*o,width:r-c-l,height:i-o-a}}function Pn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}function Sn(e,t,n,r,i,o){if(0===o.type)return o.color;if(1===o.type){var a,c=o.gradient,l=c.type,s=c.palette,u=c.angle,f=t+r/2,p=n+i/2,d=Math.max(r,i)/2;if(0===l){var h=Pn(f,p,d,u+180),b=Pn(f,p,d,u);a=e.createLinearGradient(h.x,h.y,b.x,b.y)}else a=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){a.addColorStop(e.offset,e.color)})),a}var g=o.patternTexture,j=g.image,O=g.repetition,y=g.scale;if(!j)return"rgba(0,0,0,0)";if(1===y)return e.createPattern(j,O)||"rgba(0,0,0,0)";var m=j.naturalWidth,w=j.naturalHeight,x=document.createElement("canvas");x.width=Math.ceil(m*y),x.height=Math.ceil(w*y);var v=x.getContext("2d");return v?(v.drawImage(j,0,0,x.width,x.height),e.createPattern(x,O)||"rgba(0,0,0,0)"):"rgba(0,0,0,0)"}function Cn(e,t){var n=t.font,r=t.stroke,i=t.shadow,o=t.fill,a=function(e,t){Vt||(Vt=document.createElement("canvas"));var n=Vt.getContext("2d");if(!n)throw new Error("Get context 2d failed.");Vt.width=1,Vt.height=1;var r=Q(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var i,o,a=n.measureText(e);if("undefined"===typeof a.actualBoundingBoxLeft)return{text:e,font:r,width:a.width,height:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),fontWidth:a.width,fontHeight:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var c=n.measureText(e),l=Math.ceil(a.actualBoundingBoxLeft),s=Math.ceil(c.actualBoundingBoxRight),u=Math.ceil(c.actualBoundingBoxAscent),f=Math.ceil(a.actualBoundingBoxDescent);return{text:e,font:r,width:l+Math.ceil(a.actualBoundingBoxRight),height:f+Math.ceil(a.actualBoundingBoxAscent),fontWidth:Math.ceil(a.width),fontHeight:a.actualBoundingBoxAscent-c.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:l,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),c=a.width,l=a.height,s=a.trimOffsetLeft,u=a.trimOffsetTop;if(0===c||0===l)return Object(p.a)({canvas:null},a);var f=r?2*r.width:0,d=f,h=f,b=(c-n.size)/2,g=(l-n.size)/2;if(i){var j=Math.ceil(1.5*i.blur);d=Math.abs(i.offsetX)+j,h=Math.abs(i.offsetY)+j}b+=d,g+=h;var O=document.createElement("canvas"),y=O.getContext("2d");if(O.width=c+2*d,O.height=l+2*h,y.textAlign="left",y.textBaseline="top",y.font=Q({fontSize:n.size,fontFamily:n.family}),r&&f&&(y.lineWidth=f,y.lineCap=r.lineCap,y.lineJoin=r.lineJoin,y.strokeStyle=Sn(y,b,g,n.size,n.size,r),y.strokeText(e,d+s,h+u)),y.fillStyle=Sn(y,b,g,n.size,n.size,o),y.fillText(e,d+s,h+u),i){var m=document.createElement("canvas");m.width=c+2*d,m.height=l+2*h;var w=m.getContext("2d");w.shadowColor=i.color,w.shadowBlur=i.blur,w.shadowOffsetX=i.offsetX,w.shadowOffsetY=i.offsetY,w.drawImage(O,0,0),O=m,y=w}if(0===O.width||0===O.height)return Object(p.a)({canvas:O},a);var x=y.getImageData(0,0,O.width,O.height),v=kn(x);return O.width=v.width,O.height=v.height,a.width=v.width,a.height=v.height,y.putImageData(x,v.trimOffsetLeft,v.trimOffsetTop),a.trimOffsetLeft+=d+v.trimOffsetLeft,a.trimOffsetTop+=h+v.trimOffsetTop,a.trimOffsetBottom+=h+(l+2*h+v.trimOffsetTop-v.height),Object(p.a)({canvas:O},a)}var zn,Bn,Tn,An,In,$n,Ln,Nn,Mn,En,Dn,Xn=(qt=g.B.ref,Qt=g.B.ref,_t=g.k.bound,Zt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),this.type="text",Object(j.a)(this,"letter",en,this),Object(j.a)(this,"source",tn,this),Object(j.a)(this,"width",nn,this),Object(j.a)(this,"height",rn,this),Object(j.a)(this,"x",on,this),Object(j.a)(this,"y",an,this),Object(j.a)(this,"fontWidth",cn,this),Object(j.a)(this,"fontHeight",ln,this),Object(j.a)(this,"trimOffsetTop",sn,this),Object(j.a)(this,"trimOffsetLeft",un,this),Object(j.a)(this,"trimOffsetRight",fn,this),Object(j.a)(this,"trimOffsetBottom",pn,this),Object(j.a)(this,"adjustMetric",dn,this),Object(j.a)(this,"kerning",hn,this),this.letter=t.letter||"",this.adjustMetric=new vn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(y.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),en=Object(m.a)(Zt.prototype,"letter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tn=Object(m.a)(Zt.prototype,"source",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=Object(m.a)(Zt.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rn=Object(m.a)(Zt.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),on=Object(m.a)(Zt.prototype,"x",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),an=Object(m.a)(Zt.prototype,"y",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cn=Object(m.a)(Zt.prototype,"fontWidth",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ln=Object(m.a)(Zt.prototype,"fontHeight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sn=Object(m.a)(Zt.prototype,"trimOffsetTop",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),un=Object(m.a)(Zt.prototype,"trimOffsetLeft",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fn=Object(m.a)(Zt.prototype,"trimOffsetRight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pn=Object(m.a)(Zt.prototype,"trimOffsetBottom",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dn=Object(m.a)(Zt.prototype,"adjustMetric",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=Object(m.a)(Zt.prototype,"kerning",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(m.a)(Zt.prototype,"steKerning",[_t],Object.getOwnPropertyDescriptor(Zt.prototype,"steKerning"),Zt.prototype),Zt),Fn=(zn=function(e){Object(jn.a)(n,e);var t=Object(On.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return Object(O.a)(this,n),(e=t.call(this,r)).setGlyphInfo(i),e}return Object(y.a)(n,[{key:"setGlyphInfo",value:function(e){var t=e.font,n=e.fill,r=e.useStroke,i=e.stroke,o=e.useShadow,a=e.shadow,c={font:t,fill:n};r&&(c.stroke=i),o&&(c.shadow=a);var l=Cn(this.letter,c);this.source=l.canvas,this.width=l.width,this.height=l.height,this.fontWidth=l.fontWidth,this.fontHeight=l.fontHeight,this.trimOffsetTop=l.trimOffsetTop,this.trimOffsetLeft=l.trimOffsetLeft,this.trimOffsetRight=l.trimOffsetRight,this.trimOffsetBottom=l.trimOffsetBottom}}]),n}(Xn),Object(m.a)(zn.prototype,"setGlyphInfo",[g.k],Object.getOwnPropertyDescriptor(zn.prototype,"setGlyphInfo"),zn.prototype),zn);var Yn,Wn,Gn,Hn,Rn,Jn,Un,Kn,Vn,qn,Qn,_n,Zn,er,tr,nr,rr,ir,or,ar,cr,lr,sr,ur,fr,pr,dr,hr,br,gr,jr,Or,yr,mr,wr,xr,vr=(Bn=g.B.ref,Tn=g.k.bound,An=g.k.bound,In=g.k.bound,$n=function(e){Object(jn.a)(n,e);var t=Object(On.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).type="image",Object(j.a)(r,"src",Ln,Object(gn.a)(r)),Object(j.a)(r,"buffer",Nn,Object(gn.a)(r)),Object(j.a)(r,"fileName",Mn,Object(gn.a)(r)),Object(j.a)(r,"fileType",En,Object(gn.a)(r)),Object(j.a)(r,"selected",Dn,Object(gn.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(y.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(g.F)("trimImage",(function(){var r=n.naturalWidth,i=n.naturalHeight;e.fontWidth=r,e.fontHeight=i;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");o.drawImage(e,0,0);var a=kn(o.getImageData(0,0,n,r),t);return i.width=a.width,i.height=a.height,o.drawImage(e,a.trimOffsetLeft,a.trimOffsetTop),Object(p.a)({canvas:i},a)}(n);e.width=o.width,e.height=o.height,e.trimOffsetLeft=o.trimOffsetLeft,e.trimOffsetTop=o.trimOffsetTop,e.trimOffsetRight=o.width-o.trimOffsetLeft-r,e.trimOffsetBottom=o.height-o.trimOffsetTop-i,e.source=o.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(Xn),Ln=Object(m.a)($n.prototype,"src",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nn=Object(m.a)($n.prototype,"buffer",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mn=Object(m.a)($n.prototype,"fileName",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),En=Object(m.a)($n.prototype,"fileType",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dn=Object(m.a)($n.prototype,"selected",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(m.a)($n.prototype,"initImage",[Tn],Object.getOwnPropertyDescriptor($n.prototype,"initImage"),$n.prototype),Object(m.a)($n.prototype,"setGlyph",[An],Object.getOwnPropertyDescriptor($n.prototype,"setGlyph"),$n.prototype),Object(m.a)($n.prototype,"changeSelect",[In],Object.getOwnPropertyDescriptor($n.prototype,"changeSelect"),$n.prototype),$n),kr=n(198),Pr=(Yn=g.B.shallow,Wn=g.B.shallow,Gn=g.B.ref,Hn=g.B.ref,Rn=g.B.ref,Jn=g.B.ref,Un=g.B.ref,Kn=g.k.bound,Vn=g.k.bound,qn=g.k.bound,Qn=g.k.bound,_n=g.k.bound,Zn=g.k.bound,er=g.k.bound,tr=g.k.bound,nr=g.k.bound,rr=g.k.bound,ir=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(j.a)(this,"name",or,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(j.a)(this,"isPacking",ar,this),Object(j.a)(this,"text",cr,this),Object(j.a)(this,"glyphs",lr,this),Object(j.a)(this,"glyphImages",sr,this),Object(j.a)(this,"style",ur,this),Object(j.a)(this,"layout",fr,this),Object(j.a)(this,"globalAdjustMetric",pr,this),Object(j.a)(this,"packCanvas",dr,this),Object(j.a)(this,"ui",hr,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new V(r.ui),this.style=new wn(r.style),this.layout=new xn(r.layout),this.globalAdjustMetric=new vn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new Fn(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new vr(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new Fn({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(y.a)(e,[{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0,this.worker=new k;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new kr.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker.addEventListener("message",Object(g.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,i=0,o=0,a=this.layout,c=a.auto,l=a.fixedSize,s=a.width,u=a.height,f=a.spacing;e.forEach((function(e){var t,a=e.letter,c=e.x,l=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==a)}))),t||(t=n.glyphs.get(a)),t&&(t.x=c||0,t.y=l||0),i=Math.max(i,c+u),o=Math.max(o,l+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,i=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==i)}))),t||(t=n.glyphs.get(i)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),c||!l?this.ui.setSize(i-f,o-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(v.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(v.request)((function(r){for(var i=r.timeRemaining(),o=Date.now();t.length&&i-(Date.now()-o)>-100;){var a=t.shift();a&&a.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(x.a)(this.glyphs,(function(){e.throttlePack()})),Object(x.a)(this.glyphImages,(function(){e.throttlePack()})),Object(x.a)(this.layout,(function(){e.throttlePack()})),Object(x.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var i=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;i.length&&i.forEach((function(t){n.includes(t)?e.glyphs.set(t,new Fn({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new vr(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}},{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}}]),e}(),or=Object(m.a)(ir.prototype,"name",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),ar=Object(m.a)(ir.prototype,"isPacking",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cr=Object(m.a)(ir.prototype,"text",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),lr=Object(m.a)(ir.prototype,"glyphs",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),sr=Object(m.a)(ir.prototype,"glyphImages",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ur=Object(m.a)(ir.prototype,"style",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=Object(m.a)(ir.prototype,"layout",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=Object(m.a)(ir.prototype,"globalAdjustMetric",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=Object(m.a)(ir.prototype,"packCanvas",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hr=Object(m.a)(ir.prototype,"ui",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),Object(m.a)(ir.prototype,"glyphList",[g.m],Object.getOwnPropertyDescriptor(ir.prototype,"glyphList"),ir.prototype),Object(m.a)(ir.prototype,"rectangleList",[g.m],Object.getOwnPropertyDescriptor(ir.prototype,"rectangleList"),ir.prototype),Object(m.a)(ir.prototype,"pack",[Kn],Object.getOwnPropertyDescriptor(ir.prototype,"pack"),ir.prototype),Object(m.a)(ir.prototype,"setPack",[Vn],Object.getOwnPropertyDescriptor(ir.prototype,"setPack"),ir.prototype),Object(m.a)(ir.prototype,"packStyle",[qn],Object.getOwnPropertyDescriptor(ir.prototype,"packStyle"),ir.prototype),Object(m.a)(ir.prototype,"throttlePack",[Qn],Object.getOwnPropertyDescriptor(ir.prototype,"throttlePack"),ir.prototype),Object(m.a)(ir.prototype,"setText",[_n],Object.getOwnPropertyDescriptor(ir.prototype,"setText"),ir.prototype),Object(m.a)(ir.prototype,"addGlyphs",[Zn],Object.getOwnPropertyDescriptor(ir.prototype,"addGlyphs"),ir.prototype),Object(m.a)(ir.prototype,"addImages",[er],Object.getOwnPropertyDescriptor(ir.prototype,"addImages"),ir.prototype),Object(m.a)(ir.prototype,"removeImage",[tr],Object.getOwnPropertyDescriptor(ir.prototype,"removeImage"),ir.prototype),Object(m.a)(ir.prototype,"setCanvas",[nr],Object.getOwnPropertyDescriptor(ir.prototype,"setCanvas"),ir.prototype),Object(m.a)(ir.prototype,"setName",[rr],Object.getOwnPropertyDescriptor(ir.prototype,"setName"),ir.prototype),ir),Sr=(br=g.B.shallow,gr=g.k.bound,jr=g.k.bound,Or=g.k.bound,yr=g.k.bound,mr=function(){function e(){var t=this;Object(O.a)(this,e),Object(j.a)(this,"activeId",wr,this),Object(j.a)(this,"projectList",xr,this),Object(g.F)((function(){t.activeId=Date.now();var e=new Pr({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(y.a)(e,[{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))this.activeId=e.id;else{if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new Pr(e);this.projectList.set(n.id,n),this.activeId=n.id}}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}},{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}}]),e}(),wr=Object(m.a)(mr.prototype,"activeId",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xr=Object(m.a)(mr.prototype,"projectList",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(m.a)(mr.prototype,"currentProject",[g.m],Object.getOwnPropertyDescriptor(mr.prototype,"currentProject"),mr.prototype),Object(m.a)(mr.prototype,"namedList",[g.m],Object.getOwnPropertyDescriptor(mr.prototype,"namedList"),mr.prototype),Object(m.a)(mr.prototype,"selectProject",[gr],Object.getOwnPropertyDescriptor(mr.prototype,"selectProject"),mr.prototype),Object(m.a)(mr.prototype,"removeProject",[jr],Object.getOwnPropertyDescriptor(mr.prototype,"removeProject"),mr.prototype),Object(m.a)(mr.prototype,"addProject",[Or],Object.getOwnPropertyDescriptor(mr.prototype,"addProject"),mr.prototype),Object(m.a)(mr.prototype,"setProjectName",[yr],Object.getOwnPropertyDescriptor(mr.prototype,"setProjectName"),mr.prototype),mr);Object(g.n)({enforceActions:"always",computedRequiresReaction:!0});var Cr=n(197),zr=n(440),Br={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},Tr={MuiCssBaseline:{"@global":{html:{fontSize:"14px"},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}}},Ar=Object(Cr.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:Br,overrides:Tr}),Ir=Object(zr.a)(Ar),$r=n(433),Lr=n(375),Nr=n(413),Mr=n(418),Er=n(441);function Dr(){return Object(l.useContext)(b.a)}function Xr(){return Dr().workspace}function Fr(){return Dr().workspace.currentProject.layout}function Yr(){return Dr().workspace.currentProject}function Wr(){return Yr().style}function Gr(){return Wr().font}function Hr(){return Yr().ui}var Rr=n(419),Jr=n(201),Ur=n(14),Kr=n(372),Vr=n(181),qr=n.n(Vr);function Qr(e){return e.arrayBuffer?e.arrayBuffer():new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var n;t((null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.result)||null)}}))}var _r=Object(b.c)((function(){var e=Object(l.useState)(!1),t=Object(Ur.a)(e,2),n=t[0],r=t[1],i=Gr().setFont;return Object(c.jsxs)(Kr.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:n?Object(c.jsx)(Nr.a,{size:22,color:"inherit"}):Object(c.jsx)(qr.a,{}),disabled:n,children:["Select Font File",Object(c.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(r(!0),Qr(t).then((function(e){e instanceof ArrayBuffer?i(e).then((function(){return r(!1)})).catch((function(e){r(!1),window.alert(e.message)})):r(!1)})))}},accept:".ttf,.otf,.woff"})]})})),Zr=n(415),ei=n(414),ti=function(e){var t=e.before,n=e.children,r=e.component,i=e.after,o=e.childrenWidth;return Object(c.jsxs)(ei.a,{component:r||"label",container:!0,spacing:2,wrap:"nowrap",justify:"center",alignItems:"center",children:[Object(c.jsx)(ei.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(c.jsx)(Jr.a,{noWrap:!0,align:"right",children:t})}),Object(c.jsx)(ei.a,{item:!0,xs:o||5,children:n}),Object(c.jsx)(ei.a,{item:!0,xs:!0,children:"object"===typeof i?i:Object(c.jsx)(Jr.a,{noWrap:!0,variant:"caption",children:i})})]})},ni=Object(b.c)((function(){var e=Gr(),t=e.size,n=e.setSize;return Object(c.jsx)(ti,{before:"Font Size:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),ri=Object(b.c)((function(){var e=Gr(),t=e.lineHeight,n=e.setLineHeight;return Object(c.jsx)(ti,{before:"Line Height:",after:"multiple",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:.5,step:.1},onChange:function(e){n(Number(e.target.value))}})})})),ii=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Font"})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(_r,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ni,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ri,{})})]})},oi=n(436),ai=Object(b.c)((function(){var e=Yr(),t=e.text,n=e.setText,r=Object(l.useState)(!1),i=Object(Ur.a)(r,2),o=i[0],a=i[1],s=Object(l.useState)(t),u=Object(Ur.a)(s,2),f=u[0],p=u[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Glyphs"})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(oi.a,{margin:"none",value:o?f:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,i=Array.from(new Set(r.split(""))).join("");o?p(r):(p(i),i!==t&&n(i))},onCompositionStart:function(){return a(!0)},onCompositionEnd:function(){a(!1);var e=Array.from(new Set(f.split(""))).join("");p(e),e!==t&&n(e)}})})]})})),ci=Object(b.c)((function(){var e=Fr(),t=e.padding,n=e.setPadding;return Object(c.jsx)(ti,{before:"Padding:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),li=Object(b.c)((function(){var e=Fr(),t=e.spacing,n=e.setSpacing;return Object(c.jsx)(ti,{before:"Spacing:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),si=n(438),ui=Object(b.c)((function(){var e=Fr(),t=e.auto,n=e.setAuto;return Object(c.jsx)(ti,{before:"Auto Pack:",children:Object(c.jsx)(si.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),fi=Object(b.c)((function(){var e=Fr(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(c.jsx)(ti,{before:"Fixed Size:",children:Object(c.jsx)(si.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),pi=Object(b.c)((function(){var e=Fr(),t=e.width,n=e.auto,r=e.fixedSize,i=e.setWidth;return Object(c.jsx)(ti,{before:r?"Width:":"Max Width:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),di=Object(b.c)((function(){var e=Fr(),t=e.height,n=e.auto,r=e.fixedSize,i=e.setHeight;return Object(c.jsx)(ti,{before:r?"Height:":"Max Height:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),hi=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Layout"})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ci,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(li,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ui,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(fi,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(pi,{})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(di,{})})]})},bi=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,a=e.setYOffset,l=function(e){return function(t){return e(Number(t.target.value))}};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"xAdvance:",after:"px",children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",onChange:l(i)})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"xOffset:",after:"px",children:Object(c.jsx)(Zr.a,{value:n,fullWidth:!0,type:"number",onChange:l(o)})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"yOffset:",after:"px",children:Object(c.jsx)(Zr.a,{value:r,fullWidth:!0,type:"number",onChange:l(a)})})})]})},gi=Object(b.c)((function(){var e=Yr().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,a=e.setYOffset;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Global Metric Adjustment"})}),Object(c.jsx)(bi,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:i,setXOffset:o,setYOffset:a})]})})),ji=Object(Mr.a)((function(){return Object(Er.a)({root:{overflow:"hidden",width:"256px"}})})),Oi=function(){var e=ji();return Object(c.jsxs)($r.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(c.jsx)($r.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(c.jsx)(Jr.a,{variant:"subtitle2",children:"Font Config"})}),Object(c.jsxs)($r.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(c.jsx)(ai,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(ii,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(gi,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(hi,{})]})]})},yi=n(36),mi=n(202),wi=n(184),xi=n.n(wi),vi=n(183),ki=n.n(vi),Pi=n(443),Si=n(182),Ci=n.n(Si),zi=n(109);function Bi(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}function Ti(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a=new DOMParser,c=document.implementation.createDocument("","font",null),l=a.parseFromString(Bi('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");c.documentElement.appendChild(l.childNodes[0]);var s=a.parseFromString(Bi('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");c.documentElement.appendChild(s.childNodes[0]);var u=a.parseFromString("<pages>".concat(r.map((function(e){return Bi('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");c.documentElement.appendChild(u.childNodes[0]);var f=a.parseFromString(Bi('<chars count="$count$" />',i),"text/xml");if(i.list.forEach((function(e){var t=a.parseFromString(Bi('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),c.documentElement.appendChild(f.childNodes[0]),o.count){var p=a.parseFromString(Bi('<kernings count="$count$" />',o),"text/xml");o.list.forEach((function(e){var t=a.parseFromString(Bi('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),c.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(c))}function Ai(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a="";return a+=Bi('Font.info = {\n\tface = "$face$",\n\tfile = "$file$",\n\tsize = $size$,\n\tbold = $bold$,\n\titalic = $italic$,\n\tcharset = $charset$\n\tunicode = $unicode$,\n\tstretchH = $stretchH$,\n\tsmooth = $smooth$,\n\taa = $aa$,\n\tpadding = {$padding$},\n\tspacing = $spacing$,\n\tcharsCount = $charsCount$,\n\tkerningsCounts = $kerningsCounts$\n}\n\n',Object(p.a)(Object(p.a)({},t),{},{charset:t.charset||'""',charsCount:i.count,kerningsCounts:o.count,file:r[0].file})),a+=Bi("Font.common = {\n\tlineHeight = $lineHeight$,\n\tbase = $base$,\n\tscaleW = $scaleW$,\n\tscaleH = $scaleH$,\n\tpages = $pages$,\n\tpacked = $packed$\n}\n\n",n),a+="Font.pages = {\n",a+=r.map((function(e){return Bi('\t{ id=$id$, file="$file$" }',e)})).join(",\n"),a+="\n}\n\n",a+="Font.chars = {\n",a+=i.list.map((function(e){return Bi("\t{\n\t\tid = $id$,\n\t\tx = $x$,\n\t\ty = $y$,\n\t\twidth = $width$,\n\t\theight = $height$,\n\t\txoffset = $xoffset$,\n\t\tyoffset = $yoffset$,\n\t\txadvance = $xadvance$,\n\t\tpage = 0,\n\t\tchnl = 15\n\t}",e)})).join(",\n"),a+="\n}\n\n",a+="Font.kerning = {\n",a+=o.list.map((function(e){return Bi("\t{first = $first$, second = $second$, amount = $amount$}",e)})).join(",\n"),"local Font = {}\n\n".concat((a+="\n}").replace(/\t/g,"    "),"\n\nreturn Font\n")}function Ii(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a="";return a+=Bi('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(p.a)(Object(p.a)({},t),{},{charset:t.charset||'""'})),a+=Bi("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){a+=Bi('page id=$id$ file="$file$"\n',e)})),a+=Bi("chars count=$count$\n",i),i.list.forEach((function(e){a+=Bi("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),o.count&&(a+=Bi("kernings count=$count$\n",o),o.list.forEach((function(e){a+=Bi("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),a}function $i(e){var t=e.name,n=e.style,r=e.layout,i=e.globalAdjustMetric,o=e.glyphList,a=e.ui,c=a.width,l=a.height,s=n.font,u=s.opentype,f=s.size,p=1;u&&(p=1/u.unitsPerEm*f);var d={face:n.font.family,size:n.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(r.padding),spacing:new Array(2).fill(r.spacing)},h={lineHeight:n.font.size,base:n.font.size,scaleW:c,scaleH:l,pages:1,packed:0},b=[{id:0,file:"".concat(t,".png")}],g={count:o.length,list:[]},j={count:0,list:[]};return o.forEach((function(e){var t=!(!e.width||!e.height);g.list.push({letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*r.padding:0,height:t?e.height+2*r.padding:0,xoffset:i.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0),yoffset:i.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0),xadvance:Math.ceil(e.fontWidth)+i.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15}),u?o.forEach((function(t){var n=t.letter,r=Math.round(u.getKerningValue(u.charToGlyphIndex(e.letter),u.charToGlyphIndex(n))*p+(e.kerning.get(n)||0));r&&j.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&j.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),j.count=j.list.length,g.list.sort((function(e,t){return e.id-t.id})),{info:d,common:h,pages:b,chars:g,kernings:j}}var Li=n(28),Ni=Li.Reader,Mi=Li.Writer,Ei=Li.util,Di=Li.roots.default||(Li.roots.default={}),Xi=(Di.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Ei.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Ei.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Ei.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Di.Metric)return e;var t=new Di.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Ei.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!Ei.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!Ei.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Di.GradientColor)return e;var t=new Di.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Ei.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Mi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Di.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Di.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ei.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Di.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Di.Gradient)return e;var t=new Di.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Di.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Di.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Ei.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ei.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Ei.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Di.PatternTexture)return e;var t=new Di.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Ei.base64.decode(e.buffer,t.buffer=Ei.newBuffer(Ei.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Ei.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Ei.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Di.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Di.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Di.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Di.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ei.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Ei.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Di.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Di.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Ei.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Ei.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Ei.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Di.Fill)return e;var t=new Di.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Di.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Di.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Di.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Di.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Ei.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Ei.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Ei.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Ei.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Ei.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Di.Font)return e;var t=new Di.Font;return null!=e.font&&("string"===typeof e.font?Ei.base64.decode(e.font,t.font=Ei.newBuffer(Ei.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Ei.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Ei.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Ei.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Mi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Di.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Di.GlyphFont;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Di.Metric.decode(e,e.uint32());break;case 3:o.kerning===Ei.emptyObject&&(o.kerning={});var c=e.uint32()+e.pos;for(n="",r=0;e.pos<c;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&l)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ei.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Di.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ei.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ei.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Di.GlyphFont)return e;var t=new Di.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Di.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Di.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Ei.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Ei.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Mi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Di.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Di.GlyphImage;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Di.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===Ei.emptyObject&&(o.kerning={});var c=e.uint32()+e.pos;for(n="",r=0;e.pos<c;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&l)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ei.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Di.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ei.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Ei.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Ei.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ei.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ei.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Di.GlyphImage)return e;var t=new Di.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Di.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Ei.base64.decode(e.buffer,t.buffer=Ei.newBuffer(Ei.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Ei.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Di.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Ei.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Ei.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Ei.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Ei.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Ei.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Di.Layout)return e;var t=new Di.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Ei.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Ei.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Ei.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Ei.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Di.Shadow)return e;var t=new Di.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Di.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Di.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Di.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Di.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=Di.Font.decode(e,e.uint32());break;case 2:r.fill=Di.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Di.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Di.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Di.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Di.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Di.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=Di.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Ei.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Di.Style)return e;var t=new Di.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Di.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Di.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Di.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Di.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Di.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Di.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Di.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Di.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Mi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Di.Ui;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.previewText=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Ei.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Di.Ui)return e;var t=new Di.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),Di.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Ei.Long?Ei.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Ei.emptyObject,e.prototype.glyphImages=Ei.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Mi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Di.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)Di.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Di.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Di.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Di.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Di.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ni||(e=Ni.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Di.Project;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===Ei.emptyObject&&(o.glyphs={});var c=e.uint32()+e.pos;for(n="",r=null;e.pos<c;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=Di.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&l)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(Di.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=Di.Style.decode(e,e.uint32());break;case 7:o.layout=Di.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=Di.Metric.decode(e,e.uint32());break;case 9:o.ui=Di.Ui.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Ni||(e=new Ni(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Ei.isInteger(e.id)&&!(e.id&&Ei.isInteger(e.id.low)&&Ei.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Ei.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Ei.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Ei.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Di.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=Di.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var a=Di.Style.verify(e.style);if(a)return"style."+a}if(null!=e.layout&&e.hasOwnProperty("layout")){var c=Di.Layout.verify(e.layout);if(c)return"layout."+c}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var l=Di.Metric.verify(e.globalAdjustMetric);if(l)return"globalAdjustMetric."+l}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Di.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Di.Project)return e;var t=new Di.Project;if(null!=e.id&&(Ei.Long?(t.id=Ei.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Ei.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Di.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=Di.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Di.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Di.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Di.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Di.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Ei.Long){var i=new Ei.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Ei.Long.prototype.toString.call(e.id):t.longs===Number?new Ei.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=Di.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var a=0;a<e.glyphImages.length;++a)r.glyphImages[a]=Di.GlyphImage.toObject(e.glyphImages[a],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Di.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Di.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Di.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Di.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Li.util.toJSONOptions)},e}(),function(){return new Uint8Array([].concat(Object(Be.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,0,1]))});var Fi=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(Be.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0};var Yi={1e4:function(e){return e.layout=Object(p.a)({},e.layout),e.layout.width=1024,e.layout.height=1024,e.layout.auto=!0,e.layout.fixedSize=!1,e}},Wi=Object.keys(Yi).map((function(e){return Number(e)})).sort();var Gi=function(e,t){return Wi.forEach((function(n){t>=n&&Yi[n]&&Yi[n](e)})),e};function Hi(e){var t,n,r,i,o,a,c,l,s=Object(p.a)({},e),u=new Map;return(null===s||void 0===s||null===(t=s.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(s.style.font=Object(p.a)(Object(p.a)({},s.style.font),{},{font:s.style.font.font.slice().buffer})),(null===s||void 0===s?void 0:s.glyphImages)&&s.glyphImages.forEach((function(e){if(e.buffer&&(e.buffer=e.buffer.slice().buffer),e.kerning){var t=new Map;Object.keys(e.kerning).forEach((function(n){e&&e.kerning&&e.kerning[n]&&t.set(n,e.kerning[n]||0)}))}})),(null===s||void 0===s?void 0:s.glyphs)&&Object.keys(s.glyphs).forEach((function(e){if(s&&s.glyphs&&s.glyphs[e]){var t=s.glyphs[e],n=new Map;t&&t.kerning&&Object.keys(t.kerning).forEach((function(e){t.kerning&&n.set(e,t.kerning[e]||0)})),u.set(e,Object(p.a)(Object(p.a)({},t),{},{kerning:n}))}})),(null===s||void 0===s||null===(r=s.style)||void 0===r||null===(i=r.fill)||void 0===i||null===(o=i.patternTexture)||void 0===o?void 0:o.buffer)&&(s.style.fill.patternTexture.buffer=s.style.fill.patternTexture.buffer.slice().buffer),(null===s||void 0===s||null===(a=s.style)||void 0===a||null===(c=a.stroke)||void 0===c||null===(l=c.patternTexture)||void 0===l?void 0:l.buffer)&&(s.style.stroke.patternTexture.buffer=s.style.stroke.patternTexture.buffer.slice().buffer),Object(p.a)(Object(p.a)({},s),{},{glyphs:u,glyphImages:s.glyphImages||[]})}var Ri=n(420),Ji=n(421),Ui=n(422),Ki=n(423),Vi=n(435),qi=n(444),Qi=function(e){var t=e.className,n=e.onSave,r=Yr().name,i=Object(l.useState)(!1),o=Object(Ur.a)(i,2),a=o[0],s=o[1],u=Object(l.useState)(0),f=Object(Ur.a)(u,2),p=f[0],d=f[1],h=Object(l.useState)([{id:0,ext:"fnt",type:"xml"},{id:1,ext:"xml",type:"xml"},{id:2,ext:"fnt",type:"text"},{id:3,ext:"text",type:"text"}]),b=Object(Ur.a)(h,1)[0],g=function(){s(!0)},j=function(){s(!1)};return Object(l.useEffect)((function(){return yi.a.unbind("ctrl+shift+s,command+shift+s"),Object(yi.a)("ctrl+shift+s,command+shift+s",g),function(){yi.a.unbind("ctrl+shift+s,command+shift+s")}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Kr.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:g,children:"Export"}),Object(c.jsxs)(Ri.a,{onClose:j,open:a,fullWidth:!0,maxWidth:"xs",children:[Object(c.jsx)(Ji.a,{children:"Export Config"}),Object(c.jsx)(Ui.a,{dividers:!0,children:Object(c.jsx)(ti,{before:"Export Type:",childrenWidth:8,children:Object(c.jsx)(Vi.a,{displayEmpty:!0,value:p,onChange:function(e){d(e.target.value)},children:b.map((function(e){return Object(c.jsx)(qi.a,{value:e.id,children:"".concat(r,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})}),Object(c.jsx)(Ki.a,{children:Object(c.jsx)(Kr.a,{autoFocus:!0,onClick:function(){n&&n({ext:b[p].ext,type:b[p].type}),j()},color:"default",children:"Save"})})]})]})},_i=Object(Mr.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(Er.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),Zi=Object(b.c)((function(){var e=_i(),t=Object(l.useState)({open:!1,component:null}),n=Object(Ur.a)(t,2),r=n[0],i=n[1],o=Xr(),a=Object(l.useRef)(null),s=o.addProject,u=o.currentProject,f=Object(l.useCallback)((function(e){return e.preventDefault(),s(),!1}),[s]),d=Object(l.useCallback)((function(e){return e.preventDefault(),function(e){e.style.font.font&&(e.style.font.font=new Uint8Array(e.style.font.font)),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer));var t=Di.Project.create(e),n=Di.Project.encode(t).finish(),r=Xi(),i=new Uint8Array(r.byteLength+n.byteLength);i.set(r,0),i.set(n,r.byteLength),Object(zi.saveAs)(new Blob([i]),"".concat(e.name,".sbf"))}(Object(g.H)(u)),!1}),[u]),h=Object(l.useCallback)((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"xml",ext:"fnt"},n=new Ci.a,r=e.packCanvas,i=e.name,o=$i(e),a="";switch(t.type){case"text":a=Ii(o);break;case"lua":a=Ai(o);break;default:a=Ti(o)}n.file("".concat(i,".").concat(t.ext),a),r&&r.toBlob((function(e){e&&n.file("".concat(i,".png"),e),n.generateAsync({type:"blob"}).then((function(e){return Object(zi.saveAs)(e,"".concat(i,".zip"))}))}))}(u,e)}),[u]),b=Object(l.useCallback)((function(e){return e.preventDefault(),a.current&&a.current.click(),!1}),[]);return Object(l.useEffect)((function(){return yi.a.unbind("alt+n,control+n"),yi.a.unbind("ctrl+s"),yi.a.unbind("ctrl+o,command+o"),Object(yi.a)("alt+n,control+n",f),Object(yi.a)("ctrl+s",d),Object(yi.a)("ctrl+o,command+o",b),function(){yi.a.unbind("alt+n,control+n"),yi.a.unbind("ctrl+s"),yi.a.unbind("ctrl+o,command+o")}}),[f,b,d]),Object(c.jsxs)($r.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(c.jsxs)(Jr.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(c.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(c.jsxs)($r.a,{flex:"auto",paddingX:4,children:[Object(c.jsx)(Kr.a,{className:e.btn,title:"New Project (ALT + N)",onClick:f,children:"New"}),Object(c.jsxs)(Kr.a,{className:e.btn,title:"Open Project (\u2318 + O)",component:"label",ref:a,children:["Open",Object(c.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]&&Qr(e.target.files[0]).then((function(e){try{e instanceof ArrayBuffer&&s(function(e){if(e.byteLength<17)throw new Error("error");var t=Xi(),n=t.slice(0,t.byteLength-3),r=t.slice(t.byteLength-3),i=new Uint8Array(e),o=i.slice(0,t.byteLength),a=o.slice(o.byteLength-3),c=!0;if(n.forEach((function(e,t){o[t]!==e&&(c=!1)})),!c)throw new Error("unknow file");var l=Fi(Array.from(r)),s=Fi(Array.from(a)),u=Di.Project.decode(i.slice(o.byteLength));return Hi(s<l?Gi(u,s):u)}(e))}catch(t){i({open:!0,component:Object(c.jsxs)($r.a,{display:"flex",alignItems:"center",children:[Object(c.jsx)(ki.a,{}),"".concat(t.toString())]})})}}))},accept:".sbf",hidden:!0})]}),Object(c.jsx)(Kr.a,{className:e.btn,title:"Save Project (\u2318 + S)",onClick:d,children:"Save"}),Object(c.jsx)(Qi,{className:e.btn,onSave:h})]}),Object(c.jsx)(mi.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(c.jsx)(xi.a,{})}),Object(c.jsx)(Pi.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r.open,onClose:function(){i((function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!1})}))},message:r.component})]})})),eo=n(437),to=n(448),no=n(426),ro=n(424),io=n(196),oo=n(35),ao=n(425),co=Object(Mr.a)((function(e){var t=e.palette;return Object(Er.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),lo=function(e){var t=e.open,n=e.anchorEl,r=e.color,i=e.onChange,o=e.placement,a=co(),l=function(){var e=Object(oo.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(c.jsx)(ao.a,{open:!!t,anchorEl:n,placement:o||"bottom",style:{zIndex:999999},children:Object(c.jsx)(io.a,{color:r,styles:l,className:a.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;i&&i("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},so=Object(Mr.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(Er.a)({root:{overflow:"hidden"},swatch:Object(p.a)(Object(p.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),uo=function(e){var t=e.color,n=e.onChange,r=so(e),i=Object(l.useRef)(null),o=Object(l.useState)(!1),a=Object(Ur.a)(o,2),s=a[0],u=a[1];return Object(c.jsx)(ro.a,{mouseEvent:"onMouseDown",onClickAway:function(){return u(!1)},children:Object(c.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:i,children:[Object(c.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return u(!s)}}),Object(c.jsx)(lo,{open:s,anchorEl:i.current,color:t||"#000000",onChange:n})]})})},fo=function(e){var t=e.color,n=e.onChange;return Object(c.jsx)(ti,{before:"Color:",childrenWidth:3,children:Object(c.jsx)(uo,{color:t,onChange:n})})},po=n(142),ho=n.n(po),bo=n(6),go=n(199),jo=Object(Mr.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(Er.a)({root:Object(p.a)(Object(p.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),Oo=function(e){var t=e.left,n=e.top,r=e.color,i=e.isActive,o=e.className,a=Object(go.a)(e,["left","top","color","isActive","className"]),l=jo({left:t,top:n,color:r,isActive:i});return Object(c.jsx)("div",Object(p.a)(Object(p.a)({className:Object(bo.a)(l.root,o)},a),{},{children:Object(c.jsx)("div",{className:l.color})}))},yo=Object(Mr.a)((function(){return Object(Er.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),mo=function(e){var t=e.className,n=e.palette,r=e.activeId,i=e.onAdd,o=e.onUpdate,a=e.onSelect,s=yo(e),u=Object(l.useState)(0),f=Object(Ur.a)(u,2),d=f[0],h=f[1],b=Object(l.useState)({x:0,y:0,offset:0}),g=Object(Ur.a)(b,2),j=g[0],O=g[1],y=Object(l.useState)(!1),m=Object(Ur.a)(y,2),w=m[0],x=m[1],v=Object(l.useRef)(null);Object(l.useEffect)((function(){v.current&&h(v.current.clientWidth)}),[v]);var k=Object(l.useCallback)((function(e){if(w&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var i=Object(Be.a)(n);if(Math.abs(e.clientY-j.y)>50)o(i[t],!0);else{var a=i[t],c=Math.min(Math.max((e.clientX-j.x)/d+j.offset,0),1);i[t]=Object(p.a)(Object(p.a)({},a),{},{offset:c}),o({offset:c})}}}else x(!1)}),[r,w,o,n,j.offset,j.x,j.y,d]),P=Object(l.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),x(!1)}),[]);return Object(l.useEffect)((function(){return w?(window.addEventListener("mousemove",k),window.addEventListener("mouseup",P)):(window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",P)),function(){window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",P)}}),[k,P,w]),Object(c.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(bo.a)(s.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/d;i(r),x(!0),O({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(c.jsx)(Oo,{left:d*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),O({x:e.clientX,y:e.clientY,offset:t.offset}),x(!0),a(t.id))}(t,e)}},e.id)}))})},wo=Object(Mr.a)((function(e){var t=e.bgPixel;return{root:Object(p.a)(Object(p.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),xo=function(e){var t=wo(e),n=e.palette,r=Object(l.useState)("palette_".concat(Math.random().toString().substr(2,9))),i=Object(Ur.a)(r,1)[0],o=Object(Be.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(c.jsx)("div",{className:t.root,children:Object(c.jsxs)("svg",{className:t.svg,children:[Object(c.jsx)("defs",{children:Object(c.jsx)("linearGradient",{id:i,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:o.map((function(e){return Object(c.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(c.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(i,")")})]})})},vo=function(e){var t=e.children,n=e.palette,r=e.onUpdate,i=e.onAdd,o=Object(l.useRef)(null),a=Object(l.useState)(Object(Be.a)(n)),u=Object(Ur.a)(a,2),f=u[0],d=u[1],h=Object(l.useState)(0),b=Object(Ur.a)(h,2),g=b[0],j=b[1],O=Object(l.useState)(""),y=Object(Ur.a)(O,2),m=y[0],w=y[1],x=Object(l.useState)(!1),v=Object(Ur.a)(x,2),k=v[0],P=v[1];Object(l.useEffect)((function(){if(k){var e=n.map((function(e){return e.id})),t=f.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(Be.a)(e),Object(Be.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&j(r[0]),P((function(){return!1}))}}),[n,k,f]),Object(l.useEffect)((function(){d(Object(Be.a)(n))}),[n]),Object(l.useEffect)((function(){if(g){var e=n.find((function(e){return e.id===g}));e&&w(e.color)}}),[g,n]);var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g){var i=Object(Be.a)(n),o=i.findIndex((function(e){return e.id===g}));if(t)r([].concat(Object(Be.a)(i.slice(0,o)),Object(Be.a)(i.slice(o+1)))),j(0);else{var a=Object(p.a)(Object(p.a)({},i[o]),e);r([].concat(Object(Be.a)(i.slice(0,o)),[a],Object(Be.a)(i.slice(o+1))))}}};return Object(c.jsx)(ro.a,{mouseEvent:"onMouseDown",onClickAway:function(){return j(0)},children:Object(c.jsxs)("div",{ref:o,children:[Object(c.jsx)(xo,{palette:n,height:"35px"}),Object(c.jsx)(mo,{palette:n,activeId:g,onAdd:function(e){var t,r,o=Object(Be.a)(n),a={offset:e,color:"#000"};if(j(0),o.forEach((function(e){e.offset<a.offset&&(!t||t.offset<e.offset)?t=e:(!r||r.offset>e.offset)&&(r=e)})),t&&r){var c=(a.offset-t.offset)/(r.offset-t.offset),l=ho()(t.color),s=ho()(r.color),u=(s.red()-l.red())*c+l.red(),f=(s.green()-l.green())*c+l.green(),p=(s.blue()-l.blue())*c+l.blue(),d=(s.alpha()-l.alpha())*c+l.alpha();a.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(a.color=(t||r).color);i(a),P(!0)},onUpdate:S,onSelect:function(e){return j(e||0)}}),t?s.a.cloneElement(t,{open:!!g||k,anchorEl:o.current,color:m,onChange:function(e){return S({color:e})}}):null]})})},ko=Object(Mr.a)((function(){return Object(Er.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),Po=function(e){var t=e.onChange,n=Object(l.useRef)(null),r=Object(l.useState)(!1),i=Object(Ur.a)(r,2),o=i[0],a=i[1],s=ko(e),u=Object(l.useCallback)((function(e){if(n.current){var r=e.clientX,i=e.clientY,o=n.current.getBoundingClientRect(),a=Math.atan2(i-(o.y+o.height/2),r-(o.x+o.width/2));t(Math.round(a*(180/Math.PI)))}}),[t]),f=Object(l.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),a(!1)}),[]);return Object(l.useEffect)((function(){return o?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",f)):(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f)),function(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f)}}),[u,f,o]),Object(c.jsx)("div",{"aria-hidden":!0,className:s.root,ref:n,onMouseDown:function(e){n.current&&(a(!0),u(e))},children:Object(c.jsx)("div",{className:s.point})})},So=function(e){var t=e.angle,n=e.onChange;return Object(c.jsx)(ti,{before:"Angle:",after:Object(c.jsx)(Po,{width:24,angle:t,onChange:n}),children:Object(c.jsx)(Zr.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},Co=Object(b.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,i=t.palette,o=t.addColor,a=t.updatePalette,l=t.setAngle,s=t.setType;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(So,{angle:r,onChange:l})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Type:",component:"div",childrenWidth:8,children:Object(c.jsxs)(to.a,{row:!0,name:"type",value:n,onChange:function(e){return s(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(c.jsx)(no.a,{value:Ce.LINEAR,control:Object(c.jsx)(eo.a,{size:"small",color:"default"}),label:"Linear"}),Object(c.jsx)(no.a,{value:Ce.RADIAL,control:Object(c.jsx)(eo.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(vo,{palette:i,onAdd:function(e){return o(e.offset,e.color)},onUpdate:a,children:Object(c.jsx)(lo,{})})})]})})),zo=Object(Mr.a)((function(e){return Object(Er.a)({root:Object(p.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),Bo=function(e){var t=e.src,n=e.onChange,r=zo();return Object(c.jsxs)($r.a,{component:"label",className:r.root,children:[Object(c.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&Qr(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(c.jsx)("img",{className:r.image,src:t,alt:""})]})},To=function(e){var t=e.patternTexture,n=t.src,r=t.scale,i=t.repetition,o=t.setRepetition,a=t.setScale,l=t.setImage;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{component:"div",before:"Scale:",after:Object(c.jsx)(Bo,{src:n,onChange:l}),children:Object(c.jsx)(Zr.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return a(Number(e.target.value))}})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Repeat:",children:Object(c.jsxs)(Vi.a,{value:i,onChange:function(e){return o(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(c.jsx)(qi.a,{value:"repeat",children:"Repeat"}),Object(c.jsx)(qi.a,{value:"repeat-x",children:"Repeat-x"}),Object(c.jsx)(qi.a,{value:"repeat-y",children:"Repeat-y"}),Object(c.jsx)(qi.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},Ao=Object(b.c)((function(e){var t=e.config,n=t.type,r=t.color,i=t.gradient,o=t.patternTexture,a=t.setType,l=t.setColor;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsxs)(to.a,{row:!0,name:"type",value:n,onChange:function(e){return a(Number(e.target.value))},children:[Object(c.jsx)(no.a,{value:Qe.SOLID,control:Object(c.jsx)(eo.a,{size:"small",color:"default"}),label:"Solid"}),Object(c.jsx)(no.a,{value:Qe.GRADIENT,control:Object(c.jsx)(eo.a,{size:"small",color:"default"}),label:"Gradient"}),Object(c.jsx)(no.a,{value:Qe.IMAGE,control:Object(c.jsx)(eo.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(fo,{color:r,onChange:l})}):null,1===n?Object(c.jsx)(Co,{gradient:i}):null,2===n?Object(c.jsx)(To,{patternTexture:o,src:o.src,scale:o.scale}):null]})})),Io=Object(b.c)((function(){var e=Wr().fill;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Fill"})}),Object(c.jsx)(Ao,{config:e})]})})),$o=n(427),Lo=n(428),No=Object(Mr.a)((function(){return Object(Er.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Mo=Object(b.c)((function(){var e=No(),t=Wr(),n=t.stroke,r=t.useStroke,i=t.setUseStroke,o=n.setWidth,a=n.lineJoin,l=n.setLineJoin,s=n.lineCap,u=n.setLineCap;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)($r.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(c.jsx)(Jr.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(c.jsx)($o.a,{size:"small",checked:r,onChange:function(e){return i(e.target.checked)}}),"On"]}),Object(c.jsxs)("div",{className:r?"":e.disabled,children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Width:",after:"px",children:Object(c.jsx)(Zr.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return o(Number(e.target.value))}})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(c.jsxs)(Lo.a,{size:"small",color:"primary",children:[Object(c.jsx)(Kr.a,{onClick:function(){return u("butt")},variant:"butt"===s?"contained":"outlined",children:"Butt"}),Object(c.jsx)(Kr.a,{onClick:function(){return u("round")},variant:"round"===s?"contained":"outlined",children:"Round"}),Object(c.jsx)(Kr.a,{onClick:function(){return u("square")},variant:"square"===s?"contained":"outlined",children:"Square"})]})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(c.jsxs)(Lo.a,{size:"small",color:"primary",children:[Object(c.jsx)(Kr.a,{onClick:function(){return l("miter")},variant:"miter"===a?"contained":"outlined",children:"Miter"}),Object(c.jsx)(Kr.a,{onClick:function(){return l("round")},variant:"round"===a?"contained":"outlined",children:"Round"}),Object(c.jsx)(Kr.a,{onClick:function(){return l("bevel")},variant:"bevel"===a?"contained":"outlined",children:"Bevel"})]})})}),Object(c.jsx)(Ao,{config:n})]})]})})),Eo=Object(Mr.a)((function(){return Object(Er.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Do=Object(b.c)((function(){var e=Wr(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,i=t.setOffsetX,o=t.setOffsetY,a=t.setBlur,l=t.setColor,s=Eo();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)($r.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(c.jsx)(Jr.a,{component:"div",className:s.title,children:"Shadow"}),"Off",Object(c.jsx)($o.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(c.jsxs)("div",{className:n?"":s.disabled,children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Offset X:",after:"px",children:Object(c.jsx)(Zr.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Offset Y:",after:"px",children:Object(c.jsx)(Zr.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Blur:",after:"px",children:Object(c.jsx)(Zr.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return a(Number(e.target.value))}})})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(fo,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:l})})]})]})})),Xo=Object(b.c)((function(){var e=Wr(),t=e.bgColor,n=e.setBgColor;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Background Color"})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(fo,{color:t||"",onChange:n})})]})})),Fo=Object(Mr.a)((function(){return Object(Er.a)({root:{overflow:"hidden",width:"256px"}})})),Yo=function(){var e=Fo();return Object(c.jsxs)($r.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(c.jsx)($r.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(c.jsx)(Jr.a,{variant:"subtitle2",children:"Style Config"})}),Object(c.jsxs)($r.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(c.jsx)(Io,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(Mo,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(Do,{}),Object(c.jsx)(Rr.a,{}),Object(c.jsx)(Xo,{})]})]})},Wo=n(190),Go=n.n(Wo);var Ho=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(l.useCallback)(t,[t,n]),i=Object(l.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,i=e.deltaX,o=e.deltaY;if(t){var a=-.01;Math.abs(o)>50&&(a*=.1),r({deltaScale:o*a,deltaX:0,deltaY:0})}else{var c=-i,l=-o;0===i&&n&&Math.abs(o)>50&&(c=-o,l=0),r({deltaX:c,deltaY:l,deltaScale:0})}}),[r]);Object(l.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",i,{passive:!1}),function(){return t.removeEventListener("wheel",i)}}}),[e,i])},Ro={x:0,y:0};var Jo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(l.useState)({ks:!1,ms:!1}),r=Object(Ur.a)(n,2),i=r[0],o=r[1],a=Object(l.useMemo)((function(){return i.ks&&i.ms?2:i.ks?1:0}),[i.ks,i.ms]),c=Object(l.useCallback)(e,[e].concat(Object(Be.a)(t))),s=Object(l.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;i.ks!==t&&o((function(t){return Object(p.a)(Object(p.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[i.ks]),u=function(e){if(i.ks){var t=e.clientX,n=e.clientY;Ro.x=t,Ro.y=n,o((function(e){return Object(p.a)(Object(p.a)({},e),{},{ms:!0})}))}},f=Object(l.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=Ro.x,i=Ro.y;t-r===0&&n-i===0||(c({offsetX:t-r,offsetY:n-i}),Ro.x=t,Ro.y=n)}),[c]),d=Object(l.useCallback)((function(){o((function(e){return Object(p.a)(Object(p.a)({},e),{},{ms:!1})}))}),[]);return Object(l.useEffect)((function(){return window.addEventListener("keydown",s),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",s),window.removeEventListener("keyup",s)}}),[s]),Object(l.useEffect)((function(){return i.ks&&i.ms?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",d)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)),function(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)}}),[d,f,i.ks,i.ms]),[a,u]},Uo=Object(Mr.a)((function(e){var t=e.bgPixel;return Object(Er.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(p.a)(Object(p.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),Ko=Object(b.c)((function(){var e=Yr(),t=e.isPacking,n=e.ui,r=e.layout,i=r.padding,o=r.auto,a=r.fixedSize,s=r.width,u=r.height,f=e.glyphList,p=e.style.bgColor,d=e.packCanvas,h=e.setCanvas,b=n.width,g=n.height,j=n.scale,O=n.offsetX,y=n.offsetY,m=Object(l.useRef)(null),w=Object(l.useRef)(null),x=Jo((function(e){var t=e.offsetX,r=e.offsetY,i=n.scale,o=n.offsetX,a=n.offsetY;(0,n.setTransform)({offsetX:o+t/i,offsetY:a+r/i})}),[n]),v=Object(Ur.a)(x,2),k=v[0],P=v[1],S=Uo({width:b,height:g,scale:j,offsetX:O,offsetY:y,dragState:k});return Ho(w,(function(e){var t=n.offsetX,r=n.offsetY,i=n.scale,o=n.setTransform,a=i+e.deltaScale;o({offsetX:t+e.deltaX/a,offsetY:r+e.deltaY/a,scale:a})}),[n]),Object(l.useEffect)((function(){m.current&&m.current!==d&&h(m.current)}),[m,d,h]),Object(l.useEffect)((function(){if(f&&!t&&b&&g){var e=m.current;if(e){e.width=b,e.height=g;var n=e.getContext("2d");n&&(p&&(n.fillStyle=p,n.fillRect(0,0,e.width,e.height)),f.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(i||0),e.y+(i||0))})))}}}),[p,f,t,g,b,i,o,a,s,u]),Object(c.jsx)("div",{"aria-hidden":!0,ref:w,className:S.root,onMouseDown:P,children:Object(c.jsx)("canvas",{ref:m,className:S.canvas})})})),Vo=Object(Mr.a)((function(e){var t=e.palette;return Object(Er.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary}})})),qo=Object(b.c)((function(){var e=Hr(),t=e.width,n=e.height,r=Vo();return Object(c.jsxs)("div",{className:r.root,children:["Packed texture size: ",t," x ",n]})})),Qo=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(qo,{}),Object(c.jsx)(Ko,{})]})};var _o=n(54),Zo=Object(Mr.a)((function(){return Object(Er.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),ea=Object(b.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,i=t.list,o=Zo(),a=Hr();return Object(c.jsx)(c.Fragment,{children:i.map((function(e,t){var i,l="".concat(e.letter).concat(t);return Object(c.jsx)("div",{"aria-hidden":!0,className:Object(bo.a)(o.letter,(i={},Object(_o.a)(i,o.select,e.letter===a.selectLetter),Object(_o.a)(i,o.next,e.letter===a.selectNextLetter),i)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),a.setSelectLetter(t,n)}(t,e.letter,e.next)}},l)}))})})),ta=Object(Mr.a)((function(e){var t=e.bgPixel;return Object(Er.a)({root:Object(p.a)(Object(p.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),na=Object(b.c)((function(){var e=Yr(),t=Object(l.useState)(null),n=Object(Ur.a)(t,2),r=n[0],i=n[1],o=e.ui,a=e.style.font,s=a.size,u=a.lineHeight,f=a.middle,p=a.hanging,d=a.top,h=a.alphabetic,b=a.ideographic,g=a.bottom,j=a.minBaseLine,O=a.maxBaseLine,y=e.isPacking,m=o.previewScale,w=o.previewOffsetX,x=o.previewOffsetY,v=Object(l.useRef)(null),k=Object(l.useRef)(null),P=Jo((function(e){var t=e.offsetX,n=e.offsetY,r=o.previewScale,i=o.previewOffsetX,a=o.previewOffsetY;(0,o.setPreviewTransform)({previewOffsetX:i+t/r,previewOffsetY:a+n/r})}),[o]),S=Object(Ur.a)(P,2),C=S[0],z=S[1],B=ta({width:r?r.width:0,height:r?r.height:0,scale:m,offsetX:w,offsetY:x,dragState:C});return Ho(k,(function(e){var t=o.previewOffsetX,n=o.previewOffsetY,r=o.previewScale,i=o.setPreviewTransform,a=r+e.deltaScale;i({previewOffsetX:t+e.deltaX/a,previewOffsetY:n+e.deltaY/a,previewScale:a})}),[o]),Object(l.useEffect)((function(){if(v.current&&!y&&r){var e=v.current,t=e.getContext("2d");if(t){var n=s*u;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var i=function(e){[f,p,d,h,b,g].forEach((function(i){var o=Math.round(i-j+e*n);t.beginPath(),t.moveTo(-r.xOffset,o+.5-r.yOffset),t.lineTo(r.width,o+.5-r.yOffset),i===j||i===O?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+O-j),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},o=0;o<r.lines;o+=1)i(o)}}}),[h,g,r,p,b,y,u,O,f,j,s,d]),Object(l.useEffect)((function(){if(v.current&&!y&&v.current.getContext("2d")){var t=$i(e),n=t.chars,r=t.kernings,a=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;a.has(t)||a.set(t,new Map);var i=a.get(t);null===i||void 0===i||i.set(n,r)}));var c=new Map;n.list.forEach((function(e){c.set(e.letter,e)}));var l=s*u,f=function(e,t,n,r,i){var o=[],a=e.split(/\r\n|\r|\n/),c=0,l=0,s=0,u=0,f=0,p=0;return a.forEach((function(e,a){f=r*a,p=0;var d=Array.from(e);d.forEach((function(e,r){var a=t.get(e);if(a){var h=d[r+1],b=n.get(e.charCodeAt(0)),g=0;h&&b&&b.has(h.charCodeAt(0))&&(g=b.get(h.charCodeAt(0))||0);var j={x:p+a.xoffset,y:f+a.yoffset,width:a.width||a.xadvance,height:a.height||i,source:a.source,letter:a.letter,next:h};p+=a.xadvance+g,c=Math.min(j.x,c),l=Math.min(j.y,l),s=Math.max(j.x+j.width,s),u=Math.max(j.y+a.height,u),o.push(j)}}))})),{lines:a.length,list:o,xOffset:c,yOffset:l,width:s-c,height:Math.max(u-l,a.length*r-l)}}(o.previewText,c,a,l,O-j);i((function(){return f}))}}),[y,u,O,j,e,s,o.previewText]),Object(c.jsx)("div",{"aria-hidden":!0,ref:k,className:B.root,onMouseDown:z,onClick:function(){return o.setSelectLetter("","")},children:Object(c.jsxs)("div",{className:B.wrap,children:[Object(c.jsx)("canvas",{ref:v,className:B.canvas}),r?Object(c.jsx)(ea,{data:r}):null]})})})),ra=Object(b.c)((function(){var e=Hr(),t=e.previewText,n=e.setPreviewText,r=Object(l.useState)(!1),i=Object(Ur.a)(r,2),o=i[0],a=i[1],s=Object(l.useState)(t),u=Object(Ur.a)(s,2),f=u[0],p=u[1];return Object(c.jsxs)($r.a,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:"Glyphs"})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(oi.a,{margin:"none",value:o?f:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;o?p(r):(p(r),r!==t&&n(r))},onCompositionStart:function(){return a(!0)},onCompositionEnd:function(){a(!1),p(f),f!==t&&n(f)}})})]})})),ia=Object(b.c)((function(){var e=Yr(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var i=r.adjustMetric,o=r.letter,a=i.xAdvance,l=i.xOffset,s=i.yOffset,u=i.setXAdvance,f=i.setXOffset,p=i.setYOffset;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:'"'.concat(o,'" Adjustment')})}),Object(c.jsx)(bi,{xAdvance:a,xOffset:l,yOffset:s,setXAdvance:u,setXOffset:f,setYOffset:p})]})})),oa=Object(b.c)((function(){var e=Yr(),t=e.glyphList,n=e.ui,r=e.style.font,i=r.opentype,o=r.size,a=Object(l.useState)(0),s=Object(Ur.a)(a,2),u=s[0],f=s[1],p=Object(l.useState)(),d=Object(Ur.a)(p,2),h=d[0],b=d[1],g=Object(l.useState)(0),j=Object(Ur.a)(g,2),O=j[0],y=j[1];Object(l.useEffect)((function(){b(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(l.useEffect)((function(){if(h&&n.selectNextLetter&&i){var e=1/i.unitsPerEm*o;f(Math.round(i.getKerningValue(i.charToGlyphIndex(h.letter),i.charToGlyphIndex(n.selectNextLetter))*e))}}),[h,i,o,n.selectNextLetter]);return Object(l.useEffect)((function(){var e;return h&&(y(h.kerning.get(n.selectNextLetter)||0),e=Object(x.a)(h.kerning,(function(){y(h.kerning.get(n.selectNextLetter)||0)}))),e}),[h,n.selectNextLetter]),h&&n.selectNextLetter?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(Jr.a,{children:'"'.concat(h.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(c.jsx)($r.a,{paddingX:2,marginY:4,children:Object(c.jsx)(ti,{before:"Amount:",after:"px",children:Object(c.jsx)(Zr.a,{value:O+u,fullWidth:!0,type:"number",onChange:function(e){h&&h.steKerning(n.selectNextLetter,Number(e.target.value)-u)}})})})]}):null})),aa=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(na,{}),Object(c.jsxs)(ei.a,{container:!0,alignItems:"flex-start",children:[Object(c.jsx)(ei.a,{item:!0,xs:4,children:Object(c.jsx)(ra,{})}),Object(c.jsx)(ei.a,{item:!0,xs:4,children:Object(c.jsx)(ia,{})}),Object(c.jsx)(ei.a,{item:!0,xs:4,children:Object(c.jsx)(oa,{})})]})]})},ca=Object(Mr.a)((function(e){var t=e.palette;return Object(Er.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),la=Object(b.c)((function(){var e=Hr(),t=e.showPreview,n=e.packFailed,r=ca();return Object(c.jsxs)("div",{className:r.root,children:[n?Object(c.jsxs)("div",{className:r.toast,children:[Object(c.jsx)(Go.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(c.jsx)(aa,{}):Object(c.jsx)(Qo,{})]})})),sa=n(434),ua=n(112),fa=n.n(ua),pa=Object(Mr.a)((function(e){var t=e.palette;return Object(Er.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),da=function(e){var t=e.name,n=e.useRemove,r=e.selected,i=e.value,o=e.onChange,a=e.onClick,s=e.onRemove,u=e.onRename,f=Object(l.useState)(!1),p=Object(Ur.a)(f,2),d=p[0],h=p[1],b=Object(l.useState)(t),g=Object(Ur.a)(b,2),j=g[0],O=g[1],y=Object(l.useRef)(null),m=pa(),w=function(e){e.stopPropagation(),s&&s(e,i)};return Object(l.useEffect)((function(){d&&y.current&&y.current.focus(),!d&&u&&u(j,i)}),[d,u,j,i]),Object(l.useEffect)((function(){O(t)}),[t]),Object(c.jsxs)("div",{"aria-hidden":!0,className:Object(bo.a)(m.root,Object(_o.a)({},m.selected,r)),onClick:function(e){e.stopPropagation(),o&&o(e,i),a&&a(e)},onDoubleClick:function(e){e.stopPropagation(),y.current&&h(!0)},title:"Double click rename",children:[Object(c.jsxs)("span",{"aria-hidden":!0,className:m.name,children:[d?j:t,Object(c.jsx)("input",{className:m.input,hidden:!d,ref:y,value:d?j:t,type:"text",onKeyDown:function(e){13===e.keyCode&&y.current&&y.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),h(!1)},onChange:function(e){O(e.target.value)}})]}),n?Object(c.jsx)(fa.a,{className:m.icon,onClick:w,onDoubleClick:w}):null]})},ha=Object(Mr.a)((function(e){var t=e.palette,n=e.shadows;return Object(Er.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),ba=Object(b.c)((function(){var e=ha(),t=Xr(),n=t.addProject,r=t.selectProject,i=t.removeProject,o=t.setProjectName,a=t.namedList,l=t.activeId,s=function(e,t){"undefined"!==typeof t&&i(t)};return Object(c.jsx)(sa.a,{classes:e,value:l,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:a.map((function(e){return Object(c.jsx)(da,{useRemove:a.length>1,name:e.name,value:e.id,onRename:o,onRemove:s},e.id)}))})})),ga=n(374),ja=n(446),Oa=n(445),ya=Object(Mr.a)((function(){return Object(Er.a)({slider:{width:"200px"}})})),ma=Object(b.c)((function(){var e=Hr(),t=e.scale,n=e.setTransform,r=e.previewScale,i=e.setPreviewTransform,o=e.showPreview,a=e.setShowPreview,s=ya(),u=Object(l.useState)(!1),f=Object(Ur.a)(u,2),p=f[0],d=f[1],h=Object(l.useRef)(null),b=Object(l.useState)([.25,.5,.75,1,1.25,1.5,5,10]),g=Object(Ur.a)(b,1)[0],j=function(e,t){o?i({previewScale:t}):n({scale:t})};return Object(c.jsxs)($r.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(c.jsxs)($r.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(c.jsx)($o.a,{size:"small",color:"primary",checked:o,onChange:function(e){return a(e.target.checked)}})]}),Object(c.jsx)(ja.a,{className:s.slider,value:o?r:t,min:.01,max:10,step:.01,onChange:j}),Object(c.jsx)(Kr.a,{ref:h,onClick:function(){d((function(e){return!e}))},children:"".concat(Math.round(1e3*(o?r:t))/10,"%")}),Object(c.jsx)(ao.a,{open:p,anchorEl:h.current,placement:"top-end",children:Object(c.jsx)(ga.a,{children:Object(c.jsx)(ro.a,{onClickAway:function(e){h.current&&h.current.contains(e.target)||d(!1)},children:Object(c.jsx)(Oa.a,{children:g.map((function(e){return Object(c.jsx)(qi.a,{onClick:function(){return j(0,e),void d(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),wa=n(439),xa=n(429),va=n(430),ka=n(192),Pa=n.n(ka),Sa=n(195),Ca=n.n(Sa),za=n(194),Ba=n.n(za),Ta=n(193),Aa=n.n(Ta),Ia=n(205),$a=n(191),La=n.n($a),Na=Object(Mr.a)((function(e){return Object(Er.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),Ma=Object(b.c)((function(e){var t=Na(),n=Yr().removeImage,r=Object(l.useState)(!1),i=Object(Ur.a)(r,2),o=i[0],a=i[1],s=e.glyph,u=Object(l.useState)(s.letter),f=Object(Ur.a)(u,2),p=f[0],d=f[1],h=s.changeSelect,b=s.selected,g=s.setGlyph;return Object(c.jsxs)(ga.a,{variant:"outlined",className:t.root,children:[Object(c.jsx)("img",{className:t.image,src:s.src,alt:s.fileName}),Object(c.jsxs)(ei.a,{container:!0,direction:"column",className:t.actions,children:[Object(c.jsxs)(ei.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(si.a,{checked:b,size:"small",color:"default",onChange:function(e){return h(e.target.checked)}}),Object(c.jsx)(mi.a,{color:"primary",size:"small",onClick:function(){return n(s)},children:Object(c.jsx)(La.a,{fontSize:"small"})})]}),Object(c.jsx)(ei.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(c.jsx)(Ia.a,{fullWidth:!0,value:o?p:s.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;o?(d(t.slice(0,1)),g(t.slice(0,1))):g(t)},onCompositionEnd:function(){a(!1),d((function(e){return e.slice(0,1)})),g(p.slice(0,1))},onCompositionStart:function(){return a(!0)}})})]})]})})),Ea=Object(Mr.a)((function(){return Object(Er.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),Da=Object(b.c)((function(){var e=Yr().glyphImages,t=Ea();return Object(c.jsx)($r.a,{className:t.root,children:e.map((function(e){return Object(c.jsx)(Ma,{glyph:e},e.src)}))})})),Xa=Object(Mr.a)((function(){return Object(Er.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),Fa=Object(b.c)((function(){var e=Xa(),t=Yr().addImages,n=Object(l.useState)(!1),r=Object(Ur.a)(n,2),i=r[0],o=r[1],a=Object(l.useState)(!1),s=Object(Ur.a)(a,2),u=s[0],f=s[1],p=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return Qr(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},d=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():o(!1))};return Object(l.useEffect)((function(){return i?window.addEventListener("keydown",d):window.removeEventListener("keydown",d),function(){return window.removeEventListener("keydown",d)}}),[i]),Object(c.jsx)($r.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),p(e.dataTransfer.files)},className:Object(bo.a)(e.root,Object(_o.a)({},e.fixed,i)),children:Object(c.jsxs)(wa.a,{className:e.panel,expanded:i||u,onChange:function(){f((function(e){return i||!e}))},TransitionProps:{style:i||u?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(c.jsx)(xa.a,{expandIcon:i?void 0:Object(c.jsx)(Pa.a,{}),children:Object(c.jsxs)(ei.a,{container:!0,alignItems:"center",children:[Object(c.jsx)(ei.a,{item:!0,children:Object(c.jsx)(Jr.a,{children:"Image Glyph List"})}),Object(c.jsx)(ei.a,{item:!0,xs:!0,container:!0,justify:"center",children:Object(c.jsxs)(Kr.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(c.jsx)(Aa.a,{}),children:["Select Images",Object(c.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;p(t)}}})]})}),Object(c.jsx)(ei.a,{item:!0,children:Object(c.jsx)(mi.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),o((function(e){return!e}))},children:i?Object(c.jsx)(Ba.a,{}):Object(c.jsx)(Ca.a,{})})})]})}),Object(c.jsx)(va.a,{className:e.continer,children:Object(c.jsx)($r.a,{className:e.listWrap,children:Object(c.jsx)(Da,{})})})]})})})),Ya=Object(Mr.a)((function(e){var t=e.palette,n=e.shadows;return Object(Er.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),Wa=function(){var e=Ya();return Object(c.jsxs)($r.a,{className:e.root,children:[Object(c.jsx)(ba,{}),Object(c.jsx)(la,{}),Object(c.jsx)(ma,{}),Object(c.jsx)(Fa,{})]})},Ga=Object(Mr.a)((function(e){return Object(Er.a)({close:{padding:e.spacing(.5)}})}));function Ha(){var e=Ga(),t=s.a.useState(!1),n=Object(Ur.a)(t,2),r=n[0],i=n[1],o=function(e,t){"clickaway"!==t&&i(!1)},a=s.a.useCallback((function(e){var t=e.detail;i(!!t)}),[]);return s.a.useEffect((function(){return window.addEventListener("updateVerion",a,!1),function(){return window.removeEventListener("updateVerion",a,!1)}}),[a]),Object(c.jsx)(Pi.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:o,message:"New version is available.",action:Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)(Kr.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(c.jsx)(mi.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:o,children:Object(c.jsx)(fa.a,{})})]})})}var Ra=Object(Mr.a)((function(e){var t=e.zIndex;return Object(Er.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),Ja=Object(b.c)((function(){var e=Ra(),t=Dr().ui;return Object(c.jsxs)($r.a,{className:e.root,children:[Object(c.jsx)(Zi,{}),Object(c.jsx)(Ha,{}),Object(c.jsxs)($r.a,{className:e.content,children:[Object(c.jsx)(Oi,{}),Object(c.jsx)(Wa,{}),Object(c.jsx)(Yo,{})]}),Object(c.jsx)(Lr.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(c.jsx)(Nr.a,{color:"inherit"})})]})}));var Ua=function(){return Object(c.jsxs)(d.a,{theme:Ir,children:[Object(c.jsx)(h.a,{}),Object(c.jsx)(b.b,Object(p.a)(Object(p.a)({},{ui:new w,workspace:new Sr}),{},{children:Object(c.jsx)(Ja,{})}))]})},Ka=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Va(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}f.a.render(Object(c.jsx)(Ua,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Ka?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Va(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Va(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[370,1,2]]]);
//# sourceMappingURL=main.8212be4e.chunk.js.map