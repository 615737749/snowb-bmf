(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{173:function(e,t){},488:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Metric",(function(){return yo})),n.d(r,"GradientColor",(function(){return go})),n.d(r,"Gradient",(function(){return Oo})),n.d(r,"PatternTexture",(function(){return jo})),n.d(r,"Fill",(function(){return wo})),n.d(r,"Font",(function(){return mo})),n.d(r,"GlyphFont",(function(){return vo})),n.d(r,"GlyphImage",(function(){return xo})),n.d(r,"Layout",(function(){return ko})),n.d(r,"Shadow",(function(){return Po})),n.d(r,"Style",(function(){return So})),n.d(r,"Ui",(function(){return To})),n.d(r,"Project",(function(){return Mo})),n.d(r,"default",(function(){return bo})),n.d(r,"updateToNext",(function(){return Io}));var i={};n.r(i),n.d(i,"Metric",(function(){return Fo})),n.d(i,"GradientColor",(function(){return Bo})),n.d(i,"Gradient",(function(){return Lo})),n.d(i,"PatternTexture",(function(){return Eo})),n.d(i,"Fill",(function(){return Do})),n.d(i,"Font",(function(){return Go})),n.d(i,"GlyphFont",(function(){return Xo})),n.d(i,"GlyphImage",(function(){return Jo})),n.d(i,"Layout",(function(){return Yo})),n.d(i,"Shadow",(function(){return $o})),n.d(i,"Style",(function(){return Ho})),n.d(i,"Ui",(function(){return Ro})),n.d(i,"Project",(function(){return Wo})),n.d(i,"default",(function(){return zo})),n.d(i,"updateToNext",(function(){return Uo}));var o={};n.r(o),n.d(o,"Metric",(function(){return Zo})),n.d(o,"GradientColor",(function(){return _o})),n.d(o,"Gradient",(function(){return el})),n.d(o,"PatternTexture",(function(){return tl})),n.d(o,"Fill",(function(){return nl})),n.d(o,"Font",(function(){return rl})),n.d(o,"GlyphFont",(function(){return il})),n.d(o,"GlyphImage",(function(){return ol})),n.d(o,"Layout",(function(){return ll})),n.d(o,"Shadow",(function(){return al})),n.d(o,"Style",(function(){return cl})),n.d(o,"Ui",(function(){return sl})),n.d(o,"Project",(function(){return ul})),n.d(o,"default",(function(){return Qo})),n.d(o,"updateToNext",(function(){return fl}));var l,a,c,s,u=n(0),f=n.n(u),p=n(22),d=n.n(p),h=n(564),b=n(273),y=n(15),g=n(12),O=n(84),j=n(563),w=n(562),m=n(2),v=n(10),x=n(24),k=n(25),P=n(5),S=(n(44),l=m.k.bound,a=m.k.bound,c=function(){function e(){Object(x.a)(this,e),Object(v.a)(this,"globalLoader",s,this)}return Object(k.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),s=Object(P.a)(c.prototype,"globalLoader",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(P.a)(c.prototype,"showGlobalLoader",[l],Object.getOwnPropertyDescriptor(c.prototype,"showGlobalLoader"),c.prototype),Object(P.a)(c.prototype,"hideGlobalLoader",[a],Object.getOwnPropertyDescriptor(c.prototype,"hideGlobalLoader"),c.prototype),c),T=S,M=n(99),I=n(200),C=n(275);function A(){return new Worker(n.p+"static/js/AutoPacker.6093815e9c4b125e8885.worker.js")}var N,z,F,B,L,E,D,G,X,J,Y,$,H,R,W,U,V,q,K,Q,Z,_,ee={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},te={num:function(e,t){return ee.num(e)?e:t}},ne=(N=m.k.bound,z=m.k.bound,F=m.k.bound,B=m.k.bound,L=m.k.bound,E=m.k.bound,D=m.k.bound,G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"scale",X,this),Object(v.a)(this,"offsetX",J,this),Object(v.a)(this,"offsetY",Y,this),Object(v.a)(this,"width",$,this),Object(v.a)(this,"height",H,this),Object(v.a)(this,"previewText",R,this),Object(v.a)(this,"selectLetter",W,this),Object(v.a)(this,"selectNextLetter",U,this),Object(v.a)(this,"showPreview",V,this),Object(v.a)(this,"previewScale",q,this),Object(v.a)(this,"previewOffsetX",K,this),Object(v.a)(this,"previewOffsetY",Q,this),Object(v.a)(this,"packFailed",Z,this),t.previewText&&(this.previewText=t.previewText)}return Object(k.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=te.num(e.scale,this.scale),this.offsetX=te.num(e.offsetX,this.offsetX),this.offsetY=te.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(te.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=te.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=te.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),X=Object(P.a)(G.prototype,"scale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Object(P.a)(G.prototype,"offsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=Object(P.a)(G.prototype,"offsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Object(P.a)(G.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(P.a)(G.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(P.a)(G.prototype,"previewText",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),W=Object(P.a)(G.prototype,"selectLetter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=Object(P.a)(G.prototype,"selectNextLetter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=Object(P.a)(G.prototype,"showPreview",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(P.a)(G.prototype,"previewScale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=Object(P.a)(G.prototype,"previewOffsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=Object(P.a)(G.prototype,"previewOffsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=Object(P.a)(G.prototype,"packFailed",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(P.a)(G.prototype,"setTransform",[N],Object.getOwnPropertyDescriptor(G.prototype,"setTransform"),G.prototype),Object(P.a)(G.prototype,"setSize",[z],Object.getOwnPropertyDescriptor(G.prototype,"setSize"),G.prototype),Object(P.a)(G.prototype,"setPreviewText",[F],Object.getOwnPropertyDescriptor(G.prototype,"setPreviewText"),G.prototype),Object(P.a)(G.prototype,"setShowPreview",[B],Object.getOwnPropertyDescriptor(G.prototype,"setShowPreview"),G.prototype),Object(P.a)(G.prototype,"setPreviewTransform",[L],Object.getOwnPropertyDescriptor(G.prototype,"setPreviewTransform"),G.prototype),Object(P.a)(G.prototype,"setSelectLetter",[E],Object.getOwnPropertyDescriptor(G.prototype,"setSelectLetter"),G.prototype),Object(P.a)(G.prototype,"setPackFailed",[D],Object.getOwnPropertyDescriptor(G.prototype,"setPackFailed"),G.prototype),G),re=ne,ie={fontSize:"14px",fontFamily:"sans-serif"};function oe(e){var t=Object(y.a)(Object(y.a)({},ie),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),ee.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=ie.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var le,ae,ce,se,ue,fe,pe,de,he,be,ye,ge,Oe,je,we,me,ve,xe,ke=n(255);var Pe,Se,Te,Me,Ie,Ce,Ae,Ne,ze,Fe,Be="sans-serif",Le=(ce=m.k.bound,se=m.k.bound,ue=m.k.bound,fe=m.k.bound,pe=m.k.bound,de=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"fonts",he,this),Object(v.a)(this,"size",be,this),Object(v.a)(this,"lineHeight",ye,this),Object(v.a)(this,"middle",ge,this),Object(v.a)(this,"hanging",Oe,this),Object(v.a)(this,"top",je,this),Object(v.a)(this,"alphabetic",we,this),Object(v.a)(this,"ideographic",me,this),Object(v.a)(this,"bottom",ve,this),Object(v.a)(this,"sharp",xe,this),this.size=n.size||72,this.sharp=ee.num(n.sharp)?n.sharp:80,n.fonts&&n.fonts.length?n.fonts.forEach((function(e){return t.addFont(e.font)})):this.updateBaseines()}return Object(k.a)(e,[{key:"mainFont",get:function(){return this.fonts.length>0?this.fonts[0]:null}},{key:"mainFamily",get:function(){return this.mainFont?this.mainFont.family:Be}},{key:"opentype",get:function(){return this.mainFont?this.mainFont.opentype:null}},{key:"family",get:function(){return this.fonts.map((function(e){return'"'.concat(e.family,'"')})).join(",")||Be}},{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}},{key:"updateBaseines",value:function(){var e,t;t=(null===(e=this.mainFont)||void 0===e?void 0:e.opentype)?function(e,t){var n=t/e.unitsPerEm,r=e.ascender-e.descender,i=r*n;return{middle:0,hanging:0,top:i/-2,alphabetic:e.ascender*n-i/2,ideographic:0,bottom:i/2,lineHeight:r/e.unitsPerEm}}(this.mainFont.opentype,this.size):function(e,t){_||(_=document.createElement("canvas"));var n=_.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=oe(t);_.width=1,_.height=1,n.font=r,n.textBaseline="middle";var i=n.measureText(e);n.textBaseline="hanging";var o=n.measureText(e);n.textBaseline="top";var l=n.measureText(e);n.textBaseline="alphabetic";var a=n.measureText(e);n.textBaseline="ideographic";var c=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e),u={middle:0,hanging:o.actualBoundingBoxAscent-i.actualBoundingBoxAscent,top:l.actualBoundingBoxAscent-i.actualBoundingBoxAscent,alphabetic:i.actualBoundingBoxDescent-a.actualBoundingBoxDescent,ideographic:i.actualBoundingBoxDescent-c.actualBoundingBoxDescent,bottom:i.actualBoundingBoxDescent-s.actualBoundingBoxDescent,lineHeight:1};return u.lineHeight=(Math.max(u.ideographic,u.bottom)-Math.min(u.hanging,u.top))/t.fontSize,u}("x",{fontFamily:this.family,fontSize:this.size}),this.lineHeight=t.lineHeight,this.middle=t.middle,this.hanging=t.hanging,this.top=t.top,this.alphabetic=t.alphabetic,this.ideographic=t.ideographic,this.bottom=t.bottom}},{key:"addFont",value:function(e){var t,n=this;try{t=Object(ke.a)(e,{lowMemory:!0})}catch(l){return Promise.reject(l)}var r=t.names,i=r.postScriptName[Object.keys(r.postScriptName)[0]];if(this.fonts.find((function(e){return e.family===i})))return Promise.reject(new Error("Font already exists."));var o=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(le)le.appendChild(n);else{var r=document.createTextNode("A");le=document.createElement("style"),ae=document.createElement("div"),document.head.appendChild(le),le.appendChild(n),ae.appendChild(r),ae.style.position="absolute",ae.style.left="-1000px",ae.style.top="-1000px",ae.style.opacity="0",ae.style.fontSize="12px",ae.style.pointerEvents="none",document.body.appendChild(ae)}return ae.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(i,o).then((function(){Object(m.F)((function(){n.fonts.push({font:e,family:i,opentype:t}),n.updateBaseines()}))}))}},{key:"removeFont",value:function(e){var t=this.fonts.indexOf(e);-1!==t&&(this.fonts.splice(t,1),0===t&&this.updateBaseines())}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}},{key:"setSharp",value:function(e){this.sharp=e}}]),e}(),he=Object(P.a)(de.prototype,"fonts",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=Object(P.a)(de.prototype,"size",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(P.a)(de.prototype,"lineHeight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ge=Object(P.a)(de.prototype,"middle",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=Object(P.a)(de.prototype,"hanging",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=Object(P.a)(de.prototype,"top",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=Object(P.a)(de.prototype,"alphabetic",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=Object(P.a)(de.prototype,"ideographic",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=Object(P.a)(de.prototype,"bottom",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=Object(P.a)(de.prototype,"sharp",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Object(P.a)(de.prototype,"mainFont",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"mainFont"),de.prototype),Object(P.a)(de.prototype,"mainFamily",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"mainFamily"),de.prototype),Object(P.a)(de.prototype,"opentype",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"opentype"),de.prototype),Object(P.a)(de.prototype,"family",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"family"),de.prototype),Object(P.a)(de.prototype,"minBaseLine",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"minBaseLine"),de.prototype),Object(P.a)(de.prototype,"maxBaseLine",[m.m],Object.getOwnPropertyDescriptor(de.prototype,"maxBaseLine"),de.prototype),Object(P.a)(de.prototype,"addFont",[ce],Object.getOwnPropertyDescriptor(de.prototype,"addFont"),de.prototype),Object(P.a)(de.prototype,"removeFont",[se],Object.getOwnPropertyDescriptor(de.prototype,"removeFont"),de.prototype),Object(P.a)(de.prototype,"setSize",[ue],Object.getOwnPropertyDescriptor(de.prototype,"setSize"),de.prototype),Object(P.a)(de.prototype,"setLineHeight",[fe],Object.getOwnPropertyDescriptor(de.prototype,"setLineHeight"),de.prototype),Object(P.a)(de.prototype,"setSharp",[pe],Object.getOwnPropertyDescriptor(de.prototype,"setSharp"),de.prototype),de),Ee=Le,De=n(34);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Fe||(Fe={}));var Ge,Xe,Je,Ye,$e,He,Re,We,Ue,Ve,qe,Ke=(Pe=m.B.shallow,Se=m.k.bound,Te=m.k.bound,Me=m.k.bound,Ie=m.k.bound,Ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"type",Ae,this),Object(v.a)(this,"angle",Ne,this),Object(v.a)(this,"palette",ze,this),this.type=n.type&&Fe[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(y.a)(Object(y.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"#FFF"),this.addColor(1))}return Object(k.a)(e,[{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(De.a)(this.ids))+1}},{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}}]),e}(),Ae=Object(P.a)(Ce.prototype,"type",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ne=Object(P.a)(Ce.prototype,"angle",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Object(P.a)(Ce.prototype,"palette",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(P.a)(Ce.prototype,"ids",[m.m],Object.getOwnPropertyDescriptor(Ce.prototype,"ids"),Ce.prototype),Object(P.a)(Ce.prototype,"nextId",[m.m],Object.getOwnPropertyDescriptor(Ce.prototype,"nextId"),Ce.prototype),Object(P.a)(Ce.prototype,"setType",[Se],Object.getOwnPropertyDescriptor(Ce.prototype,"setType"),Ce.prototype),Object(P.a)(Ce.prototype,"setAngle",[Te],Object.getOwnPropertyDescriptor(Ce.prototype,"setAngle"),Ce.prototype),Object(P.a)(Ce.prototype,"addColor",[Me],Object.getOwnPropertyDescriptor(Ce.prototype,"addColor"),Ce.prototype),Object(P.a)(Ce.prototype,"updatePalette",[Ie],Object.getOwnPropertyDescriptor(Ce.prototype,"updatePalette"),Ce.prototype),Ce),Qe=Ke;function Ze(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i+=1)r[i]=t.charCodeAt(i);return r.buffer}var _e,et,tt,nt,rt,it,ot,lt,at,ct,st=(Ge=m.B.ref,Xe=m.B.ref,Je=m.k.bound,Ye=m.k.bound,$e=m.k.bound,He=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"buffer",Re,this),Object(v.a)(this,"image",We,this),Object(v.a)(this,"src",Ue,this),Object(v.a)(this,"repetition",Ve,this),Object(v.a)(this,"scale",qe,this),this.scale=te.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(k.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(m.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),Re=Object(P.a)(He.prototype,"buffer",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ze("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),We=Object(P.a)(He.prototype,"image",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=Object(P.a)(He.prototype,"src",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ve=Object(P.a)(He.prototype,"repetition",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),qe=Object(P.a)(He.prototype,"scale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(He.prototype,"setImage",[Je],Object.getOwnPropertyDescriptor(He.prototype,"setImage"),He.prototype),Object(P.a)(He.prototype,"setRepetition",[Ye],Object.getOwnPropertyDescriptor(He.prototype,"setRepetition"),He.prototype),Object(P.a)(He.prototype,"setScale",[$e],Object.getOwnPropertyDescriptor(He.prototype,"setScale"),He.prototype),He),ut=st;!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(ct||(ct={}));var ft,pt,dt,ht,bt,yt,gt,Ot,jt,wt,mt,vt,xt,kt,Pt,St,Tt,Mt,It,Ct,At,Nt,zt,Ft,Bt,Lt,Et,Dt,Gt,Xt,Jt,Yt,$t,Ht,Rt,Wt,Ut,Vt,qt,Kt,Qt,Zt,_t,en,tn,nn,rn,on,ln=(_e=m.B.shallow,et=m.B.shallow,tt=m.k.bound,nt=m.k.bound,rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"type",it,this),Object(v.a)(this,"color",ot,this),Object(v.a)(this,"gradient",lt,this),Object(v.a)(this,"patternTexture",at,this),this.color=t.color||"#000000",this.type=t.type&&ct[t.type]?t.type:0,this.gradient=new Qe(t.gradient),this.patternTexture=new ut(t.patternTexture)}return Object(k.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),it=Object(P.a)(rt.prototype,"type",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Object(P.a)(rt.prototype,"color",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Object(P.a)(rt.prototype,"gradient",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Object(P.a)(rt.prototype,"patternTexture",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(rt.prototype,"setType",[tt],Object.getOwnPropertyDescriptor(rt.prototype,"setType"),rt.prototype),Object(P.a)(rt.prototype,"setColor",[nt],Object.getOwnPropertyDescriptor(rt.prototype,"setColor"),rt.prototype),rt),an=ln,cn=n(59),sn=n(116),un=n(115),fn=(ft=m.k.bound,pt=m.k.bound,dt=m.k.bound,ht=function(e){Object(sn.a)(n,e);var t=Object(un.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(x.a)(this,n),e=t.call(this,r),Object(v.a)(e,"width",bt,Object(cn.a)(e)),Object(v.a)(e,"lineCap",yt,Object(cn.a)(e)),Object(v.a)(e,"lineJoin",gt,Object(cn.a)(e)),e.width=te.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e}return Object(k.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}}]),n}(an),bt=Object(P.a)(ht.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yt=Object(P.a)(ht.prototype,"lineCap",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=Object(P.a)(ht.prototype,"lineJoin",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(ht.prototype,"setWidth",[ft],Object.getOwnPropertyDescriptor(ht.prototype,"setWidth"),ht.prototype),Object(P.a)(ht.prototype,"setLineCap",[pt],Object.getOwnPropertyDescriptor(ht.prototype,"setLineCap"),ht.prototype),Object(P.a)(ht.prototype,"setLineJoin",[dt],Object.getOwnPropertyDescriptor(ht.prototype,"setLineJoin"),ht.prototype),ht),pn=fn,dn=(Ot=m.k.bound,jt=m.k.bound,wt=m.k.bound,mt=m.k.bound,vt=m.k.bound,xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"color",kt,this),Object(v.a)(this,"blur",Pt,this),Object(v.a)(this,"offsetX",St,this),Object(v.a)(this,"offsetY",Tt,this),this.color=t.color||"#000000",this.blur=te.num(t.blur,1),this.offsetX=te.num(t.offsetX,1),this.offsetY=te.num(t.offsetY,1)}return Object(k.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),kt=Object(P.a)(xt.prototype,"color",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Object(P.a)(xt.prototype,"blur",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),St=Object(P.a)(xt.prototype,"offsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Tt=Object(P.a)(xt.prototype,"offsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(P.a)(xt.prototype,"setColor",[Ot],Object.getOwnPropertyDescriptor(xt.prototype,"setColor"),xt.prototype),Object(P.a)(xt.prototype,"setBlur",[jt],Object.getOwnPropertyDescriptor(xt.prototype,"setBlur"),xt.prototype),Object(P.a)(xt.prototype,"setOffsetX",[wt],Object.getOwnPropertyDescriptor(xt.prototype,"setOffsetX"),xt.prototype),Object(P.a)(xt.prototype,"setOffsetY",[mt],Object.getOwnPropertyDescriptor(xt.prototype,"setOffsetY"),xt.prototype),Object(P.a)(xt.prototype,"setOffset",[vt],Object.getOwnPropertyDescriptor(xt.prototype,"setOffset"),xt.prototype),xt),hn=dn,bn=(Mt=m.k.bound,It=m.k.bound,Ct=m.k.bound,At=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"font",Nt,this),Object(v.a)(this,"fill",zt,this),Object(v.a)(this,"useStroke",Ft,this),Object(v.a)(this,"stroke",Bt,this),Object(v.a)(this,"useShadow",Lt,this),Object(v.a)(this,"shadow",Et,this),Object(v.a)(this,"bgColor",Dt,this),this.font=new Ee(t.font),this.fill=new an(t.fill),this.stroke=new pn(t.stroke),this.shadow=new hn(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(k.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),Nt=Object(P.a)(At.prototype,"font",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Object(P.a)(At.prototype,"fill",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Object(P.a)(At.prototype,"useStroke",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Object(P.a)(At.prototype,"stroke",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Object(P.a)(At.prototype,"useShadow",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Object(P.a)(At.prototype,"shadow",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Object(P.a)(At.prototype,"bgColor",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(P.a)(At.prototype,"setUseStroke",[Mt],Object.getOwnPropertyDescriptor(At.prototype,"setUseStroke"),At.prototype),Object(P.a)(At.prototype,"setUseShadow",[It],Object.getOwnPropertyDescriptor(At.prototype,"setUseShadow"),At.prototype),Object(P.a)(At.prototype,"setBgColor",[Ct],Object.getOwnPropertyDescriptor(At.prototype,"setBgColor"),At.prototype),At),yn=bn,gn=(Gt=m.k.bound,Xt=m.k.bound,Jt=m.k.bound,Yt=m.k.bound,$t=m.k.bound,Ht=m.k.bound,Rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"padding",Wt,this),Object(v.a)(this,"spacing",Ut,this),Object(v.a)(this,"width",Vt,this),Object(v.a)(this,"height",qt,this),Object(v.a)(this,"auto",Kt,this),Object(v.a)(this,"fixedSize",Qt,this),this.padding=te.num(t.padding,1),this.spacing=te.num(t.spacing,1),this.width=te.num(t.width,1024),this.height=te.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(k.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),Wt=Object(P.a)(Rt.prototype,"padding",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ut=Object(P.a)(Rt.prototype,"spacing",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vt=Object(P.a)(Rt.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),qt=Object(P.a)(Rt.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Kt=Object(P.a)(Rt.prototype,"auto",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qt=Object(P.a)(Rt.prototype,"fixedSize",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(P.a)(Rt.prototype,"setPadding",[Gt],Object.getOwnPropertyDescriptor(Rt.prototype,"setPadding"),Rt.prototype),Object(P.a)(Rt.prototype,"setSpacing",[Xt],Object.getOwnPropertyDescriptor(Rt.prototype,"setSpacing"),Rt.prototype),Object(P.a)(Rt.prototype,"setWidth",[Jt],Object.getOwnPropertyDescriptor(Rt.prototype,"setWidth"),Rt.prototype),Object(P.a)(Rt.prototype,"setHeight",[Yt],Object.getOwnPropertyDescriptor(Rt.prototype,"setHeight"),Rt.prototype),Object(P.a)(Rt.prototype,"setAuto",[$t],Object.getOwnPropertyDescriptor(Rt.prototype,"setAuto"),Rt.prototype),Object(P.a)(Rt.prototype,"setFixedSize",[Ht],Object.getOwnPropertyDescriptor(Rt.prototype,"setFixedSize"),Rt.prototype),Rt),On=gn,jn=(Zt=m.k.bound,_t=m.k.bound,en=m.k.bound,tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"xAdvance",nn,this),Object(v.a)(this,"xOffset",rn,this),Object(v.a)(this,"yOffset",on,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(k.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),nn=Object(P.a)(tn.prototype,"xAdvance",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rn=Object(P.a)(tn.prototype,"xOffset",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),on=Object(P.a)(tn.prototype,"yOffset",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(P.a)(tn.prototype,"setXAdvance",[Zt],Object.getOwnPropertyDescriptor(tn.prototype,"setXAdvance"),tn.prototype),Object(P.a)(tn.prototype,"setXOffset",[_t],Object.getOwnPropertyDescriptor(tn.prototype,"setXOffset"),tn.prototype),Object(P.a)(tn.prototype,"setYOffset",[en],Object.getOwnPropertyDescriptor(tn.prototype,"setYOffset"),tn.prototype),tn),wn=jn;function mn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,i=e.height,o=0,l=0,a=0,c=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(i/2),h=Math.ceil(r/2),b=0;b<d;b+=1){for(var y=0;y<r&&(s&&n[4*(b*r+y)+3]>t&&(s=!1),u&&n[4*((i-b-1)*r+y)+3]>t&&(u=!1),s||u);y+=1);if(!s&&!u)break;s&&(o+=1),u&&(l+=1)}if(o+l>=i)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*i,width:0,height:0};d=i-l;for(var g=0;g<h;g+=1){for(var O=o;O<d&&(f&&n[4*(r*O+g)+3]>t&&(f=!1),p&&n[4*(r*O+r-g-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(a+=1),p&&(c+=1)}return{trimOffsetLeft:-1*a,trimOffsetTop:-1*o,width:r-a-c,height:i-o-l}}function vn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}var xn,kn,Pn,Sn,Tn,Mn,In,Cn,An,Nn,zn,Fn,Bn,Ln,En,Dn,Gn,Xn,Jn,Yn=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();function $n(e,t,n,r,i,o){if(0===o.type)return o.color;if(1===o.type){var l,a=o.gradient,c=a.type,s=a.palette,u=a.angle,f=t+r/2,p=n+i/2,d=Math.max(r,i)/2;if(0===c){var h=vn(f,p,d,u+180),b=vn(f,p,d,u);l=e.createLinearGradient(h.x,h.y,b.x,b.y)}else l=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){l.addColorStop(e.offset,e.color)})),l}var y=o.patternTexture,g=y.image,O=y.repetition,j=y.scale;if(!g)return"rgba(0,0,0,0)";var w=e.createPattern(g,O);return w?(w.setTransform(Yn.scale(j).translate(t,n)),w):"rgba(0,0,0,0)"}function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;return e*(1-n)+n*Math.round(e/t)*t}function Rn(e,t){e.beginPath();for(var n=0;n<t.length;n+=1){var r=t[n];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}}function Wn(e,t){var n=t.font,r=t.stroke,i=t.shadow,o=t.fill,l=n.fonts.find((function(t){var n=t.opentype;return!!n&&!!n.charToGlyph(e).unicode}));if(!l)throw new Error("Not Find Font.");var a=l.opentype,c=a.charToGlyph(e),s=n.size/a.unitsPerEm,u=Math.ceil(a.ascender*s),f=c.getPath(0,u,n.size);!function(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:80)/100,o=0;o<e.commands.length;o++){var l=e.commands[o];"Z"!==l.type&&(l.x=Hn(l.x+n,t,i)-n,l.y=Hn(l.y+r,t,i)-r),"Q"!==l.type&&"C"!==l.type||(l.x1=Hn(l.x1+n,t,i)-n,l.y1=Hn(l.y1+r,t,i)-r),"C"===l.type&&(l.x2=Hn(l.x2+n,t,i)-n,l.y2=Hn(l.y2+r,t,i)-r)}}(f,n.sharp);var p=f.getBoundingBox(),d=a.getAdvanceWidth(e,n.size),h=(a.ascender-a.descender)*s,b={text:e,font:n.family,width:Math.ceil(p.x2)-Math.floor(p.x1),height:Math.ceil(p.y2)-Math.floor(p.y1),fontWidth:d,fontHeight:h,trimOffsetTop:-1*p.y1,trimOffsetLeft:-1*p.x1,trimOffsetRight:-1*(d-p.x1),trimOffsetBottom:-1*(h-p.y2)},g=b.width,O=b.height,j=b.trimOffsetLeft,w=b.trimOffsetTop;if(0===g||0===O)return Object(y.a)({canvas:null},b);var m=r?2*r.width:0,v=m,x=m;if(i){var k=Math.ceil(1.5*i.blur);v+=Math.abs(i.offsetX)+k,x+=Math.abs(i.offsetY)+k}var P=document.createElement("canvas"),S=P.getContext("2d");if(P.width=g+2*v,P.height=O+2*x,i&&(S.shadowColor=i.color,S.shadowBlur=i.blur,S.shadowOffsetX=i.offsetX,S.shadowOffsetY=i.offsetY),r&&m){var T=document.createElement("canvas");T.width=P.width,T.height=P.height;var M=T.getContext("2d");M.translate(v+j,x+w),M.lineCap=r.lineCap,M.lineJoin=r.lineJoin,M.lineWidth=f.strokeWidth=m,M.strokeStyle=f.stroke=$n(M,0,0,d,h,r),Rn(M,f.commands),M.stroke(),M.globalCompositeOperation="destination-out",M.fill(),M.globalCompositeOperation="source-over",M.fillStyle=$n(M,0,0,d,h,o),M.fill(),S.drawImage(T,0,0)}else S.translate(v+j,x+w),Rn(S,f.commands),S.fillStyle=$n(S,0,0,d,h,o),S.fill();if(0===P.width||0===P.height)return Object(y.a)({canvas:P},b);var I=S.getImageData(0,0,P.width,P.height),C=mn(I);return P.width=b.width=C.width,P.height=b.height=C.height,S.putImageData(I,C.trimOffsetLeft,C.trimOffsetTop),b.trimOffsetLeft+=v+C.trimOffsetLeft,b.trimOffsetTop+=x+C.trimOffsetTop,b.trimOffsetBottom+=x+(O+2*x+C.trimOffsetTop-C.height),Object(y.a)({canvas:P},b)}function Un(e,t){var n=t.font,r=t.stroke,i=t.shadow,o=t.fill,l=function(e,t){xn||(xn=document.createElement("canvas"));var n=xn.getContext("2d");if(!n)throw new Error("Get context 2d failed.");xn.width=1,xn.height=1;var r=oe(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var i,o,l=n.measureText(e);if("undefined"===typeof l.actualBoundingBoxLeft)return{text:e,font:r,width:l.width,height:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),fontWidth:l.width,fontHeight:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var a=n.measureText(e),c=Math.ceil(l.actualBoundingBoxLeft),s=Math.ceil(a.actualBoundingBoxRight),u=Math.ceil(a.actualBoundingBoxAscent),f=Math.ceil(l.actualBoundingBoxDescent);return{text:e,font:r,width:c+Math.ceil(l.actualBoundingBoxRight),height:f+Math.ceil(l.actualBoundingBoxAscent),fontWidth:Math.ceil(l.width),fontHeight:l.actualBoundingBoxAscent-a.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:c,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),a=l.width,c=l.height,s=l.trimOffsetLeft,u=l.trimOffsetTop;if(0===a||0===c)return Object(y.a)({canvas:null},l);var f=r?2*r.width:0,p=f,d=f,h=(a-n.size)/2,b=u;if(i){var g=Math.ceil(1.5*i.blur);p+=Math.abs(i.offsetX)+g,d+=Math.abs(i.offsetY)+g}h+=p,b+=d;var O=document.createElement("canvas"),j=O.getContext("2d");if(O.width=a+2*p,O.height=c+2*d,j.textAlign="left",j.textBaseline="top",j.font=oe({fontSize:n.size,fontFamily:n.family}),r&&f&&(j.lineWidth=f,j.lineCap=r.lineCap,j.lineJoin=r.lineJoin,j.strokeStyle=$n(j,h,b,n.size,n.size,r),j.strokeText(e,p+s,d+u)),j.fillStyle=$n(j,h,b,n.size,n.size,o),j.fillText(e,p+s,d+u),i){var w=document.createElement("canvas");w.width=a+2*p,w.height=c+2*d;var m=w.getContext("2d");m.shadowColor=i.color,m.shadowBlur=i.blur,m.shadowOffsetX=i.offsetX,m.shadowOffsetY=i.offsetY,m.drawImage(O,0,0),O=w,j=m}if(0===O.width||0===O.height)return Object(y.a)({canvas:O},l);var v=j.getImageData(0,0,O.width,O.height),x=mn(v);return O.width=x.width,O.height=x.height,l.width=x.width,l.height=x.height,j.putImageData(v,x.trimOffsetLeft,x.trimOffsetTop),l.trimOffsetLeft+=p+x.trimOffsetLeft,l.trimOffsetTop+=d+x.trimOffsetTop,l.trimOffsetBottom+=d+(c+2*d+x.trimOffsetTop-x.height),Object(y.a)({canvas:O},l)}var Vn,qn,Kn,Qn,Zn,_n,er,tr,nr,rr,ir,or=(kn=m.B.ref,Pn=m.B.ref,Sn=m.k.bound,Tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),this.type="text",Object(v.a)(this,"letter",Mn,this),Object(v.a)(this,"source",In,this),Object(v.a)(this,"width",Cn,this),Object(v.a)(this,"height",An,this),Object(v.a)(this,"x",Nn,this),Object(v.a)(this,"y",zn,this),Object(v.a)(this,"fontWidth",Fn,this),Object(v.a)(this,"fontHeight",Bn,this),Object(v.a)(this,"trimOffsetTop",Ln,this),Object(v.a)(this,"trimOffsetLeft",En,this),Object(v.a)(this,"trimOffsetRight",Dn,this),Object(v.a)(this,"trimOffsetBottom",Gn,this),Object(v.a)(this,"adjustMetric",Xn,this),Object(v.a)(this,"kerning",Jn,this),this.letter=t.letter||"",this.adjustMetric=new wn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(k.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),Mn=Object(P.a)(Tn.prototype,"letter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),In=Object(P.a)(Tn.prototype,"source",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cn=Object(P.a)(Tn.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),An=Object(P.a)(Tn.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nn=Object(P.a)(Tn.prototype,"x",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zn=Object(P.a)(Tn.prototype,"y",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fn=Object(P.a)(Tn.prototype,"fontWidth",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bn=Object(P.a)(Tn.prototype,"fontHeight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ln=Object(P.a)(Tn.prototype,"trimOffsetTop",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),En=Object(P.a)(Tn.prototype,"trimOffsetLeft",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dn=Object(P.a)(Tn.prototype,"trimOffsetRight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gn=Object(P.a)(Tn.prototype,"trimOffsetBottom",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xn=Object(P.a)(Tn.prototype,"adjustMetric",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=Object(P.a)(Tn.prototype,"kerning",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(P.a)(Tn.prototype,"steKerning",[Sn],Object.getOwnPropertyDescriptor(Tn.prototype,"steKerning"),Tn.prototype),Tn),lr=or,ar=(Vn=function(e){Object(sn.a)(n,e);var t=Object(un.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return Object(x.a)(this,n),(e=t.call(this,r)).setGlyphInfo(i),e}return Object(k.a)(n,[{key:"setGlyphInfo",value:function(e){var t,n=e.font,r=e.fill,i=e.useStroke,o=e.stroke,l=e.useShadow,a=e.shadow,c={font:n,fill:r};i&&(c.stroke=o),l&&(c.shadow=a);try{t=Wn(this.letter,c)}catch(s){t=Un(this.letter,c)}this.source=t.canvas,this.width=t.width,this.height=t.height,this.fontWidth=t.fontWidth,this.fontHeight=t.fontHeight,this.trimOffsetTop=t.trimOffsetTop,this.trimOffsetLeft=t.trimOffsetLeft,this.trimOffsetRight=t.trimOffsetRight,this.trimOffsetBottom=t.trimOffsetBottom}}]),n}(lr),Object(P.a)(Vn.prototype,"setGlyphInfo",[m.k],Object.getOwnPropertyDescriptor(Vn.prototype,"setGlyphInfo"),Vn.prototype),Vn),cr=ar;var sr,ur,fr,pr,dr,hr,br,yr,gr,Or,jr,wr,mr,vr,xr,kr,Pr,Sr,Tr,Mr,Ir,Cr,Ar,Nr,zr,Fr,Br,Lr,Er,Dr,Gr,Xr,Jr,Yr,$r,Hr,Rr,Wr=(qn=m.B.ref,Kn=m.k.bound,Qn=m.k.bound,Zn=m.k.bound,_n=function(e){Object(sn.a)(n,e);var t=Object(un.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this,e)).type="image",Object(v.a)(r,"src",er,Object(cn.a)(r)),Object(v.a)(r,"buffer",tr,Object(cn.a)(r)),Object(v.a)(r,"fileName",nr,Object(cn.a)(r)),Object(v.a)(r,"fileType",rr,Object(cn.a)(r)),Object(v.a)(r,"selected",ir,Object(cn.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(k.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(m.F)("trimImage",(function(){var r=n.naturalWidth,i=n.naturalHeight;e.fontWidth=r,e.fontHeight=i;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");o.drawImage(e,0,0);var l=mn(o.getImageData(0,0,n,r),t);return i.width=l.width,i.height=l.height,o.drawImage(e,l.trimOffsetLeft,l.trimOffsetTop),Object(y.a)({canvas:i},l)}(n);e.width=o.width,e.height=o.height,e.trimOffsetLeft=o.trimOffsetLeft,e.trimOffsetTop=o.trimOffsetTop,e.trimOffsetRight=o.width-o.trimOffsetLeft-r,e.trimOffsetBottom=o.height-o.trimOffsetTop-i,e.source=o.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(lr),er=Object(P.a)(_n.prototype,"src",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tr=Object(P.a)(_n.prototype,"buffer",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nr=Object(P.a)(_n.prototype,"fileName",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rr=Object(P.a)(_n.prototype,"fileType",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ir=Object(P.a)(_n.prototype,"selected",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(P.a)(_n.prototype,"initImage",[Kn],Object.getOwnPropertyDescriptor(_n.prototype,"initImage"),_n.prototype),Object(P.a)(_n.prototype,"setGlyph",[Qn],Object.getOwnPropertyDescriptor(_n.prototype,"setGlyph"),_n.prototype),Object(P.a)(_n.prototype,"changeSelect",[Zn],Object.getOwnPropertyDescriptor(_n.prototype,"changeSelect"),_n.prototype),_n),Ur=Wr,Vr=(sr=m.B.shallow,ur=m.B.shallow,fr=m.B.ref,pr=m.B.ref,dr=m.B.ref,hr=m.B.ref,br=m.B.ref,yr=m.k.bound,gr=m.k.bound,Or=m.k.bound,jr=m.k.bound,wr=m.k.bound,mr=m.k.bound,vr=m.k.bound,xr=m.k.bound,kr=m.k.bound,Pr=m.k.bound,Sr=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"name",Tr,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(v.a)(this,"isPacking",Mr,this),Object(v.a)(this,"text",Ir,this),Object(v.a)(this,"glyphs",Cr,this),Object(v.a)(this,"glyphImages",Ar,this),Object(v.a)(this,"style",Nr,this),Object(v.a)(this,"layout",zr,this),Object(v.a)(this,"globalAdjustMetric",Fr,this),Object(v.a)(this,"packCanvas",Br,this),Object(v.a)(this,"ui",Lr,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new re(r.ui),this.style=new yn(r.style),this.layout=new On(r.layout),this.globalAdjustMetric=new wn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new cr(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new Ur(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new cr({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(k.a)(e,[{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}},{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new C.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker=new A,this.worker.addEventListener("message",Object(m.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,i=0,o=0,l=this.layout,a=l.auto,c=l.fixedSize,s=l.width,u=l.height,f=l.spacing;e.forEach((function(e){var t,l=e.letter,a=e.x,c=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==l)}))),t||(t=n.glyphs.get(l)),t&&(t.x=a||0,t.y=c||0),i=Math.max(i,a+u),o=Math.max(o,c+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,i=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==i)}))),t||(t=n.glyphs.get(i)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),a||!c?this.ui.setSize(i-f,o-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(I.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(I.request)((function(r){for(var i=r.timeRemaining(),o=Date.now();t.length&&i-(Date.now()-o)>-100;){var l=t.shift();l&&l.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(M.a)(this.glyphs,(function(){e.throttlePack()})),Object(M.a)(this.glyphImages,(function(){e.throttlePack()})),Object(M.a)(this.layout,(function(){e.throttlePack()})),Object(M.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var i=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;i.length&&i.forEach((function(t){n.includes(t)?e.glyphs.set(t,new cr({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new Ur(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}}]),e}(),Tr=Object(P.a)(Sr.prototype,"name",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),Mr=Object(P.a)(Sr.prototype,"isPacking",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ir=Object(P.a)(Sr.prototype,"text",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),Cr=Object(P.a)(Sr.prototype,"glyphs",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ar=Object(P.a)(Sr.prototype,"glyphImages",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nr=Object(P.a)(Sr.prototype,"style",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=Object(P.a)(Sr.prototype,"layout",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=Object(P.a)(Sr.prototype,"globalAdjustMetric",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=Object(P.a)(Sr.prototype,"packCanvas",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lr=Object(P.a)(Sr.prototype,"ui",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new re}}),Object(P.a)(Sr.prototype,"glyphList",[m.m],Object.getOwnPropertyDescriptor(Sr.prototype,"glyphList"),Sr.prototype),Object(P.a)(Sr.prototype,"rectangleList",[m.m],Object.getOwnPropertyDescriptor(Sr.prototype,"rectangleList"),Sr.prototype),Object(P.a)(Sr.prototype,"pack",[yr],Object.getOwnPropertyDescriptor(Sr.prototype,"pack"),Sr.prototype),Object(P.a)(Sr.prototype,"setPack",[gr],Object.getOwnPropertyDescriptor(Sr.prototype,"setPack"),Sr.prototype),Object(P.a)(Sr.prototype,"packStyle",[Or],Object.getOwnPropertyDescriptor(Sr.prototype,"packStyle"),Sr.prototype),Object(P.a)(Sr.prototype,"throttlePack",[jr],Object.getOwnPropertyDescriptor(Sr.prototype,"throttlePack"),Sr.prototype),Object(P.a)(Sr.prototype,"setText",[wr],Object.getOwnPropertyDescriptor(Sr.prototype,"setText"),Sr.prototype),Object(P.a)(Sr.prototype,"addGlyphs",[mr],Object.getOwnPropertyDescriptor(Sr.prototype,"addGlyphs"),Sr.prototype),Object(P.a)(Sr.prototype,"addImages",[vr],Object.getOwnPropertyDescriptor(Sr.prototype,"addImages"),Sr.prototype),Object(P.a)(Sr.prototype,"removeImage",[xr],Object.getOwnPropertyDescriptor(Sr.prototype,"removeImage"),Sr.prototype),Object(P.a)(Sr.prototype,"setCanvas",[kr],Object.getOwnPropertyDescriptor(Sr.prototype,"setCanvas"),Sr.prototype),Object(P.a)(Sr.prototype,"setName",[Pr],Object.getOwnPropertyDescriptor(Sr.prototype,"setName"),Sr.prototype),Sr),qr=Vr,Kr=(Er=m.B.shallow,Dr=m.k.bound,Gr=m.k.bound,Xr=m.k.bound,Jr=m.k.bound,Yr=function(){function e(){var t=this;Object(x.a)(this,e),Object(v.a)(this,"activeId",$r,this),Object(v.a)(this,"projectList",Hr,this),Object(m.F)((function(){t.activeId=Date.now();var e=new qr({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(k.a)(e,[{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}},{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))this.activeId=e.id;else{if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new qr(e);this.projectList.set(n.id,n),this.activeId=n.id}}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}}]),e}(),$r=Object(P.a)(Yr.prototype,"activeId",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hr=Object(P.a)(Yr.prototype,"projectList",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(P.a)(Yr.prototype,"currentProject",[m.m],Object.getOwnPropertyDescriptor(Yr.prototype,"currentProject"),Yr.prototype),Object(P.a)(Yr.prototype,"namedList",[m.m],Object.getOwnPropertyDescriptor(Yr.prototype,"namedList"),Yr.prototype),Object(P.a)(Yr.prototype,"selectProject",[Dr],Object.getOwnPropertyDescriptor(Yr.prototype,"selectProject"),Yr.prototype),Object(P.a)(Yr.prototype,"removeProject",[Gr],Object.getOwnPropertyDescriptor(Yr.prototype,"removeProject"),Yr.prototype),Object(P.a)(Yr.prototype,"addProject",[Xr],Object.getOwnPropertyDescriptor(Yr.prototype,"addProject"),Yr.prototype),Object(P.a)(Yr.prototype,"setProjectName",[Jr],Object.getOwnPropertyDescriptor(Yr.prototype,"setProjectName"),Yr.prototype),Yr),Qr=Kr;Object(m.n)({enforceActions:"always",computedRequiresReaction:!0});var Zr=n(274),_r=n(572),ei={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},ti={MuiCssBaseline:{"@global":{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}},MuiSlider:{root:{verticalAlign:"top","&.Mui-disabled":{opacity:.2}}}},ni=Object(Zr.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:ei,overrides:ti}),ri=Object(_r.a)(ni),ii=n(565),oi=n(496),li=n(542),ai=n(539),ci=n(571);function si(){return Object(u.useContext)(g.a)}function ui(){return si().workspace}function fi(){return si().workspace.currentProject.layout}function pi(){return si().workspace.currentProject}function di(){return pi().style}function hi(){return di().font}function bi(){return pi().ui}var yi=n(548),gi=n(120),Oi=n(16),ji=n(48),wi=n(493),mi=n(491),vi=n(492),xi=n(279),ki=n(540),Pi=n(541),Si=n(257),Ti=n.n(Si),Mi=n(256),Ii=n.n(Mi);var Ci=function(e,t){return e.arrayBuffer&&!t?e.arrayBuffer():new Promise((function(n){var r=new FileReader;t?r.readAsText(e):r.readAsArrayBuffer(e),r.onload=function(e){var t;n((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||null)}}))},Ai=n(1),Ni=Object(g.c)((function(){var e=Object(u.useState)(!1),t=Object(Oi.a)(e,2),n=t[0],r=t[1],i=hi(),o=i.fonts,l=i.addFont,a=i.removeFont,c=Object(O.b)().enqueueSnackbar;return Object(Ai.jsxs)("div",{children:[Object(Ai.jsx)(mi.a,{dense:!0,disablePadding:!0,children:o.map((function(e){return Object(Ai.jsxs)(vi.a,{disableGutters:!0,divider:!0,dense:!0,children:[Object(Ai.jsx)(ki.a,{primary:e.family}),Object(Ai.jsx)(Pi.a,{children:Object(Ai.jsx)(xi.a,{edge:"end","aria-label":"delete",onClick:function(){return a(e)},children:Object(Ai.jsx)(Ii.a,{})})})]},e.family)}))}),Object(Ai.jsxs)(wi.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:n?Object(Ai.jsx)(li.a,{size:22,color:"inherit"}):Object(Ai.jsx)(Ti.a,{}),disabled:n,children:["Add Font File",Object(Ai.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(r(!0),Ci(t).then((function(t){t instanceof ArrayBuffer?(e.target.value="",l(t).then((function(){return r(!1)})).catch((function(e){r(!1),c(e.message,{variant:"error"}),ji.b(e)}))):r(!1)})))}},accept:".ttf,.otf,.woff"})]})]})})),zi=n(544),Fi=n(166),Bi=n(543),Li=["before","children","component","after","childrenWidth"],Ei=function(e){var t=e.before,n=e.children,r=e.component,i=e.after,o=e.childrenWidth,l=Object(Fi.a)(e,Li);return Object(Ai.jsxs)(Bi.a,Object(y.a)(Object(y.a)({component:r||"label",container:!0,spacing:2,wrap:"nowrap",justifyContent:"center",alignItems:"center"},l),{},{children:[Object(Ai.jsx)(Bi.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(Ai.jsx)(gi.a,{noWrap:!0,align:"right",children:t})}),Object(Ai.jsx)(Bi.a,{item:!0,xs:o||5,children:n}),Object(Ai.jsx)(Bi.a,{item:!0,xs:!0,children:"object"===typeof i?i:Object(Ai.jsx)(gi.a,{noWrap:!0,variant:"caption",children:i})})]}))},Di=Object(g.c)((function(){var e=hi(),t=e.size,n=e.setSize;return Object(Ai.jsx)(Ei,{before:"Font Size:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),Gi=n(575),Xi=Object(g.c)((function(){var e=hi(),t=e.sharp,n=e.setSharp,r=e.mainFont;return Object(Ai.jsx)(Ei,{style:r?void 0:{opacity:.5},before:"Sharp:",after:"".concat(t,"%"),children:Object(Ai.jsx)(Gi.a,{value:t,onChange:function(e,t){n(t)},disabled:!r})})})),Ji=function(){return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Font"})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ni,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Di,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Xi,{})})]})},Yi=n(568),$i=Object(g.c)((function(){var e=pi(),t=e.text,n=e.setText,r=Object(u.useState)(!1),i=Object(Oi.a)(r,2),o=i[0],l=i[1],a=Object(u.useState)(t),c=Object(Oi.a)(a,2),s=c[0],f=c[1],p=Object(u.useCallback)((function(){f(t),l(!0)}),[t]);return Object(u.useEffect)((function(){f(t)}),[t]),Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Glyphs"})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Yi.a,{margin:"none",value:o?s:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,i=Array.from(new Set(r.split(""))).join("");o?f(r):(f(i),i!==t&&n(i))},onCompositionStart:p,onCompositionEnd:function(){l(!1);var e=Array.from(new Set(s.split(""))).join("");f(e),e!==t&&n(e)}})})]})})),Hi=Object(g.c)((function(){var e=fi(),t=e.padding,n=e.setPadding;return Object(Ai.jsx)(Ei,{before:"Padding:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),Ri=Object(g.c)((function(){var e=fi(),t=e.spacing,n=e.setSpacing;return Object(Ai.jsx)(Ei,{before:"Spacing:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),Wi=n(570),Ui=Object(g.c)((function(){var e=fi(),t=e.auto,n=e.setAuto;return Object(Ai.jsx)(Ei,{before:"Auto Pack:",children:Object(Ai.jsx)(Wi.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),Vi=Object(g.c)((function(){var e=fi(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(Ai.jsx)(Ei,{before:"Fixed Size:",children:Object(Ai.jsx)(Wi.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),qi=Object(g.c)((function(){var e=fi(),t=e.width,n=e.auto,r=e.fixedSize,i=e.setWidth;return Object(Ai.jsx)(Ei,{before:r?"Width:":"Max Width:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),Ki=Object(g.c)((function(){var e=fi(),t=e.height,n=e.auto,r=e.fixedSize,i=e.setHeight;return Object(Ai.jsx)(Ei,{before:r?"Height:":"Max Height:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),Qi=function(){return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Layout"})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Hi,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ri,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ui,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Vi,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(qi,{})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ki,{})})]})},Zi=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,l=e.setYOffset,a=function(e){return function(t){return e(Number(t.target.value))}};return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"xAdvance:",after:"px",children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",onChange:a(i)})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"xOffset:",after:"px",children:Object(Ai.jsx)(zi.a,{value:n,fullWidth:!0,type:"number",onChange:a(o)})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"yOffset:",after:"px",children:Object(Ai.jsx)(zi.a,{value:r,fullWidth:!0,type:"number",onChange:a(l)})})})]})},_i=Object(g.c)((function(){var e=pi().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,l=e.setYOffset;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Global Metric Adjustment"})}),Object(Ai.jsx)(Zi,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:i,setXOffset:o,setYOffset:l})]})})),eo=Object(ai.a)((function(){return Object(ci.a)({root:{overflow:"hidden",width:"256px"}})})),to=function(){var e=eo();return Object(Ai.jsxs)(ii.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Ai.jsx)(ii.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Ai.jsx)(gi.a,{variant:"subtitle2",children:"Font Config"})}),Object(Ai.jsxs)(ii.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Ai.jsx)($i,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(Ji,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(Qi,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(_i,{})]})]})},no=n(260),ro=n.n(no),io=n(60),oo=Object(g.c)((function(e){var t=e.className,n=ui().addProject,r=Object(u.useCallback)((function(e){return e.preventDefault(),n(),!1}),[n]);return Object(u.useEffect)((function(){return io.a.unbind("alt+n,control+n"),Object(io.a)("alt+n,control+n",r),function(){io.a.unbind("alt+n,control+n")}}),[r]),Object(Ai.jsx)(wi.a,{className:t,title:"New Project (ALT + N)",onClick:r,children:"New"})}));var lo=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(De.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0},ao=function(){return new Uint8Array([].concat(Object(De.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,1,0]))};function co(e){if(!(e instanceof ArrayBuffer)||e.byteLength<17)return 0;var t=ao(),n=t.slice(0,t.byteLength-3),r=new Uint8Array(e).slice(0,t.byteLength),i=r.slice(r.byteLength-3),o=!0;return n.forEach((function(e,t){r[t]!==e&&(o=!1)})),o?lo(Array.from(i)):0}var so=function(e){return co(e)>0},uo=n(13),fo=uo.Reader,po=uo.Writer,ho=uo.util,bo={},yo=bo.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!ho.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!ho.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!ho.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof bo.Metric)return e;var t=new bo.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),go=bo.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!ho.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!ho.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!ho.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof bo.GradientColor)return e;var t=new bo.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Oo=bo.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=ho.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=po.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)bo.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(bo.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ho.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=bo.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof bo.Gradient)return e;var t=new bo.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=bo.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=bo.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),jo=bo.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=ho.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ho.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!ho.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof bo.PatternTexture)return e;var t=new bo.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?ho.base64.decode(e.buffer,t.buffer=ho.newBuffer(ho.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=ho.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?ho.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),wo=bo.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&bo.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&bo.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=bo.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=bo.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ho.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!ho.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=bo.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=bo.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!ho.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!ho.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!ho.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof bo.Fill)return e;var t=new bo.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=bo.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=bo.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=bo.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=bo.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),mo=bo.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=ho.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||ho.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!ho.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!ho.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!ho.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof bo.Font)return e;var t=new bo.Font;return null!=e.font&&("string"===typeof e.font?ho.base64.decode(e.font,t.font=ho.newBuffer(ho.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=ho.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?ho.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),vo=bo.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=ho.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=po.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&bo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bo.GlyphFont;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=bo.Metric.decode(e,e.uint32());break;case 3:o.kerning===ho.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ho.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=bo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ho.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ho.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof bo.GlyphFont)return e;var t=new bo.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=bo.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=bo.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),xo=bo.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=ho.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=ho.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=po.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&bo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bo.GlyphImage;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=bo.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===ho.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ho.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=bo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ho.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!ho.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!ho.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ho.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ho.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof bo.GlyphImage)return e;var t=new bo.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=bo.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?ho.base64.decode(e.buffer,t.buffer=ho.newBuffer(ho.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=ho.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=bo.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?ho.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),ko=bo.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.power=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.power&&Object.hasOwnProperty.call(e,"power")&&t.uint32(24).bool(e.power),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.power=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!ho.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!ho.isInteger(e.spacing)?"spacing: integer expected":null!=e.power&&e.hasOwnProperty("power")&&"boolean"!==typeof e.power?"power: boolean expected":null},e.fromObject=function(e){if(e instanceof bo.Layout)return e;var t=new bo.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.power&&(t.power=Boolean(e.power)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.power=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.power&&e.hasOwnProperty("power")&&(n.power=e.power),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Po=bo.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!ho.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!ho.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!ho.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!ho.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof bo.Shadow)return e;var t=new bo.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),So=bo.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&bo.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&bo.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&bo.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&bo.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=bo.Font.decode(e,e.uint32());break;case 2:r.fill=bo.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=bo.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=bo.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=bo.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=bo.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=bo.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=bo.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!ho.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof bo.Style)return e;var t=new bo.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=bo.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=bo.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=bo.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=bo.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=bo.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=bo.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=bo.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=bo.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),To=bo.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=po.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bo.Ui;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.previewText=e.string();else e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!ho.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof bo.Ui)return e;var t=new bo.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Mo=bo.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=ho.Long?ho.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=ho.emptyObject,e.prototype.glyphImages=ho.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=po.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),bo.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)bo.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&bo.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&bo.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&bo.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&bo.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof fo||(e=fo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bo.Project;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===ho.emptyObject&&(o.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=bo.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(bo.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=bo.Style.decode(e,e.uint32());break;case 7:o.layout=bo.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=bo.Metric.decode(e,e.uint32());break;case 9:o.ui=bo.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof fo||(e=new fo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!ho.isInteger(e.id)&&!(e.id&&ho.isInteger(e.id.low)&&ho.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!ho.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!ho.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!ho.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=bo.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=bo.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var l=bo.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=bo.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=bo.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=bo.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof bo.Project)return e;var t=new bo.Project;if(null!=e.id&&(ho.Long?(t.id=ho.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new ho.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=bo.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=bo.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=bo.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=bo.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=bo.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=bo.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(ho.Long){var i=new ho.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?ho.Long.prototype.toString.call(e.id):t.longs===Number?new ho.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=bo.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=bo.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=bo.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=bo.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=bo.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=bo.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}();function Io(e){var t=e;return t.layout=Object(y.a)({},e.layout),t.layout.width=1024,t.layout.height=1024,t.layout.auto=!0,t.layout.fixedSize=!1,t}var Co=uo.Reader,Ao=uo.Writer,No=uo.util,zo={},Fo=zo.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!No.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!No.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!No.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof zo.Metric)return e;var t=new zo.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Bo=zo.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!No.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!No.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!No.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof zo.GradientColor)return e;var t=new zo.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Lo=zo.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=No.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ao.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)zo.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(zo.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!No.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=zo.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof zo.Gradient)return e;var t=new zo.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=zo.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=zo.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Eo=zo.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=No.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||No.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!No.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof zo.PatternTexture)return e;var t=new zo.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?No.base64.decode(e.buffer,t.buffer=No.newBuffer(No.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=No.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?No.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Do=zo.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&zo.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&zo.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=zo.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=zo.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!No.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!No.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=zo.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=zo.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!No.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!No.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!No.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof zo.Fill)return e;var t=new zo.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=zo.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=zo.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=zo.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=zo.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Go=zo.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=No.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||No.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!No.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!No.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!No.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof zo.Font)return e;var t=new zo.Font;return null!=e.font&&("string"===typeof e.font?No.base64.decode(e.font,t.font=No.newBuffer(No.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=No.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?No.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Xo=zo.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=No.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ao.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&zo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new zo.GlyphFont;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=zo.Metric.decode(e,e.uint32());break;case 3:o.kerning===No.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!No.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=zo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!No.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!No.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof zo.GlyphFont)return e;var t=new zo.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=zo.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=zo.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Jo=zo.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=No.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=No.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ao.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&zo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new zo.GlyphImage;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=zo.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===No.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!No.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=zo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||No.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!No.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!No.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!No.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!No.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof zo.GlyphImage)return e;var t=new zo.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=zo.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?No.base64.decode(e.buffer,t.buffer=No.newBuffer(No.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=No.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=zo.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?No.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Yo=zo.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!No.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!No.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!No.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!No.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof zo.Layout)return e;var t=new zo.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),$o=zo.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!No.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!No.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!No.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!No.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof zo.Shadow)return e;var t=new zo.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Ho=zo.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&zo.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&zo.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&zo.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&zo.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=zo.Font.decode(e,e.uint32());break;case 2:r.fill=zo.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=zo.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=zo.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=zo.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=zo.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=zo.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=zo.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!No.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof zo.Style)return e;var t=new zo.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=zo.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=zo.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=zo.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=zo.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=zo.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=zo.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=zo.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=zo.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Ro=zo.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ao.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new zo.Ui;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.previewText=e.string();else e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!No.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof zo.Ui)return e;var t=new zo.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),Wo=zo.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=No.Long?No.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=No.emptyObject,e.prototype.glyphImages=No.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ao.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),zo.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)zo.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&zo.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&zo.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&zo.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&zo.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Co||(e=Co.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new zo.Project;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===No.emptyObject&&(o.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=zo.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(zo.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=zo.Style.decode(e,e.uint32());break;case 7:o.layout=zo.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=zo.Metric.decode(e,e.uint32());break;case 9:o.ui=zo.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Co||(e=new Co(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!No.isInteger(e.id)&&!(e.id&&No.isInteger(e.id.low)&&No.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!No.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!No.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!No.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=zo.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=zo.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var l=zo.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=zo.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=zo.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=zo.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof zo.Project)return e;var t=new zo.Project;if(null!=e.id&&(No.Long?(t.id=No.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new No.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=zo.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=zo.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=zo.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=zo.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=zo.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=zo.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(No.Long){var i=new No.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?No.Long.prototype.toString.call(e.id):t.longs===Number?new No.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=zo.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=zo.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=zo.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=zo.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=zo.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=zo.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}();function Uo(e){var t,n,r,i,o,l;function a(e){var t=e.length-1;e.forEach((function(e,n){e.offset=1/t*n}))}return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.fill)||void 0===n||null===(r=n.gradient)||void 0===r?void 0:r.palette)&&e.style.fill.gradient.palette.length>0&&a(e.style.fill.gradient.palette),(null===e||void 0===e||null===(i=e.style)||void 0===i||null===(o=i.stroke)||void 0===o||null===(l=o.gradient)||void 0===l?void 0:l.palette)&&e.style.stroke.gradient.palette.length>0&&a(e.style.stroke.gradient.palette),e}var Vo=uo.Reader,qo=uo.Writer,Ko=uo.util,Qo={},Zo=Qo.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Ko.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Ko.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Ko.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Qo.Metric)return e;var t=new Qo.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),_o=Qo.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Ko.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!Ko.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Qo.GradientColor)return e;var t=new Qo.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),el=Qo.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Ko.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=qo.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Qo.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Qo.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ko.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Qo.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Qo.Gradient)return e;var t=new Qo.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Qo.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Qo.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),tl=Qo.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Ko.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ko.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Ko.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Qo.PatternTexture)return e;var t=new Qo.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Ko.base64.decode(e.buffer,t.buffer=Ko.newBuffer(Ko.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Ko.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Ko.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),nl=Qo.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Qo.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Qo.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Qo.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Qo.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ko.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Ko.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Qo.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Qo.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Ko.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Ko.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Ko.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Qo.Fill)return e;var t=new Qo.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Qo.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Qo.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Qo.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Qo.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),rl=Qo.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Ko.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Ko.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Ko.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Ko.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Ko.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Qo.Font)return e;var t=new Qo.Font;return null!=e.font&&("string"===typeof e.font?Ko.base64.decode(e.font,t.font=Ko.newBuffer(Ko.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Ko.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Ko.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),il=Qo.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Ko.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=qo.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Qo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Qo.GlyphFont;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Qo.Metric.decode(e,e.uint32());break;case 3:o.kerning===Ko.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ko.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Qo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ko.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ko.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Qo.GlyphFont)return e;var t=new Qo.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Qo.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Qo.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),ol=Qo.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Ko.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Ko.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=qo.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Qo.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Qo.GlyphImage;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Qo.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===Ko.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ko.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Qo.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ko.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Ko.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Ko.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ko.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ko.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Qo.GlyphImage)return e;var t=new Qo.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Qo.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Ko.base64.decode(e.buffer,t.buffer=Ko.newBuffer(Ko.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Ko.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Qo.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Ko.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),ll=Qo.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Ko.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Ko.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Ko.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Ko.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Qo.Layout)return e;var t=new Qo.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),al=Qo.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Ko.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Ko.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Ko.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Ko.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Qo.Shadow)return e;var t=new Qo.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),cl=Qo.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Qo.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Qo.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Qo.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Qo.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=Qo.Font.decode(e,e.uint32());break;case 2:r.fill=Qo.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Qo.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Qo.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Qo.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Qo.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Qo.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=Qo.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Ko.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Qo.Style)return e;var t=new Qo.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Qo.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Qo.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Qo.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Qo.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Qo.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Qo.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Qo.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Qo.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),sl=Qo.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=qo.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Qo.Ui;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.previewText=e.string();else e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Ko.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Qo.Ui)return e;var t=new Qo.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),ul=Qo.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Ko.Long?Ko.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Ko.emptyObject,e.prototype.glyphImages=Ko.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=qo.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Qo.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)Qo.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Qo.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Qo.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Qo.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Qo.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Vo||(e=Vo.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Qo.Project;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===Ko.emptyObject&&(o.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Qo.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(Qo.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=Qo.Style.decode(e,e.uint32());break;case 7:o.layout=Qo.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=Qo.Metric.decode(e,e.uint32());break;case 9:o.ui=Qo.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof Vo||(e=new Vo(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Ko.isInteger(e.id)&&!(e.id&&Ko.isInteger(e.id.low)&&Ko.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Ko.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Ko.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Ko.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Qo.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=Qo.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Qo.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Qo.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Qo.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Qo.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Qo.Project)return e;var t=new Qo.Project;if(null!=e.id&&(Ko.Long?(t.id=Ko.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Ko.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Qo.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=Qo.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Qo.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Qo.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Qo.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Qo.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Ko.Long){var i=new Ko.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Ko.Long.prototype.toString.call(e.id):t.longs===Number?new Ko.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=Qo.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Qo.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Qo.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Qo.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Qo.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Qo.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}();function fl(e){var t,n;return(null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(e.style.font.fonts=[{font:e.style.font.font}]),e}var pl=uo.Reader,dl=uo.Writer,hl=uo.util,bl=uo.roots.default||(uo.roots.default={}),yl=(bl.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!hl.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!hl.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!hl.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof bl.Metric)return e;var t=new bl.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!hl.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!hl.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof bl.GradientColor)return e;var t=new bl.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=hl.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=dl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)bl.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(bl.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!hl.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=bl.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof bl.Gradient)return e;var t=new bl.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=bl.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=bl.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=hl.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||hl.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!hl.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof bl.PatternTexture)return e;var t=new bl.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?hl.base64.decode(e.buffer,t.buffer=hl.newBuffer(hl.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=hl.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?hl.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&bl.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&bl.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=bl.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=bl.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!hl.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!hl.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=bl.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=bl.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!hl.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!hl.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!hl.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof bl.Fill)return e;var t=new bl.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=bl.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=bl.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=bl.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=bl.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=hl.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.FontResource;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.font=e.bytes();else e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||hl.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof bl.FontResource)return e;var t=new bl.FontResource;return null!=e.font&&("string"===typeof e.font?hl.base64.decode(e.font,t.font=hl.newBuffer(hl.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=hl.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?hl.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=hl.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=dl.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)bl.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(bl.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=bl.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!hl.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!hl.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof bl.Font)return e;var t=new bl.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=bl.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=bl.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=hl.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=dl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&bl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bl.GlyphFont;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=bl.Metric.decode(e,e.uint32());break;case 3:o.kerning===hl.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!hl.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=bl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!hl.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!hl.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof bl.GlyphFont)return e;var t=new bl.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=bl.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=bl.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=hl.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=hl.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=dl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&bl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bl.GlyphImage;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=bl.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===hl.emptyObject&&(o.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!hl.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=bl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||hl.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!hl.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!hl.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!hl.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!hl.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof bl.GlyphImage)return e;var t=new bl.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=bl.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?hl.base64.decode(e.buffer,t.buffer=hl.newBuffer(hl.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=hl.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=bl.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?hl.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!hl.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!hl.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!hl.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!hl.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof bl.Layout)return e;var t=new bl.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!hl.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!hl.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!hl.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!hl.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof bl.Shadow)return e;var t=new bl.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&bl.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&bl.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&bl.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&bl.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=bl.Font.decode(e,e.uint32());break;case 2:r.fill=bl.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=bl.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=bl.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=bl.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=bl.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=bl.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=bl.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!hl.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof bl.Style)return e;var t=new bl.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=bl.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=bl.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=bl.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=bl.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=bl.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=bl.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=bl.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=bl.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=dl.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new bl.Ui;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.previewText=e.string();else e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!hl.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof bl.Ui)return e;var t=new bl.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}(),bl.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=hl.Long?hl.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=hl.emptyObject,e.prototype.glyphImages=hl.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=dl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),bl.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)bl.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&bl.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&bl.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&bl.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&bl.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof pl||(e=pl.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new bl.Project;e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===hl.emptyObject&&(o.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=bl.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(bl.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=bl.Style.decode(e,e.uint32());break;case 7:o.layout=bl.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=bl.Metric.decode(e,e.uint32());break;case 9:o.ui=bl.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return o},e.decodeDelimited=function(e){return e instanceof pl||(e=new pl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!hl.isInteger(e.id)&&!(e.id&&hl.isInteger(e.id.low)&&hl.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!hl.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!hl.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!hl.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=bl.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=bl.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var l=bl.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=bl.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=bl.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=bl.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof bl.Project)return e;var t=new bl.Project;if(null!=e.id&&(hl.Long?(t.id=hl.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new hl.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=bl.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=bl.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=bl.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=bl.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=bl.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=bl.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(hl.Long){var i=new hl.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?hl.Long.prototype.toString.call(e.id):t.longs===Number?new hl.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=bl.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=bl.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=bl.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=bl.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=bl.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=bl.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,uo.util.toJSONOptions)},e}());var gl={1e6:r,1000001:i,1000002:o},Ol=Object.keys(gl).map((function(e){return"".concat(Number(e))})).sort();var jl=function(e,t){return Ol.forEach((function(n){t<=n&&gl[n]&&gl[n].updateToNext(e)})),e};function wl(e){var t=ao(),n=function(e){return e.style.font.fonts&&e.style.font.fonts.length&&e.style.font.fonts.forEach((function(e){return e.font=new Uint8Array(e.font)})),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer)),yl.encode(yl.create(e)).finish()}(e),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(t,0),r.set(n,t.byteLength),r}var ml={ext:".sbf",check:so,decode:function(e){var t;if(!(e instanceof ArrayBuffer))throw new Error("unknow file");var n=co(e);if(0===n)throw new Error("unknow file");var r=ao(),i=new Uint8Array(e),o=i.slice(0,r.byteLength),l=(null===(t=gl[n])||void 0===t?void 0:t.Project)||yl;console.log(gl,n,l);var a=l.decode(i.slice(o.byteLength));return console.log(a),function(e){var t,n,r,i,o,l,a,c,s=e,u=new Map;return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.fonts)&&e.style.font.fonts.forEach((function(e,t){e.font&&(s.style.font.fonts[t].font=e.font.slice().buffer)})),(null===e||void 0===e?void 0:e.glyphImages)&&e.glyphImages.forEach((function(e,t){if(e.buffer&&(s.glyphImages[t].buffer=e.buffer.slice().buffer),e.kerning){var n=new Map;Object.keys(e.kerning).forEach((function(t){e&&e.kerning&&e.kerning[t]&&n.set(t,e.kerning[t]||0)})),e.kerning=n}})),(null===e||void 0===e?void 0:e.glyphs)&&(Object.keys(e.glyphs).forEach((function(t){if(e&&e.glyphs&&e.glyphs[t]){var n=e.glyphs[t],r=new Map;n&&n.kerning&&Object.keys(n.kerning).forEach((function(e){n.kerning&&r.set(e,n.kerning[e]||0)})),u.set(t,Object(y.a)(Object(y.a)({},n),{},{kerning:r}))}})),s.glyphs=u),(null===e||void 0===e||null===(r=e.style)||void 0===r||null===(i=r.fill)||void 0===i||null===(o=i.patternTexture)||void 0===o?void 0:o.buffer)&&(s.style.fill.patternTexture.buffer=e.style.fill.patternTexture.buffer.slice().buffer),(null===e||void 0===e||null===(l=e.style)||void 0===l||null===(a=l.stroke)||void 0===a||null===(c=a.patternTexture)||void 0===c?void 0:c.buffer)&&(s.style.stroke.patternTexture.buffer=e.style.stroke.patternTexture.buffer.slice().buffer),s}(jl(a,n))}},vl=n(549),xl=n(258),kl={properties:{glow:{properties:{quality:{type:"float32"},colors:{elements:{type:"float32"}},glowEnabled:{type:"boolean"},alphas:{elements:{type:"float32"}},ratios:{elements:{type:"float32"}},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},strength:{type:"float32"},distance:{type:"float32"}}},fill:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},textureScale:{type:"float32"},distanceFieldEnabled:{type:"boolean"},distanceFieldColor:{type:"float32"},gradientColors:{elements:{type:"float32"}},distanceFieldDownscale:{type:"float32"},distanceFieldSpread:{type:"float32"},distanceFieldType:{enum:["Type 1","Type 2"]},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},settings:{properties:{postfixes:{type:"string"},filename:{type:"string"},scalings:{type:"string"}}},shadow:{properties:{quality:{type:"float32"},color:{type:"float32"},strength:{type:"float32"},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},shadowEnabled:{type:"boolean"},alpha:{type:"float32"},distance:{type:"float32"}}},stroke:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},pixelHinting:{type:"boolean"},textureScale:{type:"float32"},gradientColors:{elements:{type:"float32"}},strokeEnabled:{type:"boolean"},miterLimit:{type:"float32"},jointStyle:{enum:["miter","bevel","round"]},size:{type:"float32"},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},background:{properties:{color:{type:"float32"},alpha:{type:"float32"}}},bevel:{properties:{bevelEnabled:{type:"boolean"},highlightColor:{type:"float32"},highlightAlpha:{type:"float32"},quality:{type:"float32"},angle:{type:"float32"},shadowColor:{type:"float32"},shadowAlpha:{type:"float32"},blurX:{type:"float32"},blurY:{type:"float32"},type:{enum:["inner","outer","full"]},strength:{type:"float32"},distance:{type:"float32"}}},glyphs:{properties:{glyphs:{type:"string"},powerOfTwo:{type:"boolean"},canvasHeight:{type:"string"},padding:{type:"float32"},packMethod:{type:"float32"},canvasWidth:{type:"string"},roundValues:{type:"boolean"},descriptionFormat:{type:"float32"}}},font:{properties:{size:{type:"float32"},spacing:{type:"float32"}},optionalProperties:{data:{type:"string"}}}},optionalProperties:{fallbackfont:{type:"string"}}},Pl=(new(n.n(xl).a)).compile(kl),Sl=function(e){var t;if("string"===typeof e)try{t=JSON.parse(e)}catch(i){return!1}if("object"!==typeof t)return!1;var n,r=Pl(t);r||(null===(n=Pl.errors)||void 0===n||n.forEach((function(e){ji.a({category:"littera",message:"Littera validate error",level:vl.a.Info,data:e})})),ji.c("Littera validate error"));return r},Tl=n(100),Ml=n.n(Tl);function Il(e){var t={};return"gradientFill"===e.fillType?e.gradientColors.length<2?(t.type=ct.SOLID,t.color=Ml()(e.gradientColors[0]).alpha(e.gradientAlphas[0]).hex()):(t.type=ct.GRADIENT,t.gradient={},t.gradient.palette=[],t.gradient.type="radial"===e.gradientType?Fe.RADIAL:Fe.LINEAR,e.gradientColors.forEach((function(n,r){t.gradient.palette.push({id:r+1,color:Ml()(n).alpha(e.gradientAlphas[r]).hex(),offset:e.gradientRatios[r]/255})})),t.gradient.angle=e.gradientRotation):(t.patternTexture={scale:e.textureScale},e.texture&&(t.patternTexture.buffer=Ze(e.texture))),t}var Cl=function(e){if(!Sl(e))throw new Error("unknow file");"string"===typeof e&&(e=JSON.parse(e));var t=e,n={};n.text=t.glyphs.glyphs,n.glyphs=new Map,t.glyphs.glyphs.split("").forEach((function(e){var t;return null===(t=n.glyphs)||void 0===t?void 0:t.set(e,{letter:e})}));var r={};r.size=t.font.size,t.font.data&&(r.fonts=[],r.fonts.push({font:Ze(t.font.data)}),t.fallbackfont&&r.fonts.push({font:Ze(t.fallbackfont)}));var i=Il(t.fill),o={};o.width=t.stroke.size,o.lineJoin=t.stroke.jointStyle,Object.assign(o,Il(t.stroke));var l={};return l.color=Ml()(t.shadow.color).alpha(t.shadow.alpha).hex(),l.blur=t.shadow.quality+t.shadow.blurX-t.shadow.strength,l.offsetX=Math.round(Math.cos(t.shadow.angle*Math.PI/180)*t.shadow.distance),l.offsetY=Math.round(Math.sin(t.shadow.angle*Math.PI/180)*t.shadow.distance),n.style={font:r,fill:i,useStroke:t.stroke.strokeEnabled,stroke:o,useShadow:t.shadow.shadowEnabled,shadow:l},n.layout={},n.layout.padding=t.glyphs.padding,isNaN(Number(t.glyphs.canvasWidth))||(n.layout.width=Number(t.glyphs.canvasWidth)),isNaN(Number(t.glyphs.canvasHeight))||(n.layout.width=Number(t.glyphs.canvasHeight)),n.layout.width&&n.layout.height&&(n.layout.auto=!1,n.layout.fixedSize=!0),n},Al=[ml,{ext:".ltr",check:Sl,decode:Cl}];var Nl=function(e){var t=Al.find((function(t){return t.check(e)}));if(!t)throw new Error("unknow file");return t.decode(e)},zl=Object(g.c)((function(e){var t=e.className,n=Object(O.b)().enqueueSnackbar,r=ui(),i=Object(u.useRef)(null),o=r.addProject;return Object(Ai.jsxs)(wi.a,{className:t,title:"Open Project (\u2318 + O)",component:"label",ref:i,children:["Open",Object(Ai.jsx)("input",{type:"file",onChange:function(e){var t;if((null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]){var r=e.target.files[0],i=/\.ltr$/.test(r.name);Ci(r,i).then((function(t){try{var i=Nl(t);i.name||(i.name=r.name),o(i)}catch(e){console.log(e),ji.b(e),n(e.toString(),{variant:"error"})}}))}},accept:".sbf,.ltr",hidden:!0})]})})),Fl=n(161),Bl=Object(g.c)((function(e){var t=e.className,n=Object(O.b)().enqueueSnackbar,r=ui().currentProject,i=Object(u.useCallback)((function(e){e.preventDefault();try{var t=wl(Object(m.H)(r));Object(Fl.saveAs)(new Blob([t]),"".concat(r.name,".sbf"))}catch(e){ji.b(e),n(e.message)}}),[n,r]);return Object(u.useEffect)((function(){return io.a.unbind("ctrl+s"),Object(io.a)("ctrl+s",i),function(){io.a.unbind("ctrl+s")}}),[i]),Object(Ai.jsx)(wi.a,{className:t,title:"Save Project (\u2318 + S)",onClick:i,children:"Save"})})),Ll=n(550),El=n(551),Dl=n(552),Gl=n(554),Xl=n(567),Jl=n(553);function Yl(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}var $l={type:"TEXT",exts:["fnt","txt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,l="";return l+=Yl('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(y.a)(Object(y.a)({},t),{},{charset:t.charset||'""'})),l+=Yl("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){l+=Yl('page id=$id$ file="$file$"\n',e)})),l+=Yl("chars count=$count$\n",i),i.list.forEach((function(e){l+=Yl("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),o.count&&(l+=Yl("kernings count=$count$\n",o),o.list.forEach((function(e){l+=Yl("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),l}},Hl={type:"XML",exts:["xml","fnt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,l=new DOMParser,a=document.implementation.createDocument("","font",null),c=l.parseFromString(Yl('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");a.documentElement.appendChild(c.childNodes[0]);var s=l.parseFromString(Yl('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");a.documentElement.appendChild(s.childNodes[0]);var u=l.parseFromString("<pages>".concat(r.map((function(e){return Yl('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");a.documentElement.appendChild(u.childNodes[0]);var f=l.parseFromString(Yl('<chars count="$count$" />',i),"text/xml");if(i.list.forEach((function(e){var t=l.parseFromString(Yl('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(f.childNodes[0]),o.count){var p=l.parseFromString(Yl('<kernings count="$count$" />',o),"text/xml");o.list.forEach((function(e){var t=l.parseFromString(Yl('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(a))}};function Rl(e){var t=e.name,n=e.style,r=e.layout,i=e.globalAdjustMetric,o=e.glyphList,l=e.ui,a=l.width,c=l.height,s=n.font,u=s.opentype,f=s.size,p=1;u&&(p=1/u.unitsPerEm*f);var d={face:n.font.mainFamily,size:n.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(r.padding),spacing:new Array(2).fill(r.spacing)},h={lineHeight:n.font.size,base:Math.round(n.font.alphabetic-n.font.top),scaleW:a,scaleH:c,pages:1,packed:0},b=[{id:0,file:"".concat(t,".png")}],y={count:o.length,list:[]},g={count:0,list:[]};return o.forEach((function(e){var t=!(!e.width||!e.height),n={letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*r.padding:0,height:t?e.height+2*r.padding:0,xoffset:i.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0)-(t?r.padding:0),yoffset:i.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0)-(t?r.padding:0),xadvance:Math.ceil(e.fontWidth)+i.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15};n.xoffset=Number(n.xoffset.toFixed(2)),n.yoffset=Number(n.yoffset.toFixed(2)),y.list.push(n),u?o.forEach((function(t){var n=t.letter,r=Math.round(u.getKerningValue(u.charToGlyphIndex(e.letter),u.charToGlyphIndex(n))*p+(e.kerning.get(n)||0));r&&g.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&g.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),g.count=g.list.length,y.list.sort((function(e,t){return e.id-t.id})),{info:d,common:h,pages:b,chars:y,kernings:g}}var Wl=n(259),Ul=n.n(Wl);var Vl=[];[$l,Hl].forEach((function(e){var t=e.type,n=e.exts,r=e.getString;n.forEach((function(e){Vl.push({id:t+e,ext:e,type:t,getString:r})}))}));var ql=Object(g.c)((function(e){var t=e.className,n=pi(),r=n.name,i=n.ui.setShowPreview,o=Object(u.useState)(!1),l=Object(Oi.a)(o,2),a=l[0],c=l[1],s=Object(u.useState)(Vl),f=Object(Oi.a)(s,1)[0],p=Object(u.useState)(0),d=Object(Oi.a)(p,2),h=d[0],b=d[1],y=Object(u.useCallback)((function(){i(!1),c(!0)}),[i]),g=function(){c(!1)},O=Object(u.useCallback)((function(){!function(e,t){var n=new Ul.a,r=e.packCanvas,i=e.name,o=Rl(e),l=t.getString(o);n.file("".concat(i,".").concat(t.ext),l),r&&r.toBlob((function(e){e&&n.file("".concat(i,".png"),e),n.generateAsync({type:"blob"}).then((function(e){return Object(Fl.saveAs)(e,"".concat(i,".zip"))}))}))}(n,f[h]),g()}),[f,n,h]);return Object(u.useEffect)((function(){return io.a.unbind("ctrl+shift+s,command+shift+s"),Object(io.a)("ctrl+shift+s,command+shift+s",y),function(){io.a.unbind("ctrl+shift+s,command+shift+s")}}),[y]),Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(wi.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:y,children:"Export"}),Object(Ai.jsxs)(Ll.a,{onClose:g,open:a,fullWidth:!0,maxWidth:"xs",children:[Object(Ai.jsx)(El.a,{children:"Export Config"}),Object(Ai.jsx)(Dl.a,{dividers:!0,children:Object(Ai.jsx)(Ei,{before:"Export Type:",childrenWidth:8,children:Object(Ai.jsx)(Xl.a,{displayEmpty:!0,value:h,onChange:function(e){b(e.target.value)},children:f.map((function(e,t){return Object(Ai.jsx)(Jl.a,{value:t,children:"".concat(r,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})}),Object(Ai.jsx)(Gl.a,{children:Object(Ai.jsx)(wi.a,{autoFocus:!0,onClick:O,color:"default",children:"Save"})})]})]})})),Kl=Object(ai.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(ci.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),Ql=function(){var e=Kl();return Object(Ai.jsxs)(ii.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(Ai.jsxs)(gi.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(Ai.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(Ai.jsxs)(ii.a,{flex:"auto",paddingX:4,children:[Object(Ai.jsx)(oo,{className:e.btn}),Object(Ai.jsx)(zl,{className:e.btn}),Object(Ai.jsx)(Bl,{className:e.btn}),Object(Ai.jsx)(ql,{className:e.btn})]}),Object(Ai.jsx)(xi.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(Ai.jsx)(ro.a,{})})]})},Zl=n(569),_l=n(578),ea=n(556),ta=n(537),na=n(272),ra=n(40),ia=n(555),oa=Object(ai.a)((function(e){var t=e.palette;return Object(ci.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),la=function(e){var t=e.open,n=e.anchorEl,r=e.color,i=e.onChange,o=e.placement,l=oa(),a=function(){var e=Object(ra.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(Ai.jsx)(ia.a,{open:!!t,anchorEl:n,placement:o||"bottom",style:{zIndex:999999},children:Object(Ai.jsx)(na.a,{color:r,styles:a,className:l.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;i&&i("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},aa=Object(ai.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(ci.a)({root:{overflow:"hidden"},swatch:Object(y.a)(Object(y.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),ca=function(e){var t=e.color,n=e.onChange,r=aa(e),i=Object(u.useRef)(null),o=Object(u.useState)(!1),l=Object(Oi.a)(o,2),a=l[0],c=l[1];return Object(Ai.jsx)(ta.a,{mouseEvent:"onMouseDown",onClickAway:function(){return c(!1)},children:Object(Ai.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:i,children:[Object(Ai.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return c(!a)}}),Object(Ai.jsx)(la,{open:a,anchorEl:i.current,color:t||"#000000",onChange:n})]})})},sa=function(e){var t=e.color,n=e.onChange;return Object(Ai.jsx)(Ei,{before:"Color:",childrenWidth:3,children:Object(Ai.jsx)(ca,{color:t,onChange:n})})},ua=n(7),fa=["left","top","color","isActive","className"],pa=Object(ai.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(ci.a)({root:Object(y.a)(Object(y.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),da=function(e){var t=e.left,n=e.top,r=e.color,i=e.isActive,o=e.className,l=Object(Fi.a)(e,fa),a=pa({left:t,top:n,color:r,isActive:i});return Object(Ai.jsx)("div",Object(y.a)(Object(y.a)({className:Object(ua.a)(a.root,o)},l),{},{children:Object(Ai.jsx)("div",{className:a.color})}))},ha=Object(ai.a)((function(){return Object(ci.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),ba=function(e){var t=e.className,n=e.palette,r=e.activeId,i=e.onAdd,o=e.onUpdate,l=e.onSelect,a=ha(e),c=Object(u.useState)(0),s=Object(Oi.a)(c,2),f=s[0],p=s[1],d=Object(u.useState)({x:0,y:0,offset:0}),h=Object(Oi.a)(d,2),b=h[0],g=h[1],O=Object(u.useState)(!1),j=Object(Oi.a)(O,2),w=j[0],m=j[1],v=Object(u.useRef)(null);Object(u.useEffect)((function(){v.current&&p(v.current.clientWidth)}),[v]);var x=Object(u.useCallback)((function(e){if(w&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var i=Object(De.a)(n);if(Math.abs(e.clientY-b.y)>50)o(i[t],!0);else{var l=i[t],a=Math.min(Math.max((e.clientX-b.x)/f+b.offset,0),1);i[t]=Object(y.a)(Object(y.a)({},l),{},{offset:a}),o({offset:a})}}}else m(!1)}),[r,w,o,n,b.offset,b.x,b.y,f]),k=Object(u.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),m(!1)}),[]);return Object(u.useEffect)((function(){return w?(window.addEventListener("mousemove",x),window.addEventListener("mouseup",k)):(window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)),function(){window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)}}),[x,k,w]),Object(Ai.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(ua.a)(a.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/f;i(r),m(!0),g({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(Ai.jsx)(da,{left:f*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),g({x:e.clientX,y:e.clientY,offset:t.offset}),m(!0),l(t.id))}(t,e)}},e.id)}))})},ya=Object(ai.a)((function(e){var t=e.bgPixel;return{root:Object(y.a)(Object(y.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),ga=function(e){var t=ya(e),n=e.palette,r=Object(u.useState)("palette_".concat(Math.random().toString().substr(2,9))),i=Object(Oi.a)(r,1)[0],o=Object(De.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(Ai.jsx)("div",{className:t.root,children:Object(Ai.jsxs)("svg",{className:t.svg,children:[Object(Ai.jsx)("defs",{children:Object(Ai.jsx)("linearGradient",{id:i,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:o.map((function(e){return Object(Ai.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(Ai.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(i,")")})]})})},Oa=function(e){var t=e.children,n=e.palette,r=e.onUpdate,i=e.onAdd,o=Object(u.useRef)(null),l=Object(u.useState)(Object(De.a)(n)),a=Object(Oi.a)(l,2),c=a[0],s=a[1],p=Object(u.useState)(0),d=Object(Oi.a)(p,2),h=d[0],b=d[1],g=Object(u.useState)(""),O=Object(Oi.a)(g,2),j=O[0],w=O[1],m=Object(u.useState)(!1),v=Object(Oi.a)(m,2),x=v[0],k=v[1];Object(u.useEffect)((function(){if(x){var e=n.map((function(e){return e.id})),t=c.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(De.a)(e),Object(De.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&b(r[0]),k((function(){return!1}))}}),[n,x,c]),Object(u.useEffect)((function(){s(Object(De.a)(n))}),[n]),Object(u.useEffect)((function(){if(h){var e=n.find((function(e){return e.id===h}));e&&w(e.color)}}),[h,n]);var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h){var i=Object(De.a)(n),o=i.findIndex((function(e){return e.id===h}));if(t)r([].concat(Object(De.a)(i.slice(0,o)),Object(De.a)(i.slice(o+1)))),b(0);else{var l=Object(y.a)(Object(y.a)({},i[o]),e);r([].concat(Object(De.a)(i.slice(0,o)),[l],Object(De.a)(i.slice(o+1))))}}};return Object(Ai.jsx)(ta.a,{mouseEvent:"onMouseDown",onClickAway:function(){return b(0)},children:Object(Ai.jsxs)("div",{ref:o,children:[Object(Ai.jsx)(ga,{palette:n,height:"35px"}),Object(Ai.jsx)(ba,{palette:n,activeId:h,onAdd:function(e){var t,r,o=Object(De.a)(n),l={offset:e,color:"#000"};if(b(0),o.forEach((function(e){e.offset<l.offset&&(!t||t.offset<e.offset)?t=e:(!r||r.offset>e.offset)&&(r=e)})),t&&r){var a=(l.offset-t.offset)/(r.offset-t.offset),c=Ml()(t.color),s=Ml()(r.color),u=(s.red()-c.red())*a+c.red(),f=(s.green()-c.green())*a+c.green(),p=(s.blue()-c.blue())*a+c.blue(),d=(s.alpha()-c.alpha())*a+c.alpha();l.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(l.color=(t||r).color);i(l),k(!0)},onUpdate:P,onSelect:function(e){return b(e||0)}}),t?f.a.cloneElement(t,{open:!!h||x,anchorEl:o.current,color:j,onChange:function(e){return P({color:e})}}):null]})})},ja=Object(ai.a)((function(){return Object(ci.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),wa=function(e){var t=e.onChange,n=Object(u.useRef)(null),r=Object(u.useState)(!1),i=Object(Oi.a)(r,2),o=i[0],l=i[1],a=ja(e),c=Object(u.useCallback)((function(e){if(n.current){var r=e.clientX,i=e.clientY,o=n.current.getBoundingClientRect(),l=Math.atan2(i-(o.y+o.height/2),r-(o.x+o.width/2));t(Math.round(l*(180/Math.PI)))}}),[t]),s=Object(u.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),l(!1)}),[]);return Object(u.useEffect)((function(){return o?(window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)):(window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)),function(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}}),[c,s,o]),Object(Ai.jsx)("div",{"aria-hidden":!0,className:a.root,ref:n,onMouseDown:function(e){n.current&&(l(!0),c(e))},children:Object(Ai.jsx)("div",{className:a.point})})},ma=function(e){var t=e.angle,n=e.onChange;return Object(Ai.jsx)(Ei,{before:"Angle:",after:Object(Ai.jsx)(wa,{width:24,angle:t,onChange:n}),children:Object(Ai.jsx)(zi.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},va=Object(g.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,i=t.palette,o=t.addColor,l=t.updatePalette,a=t.setAngle,c=t.setType;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(ma,{angle:r,onChange:a})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Type:",component:"div",childrenWidth:8,children:Object(Ai.jsxs)(_l.a,{row:!0,name:"type",value:n,onChange:function(e){return c(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(Ai.jsx)(ea.a,{value:Fe.LINEAR,control:Object(Ai.jsx)(Zl.a,{size:"small",color:"default"}),label:"Linear"}),Object(Ai.jsx)(ea.a,{value:Fe.RADIAL,control:Object(Ai.jsx)(Zl.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Oa,{palette:i,onAdd:function(e){return o(e.offset,e.color)},onUpdate:l,children:Object(Ai.jsx)(la,{})})})]})})),xa=Object(ai.a)((function(e){return Object(ci.a)({root:Object(y.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),ka=function(e){var t=e.src,n=e.onChange,r=xa();return Object(Ai.jsxs)(ii.a,{component:"label",className:r.root,children:[Object(Ai.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&Ci(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(Ai.jsx)("img",{className:r.image,src:t,alt:""})]})},Pa=function(e){var t=e.patternTexture,n=t.src,r=t.scale,i=t.repetition,o=t.setRepetition,l=t.setScale,a=t.setImage;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{component:"div",before:"Scale:",after:Object(Ai.jsx)(ka,{src:n,onChange:a}),children:Object(Ai.jsx)(zi.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Repeat:",children:Object(Ai.jsxs)(Xl.a,{value:i,onChange:function(e){return o(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(Ai.jsx)(Jl.a,{value:"repeat",children:"Repeat"}),Object(Ai.jsx)(Jl.a,{value:"repeat-x",children:"Repeat-x"}),Object(Ai.jsx)(Jl.a,{value:"repeat-y",children:"Repeat-y"}),Object(Ai.jsx)(Jl.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},Sa=Object(g.c)((function(e){var t=e.config,n=t.type,r=t.color,i=t.gradient,o=t.patternTexture,l=t.setType,a=t.setColor;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsxs)(_l.a,{row:!0,name:"type",value:n,onChange:function(e){return l(Number(e.target.value))},children:[Object(Ai.jsx)(ea.a,{value:ct.SOLID,control:Object(Ai.jsx)(Zl.a,{size:"small",color:"default"}),label:"Solid"}),Object(Ai.jsx)(ea.a,{value:ct.GRADIENT,control:Object(Ai.jsx)(Zl.a,{size:"small",color:"default"}),label:"Gradient"}),Object(Ai.jsx)(ea.a,{value:ct.IMAGE,control:Object(Ai.jsx)(Zl.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(sa,{color:r,onChange:a})}):null,1===n?Object(Ai.jsx)(va,{gradient:i}):null,2===n?Object(Ai.jsx)(Pa,{patternTexture:o,src:o.src,scale:o.scale}):null]})})),Ta=Object(g.c)((function(){var e=di().fill;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Fill"})}),Object(Ai.jsx)(Sa,{config:e})]})})),Ma=n(557),Ia=n(558),Ca=Object(ai.a)((function(){return Object(ci.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Aa=Object(g.c)((function(){var e=Ca(),t=di(),n=t.stroke,r=t.useStroke,i=t.setUseStroke,o=n.setWidth,l=n.lineJoin,a=n.setLineJoin,c=n.lineCap,s=n.setLineCap;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsxs)(ii.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Ai.jsx)(gi.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(Ai.jsx)(Ma.a,{size:"small",checked:r,onChange:function(e){return i(e.target.checked)}}),"On"]}),Object(Ai.jsxs)("div",{className:r?"":e.disabled,children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Width:",after:"px",children:Object(Ai.jsx)(zi.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return o(Number(e.target.value))}})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(Ai.jsxs)(Ia.a,{size:"small",color:"primary",children:[Object(Ai.jsx)(wi.a,{onClick:function(){return s("butt")},variant:"butt"===c?"contained":"outlined",children:"Butt"}),Object(Ai.jsx)(wi.a,{onClick:function(){return s("round")},variant:"round"===c?"contained":"outlined",children:"Round"}),Object(Ai.jsx)(wi.a,{onClick:function(){return s("square")},variant:"square"===c?"contained":"outlined",children:"Square"})]})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(Ai.jsxs)(Ia.a,{size:"small",color:"primary",children:[Object(Ai.jsx)(wi.a,{onClick:function(){return a("miter")},variant:"miter"===l?"contained":"outlined",children:"Miter"}),Object(Ai.jsx)(wi.a,{onClick:function(){return a("round")},variant:"round"===l?"contained":"outlined",children:"Round"}),Object(Ai.jsx)(wi.a,{onClick:function(){return a("bevel")},variant:"bevel"===l?"contained":"outlined",children:"Bevel"})]})})}),Object(Ai.jsx)(Sa,{config:n})]})]})})),Na=Object(ai.a)((function(){return Object(ci.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),za=Object(g.c)((function(){var e=di(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,i=t.setOffsetX,o=t.setOffsetY,l=t.setBlur,a=t.setColor,c=Na();return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsxs)(ii.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Ai.jsx)(gi.a,{component:"div",className:c.title,children:"Shadow"}),"Off",Object(Ai.jsx)(Ma.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(Ai.jsxs)("div",{className:n?"":c.disabled,children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Offset X:",after:"px",children:Object(Ai.jsx)(zi.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Offset Y:",after:"px",children:Object(Ai.jsx)(zi.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Blur:",after:"px",children:Object(Ai.jsx)(zi.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(sa,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:a})})]})]})})),Fa=Object(g.c)((function(){var e=di(),t=e.bgColor,n=e.setBgColor;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Background Color"})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(sa,{color:t||"",onChange:n})})]})})),Ba=Object(ai.a)((function(){return Object(ci.a)({root:{overflow:"hidden",width:"256px"}})})),La=function(){var e=Ba();return Object(Ai.jsxs)(ii.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Ai.jsx)(ii.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Ai.jsx)(gi.a,{variant:"subtitle2",children:"Style Config"})}),Object(Ai.jsxs)(ii.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Ai.jsx)(Ta,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(Aa,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(za,{}),Object(Ai.jsx)(yi.a,{}),Object(Ai.jsx)(Fa,{})]})]})},Ea=n(266),Da=n.n(Ea);var Ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(u.useCallback)(t,[t,n]),i=Object(u.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,i=e.deltaX,o=e.deltaY;if(t){var l=-.01;Math.abs(o)>50&&(l*=.1),r({deltaScale:o*l,deltaX:0,deltaY:0})}else{var a=-i,c=-o;0===i&&n&&Math.abs(o)>50&&(a=-o,c=0),r({deltaX:a,deltaY:c,deltaScale:0})}}),[r]);Object(u.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",i,{passive:!1}),function(){return t.removeEventListener("wheel",i)}}}),[e,i])},Xa={x:0,y:0};var Ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(u.useState)({ks:!1,ms:!1}),r=Object(Oi.a)(n,2),i=r[0],o=r[1],l=Object(u.useMemo)((function(){return i.ks&&i.ms?2:i.ks?1:0}),[i.ks,i.ms]),a=Object(u.useCallback)(e,[e].concat(Object(De.a)(t))),c=Object(u.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;i.ks!==t&&o((function(t){return Object(y.a)(Object(y.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[i.ks]),s=function(e){if(i.ks){var t=e.clientX,n=e.clientY;Xa.x=t,Xa.y=n,o((function(e){return Object(y.a)(Object(y.a)({},e),{},{ms:!0})}))}},f=Object(u.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=Xa.x,i=Xa.y;t-r===0&&n-i===0||(a({offsetX:t-r,offsetY:n-i}),Xa.x=t,Xa.y=n)}),[a]),p=Object(u.useCallback)((function(){o((function(e){return Object(y.a)(Object(y.a)({},e),{},{ms:!1})}))}),[]);return Object(u.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",c)}}),[c]),Object(u.useEffect)((function(){return i.ks&&i.ms?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",p)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p)),function(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p)}}),[p,f,i.ks,i.ms]),[l,s]},Ya=Object(ai.a)((function(e){var t=e.bgPixel;return Object(ci.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(y.a)(Object(y.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),$a=Object(g.c)((function(){var e=pi(),t=e.isPacking,n=e.ui,r=e.layout,i=r.padding,o=r.auto,l=r.fixedSize,a=r.width,c=r.height,s=e.glyphList,f=e.style.bgColor,p=e.packCanvas,d=e.setCanvas,h=n.width,b=n.height,y=n.scale,g=n.offsetX,O=n.offsetY,j=Object(u.useRef)(null),w=Object(u.useRef)(null),m=Ja((function(e){var t=e.offsetX,r=e.offsetY,i=n.scale,o=n.offsetX,l=n.offsetY;(0,n.setTransform)({offsetX:o+t/i,offsetY:l+r/i})}),[n]),v=Object(Oi.a)(m,2),x=v[0],k=v[1],P=Ya({width:h,height:b,scale:y,offsetX:g,offsetY:O,dragState:x});return Ga(w,(function(e){var t=n.offsetX,r=n.offsetY,i=n.scale,o=n.setTransform,l=i+e.deltaScale;o({offsetX:t+e.deltaX/l,offsetY:r+e.deltaY/l,scale:l})}),[n]),Object(u.useEffect)((function(){j.current&&j.current!==p&&d(j.current)}),[j,p,d]),Object(u.useEffect)((function(){if(s&&!t&&h&&b){var e=j.current;if(e){e.width=h,e.height=b;var n=e.getContext("2d");n&&(f&&(n.fillStyle=f,n.fillRect(0,0,e.width,e.height)),s.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(i||0),e.y+(i||0))})))}}}),[f,s,t,b,h,i,o,l,a,c]),Object(Ai.jsx)("div",{"aria-hidden":!0,ref:w,className:P.root,onMouseDown:k,children:Object(Ai.jsx)("canvas",{ref:j,className:P.canvas})})})),Ha=n(559),Ra=Object(ai.a)((function(e){var t=e.palette;return Object(ci.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary,position:"relative"},loading:{position:"absolute",left:0,top:"100%",width:"100%"}})})),Wa=Object(g.c)((function(){var e=pi(),t=e.isPacking,n=e.ui,r=n.width,i=n.height,o=Ra();return Object(Ai.jsxs)("div",{className:o.root,children:["Packed texture size: ",r," x ",i,t?Object(Ai.jsx)(Ha.a,{className:o.loading}):null]})})),Ua=function(){return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(Wa,{}),Object(Ai.jsx)($a,{})]})};var Va=n(74),qa=Object(ai.a)((function(){return Object(ci.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),Ka=Object(g.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,i=t.list,o=qa(),l=bi();return Object(Ai.jsx)(Ai.Fragment,{children:i.map((function(e,t){var i,a="".concat(e.letter).concat(t);return Object(Ai.jsx)("div",{"aria-hidden":!0,className:Object(ua.a)(o.letter,(i={},Object(Va.a)(i,o.select,e.letter===l.selectLetter),Object(Va.a)(i,o.next,e.letter===l.selectNextLetter),i)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),l.setSelectLetter(t,n)}(t,e.letter,e.next)}},a)}))})})),Qa=Object(ai.a)((function(e){var t=e.bgPixel;return Object(ci.a)({root:Object(y.a)(Object(y.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),Za=Object(g.c)((function(){var e=pi(),t=Object(u.useState)(null),n=Object(Oi.a)(t,2),r=n[0],i=n[1],o=e.ui,l=e.style.font,a=l.size,c=l.lineHeight,s=l.middle,f=l.hanging,p=l.top,d=l.alphabetic,h=l.ideographic,b=l.bottom,y=l.minBaseLine,g=l.maxBaseLine,O=e.layout.padding,j=e.isPacking,w=o.previewScale,v=o.previewOffsetX,x=o.previewOffsetY,k=Object(u.useRef)(null),P=Object(u.useRef)(null),S=Ja((function(e){var t=e.offsetX,n=e.offsetY,r=o.previewScale,i=o.previewOffsetX,l=o.previewOffsetY;(0,o.setPreviewTransform)({previewOffsetX:i+t/r,previewOffsetY:l+n/r})}),[o]),T=Object(Oi.a)(S,2),M=T[0],I=T[1],C=Qa({width:r?r.width:0,height:r?r.height:0,scale:w,offsetX:v,offsetY:x,dragState:M});return Ga(P,(function(e){var t=o.previewOffsetX,n=o.previewOffsetY,r=o.previewScale,i=o.setPreviewTransform,l=r+e.deltaScale;i({previewOffsetX:t+e.deltaX/l,previewOffsetY:n+e.deltaY/l,previewScale:l})}),[o]),Object(u.useEffect)((function(){if(k.current&&!j&&r){var e=k.current,t=e.getContext("2d");if(t){var n=a*c;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var i=function(e){[s,f,p,d,h,b].forEach((function(i){var o=Math.round(i-y+e*n);t.beginPath(),t.moveTo(-r.xOffset,o+.5-r.yOffset),t.lineTo(r.width,o+.5-r.yOffset),i===y||i===g?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+g-y),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},o=0;o<r.lines;o+=1)i(o)}}}),[d,b,r,f,h,j,c,g,s,y,a,p]),Object(u.useEffect)((function(){Object(m.l)((function(){if(k.current&&!j&&k.current.getContext("2d")){var t=Rl(e),n=t.chars,r=t.kernings,l=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;l.has(t)||l.set(t,new Map);var i=l.get(t);null===i||void 0===i||i.set(n,r)}));var s=new Map;n.list.forEach((function(e){s.set(e.letter,e)}));var u=a*c,f=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=[],a=e.split(/\r\n|\r|\n/),c=0,s=0,u=0,f=0,p=0,d=0;return a.forEach((function(e,a){p=r*a,d=0;var h=Array.from(e);h.forEach((function(e,r){var a=t.get(e);if(a){var b=h[r+1],y=n.get(e.charCodeAt(0)),g=0;b&&y&&y.has(b.charCodeAt(0))&&(g=y.get(b.charCodeAt(0))||0);var O={x:d+a.xoffset+(0===a.width?0:o),y:p+a.yoffset+(0===a.width?0:o),width:(a.width||a.xadvance)-(0===a.width?0:2*o),height:(a.height||i)-(0===a.width?0:2*o),source:a.source,letter:a.letter,next:b};d+=a.xadvance+g,c=Math.min(O.x,c),s=Math.min(O.y,s),u=Math.max(O.x+O.width,u),f=Math.max(O.y+O.height,f),l.push(O)}}))})),{lines:a.length,list:l,xOffset:c,yOffset:s,width:u-c,height:Math.max(f-s,a.length*r-s)+2}}(o.previewText,s,l,u,g-y,O);i((function(){return f}))}}))}),[j,c,g,y,e,a,o.previewText,O]),Object(Ai.jsx)("div",{"aria-hidden":!0,ref:P,className:C.root,onMouseDown:I,onClick:function(){return o.setSelectLetter("","")},children:Object(Ai.jsxs)("div",{className:C.wrap,children:[Object(Ai.jsx)("canvas",{ref:k,className:C.canvas}),r?Object(Ai.jsx)(Ka,{data:r}):null]})})})),_a=Object(g.c)((function(){var e=bi(),t=e.previewText,n=e.setPreviewText,r=Object(u.useState)(!1),i=Object(Oi.a)(r,2),o=i[0],l=i[1],a=Object(u.useState)(t),c=Object(Oi.a)(a,2),s=c[0],f=c[1];return Object(Ai.jsxs)(ii.a,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:"Glyphs"})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Yi.a,{margin:"none",value:o?s:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;o?f(r):(f(r),r!==t&&n(r))},onCompositionStart:function(){return l(!0)},onCompositionEnd:function(){l(!1),f(s),s!==t&&n(s)}})})]})})),ec=Object(g.c)((function(){var e=pi(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var i=r.adjustMetric,o=r.letter,l=i.xAdvance,a=i.xOffset,c=i.yOffset,s=i.setXAdvance,u=i.setXOffset,f=i.setYOffset;return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:'"'.concat(o,'" Adjustment')})}),Object(Ai.jsx)(Zi,{xAdvance:l,xOffset:a,yOffset:c,setXAdvance:s,setXOffset:u,setYOffset:f})]})})),tc=Object(g.c)((function(){var e=pi(),t=e.glyphList,n=e.ui,r=e.style.font,i=r.opentype,o=r.size,l=Object(u.useState)(0),a=Object(Oi.a)(l,2),c=a[0],s=a[1],f=Object(u.useState)(),p=Object(Oi.a)(f,2),d=p[0],h=p[1],b=Object(u.useState)(0),y=Object(Oi.a)(b,2),g=y[0],O=y[1];Object(u.useEffect)((function(){h(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(u.useEffect)((function(){if(d&&n.selectNextLetter&&i){var e=1/i.unitsPerEm*o;s(Math.round(i.getKerningValue(i.charToGlyphIndex(d.letter),i.charToGlyphIndex(n.selectNextLetter))*e))}}),[d,i,o,n.selectNextLetter]);return Object(u.useEffect)((function(){var e;return d&&(O(d.kerning.get(n.selectNextLetter)||0),e=Object(M.a)(d.kerning,(function(){O(d.kerning.get(n.selectNextLetter)||0)}))),e}),[d,n.selectNextLetter]),d&&n.selectNextLetter?Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(gi.a,{children:'"'.concat(d.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(Ai.jsx)(ii.a,{paddingX:2,marginY:4,children:Object(Ai.jsx)(Ei,{before:"Amount:",after:"px",children:Object(Ai.jsx)(zi.a,{value:g+c,fullWidth:!0,type:"number",onChange:function(e){d&&d.steKerning(n.selectNextLetter,Number(e.target.value)-c)}})})})]}):null})),nc=function(){return Object(Ai.jsxs)(Ai.Fragment,{children:[Object(Ai.jsx)(Za,{}),Object(Ai.jsxs)(Bi.a,{container:!0,alignItems:"flex-start",children:[Object(Ai.jsx)(Bi.a,{item:!0,xs:4,children:Object(Ai.jsx)(_a,{})}),Object(Ai.jsx)(Bi.a,{item:!0,xs:4,children:Object(Ai.jsx)(ec,{})}),Object(Ai.jsx)(Bi.a,{item:!0,xs:4,children:Object(Ai.jsx)(tc,{})})]})]})},rc=Object(ai.a)((function(e){var t=e.palette;return Object(ci.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),ic=Object(g.c)((function(){var e=bi(),t=e.showPreview,n=e.packFailed,r=rc();return Object(Ai.jsxs)("div",{className:r.root,children:[n?Object(Ai.jsxs)("div",{className:r.toast,children:[Object(Ai.jsx)(Da.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(Ai.jsx)(nc,{}):Object(Ai.jsx)(Ua,{})]})})),oc=n(566),lc=n(164),ac=n.n(lc),cc=Object(ai.a)((function(e){var t=e.palette;return Object(ci.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),sc=function(e){var t=e.name,n=e.useRemove,r=e.selected,i=e.value,o=e.onChange,l=e.onClick,a=e.onRemove,c=e.onRename,s=Object(u.useState)(!1),f=Object(Oi.a)(s,2),p=f[0],d=f[1],h=Object(u.useState)(t),b=Object(Oi.a)(h,2),y=b[0],g=b[1],O=Object(u.useRef)(null),j=cc(),w=function(e){e.stopPropagation(),a&&a(e,i)};return Object(u.useEffect)((function(){p&&O.current&&O.current.focus(),!p&&c&&c(y,i)}),[p,c,y,i]),Object(u.useEffect)((function(){g(t)}),[t]),Object(Ai.jsxs)("div",{"aria-hidden":!0,className:Object(ua.a)(j.root,Object(Va.a)({},j.selected,r)),onClick:function(e){e.stopPropagation(),o&&o(e,i),l&&l(e)},onDoubleClick:function(e){e.stopPropagation(),O.current&&d(!0)},title:"Double click rename",children:[Object(Ai.jsxs)("span",{"aria-hidden":!0,className:j.name,children:[p?y:t,Object(Ai.jsx)("input",{className:j.input,hidden:!p,ref:O,value:p?y:t,type:"text",onKeyDown:function(e){13===e.keyCode&&O.current&&O.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),d(!1)},onChange:function(e){g(e.target.value)}})]}),n?Object(Ai.jsx)(ac.a,{className:j.icon,onClick:w,onDoubleClick:w}):null]})},uc=Object(ai.a)((function(e){var t=e.palette,n=e.shadows;return Object(ci.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),fc=Object(g.c)((function(){var e=uc(),t=ui(),n=t.addProject,r=t.selectProject,i=t.removeProject,o=t.setProjectName,l=t.namedList,a=t.activeId,c=function(e,t){"undefined"!==typeof t&&i(t)};return Object(Ai.jsx)(oc.a,{classes:e,value:a,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:l.map((function(e){return Object(Ai.jsx)(sc,{useRemove:l.length>1,name:e.name,value:e.id,onRename:o,onRemove:c},e.id)}))})})),pc=n(495),dc=n(547),hc=Object(ai.a)((function(){return Object(ci.a)({slider:{width:"200px"}})})),bc=Object(g.c)((function(){var e=bi(),t=e.scale,n=e.setTransform,r=e.previewScale,i=e.setPreviewTransform,o=e.showPreview,l=e.setShowPreview,a=hc(),c=Object(u.useState)(!1),s=Object(Oi.a)(c,2),f=s[0],p=s[1],d=Object(u.useRef)(null),h=Object(u.useState)([.25,.5,.75,1,1.25,1.5,5,10]),b=Object(Oi.a)(h,1)[0],y=function(e,t){o?i({previewScale:t}):n({scale:t})};return Object(Ai.jsxs)(ii.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(Ai.jsxs)(ii.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(Ai.jsx)(Ma.a,{size:"small",color:"primary",checked:o,onChange:function(e){return l(e.target.checked)}})]}),Object(Ai.jsx)(Gi.a,{className:a.slider,value:o?r:t,min:.01,max:10,step:.01,onChange:y}),Object(Ai.jsx)(wi.a,{ref:d,onClick:function(){p((function(e){return!e}))},children:"".concat(Math.round(1e3*(o?r:t))/10,"%")}),Object(Ai.jsx)(ia.a,{open:f,anchorEl:d.current,placement:"top-end",children:Object(Ai.jsx)(pc.a,{children:Object(Ai.jsx)(ta.a,{onClickAway:function(e){d.current&&d.current.contains(e.target)||p(!1)},children:Object(Ai.jsx)(dc.a,{children:b.map((function(e){return Object(Ai.jsx)(Jl.a,{onClick:function(){return y(0,e),void p(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),yc=n(576),gc=n(560),Oc=n(561),jc=n(268),wc=n.n(jc),mc=n(271),vc=n.n(mc),xc=n(270),kc=n.n(xc),Pc=n(269),Sc=n.n(Pc),Tc=n(281),Mc=n(267),Ic=n.n(Mc),Cc=Object(ai.a)((function(e){return Object(ci.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),Ac=Object(g.c)((function(e){var t=Cc(),n=pi().removeImage,r=Object(u.useState)(!1),i=Object(Oi.a)(r,2),o=i[0],l=i[1],a=e.glyph,c=Object(u.useState)(a.letter),s=Object(Oi.a)(c,2),f=s[0],p=s[1],d=a.changeSelect,h=a.selected,b=a.setGlyph;return Object(Ai.jsxs)(pc.a,{variant:"outlined",className:t.root,children:[Object(Ai.jsx)("img",{className:t.image,src:a.src,alt:a.fileName}),Object(Ai.jsxs)(Bi.a,{container:!0,direction:"column",className:t.actions,children:[Object(Ai.jsxs)(Bi.a,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(Ai.jsx)(Wi.a,{checked:h,size:"small",color:"default",onChange:function(e){return d(e.target.checked)}}),Object(Ai.jsx)(xi.a,{color:"primary",size:"small",onClick:function(){return n(a)},children:Object(Ai.jsx)(Ic.a,{fontSize:"small"})})]}),Object(Ai.jsx)(Bi.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(Ai.jsx)(Tc.a,{fullWidth:!0,value:o?f:a.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;o?(p(t.slice(0,1)),b(t.slice(0,1))):b(t)},onCompositionEnd:function(){l(!1),p((function(e){return e.slice(0,1)})),b(f.slice(0,1))},onCompositionStart:function(){return l(!0)}})})]})]})})),Nc=Object(ai.a)((function(){return Object(ci.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),zc=Object(g.c)((function(){var e=pi().glyphImages,t=Nc();return Object(Ai.jsx)(ii.a,{className:t.root,children:e.map((function(e){return Object(Ai.jsx)(Ac,{glyph:e},e.src)}))})})),Fc=Object(ai.a)((function(){return Object(ci.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),Bc=Object(g.c)((function(){var e=Fc(),t=pi().addImages,n=Object(u.useState)(!1),r=Object(Oi.a)(n,2),i=r[0],o=r[1],l=Object(u.useState)(!1),a=Object(Oi.a)(l,2),c=a[0],s=a[1],f=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return Ci(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},p=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():o(!1))};return Object(u.useEffect)((function(){return i?window.addEventListener("keydown",p):window.removeEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[i]),Object(Ai.jsx)(ii.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),f(e.dataTransfer.files)},className:Object(ua.a)(e.root,Object(Va.a)({},e.fixed,i)),children:Object(Ai.jsxs)(yc.a,{className:e.panel,expanded:i||c,onChange:function(){s((function(e){return i||!e}))},TransitionProps:{style:i||c?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(Ai.jsx)(gc.a,{expandIcon:i?void 0:Object(Ai.jsx)(wc.a,{}),children:Object(Ai.jsxs)(Bi.a,{container:!0,alignItems:"center",children:[Object(Ai.jsx)(Bi.a,{item:!0,children:Object(Ai.jsx)(gi.a,{children:"Image Glyph List"})}),Object(Ai.jsx)(Bi.a,{item:!0,xs:!0,container:!0,justifyContent:"center",children:Object(Ai.jsxs)(wi.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(Ai.jsx)(Sc.a,{}),children:["Select Images",Object(Ai.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;f(t)}}})]})}),Object(Ai.jsx)(Bi.a,{item:!0,children:Object(Ai.jsx)(xi.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),o((function(e){return!e}))},children:i?Object(Ai.jsx)(kc.a,{}):Object(Ai.jsx)(vc.a,{})})})]})}),Object(Ai.jsx)(Oc.a,{className:e.continer,children:Object(Ai.jsx)(ii.a,{className:e.listWrap,children:Object(Ai.jsx)(zc,{})})})]})})})),Lc=Object(ai.a)((function(e){var t=e.palette,n=e.shadows;return Object(ci.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),Ec=function(){var e=Lc();return Object(Ai.jsxs)(ii.a,{className:e.root,children:[Object(Ai.jsx)(fc,{}),Object(Ai.jsx)(ic,{}),Object(Ai.jsx)(bc,{}),Object(Ai.jsx)(Bc,{})]})},Dc=n(574),Gc=Object(ai.a)((function(e){return Object(ci.a)({close:{padding:e.spacing(.5)}})}));function Xc(){var e=Gc(),t=f.a.useState(!1),n=Object(Oi.a)(t,2),r=n[0],i=n[1],o=function(e,t){"clickaway"!==t&&i(!1)},l=f.a.useCallback((function(e){var t=e.detail;i(!!t)}),[]);return f.a.useEffect((function(){return window.addEventListener("updateVerion",l,!1),function(){return window.removeEventListener("updateVerion",l,!1)}}),[l]),Object(Ai.jsx)(Dc.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:o,message:"New version is available.",action:Object(Ai.jsxs)(f.a.Fragment,{children:[Object(Ai.jsx)(wi.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(Ai.jsx)(xi.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:o,children:Object(Ai.jsx)(ac.a,{})})]})})}var Jc=Object(ai.a)((function(e){var t=e.zIndex;return Object(ci.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),Yc=Object(g.c)((function(){var e=Jc(),t=si().ui;return Object(Ai.jsxs)(ii.a,{className:e.root,children:[Object(Ai.jsx)(Ql,{}),Object(Ai.jsx)(Xc,{}),Object(Ai.jsxs)(ii.a,{className:e.content,children:[Object(Ai.jsx)(to,{}),Object(Ai.jsx)(Ec,{}),Object(Ai.jsx)(La,{})]}),Object(Ai.jsx)(oi.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(Ai.jsx)(li.a,{color:"inherit"})})]})}));var $c=function(){return Object(Ai.jsxs)(w.a,{theme:ri,children:[Object(Ai.jsx)(j.a,{}),Object(Ai.jsx)(g.b,Object(y.a)(Object(y.a)({},(Rr||(Rr={ui:new T,workspace:new Qr}),Rr)),{},{children:Object(Ai.jsx)(O.a,{anchorOrigin:{horizontal:"center",vertical:"top"},children:Object(Ai.jsx)(Yc,{})})}))]})},Hc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}h.a({dsn:"https://007c463bad354a5baf9a11d8e9d7c8a6@o501223.ingest.sentry.io/5981296",release:"c2cf014",integrations:[new b.a.BrowserTracing],tracesSampleRate:1,environment:"production"}),d.a.render(Object(Ai.jsx)($c,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Hc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Rc(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Rc(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[488,1,2]]]);
//# sourceMappingURL=main.82a3e630.chunk.js.map