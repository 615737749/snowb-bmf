(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{172:function(e,t){},487:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Metric",(function(){return ci})),n.d(r,"GradientColor",(function(){return si})),n.d(r,"Gradient",(function(){return ui})),n.d(r,"PatternTexture",(function(){return fi})),n.d(r,"Fill",(function(){return pi})),n.d(r,"Font",(function(){return di})),n.d(r,"GlyphFont",(function(){return hi})),n.d(r,"GlyphImage",(function(){return bi})),n.d(r,"Layout",(function(){return yi})),n.d(r,"Shadow",(function(){return gi})),n.d(r,"Style",(function(){return Oi})),n.d(r,"Ui",(function(){return ji})),n.d(r,"Project",(function(){return wi})),n.d(r,"default",(function(){return ai})),n.d(r,"updateToNext",(function(){return mi}));var o={};n.r(o),n.d(o,"Metric",(function(){return Si})),n.d(o,"GradientColor",(function(){return Ti})),n.d(o,"Gradient",(function(){return Mi})),n.d(o,"PatternTexture",(function(){return Ii})),n.d(o,"Fill",(function(){return Ci})),n.d(o,"Font",(function(){return Ai})),n.d(o,"GlyphFont",(function(){return Ni})),n.d(o,"GlyphImage",(function(){return zi})),n.d(o,"Layout",(function(){return Fi})),n.d(o,"Shadow",(function(){return Bi})),n.d(o,"Style",(function(){return Li})),n.d(o,"Ui",(function(){return Ei})),n.d(o,"Project",(function(){return Di})),n.d(o,"default",(function(){return Pi})),n.d(o,"updateToNext",(function(){return Gi}));var i={};n.r(i),n.d(i,"Metric",(function(){return Hi})),n.d(i,"GradientColor",(function(){return Ri})),n.d(i,"Gradient",(function(){return Wi})),n.d(i,"PatternTexture",(function(){return Ui})),n.d(i,"Fill",(function(){return Vi})),n.d(i,"Font",(function(){return qi})),n.d(i,"GlyphFont",(function(){return Ki})),n.d(i,"GlyphImage",(function(){return Qi})),n.d(i,"Layout",(function(){return _i})),n.d(i,"Shadow",(function(){return Zi})),n.d(i,"Style",(function(){return el})),n.d(i,"Ui",(function(){return tl})),n.d(i,"Project",(function(){return nl})),n.d(i,"default",(function(){return $i})),n.d(i,"updateToNext",(function(){return rl}));var l,a,c,s,u=n(0),f=n.n(u),p=n(22),d=n.n(p),h=n(564),b=n(272),y=n(15),g=n(12),O=n(84),j=n(563),w=n(562),m=n(2),v=n(10),x=n(24),k=n(25),P=n(5),S=(n(44),l=m.k.bound,a=m.k.bound,c=function(){function e(){Object(x.a)(this,e),Object(v.a)(this,"globalLoader",s,this)}return Object(k.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),s=Object(P.a)(c.prototype,"globalLoader",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(P.a)(c.prototype,"showGlobalLoader",[l],Object.getOwnPropertyDescriptor(c.prototype,"showGlobalLoader"),c.prototype),Object(P.a)(c.prototype,"hideGlobalLoader",[a],Object.getOwnPropertyDescriptor(c.prototype,"hideGlobalLoader"),c.prototype),c),T=S,M=n(99),I=n(199),C=n(274);function A(){return new Worker(n.p+"static/js/AutoPacker.d4f5dd9550ff18a5dd82.worker.js")}var N,z,F,B,L,E,D,G,X,J,Y,$,H,R,W,U,V,q,K,Q,_,Z,ee={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},te={num:function(e,t){return ee.num(e)?e:t}},ne=(N=m.k.bound,z=m.k.bound,F=m.k.bound,B=m.k.bound,L=m.k.bound,E=m.k.bound,D=m.k.bound,G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"scale",X,this),Object(v.a)(this,"offsetX",J,this),Object(v.a)(this,"offsetY",Y,this),Object(v.a)(this,"width",$,this),Object(v.a)(this,"height",H,this),Object(v.a)(this,"previewText",R,this),Object(v.a)(this,"selectLetter",W,this),Object(v.a)(this,"selectNextLetter",U,this),Object(v.a)(this,"showPreview",V,this),Object(v.a)(this,"previewScale",q,this),Object(v.a)(this,"previewOffsetX",K,this),Object(v.a)(this,"previewOffsetY",Q,this),Object(v.a)(this,"packFailed",_,this),t.previewText&&(this.previewText=t.previewText)}return Object(k.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=te.num(e.scale,this.scale),this.offsetX=te.num(e.offsetX,this.offsetX),this.offsetY=te.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(te.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=te.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=te.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),X=Object(P.a)(G.prototype,"scale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Object(P.a)(G.prototype,"offsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=Object(P.a)(G.prototype,"offsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Object(P.a)(G.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(P.a)(G.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(P.a)(G.prototype,"previewText",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),W=Object(P.a)(G.prototype,"selectLetter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=Object(P.a)(G.prototype,"selectNextLetter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=Object(P.a)(G.prototype,"showPreview",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(P.a)(G.prototype,"previewScale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=Object(P.a)(G.prototype,"previewOffsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=Object(P.a)(G.prototype,"previewOffsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(P.a)(G.prototype,"packFailed",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(P.a)(G.prototype,"setTransform",[N],Object.getOwnPropertyDescriptor(G.prototype,"setTransform"),G.prototype),Object(P.a)(G.prototype,"setSize",[z],Object.getOwnPropertyDescriptor(G.prototype,"setSize"),G.prototype),Object(P.a)(G.prototype,"setPreviewText",[F],Object.getOwnPropertyDescriptor(G.prototype,"setPreviewText"),G.prototype),Object(P.a)(G.prototype,"setShowPreview",[B],Object.getOwnPropertyDescriptor(G.prototype,"setShowPreview"),G.prototype),Object(P.a)(G.prototype,"setPreviewTransform",[L],Object.getOwnPropertyDescriptor(G.prototype,"setPreviewTransform"),G.prototype),Object(P.a)(G.prototype,"setSelectLetter",[E],Object.getOwnPropertyDescriptor(G.prototype,"setSelectLetter"),G.prototype),Object(P.a)(G.prototype,"setPackFailed",[D],Object.getOwnPropertyDescriptor(G.prototype,"setPackFailed"),G.prototype),G),re=ne,oe={fontSize:"14px",fontFamily:"sans-serif"};function ie(e){var t=Object(y.a)(Object(y.a)({},oe),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),ee.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=oe.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var le,ae,ce,se,ue,fe,pe,de,he,be,ye,ge,Oe,je,we,me,ve=n(254);var xe,ke,Pe,Se,Te,Me,Ie,Ce,Ae,Ne,ze="sans-serif",Fe=(ce=m.k.bound,se=m.k.bound,ue=m.k.bound,fe=m.k.bound,pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"fonts",de,this),Object(v.a)(this,"size",he,this),Object(v.a)(this,"lineHeight",be,this),Object(v.a)(this,"middle",ye,this),Object(v.a)(this,"hanging",ge,this),Object(v.a)(this,"top",Oe,this),Object(v.a)(this,"alphabetic",je,this),Object(v.a)(this,"ideographic",we,this),Object(v.a)(this,"bottom",me,this),this.size=n.size||72,this.lineHeight=n.lineHeight||1.25,n.fonts&&n.fonts.length?n.fonts.forEach((function(e){return t.addFont(e.font)})):this.updateBaseines()}return Object(k.a)(e,[{key:"mainFont",get:function(){return this.fonts.length>0?this.fonts[0]:null}},{key:"mainFamily",get:function(){return this.mainFont?this.mainFont.family:ze}},{key:"opentype",get:function(){return this.mainFont?this.mainFont.opentype:null}},{key:"family",get:function(){return this.fonts.map((function(e){return'"'.concat(e.family,'"')})).join(",")||ze}},{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}},{key:"updateBaseines",value:function(){var e=function(e,t){Z||(Z=document.createElement("canvas"));var n=Z.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=ie(t);Z.width=1,Z.height=1,n.font=r,n.textBaseline="middle";var o=n.measureText(e);n.textBaseline="hanging";var i=n.measureText(e);n.textBaseline="top";var l=n.measureText(e);n.textBaseline="alphabetic";var a=n.measureText(e);n.textBaseline="ideographic";var c=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e);return{middle:0,hanging:i.actualBoundingBoxAscent-o.actualBoundingBoxAscent,top:l.actualBoundingBoxAscent-o.actualBoundingBoxAscent,alphabetic:o.actualBoundingBoxDescent-a.actualBoundingBoxDescent,ideographic:o.actualBoundingBoxDescent-c.actualBoundingBoxDescent,bottom:o.actualBoundingBoxDescent-s.actualBoundingBoxDescent}}("a",{fontFamily:this.family,fontSize:this.size});this.middle=e.middle,this.hanging=e.hanging,this.top=e.top,this.alphabetic=e.alphabetic,this.ideographic=e.ideographic,this.bottom=e.bottom}},{key:"addFont",value:function(e){var t,n=this;try{t=Object(ve.a)(e,{lowMemory:!0})}catch(l){return Promise.reject(l)}var r=t.names,o=r.postScriptName[Object.keys(r.postScriptName)[0]];if(this.fonts.find((function(e){return e.family===o})))return Promise.reject(new Error("Font already exists."));var i=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(le)le.appendChild(n);else{var r=document.createTextNode("A");le=document.createElement("style"),ae=document.createElement("div"),document.head.appendChild(le),le.appendChild(n),ae.appendChild(r),ae.style.position="absolute",ae.style.left="-1000px",ae.style.top="-1000px",ae.style.opacity="0",ae.style.fontSize="12px",ae.style.pointerEvents="none",document.body.appendChild(ae)}return ae.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(o,i).then((function(){Object(m.F)((function(){n.fonts.push({font:e,family:o,opentype:t}),n.updateBaseines()}))}))}},{key:"removeFont",value:function(e){var t=this.fonts.indexOf(e);-1!==t&&this.fonts.splice(t,1)}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}}]),e}(),de=Object(P.a)(pe.prototype,"fonts",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=Object(P.a)(pe.prototype,"size",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Object(P.a)(pe.prototype,"lineHeight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),ye=Object(P.a)(pe.prototype,"middle",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=Object(P.a)(pe.prototype,"hanging",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=Object(P.a)(pe.prototype,"top",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=Object(P.a)(pe.prototype,"alphabetic",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=Object(P.a)(pe.prototype,"ideographic",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=Object(P.a)(pe.prototype,"bottom",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(P.a)(pe.prototype,"mainFont",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"mainFont"),pe.prototype),Object(P.a)(pe.prototype,"mainFamily",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"mainFamily"),pe.prototype),Object(P.a)(pe.prototype,"opentype",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"opentype"),pe.prototype),Object(P.a)(pe.prototype,"family",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"family"),pe.prototype),Object(P.a)(pe.prototype,"minBaseLine",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"minBaseLine"),pe.prototype),Object(P.a)(pe.prototype,"maxBaseLine",[m.m],Object.getOwnPropertyDescriptor(pe.prototype,"maxBaseLine"),pe.prototype),Object(P.a)(pe.prototype,"addFont",[ce],Object.getOwnPropertyDescriptor(pe.prototype,"addFont"),pe.prototype),Object(P.a)(pe.prototype,"removeFont",[se],Object.getOwnPropertyDescriptor(pe.prototype,"removeFont"),pe.prototype),Object(P.a)(pe.prototype,"setSize",[ue],Object.getOwnPropertyDescriptor(pe.prototype,"setSize"),pe.prototype),Object(P.a)(pe.prototype,"setLineHeight",[fe],Object.getOwnPropertyDescriptor(pe.prototype,"setLineHeight"),pe.prototype),pe),Be=Fe,Le=n(34);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Ne||(Ne={}));var Ee,De,Ge,Xe,Je,Ye,$e,He,Re,We,Ue,Ve=(xe=m.B.shallow,ke=m.k.bound,Pe=m.k.bound,Se=m.k.bound,Te=m.k.bound,Me=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"type",Ie,this),Object(v.a)(this,"angle",Ce,this),Object(v.a)(this,"palette",Ae,this),this.type=n.type&&Ne[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(y.a)(Object(y.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"#FFF"),this.addColor(1))}return Object(k.a)(e,[{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(Le.a)(this.ids))+1}},{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}}]),e}(),Ie=Object(P.a)(Me.prototype,"type",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ce=Object(P.a)(Me.prototype,"angle",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Object(P.a)(Me.prototype,"palette",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(P.a)(Me.prototype,"ids",[m.m],Object.getOwnPropertyDescriptor(Me.prototype,"ids"),Me.prototype),Object(P.a)(Me.prototype,"nextId",[m.m],Object.getOwnPropertyDescriptor(Me.prototype,"nextId"),Me.prototype),Object(P.a)(Me.prototype,"setType",[ke],Object.getOwnPropertyDescriptor(Me.prototype,"setType"),Me.prototype),Object(P.a)(Me.prototype,"setAngle",[Pe],Object.getOwnPropertyDescriptor(Me.prototype,"setAngle"),Me.prototype),Object(P.a)(Me.prototype,"addColor",[Se],Object.getOwnPropertyDescriptor(Me.prototype,"addColor"),Me.prototype),Object(P.a)(Me.prototype,"updatePalette",[Te],Object.getOwnPropertyDescriptor(Me.prototype,"updatePalette"),Me.prototype),Me),qe=Ve;function Ke(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o+=1)r[o]=t.charCodeAt(o);return r.buffer}var Qe,_e,Ze,et,tt,nt,rt,ot,it,lt,at=(Ee=m.B.ref,De=m.B.ref,Ge=m.k.bound,Xe=m.k.bound,Je=m.k.bound,Ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"buffer",$e,this),Object(v.a)(this,"image",He,this),Object(v.a)(this,"src",Re,this),Object(v.a)(this,"repetition",We,this),Object(v.a)(this,"scale",Ue,this),this.scale=te.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(k.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(m.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),$e=Object(P.a)(Ye.prototype,"buffer",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ke("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),He=Object(P.a)(Ye.prototype,"image",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=Object(P.a)(Ye.prototype,"src",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),We=Object(P.a)(Ye.prototype,"repetition",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),Ue=Object(P.a)(Ye.prototype,"scale",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(Ye.prototype,"setImage",[Ge],Object.getOwnPropertyDescriptor(Ye.prototype,"setImage"),Ye.prototype),Object(P.a)(Ye.prototype,"setRepetition",[Xe],Object.getOwnPropertyDescriptor(Ye.prototype,"setRepetition"),Ye.prototype),Object(P.a)(Ye.prototype,"setScale",[Je],Object.getOwnPropertyDescriptor(Ye.prototype,"setScale"),Ye.prototype),Ye),ct=at;!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(lt||(lt={}));var st,ut,ft,pt,dt,ht,bt,yt,gt,Ot,jt,wt,mt,vt,xt,kt,Pt,St,Tt,Mt,It,Ct,At,Nt,zt,Ft,Bt,Lt,Et,Dt,Gt,Xt,Jt,Yt,$t,Ht,Rt,Wt,Ut,Vt,qt,Kt,Qt,_t,Zt,en,tn,nn,rn,on=(Qe=m.B.shallow,_e=m.B.shallow,Ze=m.k.bound,et=m.k.bound,tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"type",nt,this),Object(v.a)(this,"color",rt,this),Object(v.a)(this,"gradient",ot,this),Object(v.a)(this,"patternTexture",it,this),this.color=t.color||"#000000",this.type=t.type&&lt[t.type]?t.type:0,this.gradient=new qe(t.gradient),this.patternTexture=new ct(t.patternTexture)}return Object(k.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),nt=Object(P.a)(tt.prototype,"type",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=Object(P.a)(tt.prototype,"color",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Object(P.a)(tt.prototype,"gradient",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=Object(P.a)(tt.prototype,"patternTexture",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(tt.prototype,"setType",[Ze],Object.getOwnPropertyDescriptor(tt.prototype,"setType"),tt.prototype),Object(P.a)(tt.prototype,"setColor",[et],Object.getOwnPropertyDescriptor(tt.prototype,"setColor"),tt.prototype),tt),ln=on,an=n(59),cn=n(116),sn=n(115),un=(st=m.k.bound,ut=m.k.bound,ft=m.k.bound,pt=function(e){Object(cn.a)(n,e);var t=Object(sn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(x.a)(this,n),e=t.call(this,r),Object(v.a)(e,"width",dt,Object(an.a)(e)),Object(v.a)(e,"lineCap",ht,Object(an.a)(e)),Object(v.a)(e,"lineJoin",bt,Object(an.a)(e)),e.width=te.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e}return Object(k.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}}]),n}(ln),dt=Object(P.a)(pt.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ht=Object(P.a)(pt.prototype,"lineCap",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=Object(P.a)(pt.prototype,"lineJoin",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P.a)(pt.prototype,"setWidth",[st],Object.getOwnPropertyDescriptor(pt.prototype,"setWidth"),pt.prototype),Object(P.a)(pt.prototype,"setLineCap",[ut],Object.getOwnPropertyDescriptor(pt.prototype,"setLineCap"),pt.prototype),Object(P.a)(pt.prototype,"setLineJoin",[ft],Object.getOwnPropertyDescriptor(pt.prototype,"setLineJoin"),pt.prototype),pt),fn=un,pn=(yt=m.k.bound,gt=m.k.bound,Ot=m.k.bound,jt=m.k.bound,wt=m.k.bound,mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"color",vt,this),Object(v.a)(this,"blur",xt,this),Object(v.a)(this,"offsetX",kt,this),Object(v.a)(this,"offsetY",Pt,this),this.color=t.color||"#000000",this.blur=te.num(t.blur,1),this.offsetX=te.num(t.offsetX,1),this.offsetY=te.num(t.offsetY,1)}return Object(k.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),vt=Object(P.a)(mt.prototype,"color",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Object(P.a)(mt.prototype,"blur",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),kt=Object(P.a)(mt.prototype,"offsetX",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pt=Object(P.a)(mt.prototype,"offsetY",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(P.a)(mt.prototype,"setColor",[yt],Object.getOwnPropertyDescriptor(mt.prototype,"setColor"),mt.prototype),Object(P.a)(mt.prototype,"setBlur",[gt],Object.getOwnPropertyDescriptor(mt.prototype,"setBlur"),mt.prototype),Object(P.a)(mt.prototype,"setOffsetX",[Ot],Object.getOwnPropertyDescriptor(mt.prototype,"setOffsetX"),mt.prototype),Object(P.a)(mt.prototype,"setOffsetY",[jt],Object.getOwnPropertyDescriptor(mt.prototype,"setOffsetY"),mt.prototype),Object(P.a)(mt.prototype,"setOffset",[wt],Object.getOwnPropertyDescriptor(mt.prototype,"setOffset"),mt.prototype),mt),dn=pn,hn=(St=m.k.bound,Tt=m.k.bound,Mt=m.k.bound,It=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"font",Ct,this),Object(v.a)(this,"fill",At,this),Object(v.a)(this,"useStroke",Nt,this),Object(v.a)(this,"stroke",zt,this),Object(v.a)(this,"useShadow",Ft,this),Object(v.a)(this,"shadow",Bt,this),Object(v.a)(this,"bgColor",Lt,this),this.font=new Be(t.font),this.fill=new ln(t.fill),this.stroke=new fn(t.stroke),this.shadow=new dn(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(k.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),Ct=Object(P.a)(It.prototype,"font",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=Object(P.a)(It.prototype,"fill",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=Object(P.a)(It.prototype,"useStroke",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Object(P.a)(It.prototype,"stroke",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Object(P.a)(It.prototype,"useShadow",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Object(P.a)(It.prototype,"shadow",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Object(P.a)(It.prototype,"bgColor",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(P.a)(It.prototype,"setUseStroke",[St],Object.getOwnPropertyDescriptor(It.prototype,"setUseStroke"),It.prototype),Object(P.a)(It.prototype,"setUseShadow",[Tt],Object.getOwnPropertyDescriptor(It.prototype,"setUseShadow"),It.prototype),Object(P.a)(It.prototype,"setBgColor",[Mt],Object.getOwnPropertyDescriptor(It.prototype,"setBgColor"),It.prototype),It),bn=hn,yn=(Et=m.k.bound,Dt=m.k.bound,Gt=m.k.bound,Xt=m.k.bound,Jt=m.k.bound,Yt=m.k.bound,$t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"padding",Ht,this),Object(v.a)(this,"spacing",Rt,this),Object(v.a)(this,"width",Wt,this),Object(v.a)(this,"height",Ut,this),Object(v.a)(this,"auto",Vt,this),Object(v.a)(this,"fixedSize",qt,this),this.padding=te.num(t.padding,1),this.spacing=te.num(t.spacing,1),this.width=te.num(t.width,1024),this.height=te.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(k.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),Ht=Object(P.a)($t.prototype,"padding",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rt=Object(P.a)($t.prototype,"spacing",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wt=Object(P.a)($t.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Ut=Object(P.a)($t.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Vt=Object(P.a)($t.prototype,"auto",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qt=Object(P.a)($t.prototype,"fixedSize",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(P.a)($t.prototype,"setPadding",[Et],Object.getOwnPropertyDescriptor($t.prototype,"setPadding"),$t.prototype),Object(P.a)($t.prototype,"setSpacing",[Dt],Object.getOwnPropertyDescriptor($t.prototype,"setSpacing"),$t.prototype),Object(P.a)($t.prototype,"setWidth",[Gt],Object.getOwnPropertyDescriptor($t.prototype,"setWidth"),$t.prototype),Object(P.a)($t.prototype,"setHeight",[Xt],Object.getOwnPropertyDescriptor($t.prototype,"setHeight"),$t.prototype),Object(P.a)($t.prototype,"setAuto",[Jt],Object.getOwnPropertyDescriptor($t.prototype,"setAuto"),$t.prototype),Object(P.a)($t.prototype,"setFixedSize",[Yt],Object.getOwnPropertyDescriptor($t.prototype,"setFixedSize"),$t.prototype),$t),gn=yn,On=(Kt=m.k.bound,Qt=m.k.bound,_t=m.k.bound,Zt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"xAdvance",en,this),Object(v.a)(this,"xOffset",tn,this),Object(v.a)(this,"yOffset",nn,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(k.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),en=Object(P.a)(Zt.prototype,"xAdvance",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tn=Object(P.a)(Zt.prototype,"xOffset",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nn=Object(P.a)(Zt.prototype,"yOffset",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(P.a)(Zt.prototype,"setXAdvance",[Kt],Object.getOwnPropertyDescriptor(Zt.prototype,"setXAdvance"),Zt.prototype),Object(P.a)(Zt.prototype,"setXOffset",[Qt],Object.getOwnPropertyDescriptor(Zt.prototype,"setXOffset"),Zt.prototype),Object(P.a)(Zt.prototype,"setYOffset",[_t],Object.getOwnPropertyDescriptor(Zt.prototype,"setYOffset"),Zt.prototype),Zt),jn=On;function wn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,o=e.height,i=0,l=0,a=0,c=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(o/2),h=Math.ceil(r/2),b=0;b<d;b+=1){for(var y=0;y<r&&(s&&n[4*(b*r+y)+3]>t&&(s=!1),u&&n[4*((o-b-1)*r+y)+3]>t&&(u=!1),s||u);y+=1);if(!s&&!u)break;s&&(i+=1),u&&(l+=1)}if(i+l>=o)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*o,width:0,height:0};d=o-l;for(var g=0;g<h;g+=1){for(var O=i;O<d&&(f&&n[4*(r*O+g)+3]>t&&(f=!1),p&&n[4*(r*O+r-g-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(a+=1),p&&(c+=1)}return{trimOffsetLeft:-1*a,trimOffsetTop:-1*i,width:r-a-c,height:o-i-l}}function mn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}var vn,xn,kn,Pn,Sn,Tn,Mn,In,Cn,An,Nn,zn,Fn,Bn,Ln,En,Dn,Gn,Xn=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();function Jn(e,t,n,r,o,i){if(0===i.type)return i.color;if(1===i.type){var l,a=i.gradient,c=a.type,s=a.palette,u=a.angle,f=t+r/2,p=n+o/2,d=Math.max(r,o)/2;if(0===c){var h=mn(f,p,d,u+180),b=mn(f,p,d,u);l=e.createLinearGradient(h.x,h.y,b.x,b.y)}else l=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){l.addColorStop(e.offset,e.color)})),l}var y=i.patternTexture,g=y.image,O=y.repetition,j=y.scale;if(!g)return"rgba(0,0,0,0)";var w=e.createPattern(g,O);return w?(w.setTransform(Xn.scale(j).translate(t,n)),w):"rgba(0,0,0,0)"}function Yn(e,t){var n=t.font,r=t.stroke,o=t.shadow,i=t.fill,l=function(e,t){rn||(rn=document.createElement("canvas"));var n=rn.getContext("2d");if(!n)throw new Error("Get context 2d failed.");rn.width=1,rn.height=1;var r=ie(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var o,i,l=n.measureText(e);if("undefined"===typeof l.actualBoundingBoxLeft)return{text:e,font:r,width:l.width,height:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),fontWidth:l.width,fontHeight:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var a=n.measureText(e),c=Math.ceil(l.actualBoundingBoxLeft),s=Math.ceil(a.actualBoundingBoxRight),u=Math.ceil(a.actualBoundingBoxAscent),f=Math.ceil(l.actualBoundingBoxDescent);return{text:e,font:r,width:c+Math.ceil(l.actualBoundingBoxRight),height:f+Math.ceil(l.actualBoundingBoxAscent),fontWidth:Math.ceil(l.width),fontHeight:l.actualBoundingBoxAscent-a.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:c,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),a=l.width,c=l.height,s=l.trimOffsetLeft,u=l.trimOffsetTop;if(0===a||0===c)return Object(y.a)({canvas:null},l);var f=r?2*r.width:0,p=f,d=f,h=(a-n.size)/2,b=u;if(o){var g=Math.ceil(1.5*o.blur);p+=Math.abs(o.offsetX)+g,d+=Math.abs(o.offsetY)+g}h+=p,b+=d;var O=document.createElement("canvas"),j=O.getContext("2d");if(O.width=a+2*p,O.height=c+2*d,j.textAlign="left",j.textBaseline="top",j.font=ie({fontSize:n.size,fontFamily:n.family}),r&&f&&(j.lineWidth=f,j.lineCap=r.lineCap,j.lineJoin=r.lineJoin,j.strokeStyle=Jn(j,h,b,n.size,n.size,r),j.strokeText(e,p+s,d+u)),j.fillStyle=Jn(j,h,b,n.size,n.size,i),j.fillText(e,p+s,d+u),o){var w=document.createElement("canvas");w.width=a+2*p,w.height=c+2*d;var m=w.getContext("2d");m.shadowColor=o.color,m.shadowBlur=o.blur,m.shadowOffsetX=o.offsetX,m.shadowOffsetY=o.offsetY,m.drawImage(O,0,0),O=w,j=m}if(0===O.width||0===O.height)return Object(y.a)({canvas:O},l);var v=j.getImageData(0,0,O.width,O.height),x=wn(v);return O.width=x.width,O.height=x.height,l.width=x.width,l.height=x.height,j.putImageData(v,x.trimOffsetLeft,x.trimOffsetTop),l.trimOffsetLeft+=p+x.trimOffsetLeft,l.trimOffsetTop+=d+x.trimOffsetTop,l.trimOffsetBottom+=d+(c+2*d+x.trimOffsetTop-x.height),Object(y.a)({canvas:O},l)}var $n,Hn,Rn,Wn,Un,Vn,qn,Kn,Qn,_n,Zn,er=(vn=m.B.ref,xn=m.B.ref,kn=m.k.bound,Pn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),this.type="text",Object(v.a)(this,"letter",Sn,this),Object(v.a)(this,"source",Tn,this),Object(v.a)(this,"width",Mn,this),Object(v.a)(this,"height",In,this),Object(v.a)(this,"x",Cn,this),Object(v.a)(this,"y",An,this),Object(v.a)(this,"fontWidth",Nn,this),Object(v.a)(this,"fontHeight",zn,this),Object(v.a)(this,"trimOffsetTop",Fn,this),Object(v.a)(this,"trimOffsetLeft",Bn,this),Object(v.a)(this,"trimOffsetRight",Ln,this),Object(v.a)(this,"trimOffsetBottom",En,this),Object(v.a)(this,"adjustMetric",Dn,this),Object(v.a)(this,"kerning",Gn,this),this.letter=t.letter||"",this.adjustMetric=new jn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(k.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),Sn=Object(P.a)(Pn.prototype,"letter",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tn=Object(P.a)(Pn.prototype,"source",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mn=Object(P.a)(Pn.prototype,"width",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),In=Object(P.a)(Pn.prototype,"height",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cn=Object(P.a)(Pn.prototype,"x",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),An=Object(P.a)(Pn.prototype,"y",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nn=Object(P.a)(Pn.prototype,"fontWidth",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zn=Object(P.a)(Pn.prototype,"fontHeight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fn=Object(P.a)(Pn.prototype,"trimOffsetTop",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bn=Object(P.a)(Pn.prototype,"trimOffsetLeft",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ln=Object(P.a)(Pn.prototype,"trimOffsetRight",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),En=Object(P.a)(Pn.prototype,"trimOffsetBottom",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dn=Object(P.a)(Pn.prototype,"adjustMetric",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=Object(P.a)(Pn.prototype,"kerning",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(P.a)(Pn.prototype,"steKerning",[kn],Object.getOwnPropertyDescriptor(Pn.prototype,"steKerning"),Pn.prototype),Pn),tr=er,nr=($n=function(e){Object(cn.a)(n,e);var t=Object(sn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return Object(x.a)(this,n),(e=t.call(this,r)).setGlyphInfo(o),e}return Object(k.a)(n,[{key:"setGlyphInfo",value:function(e){var t=e.font,n=e.fill,r=e.useStroke,o=e.stroke,i=e.useShadow,l=e.shadow,a={font:t,fill:n};r&&(a.stroke=o),i&&(a.shadow=l);var c=Yn(this.letter,a);this.source=c.canvas,this.width=c.width,this.height=c.height,this.fontWidth=c.fontWidth,this.fontHeight=c.fontHeight,this.trimOffsetTop=c.trimOffsetTop,this.trimOffsetLeft=c.trimOffsetLeft,this.trimOffsetRight=c.trimOffsetRight,this.trimOffsetBottom=c.trimOffsetBottom}}]),n}(tr),Object(P.a)($n.prototype,"setGlyphInfo",[m.k],Object.getOwnPropertyDescriptor($n.prototype,"setGlyphInfo"),$n.prototype),$n),rr=nr;var or,ir,lr,ar,cr,sr,ur,fr,pr,dr,hr,br,yr,gr,Or,jr,wr,mr,vr,xr,kr,Pr,Sr,Tr,Mr,Ir,Cr,Ar,Nr,zr,Fr,Br,Lr,Er,Dr,Gr,Xr,Jr=(Hn=m.B.ref,Rn=m.k.bound,Wn=m.k.bound,Un=m.k.bound,Vn=function(e){Object(cn.a)(n,e);var t=Object(sn.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this,e)).type="image",Object(v.a)(r,"src",qn,Object(an.a)(r)),Object(v.a)(r,"buffer",Kn,Object(an.a)(r)),Object(v.a)(r,"fileName",Qn,Object(an.a)(r)),Object(v.a)(r,"fileType",_n,Object(an.a)(r)),Object(v.a)(r,"selected",Zn,Object(an.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(k.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(m.F)("trimImage",(function(){var r=n.naturalWidth,o=n.naturalHeight;e.fontWidth=r,e.fontHeight=o;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.naturalWidth,r=e.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=r;var i=o.getContext("2d");i.drawImage(e,0,0);var l=wn(i.getImageData(0,0,n,r),t);return o.width=l.width,o.height=l.height,i.drawImage(e,l.trimOffsetLeft,l.trimOffsetTop),Object(y.a)({canvas:o},l)}(n);e.width=i.width,e.height=i.height,e.trimOffsetLeft=i.trimOffsetLeft,e.trimOffsetTop=i.trimOffsetTop,e.trimOffsetRight=i.width-i.trimOffsetLeft-r,e.trimOffsetBottom=i.height-i.trimOffsetTop-o,e.source=i.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(tr),qn=Object(P.a)(Vn.prototype,"src",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kn=Object(P.a)(Vn.prototype,"buffer",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qn=Object(P.a)(Vn.prototype,"fileName",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_n=Object(P.a)(Vn.prototype,"fileType",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zn=Object(P.a)(Vn.prototype,"selected",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(P.a)(Vn.prototype,"initImage",[Rn],Object.getOwnPropertyDescriptor(Vn.prototype,"initImage"),Vn.prototype),Object(P.a)(Vn.prototype,"setGlyph",[Wn],Object.getOwnPropertyDescriptor(Vn.prototype,"setGlyph"),Vn.prototype),Object(P.a)(Vn.prototype,"changeSelect",[Un],Object.getOwnPropertyDescriptor(Vn.prototype,"changeSelect"),Vn.prototype),Vn),Yr=Jr,$r=(or=m.B.shallow,ir=m.B.shallow,lr=m.B.ref,ar=m.B.ref,cr=m.B.ref,sr=m.B.ref,ur=m.B.ref,fr=m.k.bound,pr=m.k.bound,dr=m.k.bound,hr=m.k.bound,br=m.k.bound,yr=m.k.bound,gr=m.k.bound,Or=m.k.bound,jr=m.k.bound,wr=m.k.bound,mr=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),Object(v.a)(this,"name",vr,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(v.a)(this,"isPacking",xr,this),Object(v.a)(this,"text",kr,this),Object(v.a)(this,"glyphs",Pr,this),Object(v.a)(this,"glyphImages",Sr,this),Object(v.a)(this,"style",Tr,this),Object(v.a)(this,"layout",Mr,this),Object(v.a)(this,"globalAdjustMetric",Ir,this),Object(v.a)(this,"packCanvas",Cr,this),Object(v.a)(this,"ui",Ar,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new re(r.ui),this.style=new bn(r.style),this.layout=new gn(r.layout),this.globalAdjustMetric=new jn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new rr(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new Yr(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new rr({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(k.a)(e,[{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}},{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new C.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker=new A,this.worker.addEventListener("message",Object(m.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,o=0,i=0,l=this.layout,a=l.auto,c=l.fixedSize,s=l.width,u=l.height,f=l.spacing;e.forEach((function(e){var t,l=e.letter,a=e.x,c=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==l)}))),t||(t=n.glyphs.get(l)),t&&(t.x=a||0,t.y=c||0),o=Math.max(o,a+u),i=Math.max(i,c+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,o=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==o)}))),t||(t=n.glyphs.get(o)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),a||!c?this.ui.setSize(o-f,i-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(I.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(I.request)((function(r){for(var o=r.timeRemaining(),i=Date.now();t.length&&o-(Date.now()-i)>-100;){var l=t.shift();l&&l.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(M.a)(this.glyphs,(function(){e.throttlePack()})),Object(M.a)(this.glyphImages,(function(){e.throttlePack()})),Object(M.a)(this.layout,(function(){e.throttlePack()})),Object(M.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var o=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;o.length&&o.forEach((function(t){n.includes(t)?e.glyphs.set(t,new rr({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new Yr(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}}]),e}(),vr=Object(P.a)(mr.prototype,"name",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),xr=Object(P.a)(mr.prototype,"isPacking",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kr=Object(P.a)(mr.prototype,"text",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),Pr=Object(P.a)(mr.prototype,"glyphs",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Sr=Object(P.a)(mr.prototype,"glyphImages",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tr=Object(P.a)(mr.prototype,"style",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=Object(P.a)(mr.prototype,"layout",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=Object(P.a)(mr.prototype,"globalAdjustMetric",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=Object(P.a)(mr.prototype,"packCanvas",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ar=Object(P.a)(mr.prototype,"ui",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new re}}),Object(P.a)(mr.prototype,"glyphList",[m.m],Object.getOwnPropertyDescriptor(mr.prototype,"glyphList"),mr.prototype),Object(P.a)(mr.prototype,"rectangleList",[m.m],Object.getOwnPropertyDescriptor(mr.prototype,"rectangleList"),mr.prototype),Object(P.a)(mr.prototype,"pack",[fr],Object.getOwnPropertyDescriptor(mr.prototype,"pack"),mr.prototype),Object(P.a)(mr.prototype,"setPack",[pr],Object.getOwnPropertyDescriptor(mr.prototype,"setPack"),mr.prototype),Object(P.a)(mr.prototype,"packStyle",[dr],Object.getOwnPropertyDescriptor(mr.prototype,"packStyle"),mr.prototype),Object(P.a)(mr.prototype,"throttlePack",[hr],Object.getOwnPropertyDescriptor(mr.prototype,"throttlePack"),mr.prototype),Object(P.a)(mr.prototype,"setText",[br],Object.getOwnPropertyDescriptor(mr.prototype,"setText"),mr.prototype),Object(P.a)(mr.prototype,"addGlyphs",[yr],Object.getOwnPropertyDescriptor(mr.prototype,"addGlyphs"),mr.prototype),Object(P.a)(mr.prototype,"addImages",[gr],Object.getOwnPropertyDescriptor(mr.prototype,"addImages"),mr.prototype),Object(P.a)(mr.prototype,"removeImage",[Or],Object.getOwnPropertyDescriptor(mr.prototype,"removeImage"),mr.prototype),Object(P.a)(mr.prototype,"setCanvas",[jr],Object.getOwnPropertyDescriptor(mr.prototype,"setCanvas"),mr.prototype),Object(P.a)(mr.prototype,"setName",[wr],Object.getOwnPropertyDescriptor(mr.prototype,"setName"),mr.prototype),mr),Hr=$r,Rr=(Nr=m.B.shallow,zr=m.k.bound,Fr=m.k.bound,Br=m.k.bound,Lr=m.k.bound,Er=function(){function e(){var t=this;Object(x.a)(this,e),Object(v.a)(this,"activeId",Dr,this),Object(v.a)(this,"projectList",Gr,this),Object(m.F)((function(){t.activeId=Date.now();var e=new Hr({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(k.a)(e,[{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}},{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))this.activeId=e.id;else{if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new Hr(e);this.projectList.set(n.id,n),this.activeId=n.id}}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}}]),e}(),Dr=Object(P.a)(Er.prototype,"activeId",[m.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gr=Object(P.a)(Er.prototype,"projectList",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(P.a)(Er.prototype,"currentProject",[m.m],Object.getOwnPropertyDescriptor(Er.prototype,"currentProject"),Er.prototype),Object(P.a)(Er.prototype,"namedList",[m.m],Object.getOwnPropertyDescriptor(Er.prototype,"namedList"),Er.prototype),Object(P.a)(Er.prototype,"selectProject",[zr],Object.getOwnPropertyDescriptor(Er.prototype,"selectProject"),Er.prototype),Object(P.a)(Er.prototype,"removeProject",[Fr],Object.getOwnPropertyDescriptor(Er.prototype,"removeProject"),Er.prototype),Object(P.a)(Er.prototype,"addProject",[Br],Object.getOwnPropertyDescriptor(Er.prototype,"addProject"),Er.prototype),Object(P.a)(Er.prototype,"setProjectName",[Lr],Object.getOwnPropertyDescriptor(Er.prototype,"setProjectName"),Er.prototype),Er),Wr=Rr;Object(m.n)({enforceActions:"always",computedRequiresReaction:!0});var Ur=n(273),Vr=n(572),qr={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},Kr={MuiCssBaseline:{"@global":{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}}},Qr=Object(Ur.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:qr,overrides:Kr}),_r=Object(Vr.a)(Qr),Zr=n(565),eo=n(495),to=n(542),no=n(539),ro=n(571);function oo(){return Object(u.useContext)(g.a)}function io(){return oo().workspace}function lo(){return oo().workspace.currentProject.layout}function ao(){return oo().workspace.currentProject}function co(){return ao().style}function so(){return co().font}function uo(){return ao().ui}var fo=n(548),po=n(120),ho=n(16),bo=n(49),yo=n(492),go=n(490),Oo=n(491),jo=n(279),wo=n(540),mo=n(541),vo=n(256),xo=n.n(vo),ko=n(255),Po=n.n(ko);var So=function(e,t){return e.arrayBuffer&&!t?e.arrayBuffer():new Promise((function(n){var r=new FileReader;t?r.readAsText(e):r.readAsArrayBuffer(e),r.onload=function(e){var t;n((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||null)}}))},To=n(1),Mo=Object(g.c)((function(){var e=Object(u.useState)(!1),t=Object(ho.a)(e,2),n=t[0],r=t[1],o=so(),i=o.fonts,l=o.addFont,a=o.removeFont,c=Object(O.b)().enqueueSnackbar;return Object(To.jsxs)("div",{children:[Object(To.jsx)(go.a,{dense:!0,disablePadding:!0,children:i.map((function(e){return Object(To.jsxs)(Oo.a,{disableGutters:!0,divider:!0,dense:!0,children:[Object(To.jsx)(wo.a,{primary:e.family}),Object(To.jsx)(mo.a,{children:Object(To.jsx)(jo.a,{edge:"end","aria-label":"delete",onClick:function(){return a(e)},children:Object(To.jsx)(Po.a,{})})})]},e.family)}))}),Object(To.jsxs)(yo.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:n?Object(To.jsx)(to.a,{size:22,color:"inherit"}):Object(To.jsx)(xo.a,{}),disabled:n,children:["Add Font File",Object(To.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(r(!0),So(t).then((function(t){t instanceof ArrayBuffer?(e.target.value="",l(t).then((function(){return r(!1)})).catch((function(e){r(!1),c(e.message,{variant:"error"}),bo.b(e)}))):r(!1)})))}},accept:".ttf,.otf,.woff"})]})]})})),Io=n(544),Co=n(543),Ao=function(e){var t=e.before,n=e.children,r=e.component,o=e.after,i=e.childrenWidth;return Object(To.jsxs)(Co.a,{component:r||"label",container:!0,spacing:2,wrap:"nowrap",justifyContent:"center",alignItems:"center",children:[Object(To.jsx)(Co.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(To.jsx)(po.a,{noWrap:!0,align:"right",children:t})}),Object(To.jsx)(Co.a,{item:!0,xs:i||5,children:n}),Object(To.jsx)(Co.a,{item:!0,xs:!0,children:"object"===typeof o?o:Object(To.jsx)(po.a,{noWrap:!0,variant:"caption",children:o})})]})},No=Object(g.c)((function(){var e=so(),t=e.size,n=e.setSize;return Object(To.jsx)(Ao,{before:"Font Size:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),zo=Object(g.c)((function(){var e=so(),t=e.lineHeight,n=e.setLineHeight;return Object(To.jsx)(Ao,{before:"Line Height:",after:"multiple",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:.5,step:.1},onChange:function(e){n(Number(e.target.value))}})})})),Fo=function(){return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Font"})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Mo,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(No,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(zo,{})})]})},Bo=n(568),Lo=Object(g.c)((function(){var e=ao(),t=e.text,n=e.setText,r=Object(u.useState)(!1),o=Object(ho.a)(r,2),i=o[0],l=o[1],a=Object(u.useState)(t),c=Object(ho.a)(a,2),s=c[0],f=c[1],p=Object(u.useCallback)((function(){f(t),l(!0)}),[t]);return Object(u.useEffect)((function(){f(t)}),[t]),Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Glyphs"})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Bo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,o=Array.from(new Set(r.split(""))).join("");i?f(r):(f(o),o!==t&&n(o))},onCompositionStart:p,onCompositionEnd:function(){l(!1);var e=Array.from(new Set(s.split(""))).join("");f(e),e!==t&&n(e)}})})]})})),Eo=Object(g.c)((function(){var e=lo(),t=e.padding,n=e.setPadding;return Object(To.jsx)(Ao,{before:"Padding:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),Do=Object(g.c)((function(){var e=lo(),t=e.spacing,n=e.setSpacing;return Object(To.jsx)(Ao,{before:"Spacing:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),Go=n(570),Xo=Object(g.c)((function(){var e=lo(),t=e.auto,n=e.setAuto;return Object(To.jsx)(Ao,{before:"Auto Pack:",children:Object(To.jsx)(Go.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),Jo=Object(g.c)((function(){var e=lo(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(To.jsx)(Ao,{before:"Fixed Size:",children:Object(To.jsx)(Go.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),Yo=Object(g.c)((function(){var e=lo(),t=e.width,n=e.auto,r=e.fixedSize,o=e.setWidth;return Object(To.jsx)(Ao,{before:r?"Width:":"Max Width:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),$o=Object(g.c)((function(){var e=lo(),t=e.height,n=e.auto,r=e.fixedSize,o=e.setHeight;return Object(To.jsx)(Ao,{before:r?"Height:":"Max Height:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),Ho=function(){return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Layout"})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Eo,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Do,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Xo,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Jo,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Yo,{})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)($o,{})})]})},Ro=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset,a=function(e){return function(t){return e(Number(t.target.value))}};return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"xAdvance:",after:"px",children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",onChange:a(o)})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"xOffset:",after:"px",children:Object(To.jsx)(Io.a,{value:n,fullWidth:!0,type:"number",onChange:a(i)})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"yOffset:",after:"px",children:Object(To.jsx)(Io.a,{value:r,fullWidth:!0,type:"number",onChange:a(l)})})})]})},Wo=Object(g.c)((function(){var e=ao().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Global Metric Adjustment"})}),Object(To.jsx)(Ro,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:o,setXOffset:i,setYOffset:l})]})})),Uo=Object(no.a)((function(){return Object(ro.a)({root:{overflow:"hidden",width:"256px"}})})),Vo=function(){var e=Uo();return Object(To.jsxs)(Zr.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(To.jsx)(Zr.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(To.jsx)(po.a,{variant:"subtitle2",children:"Font Config"})}),Object(To.jsxs)(Zr.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(To.jsx)(Lo,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(Fo,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(Ho,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(Wo,{})]})]})},qo=n(259),Ko=n.n(qo),Qo=n(60),_o=Object(g.c)((function(e){var t=e.className,n=io().addProject,r=Object(u.useCallback)((function(e){return e.preventDefault(),n(),!1}),[n]);return Object(u.useEffect)((function(){return Qo.a.unbind("alt+n,control+n"),Object(Qo.a)("alt+n,control+n",r),function(){Qo.a.unbind("alt+n,control+n")}}),[r]),Object(To.jsx)(yo.a,{className:t,title:"New Project (ALT + N)",onClick:r,children:"New"})}));var Zo=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(Le.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0},ei=function(){return new Uint8Array([].concat(Object(Le.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,1,0]))};function ti(e){if(!(e instanceof ArrayBuffer)||e.byteLength<17)return 0;var t=ei(),n=t.slice(0,t.byteLength-3),r=new Uint8Array(e).slice(0,t.byteLength),o=r.slice(r.byteLength-3),i=!0;return n.forEach((function(e,t){r[t]!==e&&(i=!1)})),i?Zo(Array.from(o)):0}var ni=function(e){return ti(e)>0},ri=n(13),oi=ri.Reader,ii=ri.Writer,li=ri.util,ai={},ci=ai.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!li.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!li.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!li.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof ai.Metric)return e;var t=new ai.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),si=ai.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!li.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!li.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!li.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof ai.GradientColor)return e;var t=new ai.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),ui=ai.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=li.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=ii.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)ai.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(ai.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!li.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=ai.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof ai.Gradient)return e;var t=new ai.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=ai.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=ai.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),fi=ai.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=li.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||li.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!li.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof ai.PatternTexture)return e;var t=new ai.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?li.base64.decode(e.buffer,t.buffer=li.newBuffer(li.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=li.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?li.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),pi=ai.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&ai.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&ai.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=ai.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=ai.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!li.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!li.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=ai.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=ai.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!li.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!li.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!li.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof ai.Fill)return e;var t=new ai.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=ai.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=ai.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=ai.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=ai.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),di=ai.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=li.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||li.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!li.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!li.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!li.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof ai.Font)return e;var t=new ai.Font;return null!=e.font&&("string"===typeof e.font?li.base64.decode(e.font,t.font=li.newBuffer(li.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=li.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?li.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),hi=ai.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=li.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=ii.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&ai.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ai.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=ai.Metric.decode(e,e.uint32());break;case 3:i.kerning===li.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!li.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=ai.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!li.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!li.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof ai.GlyphFont)return e;var t=new ai.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=ai.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=ai.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),bi=ai.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=li.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=li.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=ii.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&ai.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ai.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=ai.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===li.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!li.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=ai.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||li.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!li.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!li.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!li.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!li.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof ai.GlyphImage)return e;var t=new ai.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=ai.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?li.base64.decode(e.buffer,t.buffer=li.newBuffer(li.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=li.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=ai.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?li.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),yi=ai.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.power=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.power&&Object.hasOwnProperty.call(e,"power")&&t.uint32(24).bool(e.power),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.power=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!li.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!li.isInteger(e.spacing)?"spacing: integer expected":null!=e.power&&e.hasOwnProperty("power")&&"boolean"!==typeof e.power?"power: boolean expected":null},e.fromObject=function(e){if(e instanceof ai.Layout)return e;var t=new ai.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.power&&(t.power=Boolean(e.power)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.power=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.power&&e.hasOwnProperty("power")&&(n.power=e.power),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),gi=ai.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!li.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!li.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!li.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!li.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof ai.Shadow)return e;var t=new ai.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Oi=ai.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&ai.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&ai.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&ai.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&ai.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=ai.Font.decode(e,e.uint32());break;case 2:r.fill=ai.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=ai.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=ai.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=ai.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=ai.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=ai.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=ai.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!li.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof ai.Style)return e;var t=new ai.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=ai.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=ai.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=ai.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=ai.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=ai.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=ai.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=ai.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=ai.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),ji=ai.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=ii.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ai.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!li.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof ai.Ui)return e;var t=new ai.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),wi=ai.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=li.Long?li.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=li.emptyObject,e.prototype.glyphImages=li.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=ii.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),ai.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)ai.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&ai.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&ai.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&ai.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&ai.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof oi||(e=oi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ai.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===li.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=ai.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(ai.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=ai.Style.decode(e,e.uint32());break;case 7:i.layout=ai.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=ai.Metric.decode(e,e.uint32());break;case 9:i.ui=ai.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof oi||(e=new oi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!li.isInteger(e.id)&&!(e.id&&li.isInteger(e.id.low)&&li.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!li.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!li.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!li.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=ai.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=ai.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=ai.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=ai.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=ai.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=ai.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof ai.Project)return e;var t=new ai.Project;if(null!=e.id&&(li.Long?(t.id=li.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new li.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=ai.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=ai.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=ai.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=ai.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=ai.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=ai.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(li.Long){var o=new li.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?li.Long.prototype.toString.call(e.id):t.longs===Number?new li.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=ai.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=ai.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=ai.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=ai.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=ai.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=ai.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}();function mi(e){var t=e;return t.layout=Object(y.a)({},e.layout),t.layout.width=1024,t.layout.height=1024,t.layout.auto=!0,t.layout.fixedSize=!1,t}var vi=ri.Reader,xi=ri.Writer,ki=ri.util,Pi={},Si=Pi.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!ki.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!ki.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!ki.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Pi.Metric)return e;var t=new Pi.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ti=Pi.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!ki.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!ki.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!ki.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Pi.GradientColor)return e;var t=new Pi.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Mi=Pi.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=ki.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=xi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Pi.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Pi.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ki.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Pi.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Pi.Gradient)return e;var t=new Pi.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Pi.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Pi.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ii=Pi.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=ki.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ki.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!ki.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Pi.PatternTexture)return e;var t=new Pi.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?ki.base64.decode(e.buffer,t.buffer=ki.newBuffer(ki.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=ki.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?ki.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ci=Pi.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Pi.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Pi.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Pi.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Pi.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ki.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!ki.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Pi.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Pi.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!ki.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!ki.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!ki.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Pi.Fill)return e;var t=new Pi.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Pi.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Pi.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Pi.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Pi.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ai=Pi.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=ki.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||ki.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!ki.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!ki.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!ki.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Pi.Font)return e;var t=new Pi.Font;return null!=e.font&&("string"===typeof e.font?ki.base64.decode(e.font,t.font=ki.newBuffer(ki.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=ki.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?ki.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ni=Pi.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=ki.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=xi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Pi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Pi.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Pi.Metric.decode(e,e.uint32());break;case 3:i.kerning===ki.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ki.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Pi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ki.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ki.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Pi.GlyphFont)return e;var t=new Pi.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Pi.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Pi.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),zi=Pi.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=ki.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=ki.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=xi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Pi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Pi.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Pi.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===ki.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ki.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Pi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ki.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!ki.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!ki.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ki.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ki.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Pi.GlyphImage)return e;var t=new Pi.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Pi.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?ki.base64.decode(e.buffer,t.buffer=ki.newBuffer(ki.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=ki.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Pi.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?ki.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Fi=Pi.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!ki.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!ki.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!ki.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!ki.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Pi.Layout)return e;var t=new Pi.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Bi=Pi.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!ki.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!ki.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!ki.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!ki.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Pi.Shadow)return e;var t=new Pi.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Li=Pi.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Pi.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Pi.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Pi.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Pi.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Pi.Font.decode(e,e.uint32());break;case 2:r.fill=Pi.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Pi.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Pi.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Pi.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Pi.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Pi.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Pi.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!ki.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Pi.Style)return e;var t=new Pi.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Pi.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Pi.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Pi.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Pi.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Pi.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Pi.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Pi.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Pi.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ei=Pi.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=xi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pi.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!ki.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Pi.Ui)return e;var t=new Pi.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Di=Pi.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=ki.Long?ki.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=ki.emptyObject,e.prototype.glyphImages=ki.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=xi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Pi.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Pi.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Pi.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Pi.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Pi.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Pi.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof vi||(e=vi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Pi.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===ki.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Pi.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Pi.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Pi.Style.decode(e,e.uint32());break;case 7:i.layout=Pi.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Pi.Metric.decode(e,e.uint32());break;case 9:i.ui=Pi.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof vi||(e=new vi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!ki.isInteger(e.id)&&!(e.id&&ki.isInteger(e.id.low)&&ki.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!ki.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!ki.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!ki.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Pi.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Pi.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Pi.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Pi.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Pi.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Pi.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Pi.Project)return e;var t=new Pi.Project;if(null!=e.id&&(ki.Long?(t.id=ki.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new ki.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Pi.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Pi.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Pi.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Pi.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Pi.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Pi.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(ki.Long){var o=new ki.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?ki.Long.prototype.toString.call(e.id):t.longs===Number?new ki.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Pi.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Pi.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Pi.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Pi.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Pi.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Pi.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}();function Gi(e){var t,n,r,o,i,l;function a(e){var t=e.length-1;e.forEach((function(e,n){e.offset=1/t*n}))}return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.fill)||void 0===n||null===(r=n.gradient)||void 0===r?void 0:r.palette)&&e.style.fill.gradient.palette.length>0&&a(e.style.fill.gradient.palette),(null===e||void 0===e||null===(o=e.style)||void 0===o||null===(i=o.stroke)||void 0===i||null===(l=i.gradient)||void 0===l?void 0:l.palette)&&e.style.stroke.gradient.palette.length>0&&a(e.style.stroke.gradient.palette),e}var Xi=ri.Reader,Ji=ri.Writer,Yi=ri.util,$i={},Hi=$i.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Yi.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Yi.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Yi.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof $i.Metric)return e;var t=new $i.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ri=$i.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Yi.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof $i.GradientColor)return e;var t=new $i.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Wi=$i.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Yi.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ji.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)$i.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push($i.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Yi.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=$i.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof $i.Gradient)return e;var t=new $i.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=$i.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=$i.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ui=$i.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Yi.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Yi.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Yi.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof $i.PatternTexture)return e;var t=new $i.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Yi.base64.decode(e.buffer,t.buffer=Yi.newBuffer(Yi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Yi.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Yi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Vi=$i.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&$i.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&$i.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=$i.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=$i.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Yi.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=$i.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=$i.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Yi.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Yi.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Yi.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof $i.Fill)return e;var t=new $i.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=$i.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=$i.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=$i.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=$i.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),qi=$i.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Yi.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Yi.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Yi.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Yi.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Yi.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof $i.Font)return e;var t=new $i.Font;return null!=e.font&&("string"===typeof e.font?Yi.base64.decode(e.font,t.font=Yi.newBuffer(Yi.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Yi.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Yi.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Ki=$i.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Yi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ji.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&$i.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new $i.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=$i.Metric.decode(e,e.uint32());break;case 3:i.kerning===Yi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Yi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=$i.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Yi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Yi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof $i.GlyphFont)return e;var t=new $i.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=$i.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=$i.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Qi=$i.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Yi.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Yi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ji.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&$i.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new $i.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=$i.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Yi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Yi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=$i.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Yi.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Yi.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Yi.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Yi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Yi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof $i.GlyphImage)return e;var t=new $i.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=$i.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Yi.base64.decode(e.buffer,t.buffer=Yi.newBuffer(Yi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Yi.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=$i.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Yi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),_i=$i.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Yi.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Yi.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Yi.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Yi.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof $i.Layout)return e;var t=new $i.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),Zi=$i.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Yi.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Yi.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Yi.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof $i.Shadow)return e;var t=new $i.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),el=$i.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&$i.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&$i.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&$i.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&$i.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=$i.Font.decode(e,e.uint32());break;case 2:r.fill=$i.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=$i.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=$i.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=$i.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=$i.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=$i.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=$i.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Yi.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof $i.Style)return e;var t=new $i.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=$i.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=$i.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=$i.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=$i.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=$i.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=$i.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=$i.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=$i.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),tl=$i.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ji.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new $i.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Yi.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof $i.Ui)return e;var t=new $i.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),nl=$i.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Yi.Long?Yi.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Yi.emptyObject,e.prototype.glyphImages=Yi.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ji.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),$i.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)$i.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&$i.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&$i.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&$i.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&$i.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Xi||(e=Xi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new $i.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Yi.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=$i.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push($i.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=$i.Style.decode(e,e.uint32());break;case 7:i.layout=$i.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=$i.Metric.decode(e,e.uint32());break;case 9:i.ui=$i.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Xi||(e=new Xi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Yi.isInteger(e.id)&&!(e.id&&Yi.isInteger(e.id.low)&&Yi.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Yi.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Yi.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Yi.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=$i.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=$i.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=$i.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=$i.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=$i.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=$i.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof $i.Project)return e;var t=new $i.Project;if(null!=e.id&&(Yi.Long?(t.id=Yi.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Yi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=$i.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=$i.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=$i.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=$i.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=$i.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=$i.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Yi.Long){var o=new Yi.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Yi.Long.prototype.toString.call(e.id):t.longs===Number?new Yi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=$i.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=$i.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=$i.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=$i.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=$i.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=$i.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}();function rl(e){var t,n;return(null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(e.style.font.fonts=[{font:e.style.font.font}]),e}var ol=ri.Reader,il=ri.Writer,ll=ri.util,al=ri.roots.default||(ri.roots.default={}),cl=(al.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!ll.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!ll.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!ll.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof al.Metric)return e;var t=new al.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!ll.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!ll.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof al.GradientColor)return e;var t=new al.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=ll.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=il.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)al.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(al.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ll.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=al.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof al.Gradient)return e;var t=new al.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=al.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=al.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=ll.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ll.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!ll.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof al.PatternTexture)return e;var t=new al.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?ll.base64.decode(e.buffer,t.buffer=ll.newBuffer(ll.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=ll.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?ll.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&al.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&al.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=al.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=al.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!ll.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!ll.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=al.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=al.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!ll.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!ll.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!ll.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof al.Fill)return e;var t=new al.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=al.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=al.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=al.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=al.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=ll.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.FontResource;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.font=e.bytes();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||ll.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof al.FontResource)return e;var t=new al.FontResource;return null!=e.font&&("string"===typeof e.font?ll.base64.decode(e.font,t.font=ll.newBuffer(ll.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=ll.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?ll.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=ll.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=il.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)al.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(al.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=al.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!ll.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!ll.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof al.Font)return e;var t=new al.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=al.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=al.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=ll.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=il.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&al.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new al.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=al.Metric.decode(e,e.uint32());break;case 3:i.kerning===ll.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ll.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=al.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ll.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ll.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof al.GlyphFont)return e;var t=new al.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=al.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=al.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=ll.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=ll.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=il.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&al.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new al.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=al.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===ll.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!ll.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=al.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||ll.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!ll.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!ll.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!ll.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!ll.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof al.GlyphImage)return e;var t=new al.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=al.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?ll.base64.decode(e.buffer,t.buffer=ll.newBuffer(ll.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=ll.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=al.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?ll.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!ll.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!ll.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!ll.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!ll.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof al.Layout)return e;var t=new al.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!ll.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!ll.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!ll.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!ll.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof al.Shadow)return e;var t=new al.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&al.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&al.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&al.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&al.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=al.Font.decode(e,e.uint32());break;case 2:r.fill=al.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=al.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=al.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=al.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=al.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=al.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=al.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!ll.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof al.Style)return e;var t=new al.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=al.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=al.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=al.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=al.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=al.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=al.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=al.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=al.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=il.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new al.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!ll.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof al.Ui)return e;var t=new al.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}(),al.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=ll.Long?ll.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=ll.emptyObject,e.prototype.glyphImages=ll.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=il.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),al.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)al.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&al.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&al.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&al.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&al.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof ol||(e=ol.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new al.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===ll.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=al.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(al.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=al.Style.decode(e,e.uint32());break;case 7:i.layout=al.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=al.Metric.decode(e,e.uint32());break;case 9:i.ui=al.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof ol||(e=new ol(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!ll.isInteger(e.id)&&!(e.id&&ll.isInteger(e.id.low)&&ll.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!ll.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!ll.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!ll.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=al.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=al.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=al.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=al.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=al.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=al.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof al.Project)return e;var t=new al.Project;if(null!=e.id&&(ll.Long?(t.id=ll.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new ll.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=al.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=al.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=al.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=al.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=al.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=al.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(ll.Long){var o=new ll.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?ll.Long.prototype.toString.call(e.id):t.longs===Number?new ll.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=al.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=al.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=al.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=al.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=al.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=al.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,ri.util.toJSONOptions)},e}());var sl={1e6:r,1000001:o,1000002:i},ul=Object.keys(sl).map((function(e){return"".concat(Number(e))})).sort();var fl=function(e,t){return ul.forEach((function(n){t<=n&&sl[n]&&sl[n].updateToNext(e)})),e};function pl(e){var t=ei(),n=function(e){return e.style.font.fonts&&e.style.font.fonts.length&&e.style.font.fonts.forEach((function(e){return e.font=new Uint8Array(e.font)})),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer)),cl.encode(cl.create(e)).finish()}(e),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(t,0),r.set(n,t.byteLength),r}var dl={ext:".sbf",check:ni,decode:function(e){var t;if(!(e instanceof ArrayBuffer))throw new Error("unknow file");var n=ti(e);if(0===n)throw new Error("unknow file");var r=ei(),o=new Uint8Array(e),i=o.slice(0,r.byteLength),l=(null===(t=sl[n])||void 0===t?void 0:t.Project)||cl;console.log(sl,n,l);var a=l.decode(o.slice(i.byteLength));return console.log(a),function(e){var t,n,r,o,i,l,a,c,s=e,u=new Map;return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.fonts)&&e.style.font.fonts.forEach((function(e,t){e.font&&(s.style.font.fonts[t].font=e.font.slice().buffer)})),(null===e||void 0===e?void 0:e.glyphImages)&&e.glyphImages.forEach((function(e,t){if(e.buffer&&(s.glyphImages[t].buffer=e.buffer.slice().buffer),e.kerning){var n=new Map;Object.keys(e.kerning).forEach((function(t){e&&e.kerning&&e.kerning[t]&&n.set(t,e.kerning[t]||0)})),e.kerning=n}})),(null===e||void 0===e?void 0:e.glyphs)&&(Object.keys(e.glyphs).forEach((function(t){if(e&&e.glyphs&&e.glyphs[t]){var n=e.glyphs[t],r=new Map;n&&n.kerning&&Object.keys(n.kerning).forEach((function(e){n.kerning&&r.set(e,n.kerning[e]||0)})),u.set(t,Object(y.a)(Object(y.a)({},n),{},{kerning:r}))}})),s.glyphs=u),(null===e||void 0===e||null===(r=e.style)||void 0===r||null===(o=r.fill)||void 0===o||null===(i=o.patternTexture)||void 0===i?void 0:i.buffer)&&(s.style.fill.patternTexture.buffer=e.style.fill.patternTexture.buffer.slice().buffer),(null===e||void 0===e||null===(l=e.style)||void 0===l||null===(a=l.stroke)||void 0===a||null===(c=a.patternTexture)||void 0===c?void 0:c.buffer)&&(s.style.stroke.patternTexture.buffer=e.style.stroke.patternTexture.buffer.slice().buffer),s}(fl(a,n))}},hl=n(549),bl=n(257),yl={properties:{glow:{properties:{quality:{type:"float32"},colors:{elements:{type:"float32"}},glowEnabled:{type:"boolean"},alphas:{elements:{type:"float32"}},ratios:{elements:{type:"float32"}},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},strength:{type:"float32"},distance:{type:"float32"}}},fill:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},textureScale:{type:"float32"},distanceFieldEnabled:{type:"boolean"},distanceFieldColor:{type:"float32"},gradientColors:{elements:{type:"float32"}},distanceFieldDownscale:{type:"float32"},distanceFieldSpread:{type:"float32"},distanceFieldType:{enum:["Type 1","Type 2"]},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},settings:{properties:{postfixes:{type:"string"},filename:{type:"string"},scalings:{type:"string"}}},shadow:{properties:{quality:{type:"float32"},color:{type:"float32"},strength:{type:"float32"},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},shadowEnabled:{type:"boolean"},alpha:{type:"float32"},distance:{type:"float32"}}},stroke:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},pixelHinting:{type:"boolean"},textureScale:{type:"float32"},gradientColors:{elements:{type:"float32"}},strokeEnabled:{type:"boolean"},miterLimit:{type:"float32"},jointStyle:{enum:["miter","bevel","round"]},size:{type:"float32"},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},background:{properties:{color:{type:"float32"},alpha:{type:"float32"}}},bevel:{properties:{bevelEnabled:{type:"boolean"},highlightColor:{type:"float32"},highlightAlpha:{type:"float32"},quality:{type:"float32"},angle:{type:"float32"},shadowColor:{type:"float32"},shadowAlpha:{type:"float32"},blurX:{type:"float32"},blurY:{type:"float32"},type:{enum:["inner","outer","full"]},strength:{type:"float32"},distance:{type:"float32"}}},glyphs:{properties:{glyphs:{type:"string"},powerOfTwo:{type:"boolean"},canvasHeight:{type:"string"},padding:{type:"float32"},packMethod:{type:"float32"},canvasWidth:{type:"string"},roundValues:{type:"boolean"},descriptionFormat:{type:"float32"}}},font:{properties:{size:{type:"float32"},spacing:{type:"float32"}},optionalProperties:{data:{type:"string"}}}},optionalProperties:{fallbackfont:{type:"string"}}},gl=(new(n.n(bl).a)).compile(yl),Ol=function(e){var t;if("string"===typeof e)try{t=JSON.parse(e)}catch(o){return!1}if("object"!==typeof t)return!1;var n,r=gl(t);r||(null===(n=gl.errors)||void 0===n||n.forEach((function(e){bo.a({category:"littera",message:"Littera validate error",level:hl.a.Info,data:e})})),bo.c("Littera validate error"));return r},jl=n(100),wl=n.n(jl);function ml(e){var t={};return"gradientFill"===e.fillType?e.gradientColors.length<2?(t.type=lt.SOLID,t.color=wl()(e.gradientColors[0]).alpha(e.gradientAlphas[0]).hex()):(t.type=lt.GRADIENT,t.gradient={},t.gradient.palette=[],t.gradient.type="radial"===e.gradientType?Ne.RADIAL:Ne.LINEAR,e.gradientColors.forEach((function(n,r){t.gradient.palette.push({id:r+1,color:wl()(n).alpha(e.gradientAlphas[r]).hex(),offset:e.gradientRatios[r]/255})})),t.gradient.angle=e.gradientRotation):(t.patternTexture={scale:e.textureScale},e.texture&&(t.patternTexture.buffer=Ke(e.texture))),t}var vl=function(e){if(!Ol(e))throw new Error("unknow file");"string"===typeof e&&(e=JSON.parse(e));var t=e,n={};n.text=t.glyphs.glyphs,n.glyphs=new Map,t.glyphs.glyphs.split("").forEach((function(e){var t;return null===(t=n.glyphs)||void 0===t?void 0:t.set(e,{letter:e})}));var r={};r.size=t.font.size,t.font.data&&(r.fonts=[],r.fonts.push({font:Ke(t.font.data)}),t.fallbackfont&&r.fonts.push({font:Ke(t.fallbackfont)}));var o=ml(t.fill),i={};i.width=t.stroke.size,i.lineJoin=t.stroke.jointStyle,Object.assign(i,ml(t.stroke));var l={};return l.color=wl()(t.shadow.color).alpha(t.shadow.alpha).hex(),l.blur=t.shadow.quality+t.shadow.blurX-t.shadow.strength,l.offsetX=Math.round(Math.cos(t.shadow.angle*Math.PI/180)*t.shadow.distance),l.offsetY=Math.round(Math.sin(t.shadow.angle*Math.PI/180)*t.shadow.distance),n.style={font:r,fill:o,useStroke:t.stroke.strokeEnabled,stroke:i,useShadow:t.shadow.shadowEnabled,shadow:l},n.layout={},n.layout.padding=t.glyphs.padding,isNaN(Number(t.glyphs.canvasWidth))||(n.layout.width=Number(t.glyphs.canvasWidth)),isNaN(Number(t.glyphs.canvasHeight))||(n.layout.width=Number(t.glyphs.canvasHeight)),n.layout.width&&n.layout.height&&(n.layout.auto=!1,n.layout.fixedSize=!0),n},xl=[dl,{ext:".ltr",check:Ol,decode:vl}];var kl=function(e){var t=xl.find((function(t){return t.check(e)}));if(!t)throw new Error("unknow file");return t.decode(e)},Pl=Object(g.c)((function(e){var t=e.className,n=Object(O.b)().enqueueSnackbar,r=io(),o=Object(u.useRef)(null),i=r.addProject;return Object(To.jsxs)(yo.a,{className:t,title:"Open Project (\u2318 + O)",component:"label",ref:o,children:["Open",Object(To.jsx)("input",{type:"file",onChange:function(e){var t;if((null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]){var r=e.target.files[0],o=/\.ltr$/.test(r.name);So(r,o).then((function(t){try{var o=kl(t);o.name||(o.name=r.name),i(o)}catch(e){console.log(e),bo.b(e),n(e.toString(),{variant:"error"})}}))}},accept:".sbf,.ltr",hidden:!0})]})})),Sl=n(161),Tl=Object(g.c)((function(e){var t=e.className,n=Object(O.b)().enqueueSnackbar,r=io().currentProject,o=Object(u.useCallback)((function(e){e.preventDefault();try{var t=pl(Object(m.H)(r));Object(Sl.saveAs)(new Blob([t]),"".concat(r.name,".sbf"))}catch(e){bo.b(e),n(e.message)}}),[n,r]);return Object(u.useEffect)((function(){return Qo.a.unbind("ctrl+s"),Object(Qo.a)("ctrl+s",o),function(){Qo.a.unbind("ctrl+s")}}),[o]),Object(To.jsx)(yo.a,{className:t,title:"Save Project (\u2318 + S)",onClick:o,children:"Save"})})),Ml=n(550),Il=n(551),Cl=n(552),Al=n(554),Nl=n(567),zl=n(553);function Fl(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}var Bl={type:"TEXT",exts:["fnt","txt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l="";return l+=Fl('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(y.a)(Object(y.a)({},t),{},{charset:t.charset||'""'})),l+=Fl("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){l+=Fl('page id=$id$ file="$file$"\n',e)})),l+=Fl("chars count=$count$\n",o),o.list.forEach((function(e){l+=Fl("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),i.count&&(l+=Fl("kernings count=$count$\n",i),i.list.forEach((function(e){l+=Fl("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),l}},Ll={type:"XML",exts:["xml","fnt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l=new DOMParser,a=document.implementation.createDocument("","font",null),c=l.parseFromString(Fl('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");a.documentElement.appendChild(c.childNodes[0]);var s=l.parseFromString(Fl('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");a.documentElement.appendChild(s.childNodes[0]);var u=l.parseFromString("<pages>".concat(r.map((function(e){return Fl('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");a.documentElement.appendChild(u.childNodes[0]);var f=l.parseFromString(Fl('<chars count="$count$" />',o),"text/xml");if(o.list.forEach((function(e){var t=l.parseFromString(Fl('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(f.childNodes[0]),i.count){var p=l.parseFromString(Fl('<kernings count="$count$" />',i),"text/xml");i.list.forEach((function(e){var t=l.parseFromString(Fl('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(a))}};function El(e){var t=e.name,n=e.style,r=e.layout,o=e.globalAdjustMetric,i=e.glyphList,l=e.ui,a=l.width,c=l.height,s=n.font,u=s.opentype,f=s.size,p=1;u&&(p=1/u.unitsPerEm*f);var d={face:n.font.mainFamily,size:n.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(r.padding),spacing:new Array(2).fill(r.spacing)},h={lineHeight:n.font.size,base:n.font.size,scaleW:a,scaleH:c,pages:1,packed:0},b=[{id:0,file:"".concat(t,".png")}],y={count:i.length,list:[]},g={count:0,list:[]};return i.forEach((function(e){var t=!(!e.width||!e.height);y.list.push({letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*r.padding:0,height:t?e.height+2*r.padding:0,xoffset:o.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0),yoffset:o.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0),xadvance:Math.ceil(e.fontWidth)+o.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15}),u?i.forEach((function(t){var n=t.letter,r=Math.round(u.getKerningValue(u.charToGlyphIndex(e.letter),u.charToGlyphIndex(n))*p+(e.kerning.get(n)||0));r&&g.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&g.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),g.count=g.list.length,y.list.sort((function(e,t){return e.id-t.id})),{info:d,common:h,pages:b,chars:y,kernings:g}}var Dl=n(258),Gl=n.n(Dl);var Xl=[];[Bl,Ll].forEach((function(e){var t=e.type,n=e.exts,r=e.getString;n.forEach((function(e){Xl.push({id:t+e,ext:e,type:t,getString:r})}))}));var Jl=Object(g.c)((function(e){var t=e.className,n=ao(),r=n.name,o=n.ui.setShowPreview,i=Object(u.useState)(!1),l=Object(ho.a)(i,2),a=l[0],c=l[1],s=Object(u.useState)(Xl),f=Object(ho.a)(s,1)[0],p=Object(u.useState)(0),d=Object(ho.a)(p,2),h=d[0],b=d[1],y=Object(u.useCallback)((function(){o(!1),c(!0)}),[o]),g=function(){c(!1)},O=Object(u.useCallback)((function(){!function(e,t){var n=new Gl.a,r=e.packCanvas,o=e.name,i=El(e),l=t.getString(i);n.file("".concat(o,".").concat(t.ext),l),r&&r.toBlob((function(e){e&&n.file("".concat(o,".png"),e),n.generateAsync({type:"blob"}).then((function(e){return Object(Sl.saveAs)(e,"".concat(o,".zip"))}))}))}(n,f[h]),g()}),[f,n,h]);return Object(u.useEffect)((function(){return Qo.a.unbind("ctrl+shift+s,command+shift+s"),Object(Qo.a)("ctrl+shift+s,command+shift+s",y),function(){Qo.a.unbind("ctrl+shift+s,command+shift+s")}}),[y]),Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(yo.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:y,children:"Export"}),Object(To.jsxs)(Ml.a,{onClose:g,open:a,fullWidth:!0,maxWidth:"xs",children:[Object(To.jsx)(Il.a,{children:"Export Config"}),Object(To.jsx)(Cl.a,{dividers:!0,children:Object(To.jsx)(Ao,{before:"Export Type:",childrenWidth:8,children:Object(To.jsx)(Nl.a,{displayEmpty:!0,value:h,onChange:function(e){b(e.target.value)},children:f.map((function(e,t){return Object(To.jsx)(zl.a,{value:t,children:"".concat(r,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})}),Object(To.jsx)(Al.a,{children:Object(To.jsx)(yo.a,{autoFocus:!0,onClick:O,color:"default",children:"Save"})})]})]})})),Yl=Object(no.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(ro.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),$l=function(){var e=Yl();return Object(To.jsxs)(Zr.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(To.jsxs)(po.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(To.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(To.jsxs)(Zr.a,{flex:"auto",paddingX:4,children:[Object(To.jsx)(_o,{className:e.btn}),Object(To.jsx)(Pl,{className:e.btn}),Object(To.jsx)(Tl,{className:e.btn}),Object(To.jsx)(Jl,{className:e.btn})]}),Object(To.jsx)(jo.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(To.jsx)(Ko.a,{})})]})},Hl=n(569),Rl=n(578),Wl=n(556),Ul=n(537),Vl=n(271),ql=n(40),Kl=n(555),Ql=Object(no.a)((function(e){var t=e.palette;return Object(ro.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),_l=function(e){var t=e.open,n=e.anchorEl,r=e.color,o=e.onChange,i=e.placement,l=Ql(),a=function(){var e=Object(ql.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(To.jsx)(Kl.a,{open:!!t,anchorEl:n,placement:i||"bottom",style:{zIndex:999999},children:Object(To.jsx)(Vl.a,{color:r,styles:a,className:l.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;o&&o("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},Zl=Object(no.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(ro.a)({root:{overflow:"hidden"},swatch:Object(y.a)(Object(y.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),ea=function(e){var t=e.color,n=e.onChange,r=Zl(e),o=Object(u.useRef)(null),i=Object(u.useState)(!1),l=Object(ho.a)(i,2),a=l[0],c=l[1];return Object(To.jsx)(Ul.a,{mouseEvent:"onMouseDown",onClickAway:function(){return c(!1)},children:Object(To.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:o,children:[Object(To.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return c(!a)}}),Object(To.jsx)(_l,{open:a,anchorEl:o.current,color:t||"#000000",onChange:n})]})})},ta=function(e){var t=e.color,n=e.onChange;return Object(To.jsx)(Ao,{before:"Color:",childrenWidth:3,children:Object(To.jsx)(ea,{color:t,onChange:n})})},na=n(7),ra=n(275),oa=["left","top","color","isActive","className"],ia=Object(no.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(ro.a)({root:Object(y.a)(Object(y.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),la=function(e){var t=e.left,n=e.top,r=e.color,o=e.isActive,i=e.className,l=Object(ra.a)(e,oa),a=ia({left:t,top:n,color:r,isActive:o});return Object(To.jsx)("div",Object(y.a)(Object(y.a)({className:Object(na.a)(a.root,i)},l),{},{children:Object(To.jsx)("div",{className:a.color})}))},aa=Object(no.a)((function(){return Object(ro.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),ca=function(e){var t=e.className,n=e.palette,r=e.activeId,o=e.onAdd,i=e.onUpdate,l=e.onSelect,a=aa(e),c=Object(u.useState)(0),s=Object(ho.a)(c,2),f=s[0],p=s[1],d=Object(u.useState)({x:0,y:0,offset:0}),h=Object(ho.a)(d,2),b=h[0],g=h[1],O=Object(u.useState)(!1),j=Object(ho.a)(O,2),w=j[0],m=j[1],v=Object(u.useRef)(null);Object(u.useEffect)((function(){v.current&&p(v.current.clientWidth)}),[v]);var x=Object(u.useCallback)((function(e){if(w&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var o=Object(Le.a)(n);if(Math.abs(e.clientY-b.y)>50)i(o[t],!0);else{var l=o[t],a=Math.min(Math.max((e.clientX-b.x)/f+b.offset,0),1);o[t]=Object(y.a)(Object(y.a)({},l),{},{offset:a}),i({offset:a})}}}else m(!1)}),[r,w,i,n,b.offset,b.x,b.y,f]),k=Object(u.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),m(!1)}),[]);return Object(u.useEffect)((function(){return w?(window.addEventListener("mousemove",x),window.addEventListener("mouseup",k)):(window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)),function(){window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)}}),[x,k,w]),Object(To.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(na.a)(a.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/f;o(r),m(!0),g({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(To.jsx)(la,{left:f*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),g({x:e.clientX,y:e.clientY,offset:t.offset}),m(!0),l(t.id))}(t,e)}},e.id)}))})},sa=Object(no.a)((function(e){var t=e.bgPixel;return{root:Object(y.a)(Object(y.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),ua=function(e){var t=sa(e),n=e.palette,r=Object(u.useState)("palette_".concat(Math.random().toString().substr(2,9))),o=Object(ho.a)(r,1)[0],i=Object(Le.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(To.jsx)("div",{className:t.root,children:Object(To.jsxs)("svg",{className:t.svg,children:[Object(To.jsx)("defs",{children:Object(To.jsx)("linearGradient",{id:o,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:i.map((function(e){return Object(To.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(To.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(o,")")})]})})},fa=function(e){var t=e.children,n=e.palette,r=e.onUpdate,o=e.onAdd,i=Object(u.useRef)(null),l=Object(u.useState)(Object(Le.a)(n)),a=Object(ho.a)(l,2),c=a[0],s=a[1],p=Object(u.useState)(0),d=Object(ho.a)(p,2),h=d[0],b=d[1],g=Object(u.useState)(""),O=Object(ho.a)(g,2),j=O[0],w=O[1],m=Object(u.useState)(!1),v=Object(ho.a)(m,2),x=v[0],k=v[1];Object(u.useEffect)((function(){if(x){var e=n.map((function(e){return e.id})),t=c.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(Le.a)(e),Object(Le.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&b(r[0]),k((function(){return!1}))}}),[n,x,c]),Object(u.useEffect)((function(){s(Object(Le.a)(n))}),[n]),Object(u.useEffect)((function(){if(h){var e=n.find((function(e){return e.id===h}));e&&w(e.color)}}),[h,n]);var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h){var o=Object(Le.a)(n),i=o.findIndex((function(e){return e.id===h}));if(t)r([].concat(Object(Le.a)(o.slice(0,i)),Object(Le.a)(o.slice(i+1)))),b(0);else{var l=Object(y.a)(Object(y.a)({},o[i]),e);r([].concat(Object(Le.a)(o.slice(0,i)),[l],Object(Le.a)(o.slice(i+1))))}}};return Object(To.jsx)(Ul.a,{mouseEvent:"onMouseDown",onClickAway:function(){return b(0)},children:Object(To.jsxs)("div",{ref:i,children:[Object(To.jsx)(ua,{palette:n,height:"35px"}),Object(To.jsx)(ca,{palette:n,activeId:h,onAdd:function(e){var t,r,i=Object(Le.a)(n),l={offset:e,color:"#000"};if(b(0),i.forEach((function(e){e.offset<l.offset&&(!t||t.offset<e.offset)?t=e:(!r||r.offset>e.offset)&&(r=e)})),t&&r){var a=(l.offset-t.offset)/(r.offset-t.offset),c=wl()(t.color),s=wl()(r.color),u=(s.red()-c.red())*a+c.red(),f=(s.green()-c.green())*a+c.green(),p=(s.blue()-c.blue())*a+c.blue(),d=(s.alpha()-c.alpha())*a+c.alpha();l.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(l.color=(t||r).color);o(l),k(!0)},onUpdate:P,onSelect:function(e){return b(e||0)}}),t?f.a.cloneElement(t,{open:!!h||x,anchorEl:i.current,color:j,onChange:function(e){return P({color:e})}}):null]})})},pa=Object(no.a)((function(){return Object(ro.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),da=function(e){var t=e.onChange,n=Object(u.useRef)(null),r=Object(u.useState)(!1),o=Object(ho.a)(r,2),i=o[0],l=o[1],a=pa(e),c=Object(u.useCallback)((function(e){if(n.current){var r=e.clientX,o=e.clientY,i=n.current.getBoundingClientRect(),l=Math.atan2(o-(i.y+i.height/2),r-(i.x+i.width/2));t(Math.round(l*(180/Math.PI)))}}),[t]),s=Object(u.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),l(!1)}),[]);return Object(u.useEffect)((function(){return i?(window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)):(window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)),function(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}}),[c,s,i]),Object(To.jsx)("div",{"aria-hidden":!0,className:a.root,ref:n,onMouseDown:function(e){n.current&&(l(!0),c(e))},children:Object(To.jsx)("div",{className:a.point})})},ha=function(e){var t=e.angle,n=e.onChange;return Object(To.jsx)(Ao,{before:"Angle:",after:Object(To.jsx)(da,{width:24,angle:t,onChange:n}),children:Object(To.jsx)(Io.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},ba=Object(g.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,o=t.palette,i=t.addColor,l=t.updatePalette,a=t.setAngle,c=t.setType;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(ha,{angle:r,onChange:a})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Type:",component:"div",childrenWidth:8,children:Object(To.jsxs)(Rl.a,{row:!0,name:"type",value:n,onChange:function(e){return c(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(To.jsx)(Wl.a,{value:Ne.LINEAR,control:Object(To.jsx)(Hl.a,{size:"small",color:"default"}),label:"Linear"}),Object(To.jsx)(Wl.a,{value:Ne.RADIAL,control:Object(To.jsx)(Hl.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(fa,{palette:o,onAdd:function(e){return i(e.offset,e.color)},onUpdate:l,children:Object(To.jsx)(_l,{})})})]})})),ya=Object(no.a)((function(e){return Object(ro.a)({root:Object(y.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),ga=function(e){var t=e.src,n=e.onChange,r=ya();return Object(To.jsxs)(Zr.a,{component:"label",className:r.root,children:[Object(To.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&So(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(To.jsx)("img",{className:r.image,src:t,alt:""})]})},Oa=function(e){var t=e.patternTexture,n=t.src,r=t.scale,o=t.repetition,i=t.setRepetition,l=t.setScale,a=t.setImage;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{component:"div",before:"Scale:",after:Object(To.jsx)(ga,{src:n,onChange:a}),children:Object(To.jsx)(Io.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return l(Number(e.target.value))}})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Repeat:",children:Object(To.jsxs)(Nl.a,{value:o,onChange:function(e){return i(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(To.jsx)(zl.a,{value:"repeat",children:"Repeat"}),Object(To.jsx)(zl.a,{value:"repeat-x",children:"Repeat-x"}),Object(To.jsx)(zl.a,{value:"repeat-y",children:"Repeat-y"}),Object(To.jsx)(zl.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},ja=Object(g.c)((function(e){var t=e.config,n=t.type,r=t.color,o=t.gradient,i=t.patternTexture,l=t.setType,a=t.setColor;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsxs)(Rl.a,{row:!0,name:"type",value:n,onChange:function(e){return l(Number(e.target.value))},children:[Object(To.jsx)(Wl.a,{value:lt.SOLID,control:Object(To.jsx)(Hl.a,{size:"small",color:"default"}),label:"Solid"}),Object(To.jsx)(Wl.a,{value:lt.GRADIENT,control:Object(To.jsx)(Hl.a,{size:"small",color:"default"}),label:"Gradient"}),Object(To.jsx)(Wl.a,{value:lt.IMAGE,control:Object(To.jsx)(Hl.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(ta,{color:r,onChange:a})}):null,1===n?Object(To.jsx)(ba,{gradient:o}):null,2===n?Object(To.jsx)(Oa,{patternTexture:i,src:i.src,scale:i.scale}):null]})})),wa=Object(g.c)((function(){var e=co().fill;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Fill"})}),Object(To.jsx)(ja,{config:e})]})})),ma=n(557),va=n(558),xa=Object(no.a)((function(){return Object(ro.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),ka=Object(g.c)((function(){var e=xa(),t=co(),n=t.stroke,r=t.useStroke,o=t.setUseStroke,i=n.setWidth,l=n.lineJoin,a=n.setLineJoin,c=n.lineCap,s=n.setLineCap;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsxs)(Zr.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(To.jsx)(po.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(To.jsx)(ma.a,{size:"small",checked:r,onChange:function(e){return o(e.target.checked)}}),"On"]}),Object(To.jsxs)("div",{className:r?"":e.disabled,children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Width:",after:"px",children:Object(To.jsx)(Io.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return i(Number(e.target.value))}})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(To.jsxs)(va.a,{size:"small",color:"primary",children:[Object(To.jsx)(yo.a,{onClick:function(){return s("butt")},variant:"butt"===c?"contained":"outlined",children:"Butt"}),Object(To.jsx)(yo.a,{onClick:function(){return s("round")},variant:"round"===c?"contained":"outlined",children:"Round"}),Object(To.jsx)(yo.a,{onClick:function(){return s("square")},variant:"square"===c?"contained":"outlined",children:"Square"})]})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(To.jsxs)(va.a,{size:"small",color:"primary",children:[Object(To.jsx)(yo.a,{onClick:function(){return a("miter")},variant:"miter"===l?"contained":"outlined",children:"Miter"}),Object(To.jsx)(yo.a,{onClick:function(){return a("round")},variant:"round"===l?"contained":"outlined",children:"Round"}),Object(To.jsx)(yo.a,{onClick:function(){return a("bevel")},variant:"bevel"===l?"contained":"outlined",children:"Bevel"})]})})}),Object(To.jsx)(ja,{config:n})]})]})})),Pa=Object(no.a)((function(){return Object(ro.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Sa=Object(g.c)((function(){var e=co(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,o=t.setOffsetX,i=t.setOffsetY,l=t.setBlur,a=t.setColor,c=Pa();return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsxs)(Zr.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(To.jsx)(po.a,{component:"div",className:c.title,children:"Shadow"}),"Off",Object(To.jsx)(ma.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(To.jsxs)("div",{className:n?"":c.disabled,children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Offset X:",after:"px",children:Object(To.jsx)(Io.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Offset Y:",after:"px",children:Object(To.jsx)(Io.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Blur:",after:"px",children:Object(To.jsx)(Io.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return l(Number(e.target.value))}})})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(ta,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:a})})]})]})})),Ta=Object(g.c)((function(){var e=co(),t=e.bgColor,n=e.setBgColor;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Background Color"})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(ta,{color:t||"",onChange:n})})]})})),Ma=Object(no.a)((function(){return Object(ro.a)({root:{overflow:"hidden",width:"256px"}})})),Ia=function(){var e=Ma();return Object(To.jsxs)(Zr.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(To.jsx)(Zr.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(To.jsx)(po.a,{variant:"subtitle2",children:"Style Config"})}),Object(To.jsxs)(Zr.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(To.jsx)(wa,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(ka,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(Sa,{}),Object(To.jsx)(fo.a,{}),Object(To.jsx)(Ta,{})]})]})},Ca=n(265),Aa=n.n(Ca);var Na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(u.useCallback)(t,[t,n]),o=Object(u.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,o=e.deltaX,i=e.deltaY;if(t){var l=-.01;Math.abs(i)>50&&(l*=.1),r({deltaScale:i*l,deltaX:0,deltaY:0})}else{var a=-o,c=-i;0===o&&n&&Math.abs(i)>50&&(a=-i,c=0),r({deltaX:a,deltaY:c,deltaScale:0})}}),[r]);Object(u.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",o,{passive:!1}),function(){return t.removeEventListener("wheel",o)}}}),[e,o])},za={x:0,y:0};var Fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(u.useState)({ks:!1,ms:!1}),r=Object(ho.a)(n,2),o=r[0],i=r[1],l=Object(u.useMemo)((function(){return o.ks&&o.ms?2:o.ks?1:0}),[o.ks,o.ms]),a=Object(u.useCallback)(e,[e].concat(Object(Le.a)(t))),c=Object(u.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;o.ks!==t&&i((function(t){return Object(y.a)(Object(y.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[o.ks]),s=function(e){if(o.ks){var t=e.clientX,n=e.clientY;za.x=t,za.y=n,i((function(e){return Object(y.a)(Object(y.a)({},e),{},{ms:!0})}))}},f=Object(u.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=za.x,o=za.y;t-r===0&&n-o===0||(a({offsetX:t-r,offsetY:n-o}),za.x=t,za.y=n)}),[a]),p=Object(u.useCallback)((function(){i((function(e){return Object(y.a)(Object(y.a)({},e),{},{ms:!1})}))}),[]);return Object(u.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",c)}}),[c]),Object(u.useEffect)((function(){return o.ks&&o.ms?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",p)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p)),function(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p)}}),[p,f,o.ks,o.ms]),[l,s]},Ba=Object(no.a)((function(e){var t=e.bgPixel;return Object(ro.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(y.a)(Object(y.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),La=Object(g.c)((function(){var e=ao(),t=e.isPacking,n=e.ui,r=e.layout,o=r.padding,i=r.auto,l=r.fixedSize,a=r.width,c=r.height,s=e.glyphList,f=e.style.bgColor,p=e.packCanvas,d=e.setCanvas,h=n.width,b=n.height,y=n.scale,g=n.offsetX,O=n.offsetY,j=Object(u.useRef)(null),w=Object(u.useRef)(null),m=Fa((function(e){var t=e.offsetX,r=e.offsetY,o=n.scale,i=n.offsetX,l=n.offsetY;(0,n.setTransform)({offsetX:i+t/o,offsetY:l+r/o})}),[n]),v=Object(ho.a)(m,2),x=v[0],k=v[1],P=Ba({width:h,height:b,scale:y,offsetX:g,offsetY:O,dragState:x});return Na(w,(function(e){var t=n.offsetX,r=n.offsetY,o=n.scale,i=n.setTransform,l=o+e.deltaScale;i({offsetX:t+e.deltaX/l,offsetY:r+e.deltaY/l,scale:l})}),[n]),Object(u.useEffect)((function(){j.current&&j.current!==p&&d(j.current)}),[j,p,d]),Object(u.useEffect)((function(){if(s&&!t&&h&&b){var e=j.current;if(e){e.width=h,e.height=b;var n=e.getContext("2d");n&&(f&&(n.fillStyle=f,n.fillRect(0,0,e.width,e.height)),s.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(o||0),e.y+(o||0))})))}}}),[f,s,t,b,h,o,i,l,a,c]),Object(To.jsx)("div",{"aria-hidden":!0,ref:w,className:P.root,onMouseDown:k,children:Object(To.jsx)("canvas",{ref:j,className:P.canvas})})})),Ea=n(559),Da=Object(no.a)((function(e){var t=e.palette;return Object(ro.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary,position:"relative"},loading:{position:"absolute",left:0,top:"100%",width:"100%"}})})),Ga=Object(g.c)((function(){var e=ao(),t=e.isPacking,n=e.ui,r=n.width,o=n.height,i=Da();return Object(To.jsxs)("div",{className:i.root,children:["Packed texture size: ",r," x ",o,t?Object(To.jsx)(Ea.a,{className:i.loading}):null]})})),Xa=function(){return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Ga,{}),Object(To.jsx)(La,{})]})};var Ja=n(74),Ya=Object(no.a)((function(){return Object(ro.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),$a=Object(g.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,o=t.list,i=Ya(),l=uo();return Object(To.jsx)(To.Fragment,{children:o.map((function(e,t){var o,a="".concat(e.letter).concat(t);return Object(To.jsx)("div",{"aria-hidden":!0,className:Object(na.a)(i.letter,(o={},Object(Ja.a)(o,i.select,e.letter===l.selectLetter),Object(Ja.a)(o,i.next,e.letter===l.selectNextLetter),o)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),l.setSelectLetter(t,n)}(t,e.letter,e.next)}},a)}))})})),Ha=Object(no.a)((function(e){var t=e.bgPixel;return Object(ro.a)({root:Object(y.a)(Object(y.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),Ra=Object(g.c)((function(){var e=ao(),t=Object(u.useState)(null),n=Object(ho.a)(t,2),r=n[0],o=n[1],i=e.ui,l=e.style.font,a=l.size,c=l.lineHeight,s=l.middle,f=l.hanging,p=l.top,d=l.alphabetic,h=l.ideographic,b=l.bottom,y=l.minBaseLine,g=l.maxBaseLine,O=e.isPacking,j=i.previewScale,w=i.previewOffsetX,v=i.previewOffsetY,x=Object(u.useRef)(null),k=Object(u.useRef)(null),P=Fa((function(e){var t=e.offsetX,n=e.offsetY,r=i.previewScale,o=i.previewOffsetX,l=i.previewOffsetY;(0,i.setPreviewTransform)({previewOffsetX:o+t/r,previewOffsetY:l+n/r})}),[i]),S=Object(ho.a)(P,2),T=S[0],M=S[1],I=Ha({width:r?r.width:0,height:r?r.height:0,scale:j,offsetX:w,offsetY:v,dragState:T});return Na(k,(function(e){var t=i.previewOffsetX,n=i.previewOffsetY,r=i.previewScale,o=i.setPreviewTransform,l=r+e.deltaScale;o({previewOffsetX:t+e.deltaX/l,previewOffsetY:n+e.deltaY/l,previewScale:l})}),[i]),Object(u.useEffect)((function(){if(x.current&&!O&&r){var e=x.current,t=e.getContext("2d");if(t){var n=a*c;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var o=function(e){[s,f,p,d,h,b].forEach((function(o){var i=Math.round(o-y+e*n);t.beginPath(),t.moveTo(-r.xOffset,i+.5-r.yOffset),t.lineTo(r.width,i+.5-r.yOffset),o===y||o===g?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+g-y),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},i=0;i<r.lines;i+=1)o(i)}}}),[d,b,r,f,h,O,c,g,s,y,a,p]),Object(u.useEffect)((function(){Object(m.l)((function(){if(x.current&&!O&&x.current.getContext("2d")){var t=El(e),n=t.chars,r=t.kernings,l=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;l.has(t)||l.set(t,new Map);var o=l.get(t);null===o||void 0===o||o.set(n,r)}));var s=new Map;n.list.forEach((function(e){s.set(e.letter,e)}));var u=a*c,f=function(e,t,n,r,o){var i=[],l=e.split(/\r\n|\r|\n/),a=0,c=0,s=0,u=0,f=0,p=0;return l.forEach((function(e,l){f=r*l,p=0;var d=Array.from(e);d.forEach((function(e,r){var l=t.get(e);if(l){var h=d[r+1],b=n.get(e.charCodeAt(0)),y=0;h&&b&&b.has(h.charCodeAt(0))&&(y=b.get(h.charCodeAt(0))||0);var g={x:p+l.xoffset,y:f+l.yoffset,width:l.width||l.xadvance,height:l.height||o,source:l.source,letter:l.letter,next:h};p+=l.xadvance+y,a=Math.min(g.x,a),c=Math.min(g.y,c),s=Math.max(g.x+g.width,s),u=Math.max(g.y+l.height,u),i.push(g)}}))})),{lines:l.length,list:i,xOffset:a,yOffset:c,width:s-a,height:Math.max(u-c,l.length*r-c)}}(i.previewText,s,l,u,g-y);o((function(){return f}))}}))}),[O,c,g,y,e,a,i.previewText]),Object(To.jsx)("div",{"aria-hidden":!0,ref:k,className:I.root,onMouseDown:M,onClick:function(){return i.setSelectLetter("","")},children:Object(To.jsxs)("div",{className:I.wrap,children:[Object(To.jsx)("canvas",{ref:x,className:I.canvas}),r?Object(To.jsx)($a,{data:r}):null]})})})),Wa=Object(g.c)((function(){var e=uo(),t=e.previewText,n=e.setPreviewText,r=Object(u.useState)(!1),o=Object(ho.a)(r,2),i=o[0],l=o[1],a=Object(u.useState)(t),c=Object(ho.a)(a,2),s=c[0],f=c[1];return Object(To.jsxs)(Zr.a,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:"Glyphs"})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Bo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;i?f(r):(f(r),r!==t&&n(r))},onCompositionStart:function(){return l(!0)},onCompositionEnd:function(){l(!1),f(s),s!==t&&n(s)}})})]})})),Ua=Object(g.c)((function(){var e=ao(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var o=r.adjustMetric,i=r.letter,l=o.xAdvance,a=o.xOffset,c=o.yOffset,s=o.setXAdvance,u=o.setXOffset,f=o.setYOffset;return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:'"'.concat(i,'" Adjustment')})}),Object(To.jsx)(Ro,{xAdvance:l,xOffset:a,yOffset:c,setXAdvance:s,setXOffset:u,setYOffset:f})]})})),Va=Object(g.c)((function(){var e=ao(),t=e.glyphList,n=e.ui,r=e.style.font,o=r.opentype,i=r.size,l=Object(u.useState)(0),a=Object(ho.a)(l,2),c=a[0],s=a[1],f=Object(u.useState)(),p=Object(ho.a)(f,2),d=p[0],h=p[1],b=Object(u.useState)(0),y=Object(ho.a)(b,2),g=y[0],O=y[1];Object(u.useEffect)((function(){h(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(u.useEffect)((function(){if(d&&n.selectNextLetter&&o){var e=1/o.unitsPerEm*i;s(Math.round(o.getKerningValue(o.charToGlyphIndex(d.letter),o.charToGlyphIndex(n.selectNextLetter))*e))}}),[d,o,i,n.selectNextLetter]);return Object(u.useEffect)((function(){var e;return d&&(O(d.kerning.get(n.selectNextLetter)||0),e=Object(M.a)(d.kerning,(function(){O(d.kerning.get(n.selectNextLetter)||0)}))),e}),[d,n.selectNextLetter]),d&&n.selectNextLetter?Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(po.a,{children:'"'.concat(d.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(To.jsx)(Zr.a,{paddingX:2,marginY:4,children:Object(To.jsx)(Ao,{before:"Amount:",after:"px",children:Object(To.jsx)(Io.a,{value:g+c,fullWidth:!0,type:"number",onChange:function(e){d&&d.steKerning(n.selectNextLetter,Number(e.target.value)-c)}})})})]}):null})),qa=function(){return Object(To.jsxs)(To.Fragment,{children:[Object(To.jsx)(Ra,{}),Object(To.jsxs)(Co.a,{container:!0,alignItems:"flex-start",children:[Object(To.jsx)(Co.a,{item:!0,xs:4,children:Object(To.jsx)(Wa,{})}),Object(To.jsx)(Co.a,{item:!0,xs:4,children:Object(To.jsx)(Ua,{})}),Object(To.jsx)(Co.a,{item:!0,xs:4,children:Object(To.jsx)(Va,{})})]})]})},Ka=Object(no.a)((function(e){var t=e.palette;return Object(ro.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),Qa=Object(g.c)((function(){var e=uo(),t=e.showPreview,n=e.packFailed,r=Ka();return Object(To.jsxs)("div",{className:r.root,children:[n?Object(To.jsxs)("div",{className:r.toast,children:[Object(To.jsx)(Aa.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(To.jsx)(qa,{}):Object(To.jsx)(Xa,{})]})})),_a=n(566),Za=n(164),ec=n.n(Za),tc=Object(no.a)((function(e){var t=e.palette;return Object(ro.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),nc=function(e){var t=e.name,n=e.useRemove,r=e.selected,o=e.value,i=e.onChange,l=e.onClick,a=e.onRemove,c=e.onRename,s=Object(u.useState)(!1),f=Object(ho.a)(s,2),p=f[0],d=f[1],h=Object(u.useState)(t),b=Object(ho.a)(h,2),y=b[0],g=b[1],O=Object(u.useRef)(null),j=tc(),w=function(e){e.stopPropagation(),a&&a(e,o)};return Object(u.useEffect)((function(){p&&O.current&&O.current.focus(),!p&&c&&c(y,o)}),[p,c,y,o]),Object(u.useEffect)((function(){g(t)}),[t]),Object(To.jsxs)("div",{"aria-hidden":!0,className:Object(na.a)(j.root,Object(Ja.a)({},j.selected,r)),onClick:function(e){e.stopPropagation(),i&&i(e,o),l&&l(e)},onDoubleClick:function(e){e.stopPropagation(),O.current&&d(!0)},title:"Double click rename",children:[Object(To.jsxs)("span",{"aria-hidden":!0,className:j.name,children:[p?y:t,Object(To.jsx)("input",{className:j.input,hidden:!p,ref:O,value:p?y:t,type:"text",onKeyDown:function(e){13===e.keyCode&&O.current&&O.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),d(!1)},onChange:function(e){g(e.target.value)}})]}),n?Object(To.jsx)(ec.a,{className:j.icon,onClick:w,onDoubleClick:w}):null]})},rc=Object(no.a)((function(e){var t=e.palette,n=e.shadows;return Object(ro.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),oc=Object(g.c)((function(){var e=rc(),t=io(),n=t.addProject,r=t.selectProject,o=t.removeProject,i=t.setProjectName,l=t.namedList,a=t.activeId,c=function(e,t){"undefined"!==typeof t&&o(t)};return Object(To.jsx)(_a.a,{classes:e,value:a,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:l.map((function(e){return Object(To.jsx)(nc,{useRemove:l.length>1,name:e.name,value:e.id,onRename:i,onRemove:c},e.id)}))})})),ic=n(494),lc=n(575),ac=n(547),cc=Object(no.a)((function(){return Object(ro.a)({slider:{width:"200px"}})})),sc=Object(g.c)((function(){var e=uo(),t=e.scale,n=e.setTransform,r=e.previewScale,o=e.setPreviewTransform,i=e.showPreview,l=e.setShowPreview,a=cc(),c=Object(u.useState)(!1),s=Object(ho.a)(c,2),f=s[0],p=s[1],d=Object(u.useRef)(null),h=Object(u.useState)([.25,.5,.75,1,1.25,1.5,5,10]),b=Object(ho.a)(h,1)[0],y=function(e,t){i?o({previewScale:t}):n({scale:t})};return Object(To.jsxs)(Zr.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(To.jsxs)(Zr.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(To.jsx)(ma.a,{size:"small",color:"primary",checked:i,onChange:function(e){return l(e.target.checked)}})]}),Object(To.jsx)(lc.a,{className:a.slider,value:i?r:t,min:.01,max:10,step:.01,onChange:y}),Object(To.jsx)(yo.a,{ref:d,onClick:function(){p((function(e){return!e}))},children:"".concat(Math.round(1e3*(i?r:t))/10,"%")}),Object(To.jsx)(Kl.a,{open:f,anchorEl:d.current,placement:"top-end",children:Object(To.jsx)(ic.a,{children:Object(To.jsx)(Ul.a,{onClickAway:function(e){d.current&&d.current.contains(e.target)||p(!1)},children:Object(To.jsx)(ac.a,{children:b.map((function(e){return Object(To.jsx)(zl.a,{onClick:function(){return y(0,e),void p(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),uc=n(576),fc=n(560),pc=n(561),dc=n(267),hc=n.n(dc),bc=n(270),yc=n.n(bc),gc=n(269),Oc=n.n(gc),jc=n(268),wc=n.n(jc),mc=n(281),vc=n(266),xc=n.n(vc),kc=Object(no.a)((function(e){return Object(ro.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),Pc=Object(g.c)((function(e){var t=kc(),n=ao().removeImage,r=Object(u.useState)(!1),o=Object(ho.a)(r,2),i=o[0],l=o[1],a=e.glyph,c=Object(u.useState)(a.letter),s=Object(ho.a)(c,2),f=s[0],p=s[1],d=a.changeSelect,h=a.selected,b=a.setGlyph;return Object(To.jsxs)(ic.a,{variant:"outlined",className:t.root,children:[Object(To.jsx)("img",{className:t.image,src:a.src,alt:a.fileName}),Object(To.jsxs)(Co.a,{container:!0,direction:"column",className:t.actions,children:[Object(To.jsxs)(Co.a,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(To.jsx)(Go.a,{checked:h,size:"small",color:"default",onChange:function(e){return d(e.target.checked)}}),Object(To.jsx)(jo.a,{color:"primary",size:"small",onClick:function(){return n(a)},children:Object(To.jsx)(xc.a,{fontSize:"small"})})]}),Object(To.jsx)(Co.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(To.jsx)(mc.a,{fullWidth:!0,value:i?f:a.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;i?(p(t.slice(0,1)),b(t.slice(0,1))):b(t)},onCompositionEnd:function(){l(!1),p((function(e){return e.slice(0,1)})),b(f.slice(0,1))},onCompositionStart:function(){return l(!0)}})})]})]})})),Sc=Object(no.a)((function(){return Object(ro.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),Tc=Object(g.c)((function(){var e=ao().glyphImages,t=Sc();return Object(To.jsx)(Zr.a,{className:t.root,children:e.map((function(e){return Object(To.jsx)(Pc,{glyph:e},e.src)}))})})),Mc=Object(no.a)((function(){return Object(ro.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),Ic=Object(g.c)((function(){var e=Mc(),t=ao().addImages,n=Object(u.useState)(!1),r=Object(ho.a)(n,2),o=r[0],i=r[1],l=Object(u.useState)(!1),a=Object(ho.a)(l,2),c=a[0],s=a[1],f=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return So(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},p=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():i(!1))};return Object(u.useEffect)((function(){return o?window.addEventListener("keydown",p):window.removeEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[o]),Object(To.jsx)(Zr.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),f(e.dataTransfer.files)},className:Object(na.a)(e.root,Object(Ja.a)({},e.fixed,o)),children:Object(To.jsxs)(uc.a,{className:e.panel,expanded:o||c,onChange:function(){s((function(e){return o||!e}))},TransitionProps:{style:o||c?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(To.jsx)(fc.a,{expandIcon:o?void 0:Object(To.jsx)(hc.a,{}),children:Object(To.jsxs)(Co.a,{container:!0,alignItems:"center",children:[Object(To.jsx)(Co.a,{item:!0,children:Object(To.jsx)(po.a,{children:"Image Glyph List"})}),Object(To.jsx)(Co.a,{item:!0,xs:!0,container:!0,justifyContent:"center",children:Object(To.jsxs)(yo.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(To.jsx)(wc.a,{}),children:["Select Images",Object(To.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;f(t)}}})]})}),Object(To.jsx)(Co.a,{item:!0,children:Object(To.jsx)(jo.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),i((function(e){return!e}))},children:o?Object(To.jsx)(Oc.a,{}):Object(To.jsx)(yc.a,{})})})]})}),Object(To.jsx)(pc.a,{className:e.continer,children:Object(To.jsx)(Zr.a,{className:e.listWrap,children:Object(To.jsx)(Tc,{})})})]})})})),Cc=Object(no.a)((function(e){var t=e.palette,n=e.shadows;return Object(ro.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),Ac=function(){var e=Cc();return Object(To.jsxs)(Zr.a,{className:e.root,children:[Object(To.jsx)(oc,{}),Object(To.jsx)(Qa,{}),Object(To.jsx)(sc,{}),Object(To.jsx)(Ic,{})]})},Nc=n(574),zc=Object(no.a)((function(e){return Object(ro.a)({close:{padding:e.spacing(.5)}})}));function Fc(){var e=zc(),t=f.a.useState(!1),n=Object(ho.a)(t,2),r=n[0],o=n[1],i=function(e,t){"clickaway"!==t&&o(!1)},l=f.a.useCallback((function(e){var t=e.detail;o(!!t)}),[]);return f.a.useEffect((function(){return window.addEventListener("updateVerion",l,!1),function(){return window.removeEventListener("updateVerion",l,!1)}}),[l]),Object(To.jsx)(Nc.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:i,message:"New version is available.",action:Object(To.jsxs)(f.a.Fragment,{children:[Object(To.jsx)(yo.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(To.jsx)(jo.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:i,children:Object(To.jsx)(ec.a,{})})]})})}var Bc=Object(no.a)((function(e){var t=e.zIndex;return Object(ro.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),Lc=Object(g.c)((function(){var e=Bc(),t=oo().ui;return Object(To.jsxs)(Zr.a,{className:e.root,children:[Object(To.jsx)($l,{}),Object(To.jsx)(Fc,{}),Object(To.jsxs)(Zr.a,{className:e.content,children:[Object(To.jsx)(Vo,{}),Object(To.jsx)(Ac,{}),Object(To.jsx)(Ia,{})]}),Object(To.jsx)(eo.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(To.jsx)(to.a,{color:"inherit"})})]})}));var Ec=function(){return Object(To.jsxs)(w.a,{theme:_r,children:[Object(To.jsx)(j.a,{}),Object(To.jsx)(g.b,Object(y.a)(Object(y.a)({},(Xr||(Xr={ui:new T,workspace:new Wr}),Xr)),{},{children:Object(To.jsx)(O.a,{anchorOrigin:{horizontal:"center",vertical:"top"},children:Object(To.jsx)(Lc,{})})}))]})},Dc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}h.a({dsn:"https://007c463bad354a5baf9a11d8e9d7c8a6@o501223.ingest.sentry.io/5981296",release:"8f042e3",integrations:[new b.a.BrowserTracing],tracesSampleRate:1,environment:"production"}),d.a.render(Object(To.jsx)(Ec,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Dc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Gc(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Gc(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[487,1,2]]]);
//# sourceMappingURL=main.2cccf656.chunk.js.map