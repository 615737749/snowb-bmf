{"version":3,"sources":["store/ui.ts","workers/AutoPacker.worker.ts","utils/is.ts","utils/getTextBaselines.ts","utils/use.ts","store/base/ui.ts","utils/fontStyleStringify.ts","utils/updateFontFace.ts","store/base/gradient.ts","store/base/font.ts","store/base/patternTexture.ts","store/base/fill.ts","utils/base64ToArrayBuffer.ts","utils/getTextSize.ts","store/base/stroke.ts","store/base/shadow.ts","store/base/style.ts","store/base/layout.ts","store/base/metric.ts","utils/trimImageData.ts","utils/getPointOnCircle.ts","utils/getCanvasStyle.ts","utils/getGlyphInfo.ts","store/base/glyphBase.ts","store/base/glyphFont.ts","store/base/glyphImage.ts","utils/getTrimImageInfo.ts","store/project.ts","store/workspace.ts","store/index.ts","app/theme/props.ts","app/theme/overrides.ts","app/theme/index.ts","store/hooks.ts","utils/readFile.ts","app/layout/LeftBar/modules/Font/FontFamily.tsx","app/components/GridInput/GridInput.tsx","app/layout/LeftBar/modules/Font/FontSize.tsx","app/layout/LeftBar/modules/Font/LineHeight.tsx","app/layout/LeftBar/modules/Font/Font.tsx","app/layout/LeftBar/modules/Glyphs/Glyphs.tsx","app/layout/LeftBar/modules/PackConfig/Padding.tsx","app/layout/LeftBar/modules/PackConfig/Spacing.tsx","app/layout/LeftBar/modules/PackConfig/AutoPack.tsx","app/layout/LeftBar/modules/PackConfig/FixedSize.tsx","app/layout/LeftBar/modules/PackConfig/PackWidth.tsx","app/layout/LeftBar/modules/PackConfig/PackHeight.tsx","app/layout/LeftBar/modules/PackConfig/PackConfig.tsx","app/layout/common/FormAdjustMetric/FormAdjustMetric.tsx","app/layout/LeftBar/modules/GlobalMetric/GlobalMetric.tsx","app/layout/LeftBar/LeftBar.tsx","utils/formatStr.ts","file/getXmlString.ts","file/getLuaString.ts","file/getTextString.ts","file/toOutputInfo.ts","proto/project.js","file/prefix.ts","proto/1.0.1/project.js","utils/getVersionNumber.ts","file/updateOldProject.ts","file/decodeProject.ts","app/layout/TitleBar/ExportButton.tsx","app/layout/TitleBar/TitleBar.tsx","file/saveProject.ts","file/outputFile.ts","app/components/WrappedSketchPicker/WrappedSketchPicker.tsx","app/components/ColorInput/ColorInput.tsx","app/layout/common/FormColor/FormColor.tsx","app/components/GradientPicker/ColorStop.tsx","app/components/GradientPicker/ColorStopsHolder.tsx","app/components/Palette/Palette.tsx","app/components/GradientPicker/GradientBuilder.tsx","app/components/AnglePicker/AnglePicker.tsx","app/layout/common/FormAngle/FormAngle.tsx","app/layout/common/FormGradient/FormGradient.tsx","app/layout/common/FormImage/FileSelector.tsx","app/layout/common/FormImage/FormImage.tsx","app/layout/common/FormFill/FormFill.tsx","app/layout/RightBar/modules/Fill/Fill.tsx","app/layout/RightBar/modules/Stroke/Stroke.tsx","app/layout/RightBar/modules/Shadow/Shadow.tsx","app/layout/RightBar/modules/BackgroundColor/BackgroundColor.tsx","app/layout/RightBar/RightBar.tsx","app/hooks/useWheel.ts","app/hooks/useSpaceDrag.ts","app/layout/WorkSpace/modules/PackView/PackCanvas.tsx","app/layout/WorkSpace/modules/PackView/PackSizeBar.tsx","app/layout/WorkSpace/modules/PackView/PackView.tsx","app/layout/WorkSpace/modules/Preview/LetterList.tsx","app/layout/WorkSpace/modules/Preview/PreviewCanvas.tsx","app/layout/WorkSpace/modules/Preview/getPreviewCanvas.ts","app/layout/WorkSpace/modules/Preview/PreviewText.tsx","app/layout/WorkSpace/modules/Preview/PreviewMertic.tsx","app/layout/WorkSpace/modules/Preview/PreviewKerning.tsx","app/layout/WorkSpace/modules/Preview/Preview.tsx","app/layout/WorkSpace/modules/MainView/MainView.tsx","app/layout/WorkSpace/modules/ProjectTabs/ProjectTab.tsx","app/layout/WorkSpace/modules/ProjectTabs/ProjectTabs.tsx","app/layout/WorkSpace/modules/ControlerBar/ControlerBar.tsx","app/layout/WorkSpace/modules/ImageGlyphList/ImageGlyph.tsx","app/layout/WorkSpace/modules/ImageGlyphList/ImageGlyphList.tsx","app/layout/WorkSpace/modules/ImageGlyphList/LayerBox.tsx","app/layout/WorkSpace/WorkSpace.tsx","app/layout/Wrap/UpdateToast.tsx","app/layout/Wrap/Wrap.tsx","app/App.tsx","serviceWorkerRegistration.ts","index.tsx"],"names":["Ui","action","bound","num","this","globalLoader","observable","Worker_fn","Worker","canvas","is","n","Number","isNaN","use","a","b","ui","previewText","offsetX","Math","min","max","width","offsetY","height","scale","trans","reOffset","text","showPreview","previewScale","previewOffsetX","previewOffsetY","letter","next","selectLetter","selectNextLetter","packFailed","defaultConfig","fontSize","fontFamily","fontStyleStringify","fontStyleConfig","config","arr","fontStyle","push","fontVariant","fontWeight","lineHeight","join","fontTargeCache","loadDiv","GradientType","Font","ref","font","size","byteLength","setFont","updateBaseines","middle","hanging","top","alphabetic","ideographic","bottom","opentype","family","bls","styleConig","document","createElement","ctx","getContext","Error","textBaseline","measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","getTextBaselines","buffer","parse","lowMemory","e","Promise","resolve","names","fontName","postScriptName","Object","keys","url","URL","createObjectURL","Blob","name","cssNode","createTextNode","appendChild","textNode","head","style","position","left","opacity","pointerEvents","body","setTimeout","updateFontFace","then","runInAction","computed","Gradient","shallow","gradient","type","angle","palette","forEach","item","id","nextId","addColor","offset","color","map","ids","length","FillType","PatternTexture","pt","repetition","setImage","src","img","Image","onload","image","base64","binaryString","atob","len","bytes","Uint8Array","i","charCodeAt","base64ToArrayBuffer","Fill","fill","patternTexture","Stroke","stroke","lineCap","lineJoin","Shadow","shadow","blur","Style","useShadow","useStroke","bgColor","Layout","layout","padding","spacing","power","auto","fixedSize","Metric","metric","xAdvance","xOffset","yOffset","trimImageData","imageData","threshold","data","topTrim","bottomTrim","leftTrim","rightTrim","topStatus","bottomStatus","leftStatus","rightStatus","h","ceil","w","j","trimOffsetLeft","trimOffsetTop","getPointOnCircle","x","y","r","cos","PI","sin","getCanvasStyle","cx","cy","startPoint","endPoint","createLinearGradient","createRadialGradient","addColorStop","createPattern","naturalWidth","naturalHeight","textureCtx","drawImage","getGlyphInfo","trimInfo","textAlign","testA","actualBoundingBoxLeft","parseInt","fontWidth","fontHeight","trimOffsetRight","trimOffsetBottom","testB","actualBoundingBoxRight","getTextSize","lineWidth","addX","addY","styleX","styleY","abs","strokeStyle","strokeText","fillStyle","fillText","cvs","newCtx","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","imgData","getImageData","styleTrimInfo","putImageData","GlyphBase","glyph","adjustMetric","kerning","set","Map","GlyphFont","galyphFont","textStyle","setGlyphInfo","glyphInfo","source","GlyphImage","glyphImage","fileName","fileType","initImage","getTrimImageInfo","isSelect","selected","Project","project","worker","packStart","packTimer","idleId","Date","now","globalAdjustMetric","glyphs","value","key","glyphImages","has","addGlyphs","addAutoRun","pack","terminate","isPacking","packList","rectangleList","sort","packer","GuillotineBinPack","list","filter","InsertSizes","setPack","usedRectangles","AutoPacker","addEventListener","messageEvent","postMessage","failedList","imgList","maxWidth","maxHeight","rectangle","find","gi","get","setPackFailed","setSize","cancel","tasks","runTasks","request","deadline","tr","timeRemaining","start","shift","window","clearTimeout","isName","obj","deepObserve","throttlePack","change","packStyle","str","oldText","replace","currentList","Array","from","Set","split","oldList","diffList","concat","t","includes","delete","all","idx","indexOf","splice","packCanvas","glyphList","isUnEmpty","Workspace","activeId","projectList","namedList","p","named","match","setName","configure","enforceActions","computedRequiresReaction","props","MuiButton","MuiButtonBase","disableRipple","MuiFilledInput","margin","MuiFormControl","MuiFormHelperText","MuiIconButton","MuiInputBase","MuiInputLabel","MuiListItem","dense","MuiOutlinedInput","MuiFab","MuiTable","MuiTextField","MuiToolbar","variant","overrides","MuiCssBaseline","html","WebkitFontSmoothing","MozOsxFontSmoothing","userSelect","minWidth","marginLeft","background","input","theme","createMuiTheme","primary","main","secondary","paper","default","activityBar","titleBar","sidebar","common","black","white","hover","bgPixel","backgroundColor","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","typography","transitions","create","shape","borderRadius","responsiveFontSizes","useStores","useContext","MobXProviderContext","useWorkspace","workspace","useLayout","currentProject","useProject","useStyle","useFont","useProjectUi","readFile","file","arrayBuffer","reader","FileReader","readAsArrayBuffer","target","result","useStyles","makeStyles","createStyles","clear","cursor","display","observer","classes","useState","loading","setLoading","hasFont","clearFont","Grid","container","alignItems","xs","Button","component","fullWidth","startIcon","CircularProgress","disabled","hidden","onChange","event","files","arrBuf","ArrayBuffer","catch","alert","message","accept","className","onClick","GridInput","before","children","after","childrenWidth","wrap","justify","Typography","noWrap","align","Input","inputProps","setLineHeight","step","Box","paddingX","marginY","setText","isIME","setIsIME","inputText","setInputText","handleCompositionStart","useCallback","useEffect","TextField","multiline","rows","spellCheck","onCompositionStart","onCompositionEnd","setPadding","setSpacing","setAuto","Checkbox","checked","setFixedSize","setWidth","setHeight","PackConfig","FormAdjustMetric","setXAdvance","setXOffset","setYOffset","getHandle","handleSet","root","overflow","LeftBar","bgcolor","flexDirection","boxShadow","flex","Divider","formatStr","matchs","returns","storeToXml","bmfont","info","pages","chars","kernings","parser","DOMParser","xmlDOM","implementation","createDocument","infoDoc","parseFromString","documentElement","childNodes","commonDoc","pagesDoc","charsDoc","char","charDoc","count","kerningsDoc","kerningDoc","XMLSerializer","serializeToString","getLuaString","charset","charsCount","kerningsCounts","getTextString","toOutputInfo","fontScale","unitsPerEm","face","bold","italic","unicode","stretchH","smooth","aa","base","scaleW","scaleH","packed","xoffset","yoffset","xadvance","page","chnl","amount","round","getKerningValue","charToGlyphIndex","first","second","$Reader","$protobuf","$Writer","$util","$root","properties","prototype","encode","writer","hasOwnProperty","call","uint32","sint32","encodeDelimited","ldelim","decode","end","undefined","pos","tag","skipType","decodeDelimited","verify","isInteger","fromObject","object","toObject","options","defaults","toJSON","constructor","toJSONOptions","GradientColor","int32","float","string","isString","String","json","isFinite","emptyArray","fork","isArray","error","TypeError","arrays","newBuffer","double","slice","emptyObject","end2","tag2","isObject","keys2","objects","bool","Boolean","Long","fromBits","int64","low","high","fromValue","unsigned","LongBits","toNumber","long","longs","toString","prefix","s","getVersionNumber","version","reverse","reduce","previousValue","currentValue","currentIndex","pow","1000000","1000001","fixOffset","verions","verion","updateOldProject","v","oldDecodeProto","Project1000001","decodeProject","perfixBuffer","perfixName","u8","filePrefix","versionBuffer","isSbf","fileVersion","ProjectProto","protoProject","imgKerning","k","gl","glyphKerning","toOriginBuffer","ExportButton","onSave","open","setOpen","val","setVal","ext","handleClickOpen","handleClose","hotkeys","unbind","title","Dialog","onClose","DialogTitle","DialogContent","dividers","Select","displayEmpty","MenuItem","toUpperCase","DialogActions","autoFocus","zIndex","appBar","appName","marginRight","appNameSup","btn","textTransform","toast","setToast","worckSpace","labelRef","useRef","addProject","handleNewProject","preventDefault","handleSaveProject","projectBuffer","finish","saveAs","saveProject","toJS","handleSaveBitmapFont","zip","JSZip","getXmlString","toBlob","blob","generateAsync","content","outputFile","handleOpenProject","current","click","err","IconButton","href","Snackbar","anchorOrigin","vertical","horizontal","picker","borderColor","divider","border","WrappedSketchPicker","anchorEl","placement","pickerStyle","useTheme","shadows","alpha","usePickerStyle","Popper","styles","rgb","g","swatch","ColorInput","ClickAwayListener","mouseEvent","onClickAway","aria-hidden","FormColor","borderWidth","isActive","borderStyle","dark","activeColor","grey","ColorStop","divProps","clsx","ColorStopsHolder","onAdd","onUpdate","onSelect","setStartPoint","isDragging","setIsDragging","rootRef","clientWidth","handleMouseMove","buttons","findIndex","paletteItem","newPalette","clientY","clientX","handleMouseUp","stopPropagation","removeEventListener","onMouseDown","getBoundingClientRect","handleMouseDown","svg","verticalAlign","Palette","random","substr","sortedPalette","x1","y1","x2","y2","stopColor","GradientBuilder","rootEl","oldPalette","setOldPalette","setActiveId","setActiveColor","isAdd","setIsAdd","newIds","oldIds","diff","handleUpdate","isDelete","updateItem","right","offsetSpace","leftColor","Color","rightColor","red","green","blue","React","cloneElement","point","marginTop","transformOrigin","transform","AnglePicker","bounds","radians","atan2","FormAngle","updatePalette","setAngle","setType","RadioGroup","row","flexWrap","FormControlLabel","LINEAR","control","Radio","label","RADIAL","justifyContent","FileSelector","multiple","alt","FormImage","setRepetition","setScale","setColor","SOLID","GRADIENT","IMAGE","setUseStroke","setLineJoin","setLineCap","Switch","ButtonGroup","setUseShadow","setOffsetX","setOffsetY","setBlur","setBgColor","RightBar","useWheel","onWheel","deps","callback","handleWheel","ctrlKey","altKey","deltaX","deltaY","d","deltaScale","dom","passive","useSpaceDrag","onMove","ks","ms","moveState","setMoveState","dragStatus","useMemo","moveCallback","handleKeyEvent","state","keyCode","handleMove","handleEnd","dragState","imageRendering","packWidth","packHeight","setCanvas","canvasRef","domRef","offsetInfo","ix","iy","os","ox","oy","setTransform","fillRect","animationDuration","LinearProgress","PackView","outline","select","setSelectLetter","handleSelect","setData","minBaseLine","maxBaseLine","setPreviewTransform","lh","index","baseLine","basey","beginPath","moveTo","lineTo","setLineDash","lines","kerningMap","charMap","minX","minY","maxX","maxY","lk","kering","getPreviewCanvas","setPreviewText","setOffset","setGlyph","setKerning","disposer","steKerning","Preview","PreviewText","PreviewMertic","PreviewKerning","to","animationName","icon","minHeight","borderRight","whiteSpace","editor","appearance","ProjectTab","useRemove","onRemove","onRename","setEditor","sname","setSName","editorRef","handleRemove","focus","onDoubleClick","onKeyDown","onBlur","workSpace","selectProject","removeProject","setProjectName","Tabs","indicatorColor","textColor","scrollButtons","selectionFollowsFocus","TabIndicatorProps","slider","setShowPreview","anchorRef","handleChange","Slider","prevOpen","Paper","contains","MenuList","actions","inputLabel","removeImage","inputValue","setInputValue","changeSelect","direction","InputBase","onFocus","onInput","iv","fixed","panel","continer","overflowY","listWrap","addImages","isFullscreen","setFullscreen","handleLoadFile","test","matched","fileList","f","handleKeyDown","tagName","onDragEnter","onDragOver","onDrop","dataTransfer","Accordion","expanded","o","TransitionProps","AccordionSummary","expandIcon","AccordionDetails","tabsRoot","tabRoot","tabSelected","tabWrapper","WorkSpace","close","ConsecutiveSnackbars","reason","updateVersion","detail","Fragment","location","reload","aria-label","loadingBackdrop","drawer","Backdrop","App","ThemeProvider","CssBaseline","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onSuccess","ReactDOM","render","getElementById","process","origin","fetch","headers","response","contentType","status","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration","waiting","channel","MessageChannel","port1","onmessage","dispatchEvent","CustomEvent","port2"],"mappings":"oQAceA,G,QATZC,IAAOC,M,EAIPD,IAAOC,M,qJAJuC,IAAhBC,EAAe,uDAAT,EACnCC,KAAKC,cAAgBF,I,yCAGyB,IAAjBA,EAAgB,wDAAT,EACpCC,KAAKC,cAAgBF,M,+CAPtBG,K,yEAA0B,K,qRCHd,SAASC,IACtB,OAAO,IAAIC,OAAO,IAA0B,uDCG9C,I,0CCWIC,EDHWC,EAJJ,CACTP,IALU,SAAIQ,GACd,MAAqB,kBAANA,IAAmBC,OAAOC,MAAMF,KEMlCG,EAJH,CACVX,IANU,SAAoBY,EAAMC,GACpC,OAAIN,EAAGP,IAAIY,GAAWA,EACfC,ICoFMhB,G,EAxCZC,IAAOC,M,EAOPD,IAAOC,M,EAMPD,IAAOC,M,EAIPD,IAAOC,M,EAIPD,IAAOC,M,EASPD,IAAOC,M,EAKPD,IAAOC,M,aArDR,aAAmC,IAAvBe,EAAsB,uDAAJ,GAAI,kgBAC5BA,EAAGC,cACLd,KAAKc,YAAcD,EAAGC,a,uDAKxBd,KAAKe,QAAUC,KAAKC,IAClBD,KAAKE,IAAIlB,KAAKmB,OAAS,EAAGnB,KAAKe,SAC/Bf,KAAKmB,MAAQ,GAEfnB,KAAKoB,QAAUJ,KAAKC,IAClBD,KAAKE,IAAIlB,KAAKqB,QAAU,EAAGrB,KAAKoB,SAChCpB,KAAKqB,OAAS,GAEhBrB,KAAKsB,MAAQN,KAAKE,IAAIlB,KAAKsB,MAAO,O,mCAGTC,GACzBvB,KAAKsB,MAAQZ,EAAIX,IAAIwB,EAAMD,MAAOtB,KAAKsB,OACvCtB,KAAKe,QAAUL,EAAIX,IAAIwB,EAAMR,QAASf,KAAKe,SAC3Cf,KAAKoB,QAAUV,EAAIX,IAAIwB,EAAMH,QAASpB,KAAKoB,SAC3CpB,KAAKwB,a,8BAGeL,EAAeE,GACnCrB,KAAKmB,MAAQA,EACbnB,KAAKqB,OAASA,EACdrB,KAAKwB,a,qCAGsBC,GAC3BzB,KAAKc,YAAcW,I,qCAGQC,GAC3B1B,KAAK0B,YAAcA,I,0CAGaH,GAChCvB,KAAK2B,aAAeX,KAAKE,IACvBR,EAAIX,IAAIwB,EAAMI,aAAc3B,KAAK2B,cACjC,KAEF3B,KAAK4B,eAAiBlB,EAAIX,IAAIwB,EAAMK,eAAgB5B,KAAK4B,gBACzD5B,KAAK6B,eAAiBnB,EAAIX,IAAIwB,EAAMM,eAAgB7B,KAAK6B,kB,wCAGkB,IAA/CC,EAA8C,uDAA7B,GAAIC,EAAyB,uDAAV,GAChE/B,KAAKgC,aAAeF,EACpB9B,KAAKiC,iBAAmBF,I,oCAGEG,GAC1BlC,KAAKkC,WAAaA,M,wCAhFnBhC,K,yEAAmB,K,qCAEnBA,K,yEAAqB,K,qCAErBA,K,yEAAqB,K,mCAErBA,K,yEAAmB,K,oCAEnBA,K,yEAAoB,K,yCAEpBA,K,wEAAyB,sC,0CAEzBA,K,wEAA0B,M,8CAE1BA,K,wEAA8B,M,yCAE9BA,K,yEAAyB,K,0CAEzBA,K,yEAA0B,K,4CAE1BA,K,yEAA4B,K,4CAE5BA,K,yEAA4B,K,wCAE5BA,K,yEAAwB,K,m0BCQrBiC,EAAiC,CACrCC,SAAU,OACVC,WAAY,cAIC,SAASC,EACtBC,GAEA,IAAMC,EAAM,2BAAQL,GAAkBI,GAChCE,EAAM,GAsBZ,OApBID,EAAOE,WAAWD,EAAIE,KAAKH,EAAOE,WAElCF,EAAOI,aAAaH,EAAIE,KAAKH,EAAOI,aAEpCJ,EAAOK,YAAYJ,EAAIE,KAAKH,EAAOK,YAEnCvC,EAAGP,IAAIyC,EAAOJ,UAChBI,EAAOJ,SAAP,UAAqBI,EAAOJ,SAA5B,MAEAI,EAAOJ,SAAWD,EAAcC,SAG9BI,EAAOM,WACTL,EAAIE,KAAJ,UAAYH,EAAOJ,SAAnB,YAA+BI,EAAOM,aAEtCL,EAAIE,KAAKH,EAAOJ,UAGlBK,EAAIE,KAAKH,EAAOH,YAETI,EAAIM,KAAK,K,ICpEdC,EACAC,G,+FCGQC,GCmHGC,I,GAjHZjD,IAAWkD,I,GAoBXlD,IAAWkD,I,GA0DXvD,IAAOC,M,GAkBPD,IAAOC,M,GAKPD,IAAOC,M,GAIPD,IAAOC,M,cApDR,aAAuC,IAA3BuD,EAA0B,uDAAJ,GAAI,8ZACpCrD,KAAKsD,KAAOD,EAAKC,MAAQ,GACzBtD,KAAK8C,WAAaO,EAAKP,YAAc,KAEjCO,EAAKA,MAAQA,EAAKA,KAAKE,WACzBvD,KAAKwD,QAAQH,EAAKA,MAElBrD,KAAKyD,iB,wDArCP,IAAMxC,EAAMD,KAAKC,IACfjB,KAAK0D,OACL1D,KAAK2D,QACL3D,KAAK4D,IACL5D,KAAK6D,WACL7D,KAAK8D,YACL9D,KAAK+D,QAEP,OAAIvD,OAAOC,MAAMD,OAAOS,IAAc,EAC/BA,I,kCAIP,IAAMC,EAAMF,KAAKE,IACflB,KAAK0D,OACL1D,KAAK2D,QACL3D,KAAK4D,IACL5D,KAAK6D,WACL7D,KAAK8D,YACL9D,KAAK+D,QAEP,OAAIvD,OAAOC,MAAMD,OAAOU,IAAclB,KAAKsD,KACpCpC,I,8BAIP,SAAIlB,KAAKqD,OAAQrD,KAAKgE,UAA4B,eAAhBhE,KAAKiE,Y,sDAgBvC,IAAMC,ENtDK,SACbzC,EACA0C,GAEK9D,IAAQA,EAAS+D,SAASC,cAAc,WAC7C,IAAMC,EAAMjE,EAAOkE,WAAW,MAC9B,IAAKD,EAAK,MAAM,IAAIE,MAAM,0BAC1B,IAAMnB,EAAOf,EAAmB6B,GAGhC9D,EAAOc,MAAQ,EACfd,EAAOgB,OAAS,EAEhBiD,EAAIjB,KAAOA,EAEXiB,EAAIG,aAAe,SACnB,IAAMf,EAASY,EAAII,YAAYjD,GAC/B6C,EAAIG,aAAe,UACnB,IAAMd,EAAUW,EAAII,YAAYjD,GAChC6C,EAAIG,aAAe,MACnB,IAAMb,EAAMU,EAAII,YAAYjD,GAC5B6C,EAAIG,aAAe,aACnB,IAAMZ,EAAaS,EAAII,YAAYjD,GACnC6C,EAAIG,aAAe,cACnB,IAAMX,EAAcQ,EAAII,YAAYjD,GACpC6C,EAAIG,aAAe,SACnB,IAAMV,EAASO,EAAII,YAAYjD,GAE/B,MAAO,CACLiC,OAAQ,EACRC,QAASA,EAAQgB,wBAA0BjB,EAAOiB,wBAClDf,IAAKA,EAAIe,wBAA0BjB,EAAOiB,wBAC1Cd,WACEH,EAAOkB,yBAA2Bf,EAAWe,yBAC/Cd,YACEJ,EAAOkB,yBAA2Bd,EAAYc,yBAChDb,OAAQL,EAAOkB,yBAA2Bb,EAAOa,0BMkBrCC,CAAiB,IAAK,CAChCxC,WAAYrC,KAAKiE,OACjB7B,SAAUpC,KAAKsD,OAGjBtD,KAAK0D,OAASQ,EAAIR,OAClB1D,KAAK2D,QAAUO,EAAIP,QACnB3D,KAAK4D,IAAMM,EAAIN,IACf5D,KAAK6D,WAAaK,EAAIL,WACtB7D,KAAK8D,YAAcI,EAAIJ,YACvB9D,KAAK+D,OAASG,EAAIH,S,8BAGEe,GAAqC,IAAD,OACxD,IACE9E,KAAKgE,SAAWe,aAAMD,EAAQ,CAAEE,WAAW,IAC3C,MAAOC,GACP,OAAOC,QAAQC,UAJuC,IAMhDC,EAAUpF,KAAKgE,SAAfoB,MACFC,EAAWD,EAAME,eAAeC,OAAOC,KAAKJ,EAAME,gBAAgB,IAClEG,EAAMC,IAAIC,gBAAgB,IAAIC,KAAK,CAACd,KAC1C,OF1FW,SACbe,EACAJ,GAEA,IAAMK,EAAU1B,SAAS2B,eAAT,oDAEMF,EAFN,iCAGEJ,EAHF,mCAMhB,GAAKzC,EAeHA,EAAegD,YAAYF,OAfR,CACnB,IAAMG,EAAW7B,SAAS2B,eAAT,KACjB/C,EAAiBoB,SAASC,cAAc,SACxCpB,GAAUmB,SAASC,cAAc,OACjCD,SAAS8B,KAAKF,YAAYhD,GAC1BA,EAAegD,YAAYF,GAC3B7C,GAAQ+C,YAAYC,GACpBhD,GAAQkD,MAAMC,SAAW,WACzBnD,GAAQkD,MAAME,KAAO,UACrBpD,GAAQkD,MAAMvC,IAAM,UACpBX,GAAQkD,MAAMG,QAAU,IACxBrD,GAAQkD,MAAM/D,SAAW,OACzBa,GAAQkD,MAAMI,cAAgB,OAC9BnC,SAASoC,KAAKR,YAAY/C,IAK5B,OADAA,GAAQkD,MAAM9D,WAAawD,EACpB,IAAIX,SAAQ,SAACC,GAAD,OAAasB,WAAWtB,EAAS,QE8D3CuB,CAAerB,EAAUI,GAAKkB,MAAK,WACxCC,aAAY,WACV,EAAK3C,OAASoB,EACd,EAAKhC,KAAOyB,EACZ,EAAKrB,yB,8BAKWH,GACpBtD,KAAKsD,KAAOA,EACZtD,KAAKyD,mB,oCAGqBX,GAC1B9C,KAAK8C,WAAaA,I,kCAIlB9C,KAAKqD,KAAO,KACZrD,KAAKgE,SAAW,KAChBhE,KAAKiE,OAAS,aACdjE,KAAKyD,qB,sHA7GoC,Q,sCAE1CvD,K,wEAA4B,gB,oCAE5BA,K,wGAEAA,K,yEAAwB,Q,sCAExBA,K,yEAAoB,K,uCAEpBA,K,yEAAqB,K,mCAErBA,K,yEAAiB,K,0CAEjBA,K,yEAAwB,K,2CAExBA,K,yEAAyB,K,sCAEzBA,K,yEAAoB,K,qHAEuB,Q,wCAE3C2G,K,kHAaAA,K,8GAaAA,K,qiBDlDS3D,O,mBAAAA,I,oBAAAA,Q,0CAmEG4D,I,GA5CZ5G,IAAW6G,Q,GA2BXlH,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,cArCR,aAA+C,IAAD,OAAlCkH,EAAkC,uDAAJ,GAAI,2HAC5ChH,KAAKiH,KAAOD,EAASC,MAAQ/D,GAAa8D,EAASC,MAAQD,EAASC,KAAO,EAC3EjH,KAAKkH,MAAQF,EAASE,OAAS,EAC3BF,EAASG,QACXH,EAASG,QAAQC,SAAQ,SAACC,GACxB,EAAKF,QAAQxE,KAAb,2BACK0E,GADL,IAEEC,GAAID,EAAKC,IAAM,EAAKC,cAIxBvH,KAAKwH,SAAS,EAAG,QACjBxH,KAAKwH,SAAS,I,oDAaIP,GACpBjH,KAAKiH,KAAOA,I,+BAGSC,GACrBlH,KAAKkH,MAAQA,I,iCAG8C,IAAtCO,EAAqC,uDAA5B,EAAGC,EAAyB,uDAAjB,UACzC1H,KAAKmH,QAAQxE,KAAK,CAAE8E,SAAQC,QAAOJ,GAAItH,KAAKuH,W,oCAGlBJ,GAC1BnH,KAAKmH,QAAUA,I,0BArBf,OAAOnH,KAAKmH,QAAQQ,KAAI,SAACD,GAAD,OAAWA,EAAMJ,Q,6BAIzC,OAAwB,IAApBtH,KAAK4H,IAAIC,OAAqB,EAC3B7G,KAAKE,IAAL,MAAAF,KAAI,aAAQhB,KAAK4H,MAAO,M,yCA5BhC1H,K,yEAAgC,K,qCAEhCA,K,iLAEoD,M,gCAkBpD2G,K,qGAIAA,K,ihBE3CH,I,2BCDYiB,GD4CGC,I,GAvCZ7H,IAAWkD,I,GAEXlD,IAAWkD,I,GAcXvD,IAAOC,M,GAcPD,IAAOC,M,GAIPD,IAAOC,M,cAxBR,aAA+C,IAAnCkI,EAAkC,uDAAJ,GAAI,kMAC5ChI,KAAKsB,MAAQZ,EAAIX,IAAIiI,EAAG1G,MAAO,GAC/BtB,KAAKiI,WAAaD,EAAGC,YAAc,SACnCjI,KAAKkI,SAASF,EAAGlD,QAAU9E,KAAK8E,Q,qDAGXA,GAA4B,IAAD,OAC1CqD,EAAMzC,IAAIC,gBAAgB,IAAIC,KAAK,CAACd,KACpCsD,EAAM,IAAIC,MAChBD,EAAIE,OAAS,WACX1B,YAAY,0BAA0B,WACpC,EAAK9B,OAASA,EACd,EAAKyD,MAAQH,EACb,EAAKD,IAAMA,EACXC,EAAIE,OAAS,SAGjBF,EAAID,IAAMA,I,oCAGgBF,GAC1BjI,KAAKiI,WAAaA,I,+BAGG3G,GACrBtB,KAAKsB,MAAQA,M,wHE7CF,SAA6BkH,GAI1C,IAHA,IAAMC,EAAeC,KAAKF,GACpBG,EAAMF,EAAaZ,OACnBe,EAAQ,IAAIC,WAAWF,GACpBG,EAAI,EAAGA,EAAIH,EAAKG,GAAK,EAC5BF,EAAME,GAAKL,EAAaM,WAAWD,GAErC,OAAOF,EAAM9D,OFGyBkE,CAHtC,+H,kHAKiD,Q,mCAEhD9I,K,wEAAiB,M,0CAEjBA,K,wEAAoC,Y,qCAEpCA,K,saCbS4H,O,iBAAAA,I,uBAAAA,I,kBAAAA,Q,+JEURzH,G,sDFqBW4I,I,GApBZ/I,IAAW6G,Q,GAEX7G,IAAW6G,Q,GASXlH,IAAOC,M,GAIPD,IAAOC,M,cAXR,aAAuC,IAA3BoJ,EAA0B,uDAAJ,GAAI,uKACpClJ,KAAK0H,MAAQwB,EAAKxB,OAAS,UAC3B1H,KAAKiH,KAAOiC,EAAKjC,MAAQa,GAASoB,EAAKjC,MAAQiC,EAAKjC,KAAO,EAC3DjH,KAAKgH,SAAW,IAAIF,GAASoC,EAAKlC,UAClChH,KAAKmJ,eAAiB,IAAIpB,GAAemB,EAAKC,gB,sDAGC,IAA3BlC,EAA0B,uDAAT,EACrCjH,KAAKiH,KAAOA,I,iCAGmC,IAA1BS,EAAyB,uDAAjB,UAC7B1H,KAAK0H,MAAQA,M,yCApBdxH,K,mGAEAA,K,qhBG4BYkJ,I,GAbZvJ,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,uDAfR,aAA2C,IAAD,EAA9BuJ,EAA8B,uDAAJ,GAAI,2BACxC,cAAMA,GADkC,mIAExC,EAAKlI,MAAQT,EAAIX,IAAIsJ,EAAOlI,MAAO,GACnC,EAAKmI,QAAUD,EAAOC,SAAW,QACjC,EAAKC,SAAWF,EAAOE,UAAY,QAJK,E,qDAOnBpI,GACrBnB,KAAKmB,MAAQA,I,iCAGUmI,GACvBtJ,KAAKsJ,QAAUA,I,kCAGSC,GACxBvJ,KAAKuJ,SAAWA,M,GAjCCN,I,qCAClB/I,K,yEAAmB,K,uCAOnBA,K,sGAOAA,K,4ZCqBYsJ,I,GAtBZ3J,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,cAvBR,aAA2C,IAA/B2J,EAA8B,uDAAJ,GAAI,+JACxCzJ,KAAK0H,MAAQ+B,EAAO/B,OAAS,UAC7B1H,KAAK0J,KAAOhJ,EAAIX,IAAI0J,EAAOC,KAAM,GACjC1J,KAAKe,QAAUL,EAAIX,IAAI0J,EAAO1I,QAAS,GACvCf,KAAKoB,QAAUV,EAAIX,IAAI0J,EAAOrI,QAAS,G,qDAGlBsG,GACrB1H,KAAK0H,MAAQA,I,8BAGOgC,GACpB1J,KAAK0J,KAAOA,I,iCAGW3I,GACvBf,KAAKe,QAAUA,I,iCAGQK,GACvBpB,KAAKoB,QAAUA,I,gCAGOL,EAAiBK,GACvCpB,KAAKe,QAAUA,EACff,KAAKoB,QAAUA,M,0CAjChBlB,K,kGAEAA,K,yEAAkB,K,uCAElBA,K,yEAAqB,K,uCAErBA,K,yEAAqB,K,4jBCkCTyJ,I,GAbZ9J,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,cAjBR,aAAyC,IAA7BqG,EAA4B,uDAAJ,GAAI,4QACtCnG,KAAKqD,KAAO,IAAIF,GAAKgD,EAAM9C,MAC3BrD,KAAKkJ,KAAO,IAAID,GAAK9C,EAAM+C,MAC3BlJ,KAAKqJ,OAAS,IAAID,GAAOjD,EAAMkD,QAC/BrJ,KAAKyJ,OAAS,IAAID,GAAOrD,EAAMsD,QAC/BzJ,KAAK4J,YAAczD,EAAMyD,UACzB5J,KAAK6J,YAAc1D,EAAM0D,U,yDAGAA,GACzB7J,KAAK6J,UAAYA,I,mCAGQD,GACzB5J,KAAK4J,UAAYA,I,iCAGME,GACvB9J,KAAK8J,QAAUA,M,yCAhChB5J,K,kGAEAA,K,uGAEAA,K,oGAEAA,K,uGAEAA,K,oGAEAA,K,qGAEAA,K,wEAAqB,mB,wWC4CT6J,I,GA7BZlK,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,cAzCR,aAA2C,IAA/BkK,EAA8B,uDAAJ,GAAI,0QACxChK,KAAKiK,QAAUvJ,EAAIX,IAAIiK,EAAOC,QAAS,GAEvCjK,KAAKkK,QAAUxJ,EAAIX,IAAIiK,EAAOE,QAAS,GAEvClK,KAAKmK,QAAUH,EAAOG,MAEtBnK,KAAKmB,MAAQT,EAAIX,IAAIiK,EAAO7I,MAAO,MAEnCnB,KAAKqB,OAASX,EAAIX,IAAIiK,EAAO3I,OAAQ,MAGrCrB,KAAKoK,MAAuB,IAAhBJ,EAAOI,KAEnBpK,KAAKqK,YAAcL,EAAOK,U,uDAGHJ,GACvBjK,KAAKiK,QAAUA,I,iCAGQC,GACvBlK,KAAKkK,QAAUA,I,+BAGMC,GACrBnK,KAAKmK,MAAQA,I,+BAGQhJ,GACrBnB,KAAKmB,MAAQA,I,gCAGSE,GACtBrB,KAAKqB,OAASA,I,8BAGM+I,GACpBpK,KAAKoK,KAAOA,I,mCAGaC,GACzBrK,KAAKqK,UAAYA,M,4CAxDlBnK,K,yEAAqB,K,uCAErBA,K,yEAAqB,K,qCAErBA,K,yEAAmB,K,qCAEnBA,K,yEAAmB,Q,sCAEnBA,K,yEAAoB,Q,oCAEpBA,K,yEAAkB,K,yCAElBA,K,yEAAuB,K,oyBCYXoK,I,GAbZzK,IAAOC,M,GAIPD,IAAOC,M,GAIPD,IAAOC,M,cAdR,aAA2C,IAA/ByK,EAA8B,uDAAJ,GAAI,iIACxCvK,KAAKwK,SAAWD,EAAOC,UAAY,EACnCxK,KAAKyK,QAAUF,EAAOE,SAAW,EACjCzK,KAAK0K,QAAUH,EAAOG,SAAW,E,wDAGTF,GACxBxK,KAAKwK,SAAWA,I,iCAGOC,GACvBzK,KAAKyK,QAAUA,I,iCAGQC,GACvB1K,KAAK0K,QAAUA,M,6CArBhBxK,K,yEAAsB,K,uCAEtBA,K,yEAAqB,K,uCAErBA,K,yEAAqB,K,kWCAT,SAASyK,GACtBC,GAgBA,IAdgB,IADhBC,EACe,uDADH,EAEJC,EAAwBF,EAAxBE,KAAM3J,EAAkByJ,EAAlBzJ,MAAOE,EAAWuJ,EAAXvJ,OACjB0J,EAAU,EACVC,EAAa,EACbC,EAAW,EACXC,EAAY,EACZC,GAAY,EACZC,GAAe,EACfC,GAAa,EACbC,GAAc,EAEdC,EAAYvK,KAAKwK,KAAKnK,EAAS,GAC7BoK,EAAYzK,KAAKwK,KAAKrK,EAAQ,GAE3B2H,EAAI,EAAGA,EAAIyC,EAAGzC,GAAK,EAAG,CAC7B,IAAK,IAAI4C,EAAI,EAAGA,EAAIvK,IACdgK,GAAaL,EAAuB,GAAjBhC,EAAI3H,EAAQuK,GAAS,GAAKb,IAC/CM,GAAY,GAGZC,GACAN,EAAsC,IAA/BzJ,EAASyH,EAAI,GAAK3H,EAAQuK,GAAS,GAAKb,IAE/CO,GAAe,GAEZD,GAAcC,GAVMM,GAAK,GAchC,IAAKP,IAAcC,EACjB,MAEED,IAAWJ,GAAW,GACtBK,IAAcJ,GAAc,GAGlC,GAAID,EAAUC,GAAc3J,EAE1B,MAAO,CACLsK,gBAAyB,EAATxK,EAChByK,eAAyB,EAAVvK,EACfF,MAAO,EACPE,OAAQ,GAIZkK,EAAIlK,EAAS2J,EAEb,IAAK,IAAIlC,EAAI,EAAGA,EAAI2C,EAAG3C,GAAK,EAAG,CAC7B,IAAK,IAAI4C,EAAIX,EAASW,EAAIH,IACpBF,GAAcP,EAAuB,GAAjB3J,EAAQuK,EAAI5C,GAAS,GAAK+B,IAChDQ,GAAa,GAGbC,GACAR,EAAmC,GAA7B3J,EAAQuK,EAAIvK,EAAQ2H,EAAI,GAAS,GAAK+B,IAE5CS,GAAc,GAEXD,GAAeC,GAVOI,GAAK,GAclC,IAAKL,IAAeC,EAClB,MAEED,IAAYJ,GAAY,GACxBK,IAAaJ,GAAa,GAGhC,MAAO,CACLS,gBAA4B,EAAZV,EAChBW,eAA0B,EAAXb,EACf5J,MAAOA,EAAQ8J,EAAWC,EAC1B7J,OAAQA,EAAS0J,EAAUC,GC/EhB,SAASa,GACtBC,EACAC,EACAC,EACA9E,GAEA,MAAO,CACL4E,EAAGA,EAAIE,EAAIhL,KAAKiL,IAAKjL,KAAKkL,GAAK,IAAOhF,GACtC6E,EAAGA,EAAIC,EAAIhL,KAAKmL,IAAKnL,KAAKkL,GAAK,IAAOhF,ICa3B,SAASkF,GACtB9H,EACAwH,EACAC,EACA5K,EACAE,EACAmB,GAGA,GAAoB,IAAhBA,EAAOyE,KACT,OAAOzE,EAAOkF,MAIhB,GAAoB,IAAhBlF,EAAOyE,KAAY,CAAC,IAElBD,EAFiB,EACYxE,EAAOwE,SAAhCC,EADa,EACbA,KAAME,EADO,EACPA,QAASD,EADF,EACEA,MAEjBmF,EAAKP,EAAI3K,EAAQ,EACjBmL,EAAKP,EAAI1K,EAAS,EAClB2K,EAAIhL,KAAKE,IAAIC,EAAOE,GAAU,EACpC,GAAa,IAAT4F,EAAY,CACd,IAAMsF,EAAaV,GAAiBQ,EAAIC,EAAIN,EAAG9E,EAAQ,KACjDsF,EAAWX,GAAiBQ,EAAIC,EAAIN,EAAG9E,GAC7CF,EAAW1C,EAAImI,qBACbF,EAAWT,EACXS,EAAWR,EACXS,EAASV,EACTU,EAAST,QAGX/E,EAAW1C,EAAIoI,qBAAqBL,EAAIC,EAAI,EAAGD,EAAIC,EAAIN,GAOzD,OAJA7E,EAAQC,SAAQ,SAACM,GACfV,EAAS2F,aAAajF,EAAMD,OAAQC,EAAMA,UAGrCV,EA9BgC,MAiCJxE,EAAO2G,eAApCZ,EAjCiC,EAiCjCA,MAAON,EAjC0B,EAiC1BA,WAAY3G,EAjCc,EAiCdA,MAC3B,IAAKiH,EAAO,MAAO,gBAEnB,GAAc,IAAVjH,EACF,OAAOgD,EAAIsI,cAAcrE,EAAON,IAAe,gBArCR,IAuCjC4E,EAAgCtE,EAAhCsE,aAAcC,EAAkBvE,EAAlBuE,cAChBzM,EAA4B+D,SAASC,cAAc,UACzDhE,EAAOc,MAAQH,KAAKwK,KAAKqB,EAAevL,GACxCjB,EAAOgB,OAASL,KAAKwK,KAAKsB,EAAgBxL,GAC1C,IAAMyL,EAAa1M,EAAOkE,WAAW,MAErC,OAAKwI,GAELA,EAAWC,UAAUzE,EAAO,EAAG,EAAGlI,EAAOc,MAAOd,EAAOgB,QAChDiD,EAAIsI,cAAcvM,EAAQ4H,IAAe,iBAHxB,gBCpBX,SAASgF,GAAaxL,EAAce,GAA4B,IACrEa,EAA+Bb,EAA/Ba,KAAMgG,EAAyB7G,EAAzB6G,OAAQI,EAAiBjH,EAAjBiH,OAAQP,EAAS1G,EAAT0G,KAOxBgE,ETjDO,SACbzL,EACAe,GAEKnC,KAAQA,GAAS+D,SAASC,cAAc,WAC7C,IAAMC,EAAMjE,GAAOkE,WAAW,MAC9B,IAAKD,EAAK,MAAM,IAAIE,MAAM,0BAG1BnE,GAAOc,MAAQ,EACfd,GAAOgB,OAAS,EAEhB,IAAMgC,EAAOf,EAAmBE,GAEhC8B,EAAIjB,KAAOA,EAEXiB,EAAI6I,UAAY,OAChB7I,EAAIG,aAAe,SAEnB,IAEwD,IAFlD2I,EAAQ9I,EAAII,YAAYjD,GAE9B,GAA2C,qBAAhC2L,EAAMC,sBACf,MAAO,CACL5L,OACA4B,OACAlC,MAAOiM,EAAMjM,MACbE,OAAQiM,SAAS,GAAD,iBAAI9K,EAAOJ,gBAAX,QAAuB,MAAQ,IAC/CmL,UAAWH,EAAMjM,MACjBqM,WAAYF,SAAS,GAAD,iBAAI9K,EAAOJ,gBAAX,QAAuB,MAAQ,IACnDwJ,cAAe,EACfD,eAAgB,EAChB8B,gBAAiB,EACjBC,iBAAkB,GAItBpJ,EAAI6I,UAAY,QAChB7I,EAAIG,aAAe,MAEnB,IAAMkJ,EAAQrJ,EAAII,YAAYjD,GAExBkK,EAAiB3K,KAAKwK,KAAK4B,EAAMC,uBACjCI,EAAkBzM,KAAKwK,KAAKmC,EAAMC,wBAClChC,EAAgB5K,KAAKwK,KAAKmC,EAAMhJ,yBAChC+I,EAAmB1M,KAAKwK,KAAK4B,EAAMxI,0BAOzC,MAAO,CACLnD,OACA4B,OACAlC,MATYwK,EAAiB3K,KAAKwK,KAAK4B,EAAMQ,wBAU7CvM,OATaqM,EAAmB1M,KAAKwK,KAAK4B,EAAMzI,yBAUhD4I,UATgBvM,KAAKwK,KAAK4B,EAAMjM,OAUhCqM,WARAJ,EAAMzI,wBAA0BgJ,EAAMhJ,wBAStCiH,gBACAD,iBACA8B,kBACAC,oBSZeG,CAAYpM,EALV,CACjBW,SAAUiB,EAAKC,KACfjB,WAAYgB,EAAKY,SAIX9C,EAAiD+L,EAAjD/L,MAAOE,EAA0C6L,EAA1C7L,OAAQsK,EAAkCuB,EAAlCvB,eAAgBC,EAAkBsB,EAAlBtB,cACvC,GAAc,IAAVzK,GAA0B,IAAXE,EAAc,OAAO,aAAEhB,OAAQ,MAAS6M,GAE3D,IAAMY,EAAYzE,EAAwB,EAAfA,EAAOlI,MAAY,EAC1C4M,EAAOD,EACPE,EAAOF,EACPG,GAAU9M,EAAQkC,EAAKC,MAAQ,EAC/B4K,GAAU7M,EAASgC,EAAKC,MAAQ,EAEpC,GAAImG,EAAQ,CACV,IAAMC,EAAO1I,KAAKwK,KAAmB,IAAd/B,EAAOC,MAC9BqE,GAAQ/M,KAAKmN,IAAI1E,EAAO1I,SAAW2I,EACnCsE,GAAQhN,KAAKmN,IAAI1E,EAAOrI,SAAWsI,EAGrCuE,GAAUF,EACVG,GAAUF,EAEV,IAAI3N,EAAS+D,SAASC,cAAc,UAChCC,EAAMjE,EAAOkE,WAAW,MAqC5B,GApCAlE,EAAOc,MAAQA,EAAe,EAAP4M,EACvB1N,EAAOgB,OAASA,EAAgB,EAAP2M,EAEzB1J,EAAI6I,UAAY,OAChB7I,EAAIG,aAAe,MAEnBH,EAAIjB,KAAOf,EAAmB,CAC5BF,SAAUiB,EAAKC,KACfjB,WAAYgB,EAAKY,SAGfoF,GAAUyE,IACZxJ,EAAIwJ,UAAYA,EAChBxJ,EAAIgF,QAAUD,EAAOC,QACrBhF,EAAIiF,SAAWF,EAAOE,SACtBjF,EAAI8J,YAAchC,GAChB9H,EACA2J,EACAC,EACA7K,EAAKC,KACLD,EAAKC,KACL+F,GAEF/E,EAAI+J,WAAW5M,EAAMsM,EAAOpC,EAAgBqC,EAAOpC,IAGrDtH,EAAIgK,UAAYlC,GACd9H,EACA2J,EACAC,EACA7K,EAAKC,KACLD,EAAKC,KACL4F,GAEF5E,EAAIiK,SAAS9M,EAAMsM,EAAOpC,EAAgBqC,EAAOpC,GAE7CnC,EAAQ,CACV,IAAM+E,EAAMpK,SAASC,cAAc,UACnCmK,EAAIrN,MAAQA,EAAe,EAAP4M,EACpBS,EAAInN,OAASA,EAAgB,EAAP2M,EACtB,IAAMS,EAASD,EAAIjK,WAAW,MAE9BkK,EAAOC,YAAcjF,EAAO/B,MAC5B+G,EAAOE,WAAalF,EAAOC,KAC3B+E,EAAOG,cAAgBnF,EAAO1I,QAC9B0N,EAAOI,cAAgBpF,EAAOrI,QAE9BqN,EAAOzB,UAAU3M,EAAQ,EAAG,GAE5BA,EAASmO,EACTlK,EAAMmK,EAGR,GAAqB,IAAjBpO,EAAOc,OAAiC,IAAlBd,EAAOgB,OAC/B,OAAO,aACLhB,UACG6M,GAIP,IAAM4B,EAAUxK,EAAIyK,aAAa,EAAG,EAAG1O,EAAOc,MAAOd,EAAOgB,QACtD2N,EAAgBrE,GAAcmE,GAgBpC,OAfAzO,EAAOc,MAAQ6N,EAAc7N,MAC7Bd,EAAOgB,OAAS2N,EAAc3N,OAC9B6L,EAAS/L,MAAQ6N,EAAc7N,MAC/B+L,EAAS7L,OAAS2N,EAAc3N,OAChCiD,EAAI2K,aACFH,EACAE,EAAcrD,eACdqD,EAAcpD,eAEhBsB,EAASvB,gBAAkBoC,EAAOiB,EAAcrD,eAChDuB,EAAStB,eAAiBoC,EAAOgB,EAAcpD,cAC/CsB,EAASQ,kBACPM,GACC3M,EAAgB,EAAP2M,EAAWgB,EAAcpD,cAAgBoD,EAAc3N,QAE5D,aACLhB,UACG6M,G,qCCnHQgC,I,GAxCZhP,IAAWkD,I,GAsBXlD,IAAWkD,I,GAaXvD,IAAOC,M,cATR,aAA6C,IAAjCqP,EAAgC,uDAAJ,GAAI,yBA9BnClI,KAAkB,OA8BiB,+gBAC1CjH,KAAK8B,OAASqN,EAAMrN,QAAU,GAC9B9B,KAAKoP,aAAe,IAAI9E,GAAO6E,EAAMC,cAEjCD,EAAME,UACRrP,KAAKqP,QAAUF,EAAME,S,uDAIA5N,EAAc4N,GACrCrP,KAAKqP,QAAQC,IAAI7N,EAAM4N,O,2CAtCxBnP,K,wEAAoB,M,mHAEiD,Q,qCAErEA,K,yEAAmB,K,sCAEnBA,K,yEAAoB,K,iCAEpBA,K,yEAAe,K,iCAEfA,K,yEAAe,K,yCAEfA,K,yEAAuB,K,0CAEvBA,K,yEAAwB,K,6CAExBA,K,yEAA2B,K,8CAE3BA,K,yEAA4B,K,+CAE5BA,K,yEAA6B,K,gDAE7BA,K,yEAA8B,K,qJAI9BA,K,yEAA0C,IAAIqP,O,wHCJlCC,I,uDAxBb,aAAoE,IAAD,EAAvDC,EAAuD,uDAAtB,GAAIC,EAAkB,mEACjE,cAAMD,IACDE,aAAaD,GAF+C,E,yDAK9CA,GAAyB,IACpCrM,EAAqDqM,EAArDrM,KAAM6F,EAA+CwG,EAA/CxG,KAAMW,EAAyC6F,EAAzC7F,UAAWR,EAA8BqG,EAA9BrG,OAAQO,EAAsB8F,EAAtB9F,UAAWH,EAAWiG,EAAXjG,OAC5CjH,EAAiB,CAAEa,OAAM6F,QAC3BW,IAAWrH,EAAO6G,OAASA,GAC3BO,IAAWpH,EAAOiH,OAASA,GAE/B,IAAMmG,EAAY3C,GAAajN,KAAK8B,OAAQU,GAC5CxC,KAAK6P,OAASD,EAAUvP,OACxBL,KAAKmB,MAAQyO,EAAUzO,MACvBnB,KAAKqB,OAASuO,EAAUvO,OACxBrB,KAAKuN,UAAYqC,EAAUrC,UAC3BvN,KAAKwN,WAAaoC,EAAUpC,WAC5BxN,KAAK4L,cAAgBgE,EAAUhE,cAC/B5L,KAAK2L,eAAiBiE,EAAUjE,eAChC3L,KAAKyN,gBAAkBmC,EAAUnC,gBACjCzN,KAAK0N,iBAAmBkC,EAAUlC,qB,GArBdwB,I,yCAMrBrP,K,+LC6DYiQ,I,GAxDZ5P,IAAWkD,I,GAoBXvD,IAAOC,M,GA2BPD,IAAOC,M,GAIPD,IAAOC,M,uDA3CR,WAAYiQ,GAAkC,IAAD,8BAC3C,cAAMA,IAbC9I,KAAkB,QAYkB,0NAE3C,EAAKnF,OAASiO,EAAWjO,QAAU,GACnC,EAAKkO,SAAWD,EAAWC,UAAY,GACvC,EAAKC,SAAWF,EAAWE,UAAY,GACvC,EAAKnL,OAASiL,EAAWjL,QAAU,KAC/BiL,EAAWjL,SACb,EAAKqD,IAAMzC,IAAIC,gBAAgB,IAAIC,KAAK,CAACmK,EAAWjL,UACpD,EAAKoL,aARoC,E,wDAYH,IAAD,OACvC,OAAO,IAAIhL,SAAQ,SAACC,GAClB,IAAMoD,EAAQ,IAAIF,MAClBE,EAAMD,OAAS,WACb1B,YAAY,aAAa,WAAO,IACtBiG,EAAgCtE,EAAhCsE,aAAcC,EAAkBvE,EAAlBuE,cACtB,EAAKS,UAAYV,EACjB,EAAKW,WAAaV,EAElB,IAAMI,ECxCD,SACb3E,GAEW,IADXsC,EACU,uDADE,GAEN1J,EAAQoH,EAAMsE,aACdxL,EAASkH,EAAMuE,cAEfzM,EAAS+D,SAASC,cAAc,UACtChE,EAAOc,MAAQA,EACfd,EAAOgB,OAASA,EAChB,IAAMiD,EAAMjE,EAAOkE,WAAW,MAC9BD,EAAI0I,UAAUzE,EAAO,EAAG,GACxB,IACM2E,EAAWvC,GADCrG,EAAIyK,aAAa,EAAG,EAAG5N,EAAOE,GACNwJ,GAK1C,OAJAxK,EAAOc,MAAQ+L,EAAS/L,MACxBd,EAAOgB,OAAS6L,EAAS7L,OACzBiD,EAAI0I,UAAUzE,EAAO2E,EAASvB,eAAgBuB,EAAStB,eAEhD,aACLvL,UACG6M,GDoBoBiD,CAAiB5H,GAClC,EAAKpH,MAAQ+L,EAAS/L,MACtB,EAAKE,OAAS6L,EAAS7L,OACvB,EAAKsK,eAAiBuB,EAASvB,eAC/B,EAAKC,cAAgBsB,EAAStB,cAC9B,EAAK6B,gBACHP,EAAS/L,MAAQ+L,EAASvB,eAAiBkB,EAC7C,EAAKa,iBACHR,EAAS7L,OAAS6L,EAAStB,cAAgBkB,EAE7C,EAAK+C,OAAS3C,EAAS7M,OACvB8E,QAGJoD,EAAMJ,IAAM,EAAKA,S,+BAIE1G,GACrBzB,KAAK8B,OAASL,EAAK,IAAM,K,mCAGA2O,GACzBpQ,KAAKqQ,SAAWD,M,GAzDKlB,I,mCAGtBhP,K,wEAAiB,M,mHAE2B,Q,wCAE5CA,K,wEAAsB,M,wCAEtBA,K,wEAAsB,M,wCAEtBA,K,yEAAsB,K,8VEgUVoQ,I,GA5SZpQ,IAAW6G,Q,GAEX7G,IAAW6G,Q,GAEX7G,IAAWkD,I,GAEXlD,IAAWkD,I,GAEXlD,IAAWkD,I,GAEXlD,IAAWkD,I,GAEXlD,IAAWkD,I,GA2DXvD,IAAOC,M,GAuCPD,IAAOC,M,GAmEPD,IAAOC,M,GAoCPD,IAAOC,M,GAmCPD,IAAOC,M,GAMPD,IAAOC,M,GAsBPD,IAAOC,M,GAUPD,IAAOC,M,GAKPD,IAAOC,M,GAIPD,IAAOC,M,cAzRR,aAA6C,IAAD,SAAhCyQ,EAAgC,uDAAJ,GAAI,0DA7B5CjJ,QA6B4C,OA3B5CkJ,OAA4B,KA2BgB,KAzB5CC,UAAY,EAyBgC,KAvB5CC,UAAY,EAuBgC,KArB5CC,OAAS,EAqBmC,4UAC1C3Q,KAAKsH,GAAKiJ,EAAQjJ,IAAMsJ,KAAKC,MAC7B7Q,KAAK6F,KAAO0K,EAAQ1K,MAAQ,UAC5B7F,KAAKyB,KAAO8O,EAAQ9O,MAAQzB,KAAKyB,KACjCzB,KAAKa,GAAK,IAAIjB,EAAG2Q,EAAQ1P,IACzBb,KAAKmG,MAAQ,IAAIwD,GAAM4G,EAAQpK,OAC/BnG,KAAKgK,OAAS,IAAID,GAAOwG,EAAQvG,QACjChK,KAAK8Q,mBAAqB,IAAIxG,GAAOiG,EAAQO,oBAEzCP,EAAQQ,QACVR,EAAQQ,OAAO3J,SAAQ,SAAC4J,EAAOC,GAC7B,EAAKF,OAAOzB,IAAI2B,EAAK,IAAIzB,GAAUwB,EAAO,EAAK7K,WAInD,UAAAoK,EAAQW,mBAAR,SAAqB9J,SAAQ,SAACgB,GAC5B,EAAK8I,YAAYvO,KAAK,IAAImN,GAAW1H,OAGlCpI,KAAK+Q,OAAOI,IAAI,MACnBnR,KAAK+Q,OAAOzB,IAAI,IAAK,IAAIE,GAAU,CAAE1N,OAAQ,KAAO9B,KAAKmG,QAE3DnG,KAAKoR,UAAUb,EAAQ9O,MAAQ,IAC/BzB,KAAKqR,aACLrR,KAAKsR,O,mDAiCqB,IAAD,OACzB,IAAItR,KAAK2Q,OAAT,CACI3Q,KAAKwQ,QAAQxQ,KAAKwQ,OAAOe,YAC7BvR,KAAKwR,WAAY,EACjB,IAAMC,EAAWzR,KAAK0R,cAAcC,MAAK,SAAChR,EAAGC,GAAJ,OAAUA,EAAES,OAASV,EAAEU,UAChE,IAAKrB,KAAKgK,OAAOI,KAAM,CACrB,IAAMwH,EAAS,IAAIC,IACjB7R,KAAKgK,OAAO7I,MAAQnB,KAAKgK,OAAOE,QAChClK,KAAKgK,OAAO3I,OAASrB,KAAKgK,OAAOE,SAG7B4H,EAAOL,EAASM,QAAO,gBAAG5Q,EAAH,EAAGA,MAAOE,EAAV,EAAUA,OAAV,SAA0BF,IAASE,MAOhE,OALAuQ,EAAOI,YAAYF,GAAM,EAAM,EAAG,GAElC9R,KAAKiS,QAAQL,EAAOM,eAAgBJ,QAEpC9R,KAAKwR,WAAY,GAGnBxR,KAAKwQ,OAAS,IAAI2B,EAClBnS,KAAKwQ,OAAO4B,iBACV,UACAvS,YAAO,wBAAwB,SAACwS,GAAkB,IAAD,EACvCvH,EAASuH,EAATvH,KACR,EAAKmH,QAAQnH,GAEb,EAAK0G,WAAY,EACjB,YAAKhB,cAAL,SAAae,YACb,EAAKf,OAAS,SAEhB,GAGFxQ,KAAKwQ,OAAO8B,YACVb,EAASM,QAAO,gBAAG5Q,EAAH,EAAGA,MAAOE,EAAV,EAAUA,OAAV,SAA0BF,IAASE,U,8BAKrDyQ,EACAS,GACO,IAAD,OACAC,EAAUxS,KAAKkR,YACjBuB,EAAW,EACXC,EAAY,EAHV,EAI8C1S,KAAKgK,OAAjDI,EAJF,EAIEA,KAAMC,EAJR,EAIQA,UAAWlJ,EAJnB,EAImBA,MAAOE,EAJ1B,EAI0BA,OAAQ6I,EAJlC,EAIkCA,QAExC4H,EAAK1K,SAAQ,SAACuL,GAAe,IAEvBxD,EADIrN,EAAsC6Q,EAAtC7Q,OAAQgK,EAA8B6G,EAA9B7G,EAAGC,EAA2B4G,EAA3B5G,EAAG9E,EAAwB0L,EAAxB1L,KAAM9F,EAAkBwR,EAAlBxR,MAAOE,EAAWsR,EAAXtR,OAGtB,UAAT4F,IACFkI,EAAQqD,EAAQI,MAAK,SAACC,GACpB,SAAIA,GAAMA,EAAG/Q,SAAWA,OAKvBqN,IACHA,EAAQ,EAAK4B,OAAO+B,IAAIhR,IAGtBqN,IACFA,EAAMrD,EAAIA,GAAK,EACfqD,EAAMpD,EAAIA,GAAK,GAGjB0G,EAAWzR,KAAKE,IAAIuR,EAAU3G,EAAI3K,GAClCuR,EAAY1R,KAAKE,IAAIwR,EAAW3G,EAAI1K,OAGtC,OAAIkR,QAAJ,IAAIA,OAAJ,EAAIA,EAAY1K,SACd0K,EAAWnL,SAAQ,SAACuL,GAAe,IAE7BxD,EADIrN,EAAiB6Q,EAAjB7Q,OAGK,UAHY6Q,EAAT1L,OAIdkI,EAAQqD,EAAQI,MAAK,SAACC,GACpB,SAAIA,GAAMA,EAAG/Q,SAAWA,OAKvBqN,IACHA,EAAQ,EAAK4B,OAAO+B,IAAIhR,IAGtBqN,IACFA,EAAMrD,EAAI,EACVqD,EAAMpD,EAAI,MAGd/L,KAAKa,GAAGkS,eAAc,IAEtB/S,KAAKa,GAAGkS,eAAc,GAGnB3I,IAAQC,EAKbrK,KAAKa,GAAGmS,QAAQP,EAAWvI,EAASwI,EAAYxI,GAJ9ClK,KAAKa,GAAGmS,QAAQ7R,EAAOE,K,kCAOM,IAAD,OAC9BrB,KAAKwR,WAAY,EACbxR,KAAKwQ,SACPxQ,KAAKwQ,OAAOe,YACZvR,KAAKwQ,OAAS,MAEhByC,iBAAOjT,KAAK2Q,QAEZ,IAAMuC,EAAqB,GAE3BlT,KAAK+Q,OAAO3J,SAAQ,SAAC+H,GACnB+D,EAAMvQ,KAAKwM,OAGI,SAAXgE,IACJ,EAAKxC,OAASyC,mBAAQ,SAACC,GAGrB,IAFA,IAAMC,EAAKD,EAASE,gBACdC,EAAQ5C,KAAKC,MACZqC,EAAMrL,QAAUyL,GAAM1C,KAAKC,MAAQ2C,IAAU,KAAK,CAEvD,IAAMrE,EAAQ+D,EAAMO,QAChBtE,GAAOA,EAAMQ,aAAa,EAAKxJ,OAGjC+M,EAAMrL,OACRsL,KAEA,EAAKxC,OAAS,EACd,EAAKW,WAKX6B,K,qCAGkC,IAAD,OAC7BnT,KAAK2Q,SACT+C,OAAOC,aAAa3T,KAAK0Q,WACrBE,KAAKC,MAAQ7Q,KAAKyQ,UAAY,IAChCvL,QAAQC,UAAUwB,KAAK3G,KAAKsR,MAE5BtR,KAAK0Q,UAAYgD,OAAOjN,YAAW,WACjC,EAAK6K,SACJ,KAELtR,KAAKyQ,UAAYG,KAAKC,S,mCAGJ,IAAD,OACX+C,EAAS,SAACC,EAAyBhO,GAA1B,SACVgO,EAAIhO,MAAQgO,EAAIhO,OAASA,IAE9BiO,YAAY9T,KAAK+Q,QAAQ,WACvB,EAAKgD,kBAGPD,YAAY9T,KAAKkR,aAAa,WAC5B,EAAK6C,kBAGPD,YAAY9T,KAAKgK,QAAQ,WACvB,EAAK+J,kBAGPD,YAAY9T,KAAKmG,OAAO,SAAC6N,GACnBJ,EAAOI,EAAQ,YAAcJ,EAAOI,EAAQ,eAChD,EAAKC,iB,8BAIaC,GACpB,IAAMC,EAAUnU,KAAKyB,KACrBzB,KAAKyB,KAAOyS,EAAIE,QAAQ,OAAQ,IAChCpU,KAAKoR,UAAU+C,K,kCAG4B,IAAD,OAApBA,EAAoB,uDAAV,GAC1BE,EAAcC,MAAMC,KAAK,IAAIC,IAAIxU,KAAKyB,KAAKgT,MAAM,MACjDC,EAAUJ,MAAMC,KAAK,IAAIC,IAAIL,EAAQM,MAAM,MACjDzU,KAAKyB,KAAO4S,EAAYtR,KAAK,IAC7B,IAAM4R,EAAWR,EACbG,MAAMC,KAAK,IAAIC,IAAIH,EAAYO,OAAOF,KAAW3C,QAC/C,SAAC8C,GAAD,QAASR,EAAYS,SAASD,IAAMH,EAAQI,SAASD,OAEvDR,EAECM,EAAS9M,QAEd8M,EAASvN,SAAQ,SAACtF,GACZuS,EAAYS,SAAShT,GACvB,EAAKiP,OAAOzB,IAAIxN,EAAQ,IAAI0N,GAAU,CAAE1N,UAAU,EAAKqE,QAGvD,EAAK4K,OAAOgE,OAAOjT,Q,gCAKmBgQ,GAAkB,IAAD,OAC3D5M,QAAQ8P,IACNlD,EAAKnK,KAAI,SAACS,GACR,IAAM2H,EAAa,IAAID,GAAW1H,GAElC,OADA,EAAK8I,YAAYvO,KAAKoN,GACfA,EAAWG,gBAEpBvJ,KAAK3G,KAAKsR,Q,kCAGY/I,GACxB,IAAM0M,EAAMjV,KAAKkR,YAAYgE,QAAQ3M,GACjC0M,GAAO,GAAGjV,KAAKkR,YAAYiE,OAAOF,EAAK,K,gCAGrB5U,GACtBL,KAAKoV,WAAa/U,I,8BAGEwF,GACpB7F,KAAK6F,KAAOA,GAAQ7F,KAAK6F,O,gCA/P4B,IAAD,OAC9CgO,EAAqC,GAQ3C,OANA7T,KAAKkR,YAAY9J,SAAQ,SAAC+H,GACpBA,EAAMrN,QAAUqN,EAAMkB,WACxBwD,EAAI1E,EAAMrN,QAAUqN,MAIjB,WAAInP,KAAKyB,MAAOgT,MAAM,IAAI9M,KAAI,SAAC7F,GACpC,OAAI+R,EAAI/R,GAAgB+R,EAAI/R,GACrB,EAAKiP,OAAO+B,IAAIhR,Q,oCAIqB,IAAD,EAChB9B,KAAKgK,OAA1BC,EADqC,EACrCA,QAASC,EAD4B,EAC5BA,QACjB,OAAOlK,KAAKqV,UAAU1N,KAAI,SAACwH,GACzB,IAAMmG,KAAenG,EAAMhO,QAASgO,EAAM9N,QAC1C,MAAO,CACLS,OAAQqN,EAAMrN,OACdmF,KAAMkI,EAAMlI,KACZ9F,MAAOmU,EAAYnG,EAAMhO,MAAkB,EAAV8I,EAAcC,EAAU,EACzD7I,OAAQiU,EAAYnG,EAAM9N,OAAmB,EAAV4I,EAAcC,EAAU,EAC3D4B,EAAG,EACHC,EAAG,U,yCAnFR7L,K,wEAAkB,a,yCAYlBA,K,yEAAuB,K,oCAEvBA,K,wEACC,sG,mHAEmD,IAAIqP,O,uHAET,M,0bAQO,Q,+GAE9B,IAAI3P,K,sCA6B5BiH,K,kHAeAA,K,wrCCxBY0O,I,GApEZrV,IAAW6G,Q,GAyBXlH,IAAOC,M,GAIPD,IAAOC,M,GAOPD,IAAOC,M,GAwBPD,IAAOC,M,cA1DR,aAAe,IAAD,wGACZ8G,aAAY,WACV,EAAK4O,SAAW5E,KAAKC,MACrB,IAAMN,EAAU,IAAID,GAAQ,CAAEhJ,GAAI,EAAKkO,WACvC,EAAKC,YAAYnG,IAAIiB,EAAQjJ,GAAIiJ,M,0DAmBTjJ,GACtBtH,KAAKyV,YAAYtE,IAAI7J,KAAKtH,KAAKwV,SAAWlO,K,oCAGpBA,GAC1B,IAAMwK,EAAO9R,KAAK0V,UAAU3D,QAAO,SAAC1K,GAAD,OAAUA,EAAKC,KAAOA,KACrC,IAAhBwK,EAAKjK,SACT7H,KAAKwV,SAAW1D,EAAK,GAAGxK,GACxBtH,KAAKyV,YAAYV,OAAOzN,M,mCAGgC,IAAjCqO,EAAgC,uDAAV,GAC7C,GAAIA,EAAErO,IAAMtH,KAAKyV,YAAYtE,IAAIwE,EAAErO,IACjCtH,KAAKwV,SAAWG,EAAErO,OADpB,CAIA,IAAKqO,EAAE9P,KAAM,CACX8P,EAAE9P,KAAO,UACT,IAAM6P,EAAsB,GAC5B1V,KAAKyV,YAAYrO,SAAQ,SAACC,GACxB,IAAMuO,EAAQvO,EAAKxB,KAAKgQ,MAAM,qBAC1BD,GACFF,EAAU/S,KAAKnC,OAAOoV,EAAM,KAAO,MAGnCF,EAAU7N,OAAS,IACrB8N,EAAE9P,MAAF,WAAc7E,KAAKE,IAAL,MAAAF,KAAY0U,GAAa,IAI3C,IAAMnF,EAAU,IAAID,GAAQqF,GAC5B3V,KAAKyV,YAAYnG,IAAIiB,EAAQjJ,GAAIiJ,GACjCvQ,KAAKwV,SAAWjF,EAAQjJ,M,qCAGGzB,EAAcmL,GACzC,IAAMT,EAAUvQ,KAAKyV,YAAY3C,IAAI9B,GACjCT,GACFA,EAAQuF,QAAQjQ,K,qCApDlB,OAAO7F,KAAKyV,YAAY3C,IAAI9S,KAAKwV,Y,gCAIjC,IAAM1D,EAAuC,GAO7C,OANA9R,KAAKyV,YAAYrO,SAAQ,SAAC4J,GACxBc,EAAKnP,KAAK,CACR2E,GAAI0J,EAAM1J,GACVzB,KAAMmL,EAAMnL,UAGTiM,M,6CAxBR5R,K,yEAAsB,K,wHAEiC,IAAIqP,O,2CAU3D1I,K,mHAIAA,K,gjBChBHkP,YAAU,CACRC,eAAgB,SAChBC,0BAA0B,I,wBCwCbC,GA7CgB,CAC7BC,UAAW,CACT7S,KAAM,SAER8S,cAAe,CACbC,eAAe,GAEjBC,eAAgB,CACdC,OAAQ,SAEVC,eAAgB,CACdD,OAAQ,SAEVE,kBAAmB,CACjBF,OAAQ,SAEVG,cAAe,CACbpT,KAAM,SAERqT,aAAc,CACZJ,OAAQ,SAEVK,cAAe,CACbL,OAAQ,SAEVM,YAAa,CACXC,OAAO,GAETC,iBAAkB,CAChBR,OAAQ,SAEVS,OAAQ,CACN1T,KAAM,SAER2T,SAAU,CACR3T,KAAM,SAER4T,aAAc,CACZX,OAAQ,SAEVY,WAAY,CACVC,QAAS,UCMEC,GA/Cc,CAC3BC,eAAgB,CACd,UAAW,CACT,kBAAmB,CACjBnW,MAAO,OACPE,OAAQ,QAEVkW,KAAM,CACJnV,SAAU,QAEZoE,KAAM,CACJ+P,OAAQ,EAERiB,oBAAqB,cACrBC,oBAAqB,YACrBC,WAAY,QAEd,QAAS,CACPC,SAAU,KAEZ,mCAAoC,CAClCC,WAAY,QAEd,iFAAkF,CAChFtR,QAAS,IAEX,sBAAuB,CACrBnF,MAAO,MACPE,OAAQ,OAEV,4BAA6B,CAC3BwW,WAAY,4BAEd,4BAA6B,CAC3BA,WAAY,wBAIlBlB,aAAc,CACZmB,MAAO,CACL,iBAAkB,CAChB3K,UAAW,YCtCb4K,GAAQC,aAAe,CAC3B7Q,QAAS,CACPF,KAAM,OACNgR,QAAS,CAAEC,KAAM,QACjBC,UAAW,CAAED,KAAM,WACnBL,WAAY,CACVO,MAAO,kBACPC,QAAS,kBACTC,YAAa,kBACbC,SAAU,kBACVC,QAAS,mBAEXC,OAAQ,CACNC,MAAO,gBACPC,MAAO,oBAET9Y,OAAQ,CACN+Y,MAAO,6BAGXC,QAAS,CACPC,gBAAiB,OACjBC,gBAAgB,gKAGhBC,eAAgB,UAChBC,mBAAoB,eACpBC,iBAAkB,UAEpBhP,QAAS,EACTiP,WAAY,CAAE/W,SAAU,IACxBgX,YAAa,CACXC,OAAQ,iBAAM,SAEhBC,MAAO,CAAEC,aAAc,GACvBrD,SACAmB,eAGamC,gBAAoBzB,I,kDC/BpB,SAAS0B,KACtB,OAAOC,qBAAWC,KAGb,SAASC,KAEd,OADcH,KACDI,UAGR,SAASC,KAEd,OADcL,KACDI,UAAUE,eAAe/P,OAGjC,SAASgQ,KAEd,OADcP,KACDI,UAAUE,eAGlB,SAASE,KAEd,OADkBD,KAAV7T,MAIH,SAAS+T,KAEd,OADiBD,KAAT5W,KASH,SAAS8W,KAEd,OADeH,KAAPnZ,G,+FChDK,SAASuZ,GACtBC,GAEA,OAAIA,EAAKC,YAAoBD,EAAKC,cAE3B,IAAIpV,SAAQ,SAACC,GAClB,IAAMoV,EAAS,IAAIC,WACnBD,EAAOE,kBAAkBJ,GACzBE,EAAOjS,OAAS,SAACrD,GAAO,IAAD,EACrBE,GAAS,OAADF,QAAC,IAADA,GAAA,UAAAA,EAAGyV,cAAH,eAAWC,SAAU,UCInC,IAAMC,GAAYC,cAAW,SAAC9C,GAAD,OAC3B+C,aAAa,CACXC,MAAO,CACL9Q,QAAS8N,EAAM7N,QAAQ,IACvB8Q,OAAQ,UACRC,QAAS,cAgFAC,gBA3EgC,WAC7C,IAAMC,EAAUP,KADmC,EAErBQ,oBAAS,GAFY,oBAE5CC,EAF4C,KAEnCC,EAFmC,OAGXpB,KAAhCqB,EAH2C,EAG3CA,QAAS/X,EAHkC,EAGlCA,QAASgY,EAHyB,EAGzBA,UAoC1B,OACE,eAACC,GAAA,EAAD,CAAMC,WAAS,EAACxR,QAAS,EAAGyR,WAAW,SAAvC,UACE,cAACF,GAAA,EAAD,CAAMpU,MAAI,EAACuU,IAAI,EAAf,SACE,eAACC,GAAA,EAAD,CACEC,UAAU,QACV1E,QAAQ,YACR1P,MAAM,UACNqU,WAAS,EACTzY,KAAK,QACL0Y,UACEX,EACE,cAACY,GAAA,EAAD,CAAkB3Y,KAAM,GAAIoE,MAAM,YAElC,cAAC,KAAD,IAGJwU,SAAUb,EAbZ,6BAgBE,uBACEc,QAAM,EACNlV,KAAK,OACLmV,SAxDc,SACtBC,GAEA,GACGA,GACAA,EAAM3B,QACN2B,EAAM3B,OAAO4B,OACbD,EAAM3B,OAAO4B,MAAM,GAJtB,CAQA,IAAMjC,EAAOgC,EAAM3B,OAAO4B,MAAM,GACpBjC,EAAKxU,KAAKgQ,MAAM,qBAG5ByF,GAAW,GAEXlB,GAASC,GAAM1T,MAAK,SAAC4V,GACbA,aAAkBC,aAKxBH,EAAM3B,OAAO1J,MAAQ,GAErBxN,EAAQ+Y,GACL5V,MAAK,kBAAM2U,GAAW,MACtBmB,OAAM,SAACxX,GACNqW,GAAW,GACX5H,OAAOgJ,MAAMzX,EAAE0X,aAVjBrB,GAAW,SAsCPsB,OAAO,yBAIZrB,EACC,cAACE,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAG,OAAd,SACE,cAAC,KAAD,CAAkBiB,UAAW1B,EAAQJ,MAAO+B,QAAStB,MAErD,W,UCvCKuB,GAtCsC,SACnD7G,GACiB,IACT8G,EAAsD9G,EAAtD8G,OAAQC,EAA8C/G,EAA9C+G,SAAUnB,EAAoC5F,EAApC4F,UAAWoB,EAAyBhH,EAAzBgH,MAAOC,EAAkBjH,EAAlBiH,cAC5C,OACE,eAAC1B,GAAA,EAAD,CACEK,UAAWA,GAAa,QACxBJ,WAAS,EACTxR,QAAS,EACTkT,KAAK,SACLC,QAAQ,SACR1B,WAAW,SANb,UAQE,cAACF,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAI,EAAf,SACqB,kBAAXoB,EACNA,EAEA,cAACM,GAAA,EAAD,CAAYC,QAAM,EAACC,MAAM,QAAzB,SACGR,MAIP,cAACvB,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAIuB,GAAiB,EAAhC,SACGF,IAEH,cAACxB,GAAA,EAAD,CAAMpU,MAAI,EAACuU,IAAE,EAAb,SACoB,kBAAVsB,EACNA,EAEA,cAACI,GAAA,EAAD,CAAYC,QAAM,EAACnG,QAAQ,UAA3B,SACG8F,UChBEhC,gBAtB8B,WAAO,IAAD,EACvBhB,KAAlB5W,EADyC,EACzCA,KAAM0P,EADmC,EACnCA,QAQd,OACE,cAAC,GAAD,CAAWgK,OAAO,aAAaE,MAAM,KAArC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO1N,EACPyY,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAbc,SAClBC,GAEArJ,EAAQxS,OAAO6b,EAAM3B,OAAO1J,gBCgBjBkK,gBAtBgC,WAAO,IAAD,EACbhB,KAA9BpX,EAD2C,EAC3CA,WAAY6a,EAD+B,EAC/BA,cAQpB,OACE,cAAC,GAAD,CAAWX,OAAO,eAAeE,MAAM,WAAvC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAOlO,EACPiZ,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GAAK2c,KAAM,IAC9BxB,SAbc,SAClBC,GAEAsB,EAAcnd,OAAO6b,EAAM3B,OAAO1J,gBCavB7N,GAnB0B,WACvC,OACE,qCACE,cAAC0a,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,qBAEF,cAACO,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,U,UCiDO7C,gBAvD4B,WAAO,IAAD,EACrBlB,KAAlBvY,EADuC,EACvCA,KAAMuc,EADiC,EACjCA,QADiC,EAErB5C,oBAAS,GAFY,oBAExC6C,EAFwC,KAEjCC,EAFiC,OAGb9C,mBAAS3Z,GAHI,oBAGxC0c,EAHwC,KAG7BC,EAH6B,KAgBzCC,EAAyBC,uBAAY,WACzCF,EAAa3c,GACbyc,GAAS,KACR,CAACzc,IAaJ,OAJA8c,qBAAU,WACRH,EAAa3c,KACZ,CAACA,IAGF,qCACE,cAACoc,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,uBAEF,cAACO,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACS,GAAA,EAAD,CACEjI,OAAO,OACPvF,MAAOiN,EAAQE,EAAY1c,EAC3Bsa,WAAS,EACT0C,WAAS,EACTC,KAAM,EACNtH,QAAQ,WACRsG,WAAY,CAAEiB,YAAY,GAC1BvC,SAzCY,SAACC,GAAyD,IACpErL,EAAUqL,EAAM3B,OAAhB1J,MACFkD,EAAMI,MAAMC,KAAK,IAAIC,IAAIxD,EAAMyD,MAAM,MAAM1R,KAAK,IAClDkb,EACFG,EAAapN,IAEboN,EAAalK,GACTA,IAAQzS,GAAMuc,EAAQ9J,KAmCtB0K,mBAAoBP,EACpBQ,iBA3BqB,WAC3BX,GAAS,GACT,IAAMhK,EAAMI,MAAMC,KAAK,IAAIC,IAAI2J,EAAU1J,MAAM,MAAM1R,KAAK,IAC1Dqb,EAAalK,GACTA,IAAQzS,GAAMuc,EAAQ9J,cCZfgH,gBApB6B,WAAO,IAAD,EAChBpB,KAAxB7P,EADwC,EACxCA,QAAS6U,EAD+B,EAC/BA,WAMjB,OACE,cAAC,GAAD,CAAW9B,OAAO,WAAWE,MAAM,KAAnC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO/G,EACP8R,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAXc,SAACC,GACnByC,EAAWte,OAAO6b,EAAM3B,OAAO1J,gBCYpBkK,gBAhB6B,WAAO,IAAD,EAChBpB,KAAxB5P,EADwC,EACxCA,QAAS6U,EAD+B,EAC/BA,WAEjB,OACE,cAAC,GAAD,CAAW/B,OAAO,WAAWE,MAAM,KAAnC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO9G,EACP6R,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAAU,SAACnX,GAAD,OAAO8Z,EAAWve,OAAOyE,EAAEyV,OAAO1J,gB,UCKrCkK,gBAf8B,WAAO,IAAD,EACvBpB,KAAlB1P,EADyC,EACzCA,KAAM4U,EADmC,EACnCA,QAEd,OACE,cAAC,GAAD,CAAWhC,OAAO,aAAlB,SACE,cAACiC,GAAA,EAAD,CACEC,QAAS9U,EACT9G,KAAK,QACLoE,MAAM,UACN0U,SAAU,SAACnX,GAAD,OAAO+Z,EAAQ/Z,EAAEyV,OAAOwE,iBCO3BhE,gBAhB+B,WAAO,IAAD,EACRpB,KAAlC1P,EAD0C,EAC1CA,KAAMC,EADoC,EACpCA,UAAW8U,EADyB,EACzBA,aAEzB,OACE,cAAC,GAAD,CAAWnC,OAAO,cAAlB,SACE,cAACiC,GAAA,EAAD,CACEC,QAAS7U,EACT/G,KAAK,QACLoE,MAAM,UACN0U,SAAU,SAACnX,GAAD,OAAOka,EAAala,EAAEyV,OAAOwE,UACvChD,SAAU9R,SCWH8Q,gBArB+B,WAAO,IAAD,EACLpB,KAArC3Y,EAD0C,EAC1CA,MAAOiJ,EADmC,EACnCA,KAAMC,EAD6B,EAC7BA,UAAW+U,EADkB,EAClBA,SAMhC,OACE,cAAC,GAAD,CAAWpC,OAAQ3S,EAAY,SAAW,aAAc6S,MAAM,KAA9D,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO7P,EACP4a,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAXc,SAACC,GACnB+C,EAAS5e,OAAO6b,EAAM3B,OAAO1J,SAWzBkL,SAAU9R,SCMH8Q,gBArBgC,WAAO,IAAD,EACJpB,KAAvCzY,EAD2C,EAC3CA,OAAQ+I,EADmC,EACnCA,KAAMC,EAD6B,EAC7BA,UAAWgV,EADkB,EAClBA,UAMjC,OACE,cAAC,GAAD,CAAWrC,OAAQ3S,EAAY,UAAY,cAAe6S,MAAM,KAAhE,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO3P,EACP0a,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAXc,SAACC,GACnBgD,EAAU7e,OAAO6b,EAAM3B,OAAO1J,SAW1BkL,SAAU9R,SCqBHkV,GA/BgC,WAC7C,OACE,qCACE,cAACzB,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,uBAEF,cAACO,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,MAEF,cAACF,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,UCmCOwB,GApDoD,SACjErJ,GACI,IAEF1L,EAME0L,EANF1L,SACAC,EAKEyL,EALFzL,QACAC,EAIEwL,EAJFxL,QACA8U,EAGEtJ,EAHFsJ,YACAC,EAEEvJ,EAFFuJ,WACAC,EACExJ,EADFwJ,WAGIC,EAAY,SAACC,GAAD,OAA0B,SAC1C3a,GAD0C,OAEvC2a,EAAUpf,OAAOyE,EAAEyV,OAAO1J,UAE/B,OACE,qCACE,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,YAAYE,MAAM,KAApC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAOxG,EACPuR,WAAS,EACT9U,KAAK,SACLmV,SAAUuD,EAAUH,SAI1B,cAAC3B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,WAAWE,MAAM,KAAnC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAOvG,EACPsR,WAAS,EACT9U,KAAK,SACLmV,SAAUuD,EAAUF,SAI1B,cAAC5B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,WAAWE,MAAM,KAAnC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAOtG,EACPqR,WAAS,EACT9U,KAAK,SACLmV,SAAUuD,EAAUD,aCzBjBxE,gBA5BkC,WAAO,IAC9CpK,EAAuBkJ,KAAvBlJ,mBAENtG,EAMEsG,EANFtG,SACAC,EAKEqG,EALFrG,QACAC,EAIEoG,EAJFpG,QACA8U,EAGE1O,EAHF0O,YACAC,EAEE3O,EAFF2O,WACAC,EACE5O,EADF4O,WAGF,OACE,qCACE,cAAC7B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,yCAEF,cAAC,GAAD,CACE9S,SAAUA,EACVC,QAASA,EACTC,QAASA,EACT8U,YAAaA,EACbC,WAAYA,EACZC,WAAYA,UCpBd9E,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJC,SAAU,SACV3e,MAAO,cA+BE4e,GA1B6B,WAC1C,IAAM5E,EAAUP,KAChB,OACE,eAACiD,GAAA,EAAD,CACEmC,QAAQ,qBACR/E,QAAQ,OACRgF,cAAc,SACdH,SAAS,SACTjD,UAAW1B,EAAQ0E,KALrB,UAOE,cAAChC,GAAA,EAAD,CAAKmC,QAAQ,qBAAqBE,UAAW,EAAGjW,QAAS,EAAzD,SACE,cAACqT,GAAA,EAAD,CAAYlG,QAAQ,YAApB,2BAEF,eAACyG,GAAA,EAAD,CAAKsC,KAAM,EAAG9e,OAAQ,EAAGye,SAAS,cAAlC,UACE,cAAC,GAAD,IACA,cAACM,GAAA,EAAD,IACA,cAAC,GAAD,IACA,cAACA,GAAA,EAAD,IACA,cAAC,GAAD,IACA,cAACA,GAAA,EAAD,IACA,cAAC,GAAD,W,sGCxCO,SAASC,GACtBnM,EACAL,GAEA,OAAOK,EAAIE,QAAQ,aAAa,SAACkM,GAC/B,IAAMC,EAAU1M,EAAIyM,EAAOlM,QAAQ,MAAO,KAC1C,MAAwB,cAAjB,UAAGmM,GAA4B,GAA/B,UAAuCA,MCMnC,SAASC,GAAWC,GAAyB,IAClDC,EAAyCD,EAAzCC,KAAMjI,EAAmCgI,EAAnChI,OAAQkI,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,MAAOC,EAAaJ,EAAbI,SAE9BC,EAAS,IAAIC,UACbC,EAAS5c,SAAS6c,eAAeC,eAAe,GAAI,OAAQ,MAE5DC,EAAUL,EAAOM,gBAAgBf,GAd1B,yMAc+CK,GAAO,YACnEM,EAAOK,gBAAgBrb,YAAYmb,EAAQG,WAAW,IAEtD,IAAMC,EAAYT,EAAOM,gBACvBf,GAjBa,2HAiBU5H,GACvB,YAEFuI,EAAOK,gBAAgBrb,YAAYub,EAAUD,WAAW,IAExD,IAAME,EAAWV,EAAOM,gBAAP,iBACLT,EAAMhZ,KAAI,SAACgO,GAAD,OAAO0K,GAtBhB,mCAsBqC1K,MADjC,YAEf,YAEFqL,EAAOK,gBAAgBrb,YAAYwb,EAASF,WAAW,IAEvD,IAAMG,EAAWX,EAAOM,gBACtBf,GA3BY,4BA2BUO,GACtB,YAaF,GAVAA,EAAM9O,KAAK1K,SAAQ,SAACsa,GAClB,IAAMC,EAAUb,EAAOM,gBACrBf,GAhCS,iKAgCYqB,GACrB,YAEFD,EAASH,WAAW,GAAGtb,YAAY2b,EAAQL,WAAW,OAGxDN,EAAOK,gBAAgBrb,YAAYyb,EAASH,WAAW,IAEnDT,EAASe,MAAO,CAClB,IAAMC,EAAcf,EAAOM,gBACzBf,GAzCa,+BAyCYQ,GACzB,YAGFA,EAAS/O,KAAK1K,SAAQ,SAACiI,GACrB,IAAMyS,EAAahB,EAAOM,gBACxBf,GA9CU,kEA8CchR,GACxB,YAEFwS,EAAYP,WAAW,GAAGtb,YAAY8b,EAAWR,WAAW,OAG9DN,EAAOK,gBAAgBrb,YAAY6b,EAAYP,WAAW,IAG5D,MAAM,yCAAN,QAAgD,IAAIS,eAAgBC,kBAClEhB,ICtDW,SAASiB,GAAaxB,GAAyB,IACpDC,EAAyCD,EAAzCC,KAAMjI,EAAmCgI,EAAnChI,OAAQkI,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,MAAOC,EAAaJ,EAAbI,SAEhC3M,EAAM,GAyBV,OAvBAA,GAAOmM,GAbM,2VAaG,YAAC,eACZK,GADW,IAEdwB,QAASxB,EAAKwB,SAAW,KACzBC,WAAYvB,EAAMgB,MAClBQ,eAAgBvB,EAASe,MACzBvH,KAAMsG,EAAM,GAAGtG,QAEjBnG,GAAOmM,GAnBQ,8JAmBe5H,GAE9BvE,GAAG,mBACHA,GAAOyM,EAAMhZ,KAAI,SAACgO,GAAD,OAAO0K,GArBX,+BAqBgC1K,MAAI5S,KAAK,OACtDmR,GAAO,UAEPA,GAvBc,mBAwBdA,GAAO0M,EAAM9O,KAAKnK,KAAI,SAAC+Z,GAAD,OAAUrB,GAvBnB,mNAuBwCqB,MAAO3e,KAAK,OACjEmR,GAAO,UAEPA,GAzBiB,qBA0BjBA,GAAO2M,EAAS/O,KACbnK,KAAI,SAAC0H,GAAD,OAAagR,GA1BJ,4DA0B4BhR,MACzCtM,KAAK,OAGF,sBAAN,QAFAmR,GAAO,OAIHE,QAAQ,MAAO,QAFnB,qBC5Ba,SAASiO,GAAc5B,GAAyB,IACrDC,EAAyCD,EAAzCC,KAAMjI,EAAmCgI,EAAnChI,OAAQkI,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,MAAOC,EAAaJ,EAAbI,SAEhC3M,EAAM,GAwBV,OAtBAA,GAAOmM,GAbM,mLAaG,YAAC,eAAgBK,GAAjB,IAAuBwB,QAASxB,EAAKwB,SAAW,QAEhEhO,GAAOmM,GAdQ,6GAce5H,GAE9BkI,EAAMvZ,SAAQ,SAACuO,GACbzB,GAAOmM,GAhBI,+BAgBiB1K,MAG9BzB,GAAOmM,GAlBO,wBAkBeO,GAE7BA,EAAM9O,KAAK1K,SAAQ,SAACsa,GAClBxN,GAAOmM,GApBI,2IAoBiBqB,MAG1Bb,EAASe,QACX1N,GAAOmM,GAvBQ,2BAuBiBQ,GAEhCA,EAAS/O,KAAK1K,SAAQ,SAACiI,GACrB6E,GAAOmM,GAzBK,0DAyBmBhR,OAI5B6E,EC+BM,SAASoO,GAAa/R,GAA2B,IAE5D1K,EAME0K,EANF1K,KACAM,EAKEoK,EALFpK,MACA6D,EAIEuG,EAJFvG,OACA8G,EAGEP,EAHFO,mBACAuE,EAEE9E,EAFF8E,UAN2D,EAQzD9E,EADF1P,GAAMM,EAPqD,EAOrDA,MAAOE,EAP8C,EAO9CA,OAP8C,EASlC8E,EAAM9C,KAAzBW,EATqD,EASrDA,SAAUV,EAT2C,EAS3CA,KACdif,EAAY,EACZve,IACFue,EAAa,EAAIve,EAASwe,WAAclf,GAE1C,IAAMod,EAAmB,CACvB+B,KAAMtc,EAAM9C,KAAKY,OACjBX,KAAM6C,EAAM9C,KAAKC,KACjBof,KAAM,EACNC,OAAQ,EACRT,QAAS,GACTU,QAAS,EACTC,SAAU,IACVC,OAAQ,EACRC,GAAI,EACJ9Y,QAAS,IAAIqK,MAAM,GAAGpL,KAAKc,EAAOC,SAClCC,QAAS,IAAIoK,MAAM,GAAGpL,KAAKc,EAAOE,UAG9BuO,EAAuB,CAC3B3V,WAAYqD,EAAM9C,KAAKC,KACvB0f,KAAM7c,EAAM9C,KAAKC,KACjB2f,OAAQ9hB,EACR+hB,OAAQ7hB,EACRsf,MAAO,EACPwC,OAAQ,GAGJxC,EAAsB,CAC1B,CACErZ,GAAI,EACJ+S,KAAK,GAAD,OAAKxU,EAAL,UAIF+a,EAAqB,CACzBgB,MAAOvM,EAAUxN,OACjBiK,KAAM,IAGF+O,EAA2B,CAC/Be,MAAO,EACP9P,KAAM,IA6DR,OA1DAuD,EAAUjO,SAAQ,SAAC+H,GACjB,IAAMmG,KAAenG,EAAMhO,QAASgO,EAAM9N,QAC1Cuf,EAAM9O,KAAKnP,KAAK,CACdb,OAAQqN,EAAMrN,OACdwF,GAAI6H,EAAMrN,OAAOiH,WAAW,GAC5B8G,OAAQV,EAAMU,OACd/D,EAAGqD,EAAMrD,EACTC,EAAGoD,EAAMpD,EACT5K,MAAOmU,EAAYnG,EAAMhO,MAAyB,EAAjB6I,EAAOC,QAAc,EACtD5I,OAAQiU,EAAYnG,EAAM9N,OAA0B,EAAjB2I,EAAOC,QAAc,EACxDmZ,QACEtS,EAAmBrG,QACnB0E,EAAMC,aAAa3E,SAClB6K,EAAYnG,EAAMxD,eAAiB,GACtC0X,QACEvS,EAAmBpG,QACnByE,EAAMC,aAAa1E,SAClB4K,EAAYnG,EAAMvD,cAAgB,GACrC0X,SACEtiB,KAAKwK,KAAK2D,EAAM5B,WAChBuD,EAAmBtG,SACnB2E,EAAMC,aAAa5E,SACrB+Y,KAAM,EACNC,KAAM,KAEJxf,EACFqR,EAAUjO,SAAQ,YAAiB,IAAdtF,EAAa,EAAbA,OACb2hB,EAASziB,KAAK0iB,MAClB1f,EAAS2f,gBACP3f,EAAS4f,iBAAiBzU,EAAMrN,QAChCkC,EAAS4f,iBAAiB9hB,IAE1BygB,GACCpT,EAAME,QAAQyD,IAAIhR,IAAW,IAE9B2hB,GACF5C,EAAS/O,KAAKnP,KAAK,CACjBkhB,MAAO1U,EAAMrN,OAAOiH,WAAW,GAC/B+a,OAAQhiB,EAAOiH,WAAW,GAC1B0a,cAKNtU,EAAME,QAAQjI,SAAQ,SAACqc,EAAQ3hB,GACzB2hB,GACF5C,EAAS/O,KAAKnP,KAAK,CACjBkhB,MAAO1U,EAAMrN,OAAOiH,WAAW,GAC/B+a,OAAQhiB,EAAOiH,WAAW,GAC1B0a,iBAKV5C,EAASe,MAAQf,EAAS/O,KAAKjK,OAE/B+Y,EAAM9O,KAAKH,MAAK,SAAChR,EAAGC,GAAJ,OAAUD,EAAE2G,GAAK1G,EAAE0G,MAE5B,CACLoZ,OACAjI,SACAkI,QACAC,QACAC,Y,aCvLEkD,GAAUC,UACdC,GAAUD,UACVE,GAAQF,QAGJG,GAAQH,SAAA,UAA+BA,SAAA,QAA6B,IAkvG7D1T,IAhvGU6T,GAAM7Z,OAAU,WAkBrC,SAASA,EAAO8Z,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA8MvE,OArMAwB,EAAO+Z,UAAU7Z,SAAW,EAQ5BF,EAAO+Z,UAAU5Z,QAAU,EAQ3BH,EAAO+Z,UAAU3Z,QAAU,EAU3BJ,EAAO+O,OAAS,SAAgB+K,GAC9B,OAAO,IAAI9Z,EAAO8Z,IAYpB9Z,EAAOga,OAAS,SAAgB3H,EAAS4H,GAiBvC,OAhBKA,IAAQA,EAASN,GAAQ5K,UAER,MAApBsD,EAAQnS,UACRjF,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,GAAGC,OAAOhI,EAAQnS,UAErC,MAAnBmS,EAAQlS,SACRlF,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQlS,SAEtC,MAAnBkS,EAAQjS,SACRnF,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQjS,SACpD6Z,GAYTja,EAAOsa,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCva,EAAOwa,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM7Z,OACfiQ,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQnS,SAAW+P,EAAOoK,SAC1B,MACF,KAAK,EACHhI,EAAQlS,QAAU8P,EAAOoK,SACzB,MACF,KAAK,EACHhI,EAAQjS,QAAU6P,EAAOoK,SACzB,MACF,QACEpK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTrS,EAAO8a,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCpa,EAAO+a,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACe,MAApBA,EAAQnS,UAAoBmS,EAAQ6H,eAAe,cAChDN,GAAMoB,UAAU3I,EAAQnS,UACpB,6BACY,MAAnBmS,EAAQlS,SAAmBkS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQlS,SAAiB,4BACzB,MAAnBkS,EAAQjS,SAAmBiS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQjS,SAAiB,4BACzC,MAWTJ,EAAOib,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAM7Z,OAAQ,OAAOkb,EAC3C,IAAI7I,EAAU,IAAIwH,GAAM7Z,OAIxB,OAHuB,MAAnBkb,EAAOhb,WAAkBmS,EAAQnS,SAA6B,EAAlBgb,EAAOhb,UACjC,MAAlBgb,EAAO/a,UAAiBkS,EAAQlS,QAA2B,EAAjB+a,EAAO/a,SAC/B,MAAlB+a,EAAO9a,UAAiBiS,EAAQjS,QAA2B,EAAjB8a,EAAO9a,SAC9CiS,GAYTrS,EAAOmb,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAYb,OAXIE,EAAQC,WACVH,EAAOhb,SAAW,EAClBgb,EAAO/a,QAAU,EACjB+a,EAAO9a,QAAU,GAEK,MAApBiS,EAAQnS,UAAoBmS,EAAQ6H,eAAe,cACrDgB,EAAOhb,SAAWmS,EAAQnS,UACL,MAAnBmS,EAAQlS,SAAmBkS,EAAQ6H,eAAe,aACpDgB,EAAO/a,QAAUkS,EAAQlS,SACJ,MAAnBkS,EAAQjS,SAAmBiS,EAAQ6H,eAAe,aACpDgB,EAAO9a,QAAUiS,EAAQjS,SACpB8a,GAUTlb,EAAO+Z,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDxb,EAnO8B,GAsOT6Z,GAAM4B,cAAiB,WAkBnD,SAASA,EAAc3B,GACrB,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAuMvE,OA9LAid,EAAc1B,UAAU/c,GAAK,EAQ7Bye,EAAc1B,UAAU5c,OAAS,EAQjCse,EAAc1B,UAAU3c,MAAQ,GAUhCqe,EAAc1M,OAAS,SAAgB+K,GACrC,OAAO,IAAI2B,EAAc3B,IAY3B2B,EAAczB,OAAS,SAAgB3H,EAAS4H,GAQ9C,OAPKA,IAAQA,EAASN,GAAQ5K,UACZ,MAAdsD,EAAQrV,IAAc/B,OAAOif,eAAeC,KAAK9H,EAAS,OAC5D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQrV,IACnC,MAAlBqV,EAAQlV,QAAkBlC,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIuB,MAAMtJ,EAAQlV,QACrC,MAAjBkV,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OACpD6c,GAYTwB,EAAcnB,gBAAkB,SAAyBjI,EAAS4H,GAChE,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCkB,EAAcjB,OAAS,SAAgBvK,EAAQ1S,GACvC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM4B,cACfxL,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQrV,GAAKiT,EAAOyL,QACpB,MACF,KAAK,EACHrJ,EAAQlV,OAAS8S,EAAO0L,QACxB,MACF,KAAK,EACHtJ,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaToJ,EAAcX,gBAAkB,SAAyB7K,GAEvD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCqB,EAAcV,OAAS,SAAgB1I,GACrC,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACS,MAAdA,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAC1CN,GAAMoB,UAAU3I,EAAQrV,IAAY,uBACrB,MAAlBqV,EAAQlV,QAAkBkV,EAAQ6H,eAAe,WACrB,kBAAnB7H,EAAQlV,OAA4B,0BAC5B,MAAjBkV,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAe,yBACtC,MAWTqe,EAAcR,WAAa,SAAoBC,GAC7C,GAAIA,aAAkBrB,GAAM4B,cAAe,OAAOP,EAClD,IAAI7I,EAAU,IAAIwH,GAAM4B,cAIxB,OAHiB,MAAbP,EAAOle,KAAYqV,EAAQrV,GAAiB,EAAZke,EAAOle,IACtB,MAAjBke,EAAO/d,SAAgBkV,EAAQlV,OAASjH,OAAOglB,EAAO/d,SACtC,MAAhB+d,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACjDiV,GAYToJ,EAAcN,SAAW,SAAkB9I,EAAS+I,GAC7CA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAeb,OAdIE,EAAQC,WACVH,EAAOle,GAAK,EACZke,EAAO/d,OAAS,EAChB+d,EAAO9d,MAAQ,IAEC,MAAdiV,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAC/CgB,EAAOle,GAAKqV,EAAQrV,IACA,MAAlBqV,EAAQlV,QAAkBkV,EAAQ6H,eAAe,YACnDgB,EAAO/d,OACLie,EAAQW,OAASC,SAAS3J,EAAQlV,QAC9B2e,OAAOzJ,EAAQlV,QACfkV,EAAQlV,QACK,MAAjBkV,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OAClB8d,GAUTO,EAAc1B,UAAUuB,OAAS,WAC/B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDC,EA5N4C,GA+N5B5B,GAAMrd,SAAY,WAkBzC,SAASA,EAASsd,GAEhB,GADApkB,KAAKmH,QAAU,GACXid,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAkOvE,OAzNAhC,EAASud,UAAUpd,KAAO,EAQ1BH,EAASud,UAAUnd,MAAQ,EAQ3BJ,EAASud,UAAUld,QAAU+c,GAAMqC,WAUnCzf,EAASuS,OAAS,SAAgB+K,GAChC,OAAO,IAAItd,EAASsd,IAYtBtd,EAASwd,OAAS,SAAgB3H,EAAS4H,GAMzC,GALKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQ1V,MAAgB1B,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1V,MACpC,MAAjB0V,EAAQzV,OAAiB3B,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIuB,MAAMtJ,EAAQzV,OACnC,MAAnByV,EAAQxV,SAAmBwV,EAAQxV,QAAQU,OAC7C,IAAK,IAAIiB,EAAI,EAAGA,EAAI6T,EAAQxV,QAAQU,SAAUiB,EAC5Cqb,GAAM4B,cAAczB,OAClB3H,EAAQxV,QAAQ2B,GAChByb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACN,OAAON,GAYTzd,EAAS8d,gBAAkB,SAAyBjI,EAAS4H,GAC3D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC/d,EAASge,OAAS,SAAgBvK,EAAQ1S,GAClC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMrd,SACfyT,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1V,KAAOsT,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQzV,MAAQqT,EAAO0L,QACvB,MACF,KAAK,EACGtJ,EAAQxV,SAAWwV,EAAQxV,QAAQU,SAAS8U,EAAQxV,QAAU,IACpEwV,EAAQxV,QAAQxE,KACdwhB,GAAM4B,cAAcjB,OAAOvK,EAAQA,EAAOmK,WAE5C,MACF,QACEnK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT7V,EAASse,gBAAkB,SAAyB7K,GAElD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC5d,EAASue,OAAS,SAAgB1I,GAChC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQ1V,MAAO,MAAO,yBAC7C,GAAqB,MAAjB0V,EAAQzV,OAAiByV,EAAQ6H,eAAe,UACrB,kBAAlB7H,EAAQzV,MAAoB,MAAO,yBAChD,GAAuB,MAAnByV,EAAQxV,SAAmBwV,EAAQ6H,eAAe,WAAY,CAChE,IAAKlQ,MAAMmS,QAAQ9J,EAAQxV,SAAU,MAAO,0BAC5C,IAAK,IAAI2B,EAAI,EAAGA,EAAI6T,EAAQxV,QAAQU,SAAUiB,EAAG,CAC/C,IAAI4d,EAAQvC,GAAM4B,cAAcV,OAAO1I,EAAQxV,QAAQ2B,IACvD,GAAI4d,EAAO,MAAO,WAAaA,GAGnC,OAAO,MAWT5f,EAASye,WAAa,SAAoBC,GACxC,GAAIA,aAAkBrB,GAAMrd,SAAU,OAAO0e,EAC7C,IAAI7I,EAAU,IAAIwH,GAAMrd,SAGxB,GAFmB,MAAf0e,EAAOve,OAAc0V,EAAQ1V,KAAqB,EAAdue,EAAOve,MAC3B,MAAhBue,EAAOte,QAAeyV,EAAQzV,MAAQ1G,OAAOglB,EAAOte,QACpDse,EAAOre,QAAS,CAClB,IAAKmN,MAAMmS,QAAQjB,EAAOre,SACxB,MAAMwf,UAAU,qCAClBhK,EAAQxV,QAAU,GAClB,IAAK,IAAI2B,EAAI,EAAGA,EAAI0c,EAAOre,QAAQU,SAAUiB,EAAG,CAC9C,GAAiC,kBAAtB0c,EAAOre,QAAQ2B,GACxB,MAAM6d,UAAU,sCAClBhK,EAAQxV,QAAQ2B,GAAKqb,GAAM4B,cAAcR,WAAWC,EAAOre,QAAQ2B,KAGvE,OAAO6T,GAYT7V,EAAS2e,SAAW,SAAkB9I,EAAS+I,GACxCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAab,IAZIE,EAAQkB,QAAUlB,EAAQC,YAAUH,EAAOre,QAAU,IACrDue,EAAQC,WACVH,EAAOve,KAAO,EACdue,EAAOte,MAAQ,GAEG,MAAhByV,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UACjDgB,EAAOve,KAAO0V,EAAQ1V,MACH,MAAjB0V,EAAQzV,OAAiByV,EAAQ6H,eAAe,WAClDgB,EAAOte,MACLwe,EAAQW,OAASC,SAAS3J,EAAQzV,OAC9Bkf,OAAOzJ,EAAQzV,OACfyV,EAAQzV,OACZyV,EAAQxV,SAAWwV,EAAQxV,QAAQU,OAAQ,CAC7C2d,EAAOre,QAAU,GACjB,IAAK,IAAIuE,EAAI,EAAGA,EAAIiR,EAAQxV,QAAQU,SAAU6D,EAC5C8Z,EAAOre,QAAQuE,GAAKyY,GAAM4B,cAAcN,SACtC9I,EAAQxV,QAAQuE,GAChBga,GAGN,OAAOF,GAUT1e,EAASud,UAAUuB,OAAS,WAC1B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDhf,EAxPkC,GA2PZqd,GAAMpc,eAAkB,WAkBrD,SAASA,EAAeqc,GACtB,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAqOvE,OA5NAf,EAAesc,UAAUvf,OAASof,GAAM2C,UAAU,IAQlD9e,EAAesc,UAAU/iB,MAAQ,EAQjCyG,EAAesc,UAAUpc,WAAa,GAUtCF,EAAesR,OAAS,SAAgB+K,GACtC,OAAO,IAAIrc,EAAeqc,IAY5Brc,EAAeuc,OAAS,SAAgB3H,EAAS4H,GAW/C,OAVKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7X,QAAkBS,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQ7X,QACrC,MAAjB6X,EAAQrb,OAAiBiE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIoC,OAAOnK,EAAQrb,OAEnC,MAAtBqb,EAAQ1U,YACR1C,OAAOif,eAAeC,KAAK9H,EAAS,eAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1U,YACpDsc,GAYTxc,EAAe6c,gBAAkB,SAAyBjI,EAAS4H,GACjE,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC9c,EAAe+c,OAAS,SAAgBvK,EAAQ1S,GACxC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMpc,eACfwS,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7X,OAASyV,EAAO3R,QACxB,MACF,KAAK,EACH+T,EAAQrb,MAAQiZ,EAAOuM,SACvB,MACF,KAAK,EACHnK,EAAQ1U,WAAasS,EAAO2L,SAC5B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT5U,EAAeqd,gBAAkB,SAAyB7K,GAExD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC3c,EAAesd,OAAS,SAAgB1I,GACtC,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACa,MAAlBA,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,aAG9C7H,EAAQ7X,QAA2C,kBAA1B6X,EAAQ7X,OAAO+C,QACzCqc,GAAMiC,SAASxJ,EAAQ7X,SAGlB,0BACU,MAAjB6X,EAAQrb,OAAiBqb,EAAQ6H,eAAe,UACrB,kBAAlB7H,EAAQrb,MAA2B,yBACtB,MAAtBqb,EAAQ1U,YAAsB0U,EAAQ6H,eAAe,gBAClDN,GAAMiC,SAASxJ,EAAQ1U,YACnB,8BACJ,MAWTF,EAAewd,WAAa,SAAoBC,GAC9C,GAAIA,aAAkBrB,GAAMpc,eAAgB,OAAOyd,EACnD,IAAI7I,EAAU,IAAIwH,GAAMpc,eAcxB,OAbqB,MAAjByd,EAAO1gB,SACoB,kBAAlB0gB,EAAO1gB,OAChBof,GAAM1b,OAAOsc,OACXU,EAAO1gB,OACN6X,EAAQ7X,OAASof,GAAM2C,UACtB3C,GAAM1b,OAAOX,OAAO2d,EAAO1gB,SAE7B,GAEK0gB,EAAO1gB,OAAO+C,SAAQ8U,EAAQ7X,OAAS0gB,EAAO1gB,SACrC,MAAhB0gB,EAAOlkB,QAAeqb,EAAQrb,MAAQd,OAAOglB,EAAOlkB,QAC/B,MAArBkkB,EAAOvd,aACT0U,EAAQ1U,WAAame,OAAOZ,EAAOvd,aAC9B0U,GAYT5U,EAAe0d,SAAW,SAAkB9I,EAAS+I,GAC9CA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAyBb,OAxBIE,EAAQC,WACND,EAAQ9c,QAAUwd,OAAQZ,EAAO1gB,OAAS,IAE5C0gB,EAAO1gB,OAAS,GACZ4gB,EAAQ9c,QAAU0L,QACpBkR,EAAO1gB,OAASof,GAAM2C,UAAUrB,EAAO1gB,UAE3C0gB,EAAOlkB,MAAQ,EACfkkB,EAAOvd,WAAa,IAEA,MAAlB0U,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,YACnDgB,EAAO1gB,OACL4gB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQ7X,OAAQ,EAAG6X,EAAQ7X,OAAO+C,QACtD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQ7X,QACnC6X,EAAQ7X,QACK,MAAjB6X,EAAQrb,OAAiBqb,EAAQ6H,eAAe,WAClDgB,EAAOlkB,MACLokB,EAAQW,OAASC,SAAS3J,EAAQrb,OAC9B8kB,OAAOzJ,EAAQrb,OACfqb,EAAQrb,OACU,MAAtBqb,EAAQ1U,YAAsB0U,EAAQ6H,eAAe,gBACvDgB,EAAOvd,WAAa0U,EAAQ1U,YACvBud,GAUTzd,EAAesc,UAAUuB,OAAS,WAChC,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD/d,EA1P8C,GA6PlCoc,GAAMlb,KAAQ,WAsBjC,SAASA,EAAKmb,GACZ,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA4TvE,OAnTAG,EAAKob,UAAUpd,KAAO,EAQtBgC,EAAKob,UAAU3c,MAAQ,GAQvBuB,EAAKob,UAAUrd,SAAW,KAQ1BiC,EAAKob,UAAUlb,eAAiB,KAQhCF,EAAKob,UAAUljB,MAAQ,EAQvB8H,EAAKob,UAAU/a,QAAU,GAQzBL,EAAKob,UAAU9a,SAAW,GAU1BN,EAAKoQ,OAAS,SAAgB+K,GAC5B,OAAO,IAAInb,EAAKmb,IAYlBnb,EAAKqb,OAAS,SAAgB3H,EAAS4H,GAkCrC,OAjCKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQ1V,MAAgB1B,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1V,MACpC,MAAjB0V,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OAErC,MAApBiV,EAAQ3V,UACRzB,OAAOif,eAAeC,KAAK9H,EAAS,aAEpCwH,GAAMrd,SAASwd,OACb3H,EAAQ3V,SACRud,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEwB,MAA1BlI,EAAQxT,gBACR5D,OAAOif,eAAeC,KAAK9H,EAAS,mBAEpCwH,GAAMpc,eAAeuc,OACnB3H,EAAQxT,eACRob,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACiB,MAAjBlI,EAAQxb,OAAiBoE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQxb,OAErC,MAAnBwb,EAAQrT,SACR/D,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQrT,SAErC,MAApBqT,EAAQpT,UACRhE,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQpT,UACpDgb,GAYTtb,EAAK2b,gBAAkB,SAAyBjI,EAAS4H,GACvD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC5b,EAAK6b,OAAS,SAAgBvK,EAAQ1S,GAC9B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMlb,KACfsR,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1V,KAAOsT,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,KAAK,EACHvJ,EAAQ3V,SAAWmd,GAAMrd,SAASge,OAAOvK,EAAQA,EAAOmK,UACxD,MACF,KAAK,EACH/H,EAAQxT,eAAiBgb,GAAMpc,eAAe+c,OAC5CvK,EACAA,EAAOmK,UAET,MACF,KAAK,EACH/H,EAAQxb,MAAQoZ,EAAOyL,QACvB,MACF,KAAK,EACHrJ,EAAQrT,QAAUiR,EAAO2L,SACzB,MACF,KAAK,EACHvJ,EAAQpT,SAAWgR,EAAO2L,SAC1B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT1T,EAAKmc,gBAAkB,SAAyB7K,GAE9C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCzb,EAAKoc,OAAS,SAAgB1I,GAC5B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQ1V,MAAO,MAAO,yBAC7C,GAAqB,MAAjB0V,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAQ,MAAO,yBAC7C,GAAwB,MAApBiV,EAAQ3V,UAAoB2V,EAAQ6H,eAAe,YAAa,CAClE,IAAIkC,EAAQvC,GAAMrd,SAASue,OAAO1I,EAAQ3V,UAC1C,GAAI0f,EAAO,MAAO,YAAcA,EAElC,GAC4B,MAA1B/J,EAAQxT,gBACRwT,EAAQ6H,eAAe,kBACvB,CACA,IAAIkC,EAAQvC,GAAMpc,eAAesd,OAAO1I,EAAQxT,gBAChD,GAAIud,EAAO,MAAO,kBAAoBA,EAExC,OAAqB,MAAjB/J,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAC7CN,GAAMoB,UAAU3I,EAAQxb,OAAe,0BACvB,MAAnBwb,EAAQrT,SAAmBqT,EAAQ6H,eAAe,aAC/CN,GAAMiC,SAASxJ,EAAQrT,SAAiB,2BACvB,MAApBqT,EAAQpT,UAAoBoT,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQpT,UAAkB,4BACzC,MAWTN,EAAKsc,WAAa,SAAoBC,GACpC,GAAIA,aAAkBrB,GAAMlb,KAAM,OAAOuc,EACzC,IAAI7I,EAAU,IAAIwH,GAAMlb,KAGxB,GAFmB,MAAfuc,EAAOve,OAAc0V,EAAQ1V,KAAqB,EAAdue,EAAOve,MAC3B,MAAhBue,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACjC,MAAnB8d,EAAOxe,SAAkB,CAC3B,GAA+B,kBAApBwe,EAAOxe,SAChB,MAAM2f,UAAU,mCAClBhK,EAAQ3V,SAAWmd,GAAMrd,SAASye,WAAWC,EAAOxe,UAEtD,GAA6B,MAAzBwe,EAAOrc,eAAwB,CACjC,GAAqC,kBAA1Bqc,EAAOrc,eAChB,MAAMwd,UAAU,yCAClBhK,EAAQxT,eAAiBgb,GAAMpc,eAAewd,WAC5CC,EAAOrc,gBAMX,OAHoB,MAAhBqc,EAAOrkB,QAAewb,EAAQxb,MAAuB,EAAfqkB,EAAOrkB,OAC3B,MAAlBqkB,EAAOlc,UAAiBqT,EAAQrT,QAAU8c,OAAOZ,EAAOlc,UACrC,MAAnBkc,EAAOjc,WAAkBoT,EAAQpT,SAAW6c,OAAOZ,EAAOjc,WACvDoT,GAYT1T,EAAKwc,SAAW,SAAkB9I,EAAS+I,GACpCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GA8Bb,OA7BIE,EAAQC,WACVH,EAAOve,KAAO,EACdue,EAAO9d,MAAQ,GACf8d,EAAOxe,SAAW,KAClBwe,EAAOrc,eAAiB,KACxBqc,EAAOrkB,MAAQ,EACfqkB,EAAOlc,QAAU,GACjBkc,EAAOjc,SAAW,IAEA,MAAhBoT,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UACjDgB,EAAOve,KAAO0V,EAAQ1V,MACH,MAAjB0V,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OACD,MAApBiV,EAAQ3V,UAAoB2V,EAAQ6H,eAAe,cACrDgB,EAAOxe,SAAWmd,GAAMrd,SAAS2e,SAAS9I,EAAQ3V,SAAU0e,IAElC,MAA1B/I,EAAQxT,gBACRwT,EAAQ6H,eAAe,oBAEvBgB,EAAOrc,eAAiBgb,GAAMpc,eAAe0d,SAC3C9I,EAAQxT,eACRuc,IAEiB,MAAjB/I,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAClDgB,EAAOrkB,MAAQwb,EAAQxb,OACF,MAAnBwb,EAAQrT,SAAmBqT,EAAQ6H,eAAe,aACpDgB,EAAOlc,QAAUqT,EAAQrT,SACH,MAApBqT,EAAQpT,UAAoBoT,EAAQ6H,eAAe,cACrDgB,EAAOjc,SAAWoT,EAAQpT,UACrBic,GAUTvc,EAAKob,UAAUuB,OAAS,WACtB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD7c,EArV0B,GAwVdkb,GAAMhhB,KAAQ,WAmBjC,SAASA,EAAKihB,GACZ,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiPvE,OAxOA3F,EAAKkhB,UAAUhhB,KAAO6gB,GAAM2C,UAAU,IAQtC1jB,EAAKkhB,UAAUpgB,OAAS,GAQxBd,EAAKkhB,UAAU/gB,KAAO,EAQtBH,EAAKkhB,UAAUvhB,WAAa,EAU5BK,EAAKkW,OAAS,SAAgB+K,GAC5B,OAAO,IAAIjhB,EAAKihB,IAYlBjhB,EAAKmhB,OAAS,SAAgB3H,EAAS4H,GAarC,OAZKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQtZ,MAAgBkC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQtZ,MACpC,MAAlBsZ,EAAQ1Y,QAAkBsB,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1Y,QACvC,MAAhB0Y,EAAQrZ,MAAgBiC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQrZ,MAElC,MAAtBqZ,EAAQ7Z,YACRyC,OAAOif,eAAeC,KAAK9H,EAAS,eAEpC4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQ7Z,YACnDyhB,GAYTphB,EAAKyhB,gBAAkB,SAAyBjI,EAAS4H,GACvD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC1hB,EAAK2hB,OAAS,SAAgBvK,EAAQ1S,GAC9B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMhhB,KACfoX,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQtZ,KAAOkX,EAAO3R,QACtB,MACF,KAAK,EACH+T,EAAQ1Y,OAASsW,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQrZ,KAAOiX,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQ7Z,WAAayX,EAAOyL,QAC5B,MACF,QACEzL,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTxZ,EAAKiiB,gBAAkB,SAAyB7K,GAE9C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCvhB,EAAKkiB,OAAS,SAAgB1I,GAC5B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACW,MAAhBA,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,WAG5C7H,EAAQtZ,MAAuC,kBAAxBsZ,EAAQtZ,KAAKwE,QACrCqc,GAAMiC,SAASxJ,EAAQtZ,OAGlB,wBACW,MAAlBsZ,EAAQ1Y,QAAkB0Y,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ1Y,QAAgB,0BAC1B,MAAhB0Y,EAAQrZ,MAAgBqZ,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQrZ,MAAc,yBACnB,MAAtBqZ,EAAQ7Z,YAAsB6Z,EAAQ6H,eAAe,gBAClDN,GAAMoB,UAAU3I,EAAQ7Z,YACpB,+BACJ,MAWTK,EAAKoiB,WAAa,SAAoBC,GACpC,GAAIA,aAAkBrB,GAAMhhB,KAAM,OAAOqiB,EACzC,IAAI7I,EAAU,IAAIwH,GAAMhhB,KAYxB,OAXmB,MAAfqiB,EAAOniB,OACkB,kBAAhBmiB,EAAOniB,KAChB6gB,GAAM1b,OAAOsc,OACXU,EAAOniB,KACNsZ,EAAQtZ,KAAO6gB,GAAM2C,UAAU3C,GAAM1b,OAAOX,OAAO2d,EAAOniB,OAC3D,GAEKmiB,EAAOniB,KAAKwE,SAAQ8U,EAAQtZ,KAAOmiB,EAAOniB,OAChC,MAAjBmiB,EAAOvhB,SAAgB0Y,EAAQ1Y,OAASmiB,OAAOZ,EAAOvhB,SACvC,MAAfuhB,EAAOliB,OAAcqZ,EAAQrZ,KAAqB,EAAdkiB,EAAOliB,MACtB,MAArBkiB,EAAO1iB,aAAoB6Z,EAAQ7Z,WAAiC,EAApB0iB,EAAO1iB,YACpD6Z,GAYTxZ,EAAKsiB,SAAW,SAAkB9I,EAAS+I,GACpCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAwBb,OAvBIE,EAAQC,WACND,EAAQ9c,QAAUwd,OAAQZ,EAAOniB,KAAO,IAE1CmiB,EAAOniB,KAAO,GACVqiB,EAAQ9c,QAAU0L,QAAOkR,EAAOniB,KAAO6gB,GAAM2C,UAAUrB,EAAOniB,QAEpEmiB,EAAOvhB,OAAS,GAChBuhB,EAAOliB,KAAO,EACdkiB,EAAO1iB,WAAa,GAEF,MAAhB6Z,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,UACjDgB,EAAOniB,KACLqiB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQtZ,KAAM,EAAGsZ,EAAQtZ,KAAKwE,QAClD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQtZ,MACnCsZ,EAAQtZ,MACM,MAAlBsZ,EAAQ1Y,QAAkB0Y,EAAQ6H,eAAe,YACnDgB,EAAOvhB,OAAS0Y,EAAQ1Y,QACN,MAAhB0Y,EAAQrZ,MAAgBqZ,EAAQ6H,eAAe,UACjDgB,EAAOliB,KAAOqZ,EAAQrZ,MACE,MAAtBqZ,EAAQ7Z,YAAsB6Z,EAAQ6H,eAAe,gBACvDgB,EAAO1iB,WAAa6Z,EAAQ7Z,YACvB0iB,GAUTriB,EAAKkhB,UAAUuB,OAAS,WACtB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD3iB,EAvQ0B,GA0QTghB,GAAM3U,UAAa,WAkB3C,SAASA,EAAU4U,GAEjB,GADApkB,KAAKqP,QAAU,GACX+U,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiQvE,OAxPA0G,EAAU6U,UAAUviB,OAAS,GAQ7B0N,EAAU6U,UAAUjV,aAAe,KAQnCI,EAAU6U,UAAUhV,QAAU6U,GAAM8C,YAUpCxX,EAAU6J,OAAS,SAAgB+K,GACjC,OAAO,IAAI5U,EAAU4U,IAYvB5U,EAAU8U,OAAS,SAAgB3H,EAAS4H,GAY1C,GAXKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7a,QAAkByD,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7a,QAEjC,MAAxB6a,EAAQvN,cACR7J,OAAOif,eAAeC,KAAK9H,EAAS,iBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQvN,aACRmV,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEiB,MAAnBlI,EAAQtN,SACR9J,OAAOif,eAAeC,KAAK9H,EAAS,WAEpC,IAAK,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQtN,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtEyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACZ4b,OAA+B,IAC/BsB,MAAMrJ,EAAQtN,QAAQ7J,EAAKsD,KAC3B+b,SACP,OAAON,GAYT/U,EAAUoV,gBAAkB,SAAyBjI,EAAS4H,GAC5D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCrV,EAAUsV,OAAS,SAAgBvK,EAAQ1S,GACnC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM3U,UAGf+K,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7a,OAASyY,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQvN,aAAe+U,GAAM7Z,OAAOwa,OAAOvK,EAAQA,EAAOmK,UAC1D,MACF,KAAK,EACC/H,EAAQtN,UAAY6U,GAAM8C,cAAarK,EAAQtN,QAAU,IAC7D,IAAI4X,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,EACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQuJ,EAAOyL,QACf,MACF,QACEzL,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQtN,QAAQ4B,GAAOD,EACvB,MACF,QACEuJ,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTnN,EAAU4V,gBAAkB,SAAyB7K,GAEnD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpClV,EAAU6V,OAAS,SAAgB1I,GACjC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAsB,MAAlBA,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ7a,QAAS,MAAO,0BAC9C,GAC0B,MAAxB6a,EAAQvN,cACRuN,EAAQ6H,eAAe,gBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQvN,cACxC,GAAIsX,EAAO,MAAO,gBAAkBA,EAEtC,GAAuB,MAAnB/J,EAAQtN,SAAmBsN,EAAQ6H,eAAe,WAAY,CAChE,IAAKN,GAAMiD,SAASxK,EAAQtN,SAAU,MAAO,2BAE7C,IADA,IAAI4B,EAAM1L,OAAOC,KAAKmX,EAAQtN,SACrBvG,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAChC,IAAKob,GAAMoB,UAAU3I,EAAQtN,QAAQ4B,EAAInI,KACvC,MAAO,sCAEb,OAAO,MAWT0G,EAAU+V,WAAa,SAAoBC,GACzC,GAAIA,aAAkBrB,GAAM3U,UAAW,OAAOgW,EAC9C,IAAI7I,EAAU,IAAIwH,GAAM3U,UAExB,GADqB,MAAjBgW,EAAO1jB,SAAgB6a,EAAQ7a,OAASskB,OAAOZ,EAAO1jB,SAC/B,MAAvB0jB,EAAOpW,aAAsB,CAC/B,GAAmC,kBAAxBoW,EAAOpW,aAChB,MAAMuX,UAAU,4CAClBhK,EAAQvN,aAAe+U,GAAM7Z,OAAOib,WAAWC,EAAOpW,cAExD,GAAIoW,EAAOnW,QAAS,CAClB,GAA8B,kBAAnBmW,EAAOnW,QAChB,MAAMsX,UAAU,uCAClBhK,EAAQtN,QAAU,GAClB,IAAK,IAAI7J,EAAOD,OAAOC,KAAKggB,EAAOnW,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACrE6T,EAAQtN,QAAQ7J,EAAKsD,IAAgC,EAA1B0c,EAAOnW,QAAQ7J,EAAKsD,IAEnD,OAAO6T,GAYTnN,EAAUiW,SAAW,SAAkB9I,EAAS+I,GACzCA,IAASA,EAAU,IACxB,IAUI0B,EAVA5B,EAAS,GAWb,IAVIE,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOnW,QAAU,IACtDqW,EAAQC,WACVH,EAAO1jB,OAAS,GAChB0jB,EAAOpW,aAAe,MAEF,MAAlBuN,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YACnDgB,EAAO1jB,OAAS6a,EAAQ7a,QACE,MAAxB6a,EAAQvN,cAAwBuN,EAAQ6H,eAAe,kBACzDgB,EAAOpW,aAAe+U,GAAM7Z,OAAOmb,SAAS9I,EAAQvN,aAAcsW,IAEhE/I,EAAQtN,UAAY+X,EAAQ7hB,OAAOC,KAAKmX,EAAQtN,UAAUxH,OAAQ,CACpE2d,EAAOnW,QAAU,GACjB,IAAK,IAAI3D,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOnW,QAAQ+X,EAAM1b,IAAMiR,EAAQtN,QAAQ+X,EAAM1b,IAErD,OAAO8Z,GAUThW,EAAU6U,UAAUuB,OAAS,WAC3B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDtW,EAvRoC,GA0RlB2U,GAAMrU,WAAc,WAsB7C,SAASA,EAAWsU,GAElB,GADApkB,KAAKqP,QAAU,GACX+U,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAgXvE,OAvWAgH,EAAWuU,UAAUviB,OAAS,GAQ9BgO,EAAWuU,UAAUjV,aAAe,KAQpCU,EAAWuU,UAAUvf,OAASof,GAAM2C,UAAU,IAQ9C/W,EAAWuU,UAAUrU,SAAW,GAQhCF,EAAWuU,UAAUpU,SAAW,GAQhCH,EAAWuU,UAAUhU,UAAW,EAQhCP,EAAWuU,UAAUhV,QAAU6U,GAAM8C,YAUrClX,EAAWuJ,OAAS,SAAgB+K,GAClC,OAAO,IAAItU,EAAWsU,IAYxBtU,EAAWwU,OAAS,SAAgB3H,EAAS4H,GA6B3C,GA5BKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7a,QAAkByD,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7a,QAEjC,MAAxB6a,EAAQvN,cACR7J,OAAOif,eAAeC,KAAK9H,EAAS,iBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQvN,aACRmV,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACkB,MAAlBlI,EAAQ7X,QAAkBS,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQ7X,QAEpC,MAApB6X,EAAQ3M,UACRzK,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ3M,UAErC,MAApB2M,EAAQ1M,UACR1K,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1M,UAErC,MAApB0M,EAAQtM,UACR9K,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQtM,UAEpC,MAAnBsM,EAAQtN,SACR9J,OAAOif,eAAeC,KAAK9H,EAAS,WAEpC,IAAK,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQtN,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtEyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACZ4b,OAA+B,IAC/BsB,MAAMrJ,EAAQtN,QAAQ7J,EAAKsD,KAC3B+b,SACP,OAAON,GAYTzU,EAAW8U,gBAAkB,SAAyBjI,EAAS4H,GAC7D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC/U,EAAWgV,OAAS,SAAgBvK,EAAQ1S,GACpC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMrU,WAGfyK,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7a,OAASyY,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQvN,aAAe+U,GAAM7Z,OAAOwa,OAAOvK,EAAQA,EAAOmK,UAC1D,MACF,KAAK,EACH/H,EAAQ7X,OAASyV,EAAO3R,QACxB,MACF,KAAK,EACH+T,EAAQ3M,SAAWuK,EAAO2L,SAC1B,MACF,KAAK,EACHvJ,EAAQ1M,SAAWsK,EAAO2L,SAC1B,MACF,KAAK,EACHvJ,EAAQtM,SAAWkK,EAAO+M,OAC1B,MACF,KAAK,EACC3K,EAAQtN,UAAY6U,GAAM8C,cAAarK,EAAQtN,QAAU,IAC7D,IAAI4X,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,EACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQuJ,EAAOyL,QACf,MACF,QACEzL,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQtN,QAAQ4B,GAAOD,EACvB,MACF,QACEuJ,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT7M,EAAWsV,gBAAkB,SAAyB7K,GAEpD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC5U,EAAWuV,OAAS,SAAgB1I,GAClC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAsB,MAAlBA,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ7a,QAAS,MAAO,0BAC9C,GAC0B,MAAxB6a,EAAQvN,cACRuN,EAAQ6H,eAAe,gBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQvN,cACxC,GAAIsX,EAAO,MAAO,gBAAkBA,EAEtC,GAAsB,MAAlB/J,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,aAG9C7H,EAAQ7X,QAA2C,kBAA1B6X,EAAQ7X,OAAO+C,QACzCqc,GAAMiC,SAASxJ,EAAQ7X,SAGzB,MAAO,0BACX,GAAwB,MAApB6X,EAAQ3M,UAAoB2M,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQ3M,UAAW,MAAO,4BAChD,GAAwB,MAApB2M,EAAQ1M,UAAoB0M,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQ1M,UAAW,MAAO,4BAChD,GAAwB,MAApB0M,EAAQtM,UAAoBsM,EAAQ6H,eAAe,aACrB,mBAArB7H,EAAQtM,SACjB,MAAO,6BACX,GAAuB,MAAnBsM,EAAQtN,SAAmBsN,EAAQ6H,eAAe,WAAY,CAChE,IAAKN,GAAMiD,SAASxK,EAAQtN,SAAU,MAAO,2BAE7C,IADA,IAAI4B,EAAM1L,OAAOC,KAAKmX,EAAQtN,SACrBvG,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAChC,IAAKob,GAAMoB,UAAU3I,EAAQtN,QAAQ4B,EAAInI,KACvC,MAAO,sCAEb,OAAO,MAWTgH,EAAWyV,WAAa,SAAoBC,GAC1C,GAAIA,aAAkBrB,GAAMrU,WAAY,OAAO0V,EAC/C,IAAI7I,EAAU,IAAIwH,GAAMrU,WAExB,GADqB,MAAjB0V,EAAO1jB,SAAgB6a,EAAQ7a,OAASskB,OAAOZ,EAAO1jB,SAC/B,MAAvB0jB,EAAOpW,aAAsB,CAC/B,GAAmC,kBAAxBoW,EAAOpW,aAChB,MAAMuX,UAAU,6CAClBhK,EAAQvN,aAAe+U,GAAM7Z,OAAOib,WAAWC,EAAOpW,cAexD,GAbqB,MAAjBoW,EAAO1gB,SACoB,kBAAlB0gB,EAAO1gB,OAChBof,GAAM1b,OAAOsc,OACXU,EAAO1gB,OACN6X,EAAQ7X,OAASof,GAAM2C,UACtB3C,GAAM1b,OAAOX,OAAO2d,EAAO1gB,SAE7B,GAEK0gB,EAAO1gB,OAAO+C,SAAQ8U,EAAQ7X,OAAS0gB,EAAO1gB,SAClC,MAAnB0gB,EAAOxV,WAAkB2M,EAAQ3M,SAAWoW,OAAOZ,EAAOxV,WACvC,MAAnBwV,EAAOvV,WAAkB0M,EAAQ1M,SAAWmW,OAAOZ,EAAOvV,WACvC,MAAnBuV,EAAOnV,WAAkBsM,EAAQtM,SAAWkX,QAAQ/B,EAAOnV,WAC3DmV,EAAOnW,QAAS,CAClB,GAA8B,kBAAnBmW,EAAOnW,QAChB,MAAMsX,UAAU,wCAClBhK,EAAQtN,QAAU,GAClB,IAAK,IAAI7J,EAAOD,OAAOC,KAAKggB,EAAOnW,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACrE6T,EAAQtN,QAAQ7J,EAAKsD,IAAgC,EAA1B0c,EAAOnW,QAAQ7J,EAAKsD,IAEnD,OAAO6T,GAYT7M,EAAW2V,SAAW,SAAkB9I,EAAS+I,GAC1CA,IAASA,EAAU,IACxB,IAgCI0B,EAhCA5B,EAAS,GAiCb,IAhCIE,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOnW,QAAU,IACtDqW,EAAQC,WACVH,EAAO1jB,OAAS,GAChB0jB,EAAOpW,aAAe,KAClBsW,EAAQ9c,QAAUwd,OAAQZ,EAAO1gB,OAAS,IAE5C0gB,EAAO1gB,OAAS,GACZ4gB,EAAQ9c,QAAU0L,QACpBkR,EAAO1gB,OAASof,GAAM2C,UAAUrB,EAAO1gB,UAE3C0gB,EAAOxV,SAAW,GAClBwV,EAAOvV,SAAW,GAClBuV,EAAOnV,UAAW,GAEE,MAAlBsM,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YACnDgB,EAAO1jB,OAAS6a,EAAQ7a,QACE,MAAxB6a,EAAQvN,cAAwBuN,EAAQ6H,eAAe,kBACzDgB,EAAOpW,aAAe+U,GAAM7Z,OAAOmb,SAAS9I,EAAQvN,aAAcsW,IAC9C,MAAlB/I,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,YACnDgB,EAAO1gB,OACL4gB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQ7X,OAAQ,EAAG6X,EAAQ7X,OAAO+C,QACtD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQ7X,QACnC6X,EAAQ7X,QACQ,MAApB6X,EAAQ3M,UAAoB2M,EAAQ6H,eAAe,cACrDgB,EAAOxV,SAAW2M,EAAQ3M,UACJ,MAApB2M,EAAQ1M,UAAoB0M,EAAQ6H,eAAe,cACrDgB,EAAOvV,SAAW0M,EAAQ1M,UACJ,MAApB0M,EAAQtM,UAAoBsM,EAAQ6H,eAAe,cACrDgB,EAAOnV,SAAWsM,EAAQtM,UAExBsM,EAAQtN,UAAY+X,EAAQ7hB,OAAOC,KAAKmX,EAAQtN,UAAUxH,OAAQ,CACpE2d,EAAOnW,QAAU,GACjB,IAAK,IAAI3D,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOnW,QAAQ+X,EAAM1b,IAAMiR,EAAQtN,QAAQ+X,EAAM1b,IAErD,OAAO8Z,GAUT1V,EAAWuU,UAAUuB,OAAS,WAC5B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDhW,EA1YsC,GA6YxBqU,GAAMpa,OAAU,WAqBrC,SAASA,EAAOqa,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAuQvE,OA9PAiB,EAAOsa,UAAUpa,QAAU,EAQ3BF,EAAOsa,UAAUna,QAAU,EAQ3BH,EAAOsa,UAAUljB,MAAQ,EAQzB4I,EAAOsa,UAAUhjB,OAAS,EAQ1B0I,EAAOsa,UAAUja,MAAO,EAQxBL,EAAOsa,UAAUha,WAAY,EAU7BN,EAAOsP,OAAS,SAAgB+K,GAC9B,OAAO,IAAIra,EAAOqa,IAYpBra,EAAOua,OAAS,SAAgB3H,EAAS4H,GAuBvC,OAtBKA,IAAQA,EAASN,GAAQ5K,UAET,MAAnBsD,EAAQ1S,SACR1E,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1S,SAEpC,MAAnB0S,EAAQzS,SACR3E,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQzS,SACrC,MAAjByS,EAAQxb,OAAiBoE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQxb,OACpC,MAAlBwb,EAAQtb,QAAkBkE,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQtb,QACtC,MAAhBsb,EAAQvS,MAAgB7E,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQvS,MAElC,MAArBuS,EAAQtS,WACR9E,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQtS,WAClDka,GAYTxa,EAAO6a,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC9a,EAAO+a,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMpa,OACfwQ,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1S,QAAUsQ,EAAOyL,QACzB,MACF,KAAK,EACHrJ,EAAQzS,QAAUqQ,EAAOyL,QACzB,MACF,KAAK,EACHrJ,EAAQxb,MAAQoZ,EAAOyL,QACvB,MACF,KAAK,EACHrJ,EAAQtb,OAASkZ,EAAOyL,QACxB,MACF,KAAK,EACHrJ,EAAQvS,KAAOmQ,EAAO+M,OACtB,MACF,KAAK,EACH3K,EAAQtS,UAAYkQ,EAAO+M,OAC3B,MACF,QACE/M,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT5S,EAAOqb,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC3a,EAAOsb,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACc,MAAnBA,EAAQ1S,SAAmB0S,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQ1S,SAAiB,4BACzB,MAAnB0S,EAAQzS,SAAmByS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQzS,SAAiB,4BAC3B,MAAjByS,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAC7CN,GAAMoB,UAAU3I,EAAQxb,OAAe,0BACxB,MAAlBwb,EAAQtb,QAAkBsb,EAAQ6H,eAAe,YAC9CN,GAAMoB,UAAU3I,EAAQtb,QAAgB,2BAC3B,MAAhBsb,EAAQvS,MAAgBuS,EAAQ6H,eAAe,SACrB,mBAAjB7H,EAAQvS,KAA2B,yBACvB,MAArBuS,EAAQtS,WAAqBsS,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQtS,UACV,8BACJ,MAWTN,EAAOwb,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAMpa,OAAQ,OAAOyb,EAC3C,IAAI7I,EAAU,IAAIwH,GAAMpa,OAOxB,OANsB,MAAlByb,EAAOvb,UAAiB0S,EAAQ1S,QAA2B,EAAjBub,EAAOvb,SAC/B,MAAlBub,EAAOtb,UAAiByS,EAAQzS,QAA2B,EAAjBsb,EAAOtb,SACjC,MAAhBsb,EAAOrkB,QAAewb,EAAQxb,MAAuB,EAAfqkB,EAAOrkB,OAC5B,MAAjBqkB,EAAOnkB,SAAgBsb,EAAQtb,OAAyB,EAAhBmkB,EAAOnkB,QAChC,MAAfmkB,EAAOpb,OAAcuS,EAAQvS,KAAOmd,QAAQ/B,EAAOpb,OAC/B,MAApBob,EAAOnb,YAAmBsS,EAAQtS,UAAYkd,QAAQ/B,EAAOnb,YAC1DsS,GAYT5S,EAAO0b,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAqBb,OApBIE,EAAQC,WACVH,EAAOvb,QAAU,EACjBub,EAAOtb,QAAU,EACjBsb,EAAOrkB,MAAQ,EACfqkB,EAAOnkB,OAAS,EAChBmkB,EAAOpb,MAAO,EACdob,EAAOnb,WAAY,GAEE,MAAnBsS,EAAQ1S,SAAmB0S,EAAQ6H,eAAe,aACpDgB,EAAOvb,QAAU0S,EAAQ1S,SACJ,MAAnB0S,EAAQzS,SAAmByS,EAAQ6H,eAAe,aACpDgB,EAAOtb,QAAUyS,EAAQzS,SACN,MAAjByS,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAClDgB,EAAOrkB,MAAQwb,EAAQxb,OACH,MAAlBwb,EAAQtb,QAAkBsb,EAAQ6H,eAAe,YACnDgB,EAAOnkB,OAASsb,EAAQtb,QACN,MAAhBsb,EAAQvS,MAAgBuS,EAAQ6H,eAAe,UACjDgB,EAAOpb,KAAOuS,EAAQvS,MACC,MAArBuS,EAAQtS,WAAqBsS,EAAQ6H,eAAe,eACtDgB,EAAOnb,UAAYsS,EAAQtS,WACtBmb,GAUTzb,EAAOsa,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD/b,EA/R8B,GAkShBoa,GAAM3a,OAAU,WAmBrC,SAASA,EAAO4a,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA6NvE,OApNAU,EAAO6a,UAAU3c,MAAQ,GAQzB8B,EAAO6a,UAAU3a,KAAO,EAQxBF,EAAO6a,UAAUtjB,QAAU,EAQ3ByI,EAAO6a,UAAUjjB,QAAU,EAU3BoI,EAAO6P,OAAS,SAAgB+K,GAC9B,OAAO,IAAI5a,EAAO4a,IAYpB5a,EAAO8a,OAAS,SAAgB3H,EAAS4H,GAgBvC,OAfKA,IAAQA,EAASN,GAAQ5K,UACT,MAAjBsD,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OACvC,MAAhBiV,EAAQjT,MAAgBnE,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQjT,MAErC,MAAnBiT,EAAQ5b,SACRwE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQ5b,SAEtC,MAAnB4b,EAAQvb,SACRmE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQvb,SACpDmjB,GAYT/a,EAAOob,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCrb,EAAOsb,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM3a,OACf+Q,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,KAAK,EACHvJ,EAAQjT,KAAO6Q,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQ5b,QAAUwZ,EAAOoK,SACzB,MACF,KAAK,EACHhI,EAAQvb,QAAUmZ,EAAOoK,SACzB,MACF,QACEpK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTnT,EAAO4b,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpClb,EAAO6b,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACY,MAAjBA,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAe,yBACzB,MAAhBiV,EAAQjT,MAAgBiT,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQjT,MAAc,yBACtB,MAAnBiT,EAAQ5b,SAAmB4b,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQ5b,SAAiB,4BACzB,MAAnB4b,EAAQvb,SAAmBub,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQvb,SAAiB,4BACzC,MAWToI,EAAO+b,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAM3a,OAAQ,OAAOgc,EAC3C,IAAI7I,EAAU,IAAIwH,GAAM3a,OAKxB,OAJoB,MAAhBgc,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACrC,MAAf8d,EAAO9b,OAAciT,EAAQjT,KAAqB,EAAd8b,EAAO9b,MACzB,MAAlB8b,EAAOzkB,UAAiB4b,EAAQ5b,QAA2B,EAAjBykB,EAAOzkB,SAC/B,MAAlBykB,EAAOpkB,UAAiBub,EAAQvb,QAA2B,EAAjBokB,EAAOpkB,SAC9Cub,GAYTnT,EAAOic,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAeb,OAdIE,EAAQC,WACVH,EAAO9d,MAAQ,GACf8d,EAAO9b,KAAO,EACd8b,EAAOzkB,QAAU,EACjBykB,EAAOpkB,QAAU,GAEE,MAAjBub,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OACL,MAAhBiV,EAAQjT,MAAgBiT,EAAQ6H,eAAe,UACjDgB,EAAO9b,KAAOiT,EAAQjT,MACD,MAAnBiT,EAAQ5b,SAAmB4b,EAAQ6H,eAAe,aACpDgB,EAAOzkB,QAAU4b,EAAQ5b,SACJ,MAAnB4b,EAAQvb,SAAmBub,EAAQ6H,eAAe,aACpDgB,EAAOpkB,QAAUub,EAAQvb,SACpBokB,GAUThc,EAAO6a,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDtc,EAnP8B,GAsPjB2a,GAAMxa,MAAS,WAsBnC,SAASA,EAAMya,GACb,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA+TvE,OAtTAa,EAAM0a,UAAUhhB,KAAO,KAQvBsG,EAAM0a,UAAUnb,KAAO,KAQvBS,EAAM0a,UAAUxa,WAAY,EAQ5BF,EAAM0a,UAAUhb,OAAS,KAQzBM,EAAM0a,UAAUza,WAAY,EAQ5BD,EAAM0a,UAAU5a,OAAS,KAQzBE,EAAM0a,UAAUva,QAAU,GAU1BH,EAAM0P,OAAS,SAAgB+K,GAC7B,OAAO,IAAIza,EAAMya,IAYnBza,EAAM2a,OAAS,SAAgB3H,EAAS4H,GAqCtC,OApCKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQtZ,MAAgBkC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9DwH,GAAMhhB,KAAKmhB,OACT3H,EAAQtZ,KACRkhB,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACgB,MAAhBlI,EAAQzT,MAAgB3D,OAAOif,eAAeC,KAAK9H,EAAS,SAC9DwH,GAAMlb,KAAKqb,OACT3H,EAAQzT,KACRqb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEmB,MAArBlI,EAAQ9S,WACRtE,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQ9S,WACnC,MAAlB8S,EAAQtT,QAAkB9D,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAMlb,KAAKqb,OACT3H,EAAQtT,OACRkb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEmB,MAArBlI,EAAQ/S,WACRrE,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQ/S,WACnC,MAAlB+S,EAAQlT,QAAkBlE,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAM3a,OAAO8a,OACX3H,EAAQlT,OACR8a,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEiB,MAAnBlI,EAAQ7S,SACRvE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7S,SACpDya,GAYT5a,EAAMib,gBAAkB,SAAyBjI,EAAS4H,GACxD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActClb,EAAMmb,OAAS,SAAgBvK,EAAQ1S,GAC/B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMxa,MACf4Q,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQtZ,KAAO8gB,GAAMhhB,KAAK2hB,OAAOvK,EAAQA,EAAOmK,UAChD,MACF,KAAK,EACH/H,EAAQzT,KAAOib,GAAMlb,KAAK6b,OAAOvK,EAAQA,EAAOmK,UAChD,MACF,KAAK,EACH/H,EAAQ9S,UAAY0Q,EAAO+M,OAC3B,MACF,KAAK,EACH3K,EAAQtT,OAAS8a,GAAMlb,KAAK6b,OAAOvK,EAAQA,EAAOmK,UAClD,MACF,KAAK,EACH/H,EAAQ/S,UAAY2Q,EAAO+M,OAC3B,MACF,KAAK,EACH3K,EAAQlT,OAAS0a,GAAM3a,OAAOsb,OAAOvK,EAAQA,EAAOmK,UACpD,MACF,KAAK,EACH/H,EAAQ7S,QAAUyQ,EAAO2L,SACzB,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaThT,EAAMyb,gBAAkB,SAAyB7K,GAE/C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC/a,EAAM0b,OAAS,SAAgB1I,GAC7B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,QAAS,CAC1D,IAAIkC,EAAQvC,GAAMhhB,KAAKkiB,OAAO1I,EAAQtZ,MACtC,GAAIqjB,EAAO,MAAO,QAAUA,EAE9B,GAAoB,MAAhB/J,EAAQzT,MAAgByT,EAAQ6H,eAAe,QAAS,CAC1D,IAAIkC,EAAQvC,GAAMlb,KAAKoc,OAAO1I,EAAQzT,MACtC,GAAIwd,EAAO,MAAO,QAAUA,EAE9B,GAAyB,MAArB/J,EAAQ9S,WAAqB8S,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQ9S,UACjB,MAAO,8BACX,GAAsB,MAAlB8S,EAAQtT,QAAkBsT,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAMlb,KAAKoc,OAAO1I,EAAQtT,QACtC,GAAIqd,EAAO,MAAO,UAAYA,EAEhC,GAAyB,MAArB/J,EAAQ/S,WAAqB+S,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQ/S,UACjB,MAAO,8BACX,GAAsB,MAAlB+S,EAAQlT,QAAkBkT,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAM3a,OAAO6b,OAAO1I,EAAQlT,QACxC,GAAIid,EAAO,MAAO,UAAYA,EAEhC,OAAuB,MAAnB/J,EAAQ7S,SAAmB6S,EAAQ6H,eAAe,aAC/CN,GAAMiC,SAASxJ,EAAQ7S,SAAiB,2BACxC,MAWTH,EAAM4b,WAAa,SAAoBC,GACrC,GAAIA,aAAkBrB,GAAMxa,MAAO,OAAO6b,EAC1C,IAAI7I,EAAU,IAAIwH,GAAMxa,MACxB,GAAmB,MAAf6b,EAAOniB,KAAc,CACvB,GAA2B,kBAAhBmiB,EAAOniB,KAChB,MAAMsjB,UAAU,gCAClBhK,EAAQtZ,KAAO8gB,GAAMhhB,KAAKoiB,WAAWC,EAAOniB,MAE9C,GAAmB,MAAfmiB,EAAOtc,KAAc,CACvB,GAA2B,kBAAhBsc,EAAOtc,KAChB,MAAMyd,UAAU,gCAClBhK,EAAQzT,KAAOib,GAAMlb,KAAKsc,WAAWC,EAAOtc,MAG9C,GADwB,MAApBsc,EAAO3b,YAAmB8S,EAAQ9S,UAAY0d,QAAQ/B,EAAO3b,YAC5C,MAAjB2b,EAAOnc,OAAgB,CACzB,GAA6B,kBAAlBmc,EAAOnc,OAChB,MAAMsd,UAAU,kCAClBhK,EAAQtT,OAAS8a,GAAMlb,KAAKsc,WAAWC,EAAOnc,QAGhD,GADwB,MAApBmc,EAAO5b,YAAmB+S,EAAQ/S,UAAY2d,QAAQ/B,EAAO5b,YAC5C,MAAjB4b,EAAO/b,OAAgB,CACzB,GAA6B,kBAAlB+b,EAAO/b,OAChB,MAAMkd,UAAU,kCAClBhK,EAAQlT,OAAS0a,GAAM3a,OAAO+b,WAAWC,EAAO/b,QAGlD,OADsB,MAAlB+b,EAAO1b,UAAiB6S,EAAQ7S,QAAUsc,OAAOZ,EAAO1b,UACrD6S,GAYThT,EAAM8b,SAAW,SAAkB9I,EAAS+I,GACrCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAwBb,OAvBIE,EAAQC,WACVH,EAAOniB,KAAO,KACdmiB,EAAOtc,KAAO,KACdsc,EAAO3b,WAAY,EACnB2b,EAAOnc,OAAS,KAChBmc,EAAO5b,WAAY,EACnB4b,EAAO/b,OAAS,KAChB+b,EAAO1b,QAAU,IAEC,MAAhB6S,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,UACjDgB,EAAOniB,KAAO8gB,GAAMhhB,KAAKsiB,SAAS9I,EAAQtZ,KAAMqiB,IAC9B,MAAhB/I,EAAQzT,MAAgByT,EAAQ6H,eAAe,UACjDgB,EAAOtc,KAAOib,GAAMlb,KAAKwc,SAAS9I,EAAQzT,KAAMwc,IACzB,MAArB/I,EAAQ9S,WAAqB8S,EAAQ6H,eAAe,eACtDgB,EAAO3b,UAAY8S,EAAQ9S,WACP,MAAlB8S,EAAQtT,QAAkBsT,EAAQ6H,eAAe,YACnDgB,EAAOnc,OAAS8a,GAAMlb,KAAKwc,SAAS9I,EAAQtT,OAAQqc,IAC7B,MAArB/I,EAAQ/S,WAAqB+S,EAAQ6H,eAAe,eACtDgB,EAAO5b,UAAY+S,EAAQ/S,WACP,MAAlB+S,EAAQlT,QAAkBkT,EAAQ6H,eAAe,YACnDgB,EAAO/b,OAAS0a,GAAM3a,OAAOic,SAAS9I,EAAQlT,OAAQic,IACjC,MAAnB/I,EAAQ7S,SAAmB6S,EAAQ6H,eAAe,aACpDgB,EAAO1b,QAAU6S,EAAQ7S,SACpB0b,GAUT7b,EAAM0a,UAAUuB,OAAS,WACvB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDnc,EAxV4B,GA2VlBwa,GAAMvkB,GAAM,WAgB7B,SAASA,EAAGwkB,GACV,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiKvE,OAxJAlJ,EAAGykB,UAAUvjB,YAAc,GAU3BlB,EAAGyZ,OAAS,SAAgB+K,GAC1B,OAAO,IAAIxkB,EAAGwkB,IAYhBxkB,EAAG0kB,OAAS,SAAgB3H,EAAS4H,GAOnC,OANKA,IAAQA,EAASN,GAAQ5K,UAEL,MAAvBsD,EAAQ7b,aACRyE,OAAOif,eAAeC,KAAK9H,EAAS,gBAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7b,aACpDyjB,GAYT3kB,EAAGglB,gBAAkB,SAAyBjI,EAAS4H,GACrD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCjlB,EAAGklB,OAAS,SAAgBvK,EAAQ1S,GAC5B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMvkB,GACf2a,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7b,YAAcyZ,EAAO2L,SAC7B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT/c,EAAGwlB,gBAAkB,SAAyB7K,GAE5C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC9kB,EAAGylB,OAAS,SAAgB1I,GAC1B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACkB,MAAvBA,EAAQ7b,aAAuB6b,EAAQ6H,eAAe,iBACnDN,GAAMiC,SAASxJ,EAAQ7b,aACnB,+BACJ,MAWTlB,EAAG2lB,WAAa,SAAoBC,GAClC,GAAIA,aAAkBrB,GAAMvkB,GAAI,OAAO4lB,EACvC,IAAI7I,EAAU,IAAIwH,GAAMvkB,GAGxB,OAF0B,MAAtB4lB,EAAO1kB,cACT6b,EAAQ7b,YAAcslB,OAAOZ,EAAO1kB,cAC/B6b,GAYT/c,EAAG6lB,SAAW,SAAkB9I,EAAS+I,GAClCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAIb,OAHIE,EAAQC,WAAUH,EAAO1kB,YAAc,IAChB,MAAvB6b,EAAQ7b,aAAuB6b,EAAQ6H,eAAe,iBACxDgB,EAAO1kB,YAAc6b,EAAQ7b,aACxB0kB,GAUT5lB,EAAGykB,UAAUuB,OAAS,WACpB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDlmB,EApLsB,GAuLPukB,GAAM7T,QAAW,WAwBvC,SAASA,EAAQ8T,GAGf,GAFApkB,KAAK+Q,OAAS,GACd/Q,KAAKkR,YAAc,GACfkT,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA2evE,OAleAwH,EAAQ+T,UAAU/c,GAAK4c,GAAMsD,KAAOtD,GAAMsD,KAAKC,SAAS,EAAG,GAAG,GAAS,EAQvEnX,EAAQ+T,UAAUxe,KAAO,GAQzByK,EAAQ+T,UAAU5iB,KAAO,GAQzB6O,EAAQ+T,UAAUtT,OAASmT,GAAM8C,YAQjC1W,EAAQ+T,UAAUnT,YAAcgT,GAAMqC,WAQtCjW,EAAQ+T,UAAUle,MAAQ,KAQ1BmK,EAAQ+T,UAAUra,OAAS,KAQ3BsG,EAAQ+T,UAAUvT,mBAAqB,KAQvCR,EAAQ+T,UAAUxjB,GAAK,KAUvByP,EAAQ+I,OAAS,SAAgB+K,GAC/B,OAAO,IAAI9T,EAAQ8T,IAYrB9T,EAAQgU,OAAS,SAAgB3H,EAAS4H,GAQxC,GAPKA,IAAQA,EAASN,GAAQ5K,UACZ,MAAdsD,EAAQrV,IAAc/B,OAAOif,eAAeC,KAAK9H,EAAS,OAC5D4H,EAAOG,OAA+B,GAAGgD,MAAM/K,EAAQrV,IACrC,MAAhBqV,EAAQ9W,MAAgBN,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ9W,MACvC,MAAhB8W,EAAQlb,MAAgB8D,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQlb,MACrC,MAAlBkb,EAAQ5L,QAAkBxL,OAAOif,eAAeC,KAAK9H,EAAS,UAChE,IACE,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQ5L,QAASjI,EAAI,EAC5CA,EAAItD,EAAKqC,SACPiB,EAEFyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACfqb,GAAM3U,UAAU8U,OACd3H,EAAQ5L,OAAOvL,EAAKsD,IACpByb,EAAOG,OAA+B,IAAI8B,QAEzC3B,SACAA,SAEP,GAA2B,MAAvBlI,EAAQzL,aAAuByL,EAAQzL,YAAYrJ,OACrD,IAAK,IAAIiB,EAAI,EAAGA,EAAI6T,EAAQzL,YAAYrJ,SAAUiB,EAChDqb,GAAMrU,WAAWwU,OACf3H,EAAQzL,YAAYpI,GACpByb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAwBN,OAvBqB,MAAjBlI,EAAQxW,OAAiBZ,OAAOif,eAAeC,KAAK9H,EAAS,UAC/DwH,GAAMxa,MAAM2a,OACV3H,EAAQxW,MACRoe,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACkB,MAAlBlI,EAAQ3S,QAAkBzE,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAMpa,OAAOua,OACX3H,EAAQ3S,OACRua,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAE4B,MAA9BlI,EAAQ7L,oBACRvL,OAAOif,eAAeC,KAAK9H,EAAS,uBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQ7L,mBACRyT,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACc,MAAdlI,EAAQ9b,IAAc0E,OAAOif,eAAeC,KAAK9H,EAAS,OAC5DwH,GAAMvkB,GAAG0kB,OACP3H,EAAQ9b,GACR0jB,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACGN,GAYTjU,EAAQsU,gBAAkB,SAAyBjI,EAAS4H,GAC1D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCvU,EAAQwU,OAAS,SAAgBvK,EAAQ1S,GACjC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM7T,QAGfiK,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQrV,GAAKiT,EAAOmN,QACpB,MACF,KAAK,EACH/K,EAAQ9W,KAAO0U,EAAO2L,SACtB,MACF,KAAK,EACHvJ,EAAQlb,KAAO8Y,EAAO2L,SACtB,MACF,KAAK,EACCvJ,EAAQ5L,SAAWmT,GAAM8C,cAAarK,EAAQ5L,OAAS,IAC3D,IAAIkW,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,KACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQmT,GAAM3U,UAAUsV,OAAOvK,EAAQA,EAAOmK,UAC9C,MACF,QACEnK,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQ5L,OAAOE,GAAOD,EACtB,MACF,KAAK,EACG2L,EAAQzL,aAAeyL,EAAQzL,YAAYrJ,SAC/C8U,EAAQzL,YAAc,IACxByL,EAAQzL,YAAYvO,KAClBwhB,GAAMrU,WAAWgV,OAAOvK,EAAQA,EAAOmK,WAEzC,MACF,KAAK,EACH/H,EAAQxW,MAAQge,GAAMxa,MAAMmb,OAAOvK,EAAQA,EAAOmK,UAClD,MACF,KAAK,EACH/H,EAAQ3S,OAASma,GAAMpa,OAAO+a,OAAOvK,EAAQA,EAAOmK,UACpD,MACF,KAAK,EACH/H,EAAQ7L,mBAAqBqT,GAAM7Z,OAAOwa,OACxCvK,EACAA,EAAOmK,UAET,MACF,KAAK,EACH/H,EAAQ9b,GAAKsjB,GAAMvkB,GAAGklB,OAAOvK,EAAQA,EAAOmK,UAC5C,MACF,QACEnK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTrM,EAAQ8U,gBAAkB,SAAyB7K,GAEjD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCpU,EAAQ+U,OAAS,SAAgB1I,GAC/B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAkB,MAAdA,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAE5CN,GAAMoB,UAAU3I,EAAQrV,OAEvBqV,EAAQrV,IACR4c,GAAMoB,UAAU3I,EAAQrV,GAAGqgB,MAC3BzD,GAAMoB,UAAU3I,EAAQrV,GAAGsgB,OAG7B,MAAO,4BACX,GAAoB,MAAhBjL,EAAQ9W,MAAgB8W,EAAQ6H,eAAe,UAC5CN,GAAMiC,SAASxJ,EAAQ9W,MAAO,MAAO,wBAC5C,GAAoB,MAAhB8W,EAAQlb,MAAgBkb,EAAQ6H,eAAe,UAC5CN,GAAMiC,SAASxJ,EAAQlb,MAAO,MAAO,wBAC5C,GAAsB,MAAlBkb,EAAQ5L,QAAkB4L,EAAQ6H,eAAe,UAAW,CAC9D,IAAKN,GAAMiD,SAASxK,EAAQ5L,QAAS,MAAO,0BAE5C,IADA,IAAIE,EAAM1L,OAAOC,KAAKmX,EAAQ5L,QACrBjI,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAAG,CACnC,IAAI4d,EAAQvC,GAAM3U,UAAU6V,OAAO1I,EAAQ5L,OAAOE,EAAInI,KACtD,GAAI4d,EAAO,MAAO,UAAYA,GAGlC,GAA2B,MAAvB/J,EAAQzL,aAAuByL,EAAQ6H,eAAe,eAAgB,CACxE,IAAKlQ,MAAMmS,QAAQ9J,EAAQzL,aACzB,MAAO,8BACT,IAAK,IAAIpI,EAAI,EAAGA,EAAI6T,EAAQzL,YAAYrJ,SAAUiB,EAAG,CACnD,IAAI4d,EAAQvC,GAAMrU,WAAWuV,OAAO1I,EAAQzL,YAAYpI,IACxD,GAAI4d,EAAO,MAAO,eAAiBA,GAGvC,GAAqB,MAAjB/J,EAAQxW,OAAiBwW,EAAQ6H,eAAe,SAAU,CAC5D,IAAIkC,EAAQvC,GAAMxa,MAAM0b,OAAO1I,EAAQxW,OACvC,GAAIugB,EAAO,MAAO,SAAWA,EAE/B,GAAsB,MAAlB/J,EAAQ3S,QAAkB2S,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAMpa,OAAOsb,OAAO1I,EAAQ3S,QACxC,GAAI0c,EAAO,MAAO,UAAYA,EAEhC,GACgC,MAA9B/J,EAAQ7L,oBACR6L,EAAQ6H,eAAe,sBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQ7L,oBACxC,GAAI4V,EAAO,MAAO,sBAAwBA,EAE5C,GAAkB,MAAd/J,EAAQ9b,IAAc8b,EAAQ6H,eAAe,MAAO,CACtD,IAAIkC,EAAQvC,GAAMvkB,GAAGylB,OAAO1I,EAAQ9b,IACpC,GAAI6lB,EAAO,MAAO,MAAQA,EAE5B,OAAO,MAWTpW,EAAQiV,WAAa,SAAoBC,GACvC,GAAIA,aAAkBrB,GAAM7T,QAAS,OAAOkV,EAC5C,IAAI7I,EAAU,IAAIwH,GAAM7T,QAcxB,GAbiB,MAAbkV,EAAOle,KACL4c,GAAMsD,MACP7K,EAAQrV,GAAK4c,GAAMsD,KAAKK,UAAUrC,EAAOle,KAAKwgB,UAAW,EAC9B,kBAAdtC,EAAOle,GACrBqV,EAAQrV,GAAKgG,SAASkY,EAAOle,GAAI,IACL,kBAAdke,EAAOle,GAAiBqV,EAAQrV,GAAKke,EAAOle,GAC9B,kBAAdke,EAAOle,KACrBqV,EAAQrV,GAAK,IAAI4c,GAAM6D,SACrBvC,EAAOle,GAAGqgB,MAAQ,EAClBnC,EAAOle,GAAGsgB,OAAS,GACnBI,aACa,MAAfxC,EAAO3f,OAAc8W,EAAQ9W,KAAOugB,OAAOZ,EAAO3f,OACnC,MAAf2f,EAAO/jB,OAAckb,EAAQlb,KAAO2kB,OAAOZ,EAAO/jB,OAClD+jB,EAAOzU,OAAQ,CACjB,GAA6B,kBAAlByU,EAAOzU,OAChB,MAAM4V,UAAU,oCAClBhK,EAAQ5L,OAAS,GACjB,IAAK,IAAIvL,EAAOD,OAAOC,KAAKggB,EAAOzU,QAASjI,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EAAG,CACvE,GAAsC,kBAA3B0c,EAAOzU,OAAOvL,EAAKsD,IAC5B,MAAM6d,UAAU,oCAClBhK,EAAQ5L,OAAOvL,EAAKsD,IAAMqb,GAAM3U,UAAU+V,WACxCC,EAAOzU,OAAOvL,EAAKsD,MAIzB,GAAI0c,EAAOtU,YAAa,CACtB,IAAKoD,MAAMmS,QAAQjB,EAAOtU,aACxB,MAAMyV,UAAU,wCAClBhK,EAAQzL,YAAc,GACtB,IAAK,IAAIpI,EAAI,EAAGA,EAAI0c,EAAOtU,YAAYrJ,SAAUiB,EAAG,CAClD,GAAqC,kBAA1B0c,EAAOtU,YAAYpI,GAC5B,MAAM6d,UAAU,yCAClBhK,EAAQzL,YAAYpI,GAAKqb,GAAMrU,WAAWyV,WACxCC,EAAOtU,YAAYpI,KAIzB,GAAoB,MAAhB0c,EAAOrf,MAAe,CACxB,GAA4B,kBAAjBqf,EAAOrf,MAChB,MAAMwgB,UAAU,mCAClBhK,EAAQxW,MAAQge,GAAMxa,MAAM4b,WAAWC,EAAOrf,OAEhD,GAAqB,MAAjBqf,EAAOxb,OAAgB,CACzB,GAA6B,kBAAlBwb,EAAOxb,OAChB,MAAM2c,UAAU,oCAClBhK,EAAQ3S,OAASma,GAAMpa,OAAOwb,WAAWC,EAAOxb,QAElD,GAAiC,MAA7Bwb,EAAO1U,mBAA4B,CACrC,GAAyC,kBAA9B0U,EAAO1U,mBAChB,MAAM6V,UAAU,gDAClBhK,EAAQ7L,mBAAqBqT,GAAM7Z,OAAOib,WACxCC,EAAO1U,oBAGX,GAAiB,MAAb0U,EAAO3kB,GAAY,CACrB,GAAyB,kBAAd2kB,EAAO3kB,GAChB,MAAM8lB,UAAU,gCAClBhK,EAAQ9b,GAAKsjB,GAAMvkB,GAAG2lB,WAAWC,EAAO3kB,IAE1C,OAAO8b,GAYTrM,EAAQmV,SAAW,SAAkB9I,EAAS+I,GACvCA,IAASA,EAAU,IACxB,IAqCI0B,EArCA5B,EAAS,GAGb,IAFIE,EAAQkB,QAAUlB,EAAQC,YAAUH,EAAOtU,YAAc,KACzDwU,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOzU,OAAS,IACrD2U,EAAQC,SAAU,CACpB,GAAIzB,GAAMsD,KAAM,CACd,IAAIS,EAAO,IAAI/D,GAAMsD,KAAK,EAAG,GAAG,GAChChC,EAAOle,GACLoe,EAAQwC,QAAU9B,OACd6B,EAAKE,WACLzC,EAAQwC,QAAU1nB,OAClBynB,EAAKD,WACLC,OACDzC,EAAOle,GAAKoe,EAAQwC,QAAU9B,OAAS,IAAM,EACpDZ,EAAO3f,KAAO,GACd2f,EAAO/jB,KAAO,GACd+jB,EAAOrf,MAAQ,KACfqf,EAAOxb,OAAS,KAChBwb,EAAO1U,mBAAqB,KAC5B0U,EAAO3kB,GAAK,KAoBd,GAlBkB,MAAd8b,EAAQrV,IAAcqV,EAAQ6H,eAAe,QACrB,kBAAf7H,EAAQrV,GACjBke,EAAOle,GAAKoe,EAAQwC,QAAU9B,OAASA,OAAOzJ,EAAQrV,IAAMqV,EAAQrV,GAEpEke,EAAOle,GACLoe,EAAQwC,QAAU9B,OACdlC,GAAMsD,KAAKnD,UAAU8D,SAAS1D,KAAK9H,EAAQrV,IAC3Coe,EAAQwC,QAAU1nB,OAClB,IAAI0jB,GAAM6D,SACRpL,EAAQrV,GAAGqgB,MAAQ,EACnBhL,EAAQrV,GAAGsgB,OAAS,GACpBI,WACFrL,EAAQrV,IACE,MAAhBqV,EAAQ9W,MAAgB8W,EAAQ6H,eAAe,UACjDgB,EAAO3f,KAAO8W,EAAQ9W,MACJ,MAAhB8W,EAAQlb,MAAgBkb,EAAQ6H,eAAe,UACjDgB,EAAO/jB,KAAOkb,EAAQlb,MAEpBkb,EAAQ5L,SAAWqW,EAAQ7hB,OAAOC,KAAKmX,EAAQ5L,SAASlJ,OAAQ,CAClE2d,EAAOzU,OAAS,GAChB,IAAK,IAAIrF,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOzU,OAAOqW,EAAM1b,IAAMyY,GAAM3U,UAAUiW,SACxC9I,EAAQ5L,OAAOqW,EAAM1b,IACrBga,GAGN,GAAI/I,EAAQzL,aAAeyL,EAAQzL,YAAYrJ,OAAQ,CACrD2d,EAAOtU,YAAc,GACrB,IAAK,IAAIxF,EAAI,EAAGA,EAAIiR,EAAQzL,YAAYrJ,SAAU6D,EAChD8Z,EAAOtU,YAAYxF,GAAKyY,GAAMrU,WAAW2V,SACvC9I,EAAQzL,YAAYxF,GACpBga,GAiBN,OAdqB,MAAjB/I,EAAQxW,OAAiBwW,EAAQ6H,eAAe,WAClDgB,EAAOrf,MAAQge,GAAMxa,MAAM8b,SAAS9I,EAAQxW,MAAOuf,IAC/B,MAAlB/I,EAAQ3S,QAAkB2S,EAAQ6H,eAAe,YACnDgB,EAAOxb,OAASma,GAAMpa,OAAO0b,SAAS9I,EAAQ3S,OAAQ0b,IAExB,MAA9B/I,EAAQ7L,oBACR6L,EAAQ6H,eAAe,wBAEvBgB,EAAO1U,mBAAqBqT,GAAM7Z,OAAOmb,SACvC9I,EAAQ7L,mBACR4U,IAEc,MAAd/I,EAAQ9b,IAAc8b,EAAQ6H,eAAe,QAC/CgB,EAAO3kB,GAAKsjB,GAAMvkB,GAAG6lB,SAAS9I,EAAQ9b,GAAI6kB,IACrCF,GAUTlV,EAAQ+T,UAAUuB,OAAS,WACzB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDxV,EAxgBgC,ICvvG1B8X,GAHA,kBACb,IAAIvf,WAAJ,uBAFwB,gBAEM4L,MAAM,IAAI9M,KAAI,SAAC0gB,GAAD,OAAOA,EAAEtf,WAAW,OAAhE,CAAqE,EAAG,EAAG,MCE7E,IAAMgb,GAAUC,UACdC,GAAUD,UACVE,GAAQF,QAGJG,GAAQ,GA+uGD7T,IA7uGU6T,GAAM7Z,OAAU,WAkBrC,SAASA,EAAO8Z,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA8MvE,OArMAwB,EAAO+Z,UAAU7Z,SAAW,EAQ5BF,EAAO+Z,UAAU5Z,QAAU,EAQ3BH,EAAO+Z,UAAU3Z,QAAU,EAU3BJ,EAAO+O,OAAS,SAAgB+K,GAC9B,OAAO,IAAI9Z,EAAO8Z,IAYpB9Z,EAAOga,OAAS,SAAgB3H,EAAS4H,GAiBvC,OAhBKA,IAAQA,EAASN,GAAQ5K,UAER,MAApBsD,EAAQnS,UACRjF,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,GAAGC,OAAOhI,EAAQnS,UAErC,MAAnBmS,EAAQlS,SACRlF,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQlS,SAEtC,MAAnBkS,EAAQjS,SACRnF,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQjS,SACpD6Z,GAYTja,EAAOsa,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCva,EAAOwa,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM7Z,OACfiQ,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQnS,SAAW+P,EAAOoK,SAC1B,MACF,KAAK,EACHhI,EAAQlS,QAAU8P,EAAOoK,SACzB,MACF,KAAK,EACHhI,EAAQjS,QAAU6P,EAAOoK,SACzB,MACF,QACEpK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTrS,EAAO8a,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCpa,EAAO+a,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACe,MAApBA,EAAQnS,UAAoBmS,EAAQ6H,eAAe,cAChDN,GAAMoB,UAAU3I,EAAQnS,UACpB,6BACY,MAAnBmS,EAAQlS,SAAmBkS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQlS,SAAiB,4BACzB,MAAnBkS,EAAQjS,SAAmBiS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQjS,SAAiB,4BACzC,MAWTJ,EAAOib,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAM7Z,OAAQ,OAAOkb,EAC3C,IAAI7I,EAAU,IAAIwH,GAAM7Z,OAIxB,OAHuB,MAAnBkb,EAAOhb,WAAkBmS,EAAQnS,SAA6B,EAAlBgb,EAAOhb,UACjC,MAAlBgb,EAAO/a,UAAiBkS,EAAQlS,QAA2B,EAAjB+a,EAAO/a,SAC/B,MAAlB+a,EAAO9a,UAAiBiS,EAAQjS,QAA2B,EAAjB8a,EAAO9a,SAC9CiS,GAYTrS,EAAOmb,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAYb,OAXIE,EAAQC,WACVH,EAAOhb,SAAW,EAClBgb,EAAO/a,QAAU,EACjB+a,EAAO9a,QAAU,GAEK,MAApBiS,EAAQnS,UAAoBmS,EAAQ6H,eAAe,cACrDgB,EAAOhb,SAAWmS,EAAQnS,UACL,MAAnBmS,EAAQlS,SAAmBkS,EAAQ6H,eAAe,aACpDgB,EAAO/a,QAAUkS,EAAQlS,SACJ,MAAnBkS,EAAQjS,SAAmBiS,EAAQ6H,eAAe,aACpDgB,EAAO9a,QAAUiS,EAAQjS,SACpB8a,GAUTlb,EAAO+Z,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDxb,EAnO8B,GAsOT6Z,GAAM4B,cAAiB,WAkBnD,SAASA,EAAc3B,GACrB,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAoMvE,OA3LAid,EAAc1B,UAAU/c,GAAK,EAQ7Bye,EAAc1B,UAAU5c,OAAS,EAQjCse,EAAc1B,UAAU3c,MAAQ,GAUhCqe,EAAc1M,OAAS,SAAgB+K,GACrC,OAAO,IAAI2B,EAAc3B,IAY3B2B,EAAczB,OAAS,SAAgB3H,EAAS4H,GAQ9C,OAPKA,IAAQA,EAASN,GAAQ5K,UACZ,MAAdsD,EAAQrV,IAAc/B,OAAOif,eAAeC,KAAK9H,EAAS,OAC5D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQrV,IACnC,MAAlBqV,EAAQlV,QAAkBlC,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQlV,QACtC,MAAjBkV,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OACpD6c,GAYTwB,EAAcnB,gBAAkB,SAAyBjI,EAAS4H,GAChE,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCkB,EAAcjB,OAAS,SAAgBvK,EAAQ1S,GACvC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM4B,cACfxL,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQrV,GAAKiT,EAAOyL,QACpB,MACF,KAAK,EACHrJ,EAAQlV,OAAS8S,EAAOoK,SACxB,MACF,KAAK,EACHhI,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaToJ,EAAcX,gBAAkB,SAAyB7K,GAEvD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCqB,EAAcV,OAAS,SAAgB1I,GACrC,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACS,MAAdA,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAC1CN,GAAMoB,UAAU3I,EAAQrV,IAAY,uBACrB,MAAlBqV,EAAQlV,QAAkBkV,EAAQ6H,eAAe,YAC9CN,GAAMoB,UAAU3I,EAAQlV,QAAgB,2BAC1B,MAAjBkV,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAe,yBACtC,MAWTqe,EAAcR,WAAa,SAAoBC,GAC7C,GAAIA,aAAkBrB,GAAM4B,cAAe,OAAOP,EAClD,IAAI7I,EAAU,IAAIwH,GAAM4B,cAIxB,OAHiB,MAAbP,EAAOle,KAAYqV,EAAQrV,GAAiB,EAAZke,EAAOle,IACtB,MAAjBke,EAAO/d,SAAgBkV,EAAQlV,OAAyB,EAAhB+d,EAAO/d,QAC/B,MAAhB+d,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACjDiV,GAYToJ,EAAcN,SAAW,SAAkB9I,EAAS+I,GAC7CA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAYb,OAXIE,EAAQC,WACVH,EAAOle,GAAK,EACZke,EAAO/d,OAAS,EAChB+d,EAAO9d,MAAQ,IAEC,MAAdiV,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAC/CgB,EAAOle,GAAKqV,EAAQrV,IACA,MAAlBqV,EAAQlV,QAAkBkV,EAAQ6H,eAAe,YACnDgB,EAAO/d,OAASkV,EAAQlV,QACL,MAAjBkV,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OAClB8d,GAUTO,EAAc1B,UAAUuB,OAAS,WAC/B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDC,EAzN4C,GA4N5B5B,GAAMrd,SAAY,WAkBzC,SAASA,EAASsd,GAEhB,GADApkB,KAAKmH,QAAU,GACXid,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAkOvE,OAzNAhC,EAASud,UAAUpd,KAAO,EAQ1BH,EAASud,UAAUnd,MAAQ,EAQ3BJ,EAASud,UAAUld,QAAU+c,GAAMqC,WAUnCzf,EAASuS,OAAS,SAAgB+K,GAChC,OAAO,IAAItd,EAASsd,IAYtBtd,EAASwd,OAAS,SAAgB3H,EAAS4H,GAMzC,GALKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQ1V,MAAgB1B,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1V,MACpC,MAAjB0V,EAAQzV,OAAiB3B,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIuB,MAAMtJ,EAAQzV,OACnC,MAAnByV,EAAQxV,SAAmBwV,EAAQxV,QAAQU,OAC7C,IAAK,IAAIiB,EAAI,EAAGA,EAAI6T,EAAQxV,QAAQU,SAAUiB,EAC5Cqb,GAAM4B,cAAczB,OAClB3H,EAAQxV,QAAQ2B,GAChByb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACN,OAAON,GAYTzd,EAAS8d,gBAAkB,SAAyBjI,EAAS4H,GAC3D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC/d,EAASge,OAAS,SAAgBvK,EAAQ1S,GAClC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMrd,SACfyT,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1V,KAAOsT,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQzV,MAAQqT,EAAO0L,QACvB,MACF,KAAK,EACGtJ,EAAQxV,SAAWwV,EAAQxV,QAAQU,SAAS8U,EAAQxV,QAAU,IACpEwV,EAAQxV,QAAQxE,KACdwhB,GAAM4B,cAAcjB,OAAOvK,EAAQA,EAAOmK,WAE5C,MACF,QACEnK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT7V,EAASse,gBAAkB,SAAyB7K,GAElD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC5d,EAASue,OAAS,SAAgB1I,GAChC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQ1V,MAAO,MAAO,yBAC7C,GAAqB,MAAjB0V,EAAQzV,OAAiByV,EAAQ6H,eAAe,UACrB,kBAAlB7H,EAAQzV,MAAoB,MAAO,yBAChD,GAAuB,MAAnByV,EAAQxV,SAAmBwV,EAAQ6H,eAAe,WAAY,CAChE,IAAKlQ,MAAMmS,QAAQ9J,EAAQxV,SAAU,MAAO,0BAC5C,IAAK,IAAI2B,EAAI,EAAGA,EAAI6T,EAAQxV,QAAQU,SAAUiB,EAAG,CAC/C,IAAI4d,EAAQvC,GAAM4B,cAAcV,OAAO1I,EAAQxV,QAAQ2B,IACvD,GAAI4d,EAAO,MAAO,WAAaA,GAGnC,OAAO,MAWT5f,EAASye,WAAa,SAAoBC,GACxC,GAAIA,aAAkBrB,GAAMrd,SAAU,OAAO0e,EAC7C,IAAI7I,EAAU,IAAIwH,GAAMrd,SAGxB,GAFmB,MAAf0e,EAAOve,OAAc0V,EAAQ1V,KAAqB,EAAdue,EAAOve,MAC3B,MAAhBue,EAAOte,QAAeyV,EAAQzV,MAAQ1G,OAAOglB,EAAOte,QACpDse,EAAOre,QAAS,CAClB,IAAKmN,MAAMmS,QAAQjB,EAAOre,SACxB,MAAMwf,UAAU,qCAClBhK,EAAQxV,QAAU,GAClB,IAAK,IAAI2B,EAAI,EAAGA,EAAI0c,EAAOre,QAAQU,SAAUiB,EAAG,CAC9C,GAAiC,kBAAtB0c,EAAOre,QAAQ2B,GACxB,MAAM6d,UAAU,sCAClBhK,EAAQxV,QAAQ2B,GAAKqb,GAAM4B,cAAcR,WAAWC,EAAOre,QAAQ2B,KAGvE,OAAO6T,GAYT7V,EAAS2e,SAAW,SAAkB9I,EAAS+I,GACxCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAab,IAZIE,EAAQkB,QAAUlB,EAAQC,YAAUH,EAAOre,QAAU,IACrDue,EAAQC,WACVH,EAAOve,KAAO,EACdue,EAAOte,MAAQ,GAEG,MAAhByV,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UACjDgB,EAAOve,KAAO0V,EAAQ1V,MACH,MAAjB0V,EAAQzV,OAAiByV,EAAQ6H,eAAe,WAClDgB,EAAOte,MACLwe,EAAQW,OAASC,SAAS3J,EAAQzV,OAC9Bkf,OAAOzJ,EAAQzV,OACfyV,EAAQzV,OACZyV,EAAQxV,SAAWwV,EAAQxV,QAAQU,OAAQ,CAC7C2d,EAAOre,QAAU,GACjB,IAAK,IAAIuE,EAAI,EAAGA,EAAIiR,EAAQxV,QAAQU,SAAU6D,EAC5C8Z,EAAOre,QAAQuE,GAAKyY,GAAM4B,cAAcN,SACtC9I,EAAQxV,QAAQuE,GAChBga,GAGN,OAAOF,GAUT1e,EAASud,UAAUuB,OAAS,WAC1B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDhf,EAxPkC,GA2PZqd,GAAMpc,eAAkB,WAkBrD,SAASA,EAAeqc,GACtB,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAqOvE,OA5NAf,EAAesc,UAAUvf,OAASof,GAAM2C,UAAU,IAQlD9e,EAAesc,UAAU/iB,MAAQ,EAQjCyG,EAAesc,UAAUpc,WAAa,GAUtCF,EAAesR,OAAS,SAAgB+K,GACtC,OAAO,IAAIrc,EAAeqc,IAY5Brc,EAAeuc,OAAS,SAAgB3H,EAAS4H,GAW/C,OAVKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7X,QAAkBS,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQ7X,QACrC,MAAjB6X,EAAQrb,OAAiBiE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIoC,OAAOnK,EAAQrb,OAEnC,MAAtBqb,EAAQ1U,YACR1C,OAAOif,eAAeC,KAAK9H,EAAS,eAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1U,YACpDsc,GAYTxc,EAAe6c,gBAAkB,SAAyBjI,EAAS4H,GACjE,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC9c,EAAe+c,OAAS,SAAgBvK,EAAQ1S,GACxC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMpc,eACfwS,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7X,OAASyV,EAAO3R,QACxB,MACF,KAAK,EACH+T,EAAQrb,MAAQiZ,EAAOuM,SACvB,MACF,KAAK,EACHnK,EAAQ1U,WAAasS,EAAO2L,SAC5B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT5U,EAAeqd,gBAAkB,SAAyB7K,GAExD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC3c,EAAesd,OAAS,SAAgB1I,GACtC,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACa,MAAlBA,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,aAG9C7H,EAAQ7X,QAA2C,kBAA1B6X,EAAQ7X,OAAO+C,QACzCqc,GAAMiC,SAASxJ,EAAQ7X,SAGlB,0BACU,MAAjB6X,EAAQrb,OAAiBqb,EAAQ6H,eAAe,UACrB,kBAAlB7H,EAAQrb,MAA2B,yBACtB,MAAtBqb,EAAQ1U,YAAsB0U,EAAQ6H,eAAe,gBAClDN,GAAMiC,SAASxJ,EAAQ1U,YACnB,8BACJ,MAWTF,EAAewd,WAAa,SAAoBC,GAC9C,GAAIA,aAAkBrB,GAAMpc,eAAgB,OAAOyd,EACnD,IAAI7I,EAAU,IAAIwH,GAAMpc,eAcxB,OAbqB,MAAjByd,EAAO1gB,SACoB,kBAAlB0gB,EAAO1gB,OAChBof,GAAM1b,OAAOsc,OACXU,EAAO1gB,OACN6X,EAAQ7X,OAASof,GAAM2C,UACtB3C,GAAM1b,OAAOX,OAAO2d,EAAO1gB,SAE7B,GAEK0gB,EAAO1gB,OAAO+C,SAAQ8U,EAAQ7X,OAAS0gB,EAAO1gB,SACrC,MAAhB0gB,EAAOlkB,QAAeqb,EAAQrb,MAAQd,OAAOglB,EAAOlkB,QAC/B,MAArBkkB,EAAOvd,aACT0U,EAAQ1U,WAAame,OAAOZ,EAAOvd,aAC9B0U,GAYT5U,EAAe0d,SAAW,SAAkB9I,EAAS+I,GAC9CA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAyBb,OAxBIE,EAAQC,WACND,EAAQ9c,QAAUwd,OAAQZ,EAAO1gB,OAAS,IAE5C0gB,EAAO1gB,OAAS,GACZ4gB,EAAQ9c,QAAU0L,QACpBkR,EAAO1gB,OAASof,GAAM2C,UAAUrB,EAAO1gB,UAE3C0gB,EAAOlkB,MAAQ,EACfkkB,EAAOvd,WAAa,IAEA,MAAlB0U,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,YACnDgB,EAAO1gB,OACL4gB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQ7X,OAAQ,EAAG6X,EAAQ7X,OAAO+C,QACtD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQ7X,QACnC6X,EAAQ7X,QACK,MAAjB6X,EAAQrb,OAAiBqb,EAAQ6H,eAAe,WAClDgB,EAAOlkB,MACLokB,EAAQW,OAASC,SAAS3J,EAAQrb,OAC9B8kB,OAAOzJ,EAAQrb,OACfqb,EAAQrb,OACU,MAAtBqb,EAAQ1U,YAAsB0U,EAAQ6H,eAAe,gBACvDgB,EAAOvd,WAAa0U,EAAQ1U,YACvBud,GAUTzd,EAAesc,UAAUuB,OAAS,WAChC,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD/d,EA1P8C,GA6PlCoc,GAAMlb,KAAQ,WAsBjC,SAASA,EAAKmb,GACZ,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA4TvE,OAnTAG,EAAKob,UAAUpd,KAAO,EAQtBgC,EAAKob,UAAU3c,MAAQ,GAQvBuB,EAAKob,UAAUrd,SAAW,KAQ1BiC,EAAKob,UAAUlb,eAAiB,KAQhCF,EAAKob,UAAUljB,MAAQ,EAQvB8H,EAAKob,UAAU/a,QAAU,GAQzBL,EAAKob,UAAU9a,SAAW,GAU1BN,EAAKoQ,OAAS,SAAgB+K,GAC5B,OAAO,IAAInb,EAAKmb,IAYlBnb,EAAKqb,OAAS,SAAgB3H,EAAS4H,GAkCrC,OAjCKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQ1V,MAAgB1B,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1V,MACpC,MAAjB0V,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OAErC,MAApBiV,EAAQ3V,UACRzB,OAAOif,eAAeC,KAAK9H,EAAS,aAEpCwH,GAAMrd,SAASwd,OACb3H,EAAQ3V,SACRud,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEwB,MAA1BlI,EAAQxT,gBACR5D,OAAOif,eAAeC,KAAK9H,EAAS,mBAEpCwH,GAAMpc,eAAeuc,OACnB3H,EAAQxT,eACRob,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACiB,MAAjBlI,EAAQxb,OAAiBoE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQxb,OAErC,MAAnBwb,EAAQrT,SACR/D,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQrT,SAErC,MAApBqT,EAAQpT,UACRhE,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQpT,UACpDgb,GAYTtb,EAAK2b,gBAAkB,SAAyBjI,EAAS4H,GACvD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC5b,EAAK6b,OAAS,SAAgBvK,EAAQ1S,GAC9B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMlb,KACfsR,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1V,KAAOsT,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,KAAK,EACHvJ,EAAQ3V,SAAWmd,GAAMrd,SAASge,OAAOvK,EAAQA,EAAOmK,UACxD,MACF,KAAK,EACH/H,EAAQxT,eAAiBgb,GAAMpc,eAAe+c,OAC5CvK,EACAA,EAAOmK,UAET,MACF,KAAK,EACH/H,EAAQxb,MAAQoZ,EAAOyL,QACvB,MACF,KAAK,EACHrJ,EAAQrT,QAAUiR,EAAO2L,SACzB,MACF,KAAK,EACHvJ,EAAQpT,SAAWgR,EAAO2L,SAC1B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT1T,EAAKmc,gBAAkB,SAAyB7K,GAE9C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCzb,EAAKoc,OAAS,SAAgB1I,GAC5B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQ1V,MAAO,MAAO,yBAC7C,GAAqB,MAAjB0V,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAQ,MAAO,yBAC7C,GAAwB,MAApBiV,EAAQ3V,UAAoB2V,EAAQ6H,eAAe,YAAa,CAClE,IAAIkC,EAAQvC,GAAMrd,SAASue,OAAO1I,EAAQ3V,UAC1C,GAAI0f,EAAO,MAAO,YAAcA,EAElC,GAC4B,MAA1B/J,EAAQxT,gBACRwT,EAAQ6H,eAAe,kBACvB,CACA,IAAIkC,EAAQvC,GAAMpc,eAAesd,OAAO1I,EAAQxT,gBAChD,GAAIud,EAAO,MAAO,kBAAoBA,EAExC,OAAqB,MAAjB/J,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAC7CN,GAAMoB,UAAU3I,EAAQxb,OAAe,0BACvB,MAAnBwb,EAAQrT,SAAmBqT,EAAQ6H,eAAe,aAC/CN,GAAMiC,SAASxJ,EAAQrT,SAAiB,2BACvB,MAApBqT,EAAQpT,UAAoBoT,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQpT,UAAkB,4BACzC,MAWTN,EAAKsc,WAAa,SAAoBC,GACpC,GAAIA,aAAkBrB,GAAMlb,KAAM,OAAOuc,EACzC,IAAI7I,EAAU,IAAIwH,GAAMlb,KAGxB,GAFmB,MAAfuc,EAAOve,OAAc0V,EAAQ1V,KAAqB,EAAdue,EAAOve,MAC3B,MAAhBue,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACjC,MAAnB8d,EAAOxe,SAAkB,CAC3B,GAA+B,kBAApBwe,EAAOxe,SAChB,MAAM2f,UAAU,mCAClBhK,EAAQ3V,SAAWmd,GAAMrd,SAASye,WAAWC,EAAOxe,UAEtD,GAA6B,MAAzBwe,EAAOrc,eAAwB,CACjC,GAAqC,kBAA1Bqc,EAAOrc,eAChB,MAAMwd,UAAU,yCAClBhK,EAAQxT,eAAiBgb,GAAMpc,eAAewd,WAC5CC,EAAOrc,gBAMX,OAHoB,MAAhBqc,EAAOrkB,QAAewb,EAAQxb,MAAuB,EAAfqkB,EAAOrkB,OAC3B,MAAlBqkB,EAAOlc,UAAiBqT,EAAQrT,QAAU8c,OAAOZ,EAAOlc,UACrC,MAAnBkc,EAAOjc,WAAkBoT,EAAQpT,SAAW6c,OAAOZ,EAAOjc,WACvDoT,GAYT1T,EAAKwc,SAAW,SAAkB9I,EAAS+I,GACpCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GA8Bb,OA7BIE,EAAQC,WACVH,EAAOve,KAAO,EACdue,EAAO9d,MAAQ,GACf8d,EAAOxe,SAAW,KAClBwe,EAAOrc,eAAiB,KACxBqc,EAAOrkB,MAAQ,EACfqkB,EAAOlc,QAAU,GACjBkc,EAAOjc,SAAW,IAEA,MAAhBoT,EAAQ1V,MAAgB0V,EAAQ6H,eAAe,UACjDgB,EAAOve,KAAO0V,EAAQ1V,MACH,MAAjB0V,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OACD,MAApBiV,EAAQ3V,UAAoB2V,EAAQ6H,eAAe,cACrDgB,EAAOxe,SAAWmd,GAAMrd,SAAS2e,SAAS9I,EAAQ3V,SAAU0e,IAElC,MAA1B/I,EAAQxT,gBACRwT,EAAQ6H,eAAe,oBAEvBgB,EAAOrc,eAAiBgb,GAAMpc,eAAe0d,SAC3C9I,EAAQxT,eACRuc,IAEiB,MAAjB/I,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAClDgB,EAAOrkB,MAAQwb,EAAQxb,OACF,MAAnBwb,EAAQrT,SAAmBqT,EAAQ6H,eAAe,aACpDgB,EAAOlc,QAAUqT,EAAQrT,SACH,MAApBqT,EAAQpT,UAAoBoT,EAAQ6H,eAAe,cACrDgB,EAAOjc,SAAWoT,EAAQpT,UACrBic,GAUTvc,EAAKob,UAAUuB,OAAS,WACtB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD7c,EArV0B,GAwVdkb,GAAMhhB,KAAQ,WAmBjC,SAASA,EAAKihB,GACZ,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiPvE,OAxOA3F,EAAKkhB,UAAUhhB,KAAO6gB,GAAM2C,UAAU,IAQtC1jB,EAAKkhB,UAAUpgB,OAAS,GAQxBd,EAAKkhB,UAAU/gB,KAAO,EAQtBH,EAAKkhB,UAAUvhB,WAAa,EAU5BK,EAAKkW,OAAS,SAAgB+K,GAC5B,OAAO,IAAIjhB,EAAKihB,IAYlBjhB,EAAKmhB,OAAS,SAAgB3H,EAAS4H,GAarC,OAZKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQtZ,MAAgBkC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQtZ,MACpC,MAAlBsZ,EAAQ1Y,QAAkBsB,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1Y,QACvC,MAAhB0Y,EAAQrZ,MAAgBiC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQrZ,MAElC,MAAtBqZ,EAAQ7Z,YACRyC,OAAOif,eAAeC,KAAK9H,EAAS,eAEpC4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQ7Z,YACnDyhB,GAYTphB,EAAKyhB,gBAAkB,SAAyBjI,EAAS4H,GACvD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC1hB,EAAK2hB,OAAS,SAAgBvK,EAAQ1S,GAC9B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMhhB,KACfoX,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQtZ,KAAOkX,EAAO3R,QACtB,MACF,KAAK,EACH+T,EAAQ1Y,OAASsW,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQrZ,KAAOiX,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQ7Z,WAAayX,EAAOyL,QAC5B,MACF,QACEzL,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTxZ,EAAKiiB,gBAAkB,SAAyB7K,GAE9C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCvhB,EAAKkiB,OAAS,SAAgB1I,GAC5B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACW,MAAhBA,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,WAG5C7H,EAAQtZ,MAAuC,kBAAxBsZ,EAAQtZ,KAAKwE,QACrCqc,GAAMiC,SAASxJ,EAAQtZ,OAGlB,wBACW,MAAlBsZ,EAAQ1Y,QAAkB0Y,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ1Y,QAAgB,0BAC1B,MAAhB0Y,EAAQrZ,MAAgBqZ,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQrZ,MAAc,yBACnB,MAAtBqZ,EAAQ7Z,YAAsB6Z,EAAQ6H,eAAe,gBAClDN,GAAMoB,UAAU3I,EAAQ7Z,YACpB,+BACJ,MAWTK,EAAKoiB,WAAa,SAAoBC,GACpC,GAAIA,aAAkBrB,GAAMhhB,KAAM,OAAOqiB,EACzC,IAAI7I,EAAU,IAAIwH,GAAMhhB,KAYxB,OAXmB,MAAfqiB,EAAOniB,OACkB,kBAAhBmiB,EAAOniB,KAChB6gB,GAAM1b,OAAOsc,OACXU,EAAOniB,KACNsZ,EAAQtZ,KAAO6gB,GAAM2C,UAAU3C,GAAM1b,OAAOX,OAAO2d,EAAOniB,OAC3D,GAEKmiB,EAAOniB,KAAKwE,SAAQ8U,EAAQtZ,KAAOmiB,EAAOniB,OAChC,MAAjBmiB,EAAOvhB,SAAgB0Y,EAAQ1Y,OAASmiB,OAAOZ,EAAOvhB,SACvC,MAAfuhB,EAAOliB,OAAcqZ,EAAQrZ,KAAqB,EAAdkiB,EAAOliB,MACtB,MAArBkiB,EAAO1iB,aAAoB6Z,EAAQ7Z,WAAiC,EAApB0iB,EAAO1iB,YACpD6Z,GAYTxZ,EAAKsiB,SAAW,SAAkB9I,EAAS+I,GACpCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAwBb,OAvBIE,EAAQC,WACND,EAAQ9c,QAAUwd,OAAQZ,EAAOniB,KAAO,IAE1CmiB,EAAOniB,KAAO,GACVqiB,EAAQ9c,QAAU0L,QAAOkR,EAAOniB,KAAO6gB,GAAM2C,UAAUrB,EAAOniB,QAEpEmiB,EAAOvhB,OAAS,GAChBuhB,EAAOliB,KAAO,EACdkiB,EAAO1iB,WAAa,GAEF,MAAhB6Z,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,UACjDgB,EAAOniB,KACLqiB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQtZ,KAAM,EAAGsZ,EAAQtZ,KAAKwE,QAClD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQtZ,MACnCsZ,EAAQtZ,MACM,MAAlBsZ,EAAQ1Y,QAAkB0Y,EAAQ6H,eAAe,YACnDgB,EAAOvhB,OAAS0Y,EAAQ1Y,QACN,MAAhB0Y,EAAQrZ,MAAgBqZ,EAAQ6H,eAAe,UACjDgB,EAAOliB,KAAOqZ,EAAQrZ,MACE,MAAtBqZ,EAAQ7Z,YAAsB6Z,EAAQ6H,eAAe,gBACvDgB,EAAO1iB,WAAa6Z,EAAQ7Z,YACvB0iB,GAUTriB,EAAKkhB,UAAUuB,OAAS,WACtB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD3iB,EAvQ0B,GA0QTghB,GAAM3U,UAAa,WAkB3C,SAASA,EAAU4U,GAEjB,GADApkB,KAAKqP,QAAU,GACX+U,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiQvE,OAxPA0G,EAAU6U,UAAUviB,OAAS,GAQ7B0N,EAAU6U,UAAUjV,aAAe,KAQnCI,EAAU6U,UAAUhV,QAAU6U,GAAM8C,YAUpCxX,EAAU6J,OAAS,SAAgB+K,GACjC,OAAO,IAAI5U,EAAU4U,IAYvB5U,EAAU8U,OAAS,SAAgB3H,EAAS4H,GAY1C,GAXKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7a,QAAkByD,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7a,QAEjC,MAAxB6a,EAAQvN,cACR7J,OAAOif,eAAeC,KAAK9H,EAAS,iBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQvN,aACRmV,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEiB,MAAnBlI,EAAQtN,SACR9J,OAAOif,eAAeC,KAAK9H,EAAS,WAEpC,IAAK,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQtN,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtEyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACZ4b,OAA+B,IAC/BsB,MAAMrJ,EAAQtN,QAAQ7J,EAAKsD,KAC3B+b,SACP,OAAON,GAYT/U,EAAUoV,gBAAkB,SAAyBjI,EAAS4H,GAC5D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCrV,EAAUsV,OAAS,SAAgBvK,EAAQ1S,GACnC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM3U,UAGf+K,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7a,OAASyY,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQvN,aAAe+U,GAAM7Z,OAAOwa,OAAOvK,EAAQA,EAAOmK,UAC1D,MACF,KAAK,EACC/H,EAAQtN,UAAY6U,GAAM8C,cAAarK,EAAQtN,QAAU,IAC7D,IAAI4X,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,EACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQuJ,EAAOyL,QACf,MACF,QACEzL,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQtN,QAAQ4B,GAAOD,EACvB,MACF,QACEuJ,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTnN,EAAU4V,gBAAkB,SAAyB7K,GAEnD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpClV,EAAU6V,OAAS,SAAgB1I,GACjC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAsB,MAAlBA,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ7a,QAAS,MAAO,0BAC9C,GAC0B,MAAxB6a,EAAQvN,cACRuN,EAAQ6H,eAAe,gBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQvN,cACxC,GAAIsX,EAAO,MAAO,gBAAkBA,EAEtC,GAAuB,MAAnB/J,EAAQtN,SAAmBsN,EAAQ6H,eAAe,WAAY,CAChE,IAAKN,GAAMiD,SAASxK,EAAQtN,SAAU,MAAO,2BAE7C,IADA,IAAI4B,EAAM1L,OAAOC,KAAKmX,EAAQtN,SACrBvG,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAChC,IAAKob,GAAMoB,UAAU3I,EAAQtN,QAAQ4B,EAAInI,KACvC,MAAO,sCAEb,OAAO,MAWT0G,EAAU+V,WAAa,SAAoBC,GACzC,GAAIA,aAAkBrB,GAAM3U,UAAW,OAAOgW,EAC9C,IAAI7I,EAAU,IAAIwH,GAAM3U,UAExB,GADqB,MAAjBgW,EAAO1jB,SAAgB6a,EAAQ7a,OAASskB,OAAOZ,EAAO1jB,SAC/B,MAAvB0jB,EAAOpW,aAAsB,CAC/B,GAAmC,kBAAxBoW,EAAOpW,aAChB,MAAMuX,UAAU,4CAClBhK,EAAQvN,aAAe+U,GAAM7Z,OAAOib,WAAWC,EAAOpW,cAExD,GAAIoW,EAAOnW,QAAS,CAClB,GAA8B,kBAAnBmW,EAAOnW,QAChB,MAAMsX,UAAU,uCAClBhK,EAAQtN,QAAU,GAClB,IAAK,IAAI7J,EAAOD,OAAOC,KAAKggB,EAAOnW,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACrE6T,EAAQtN,QAAQ7J,EAAKsD,IAAgC,EAA1B0c,EAAOnW,QAAQ7J,EAAKsD,IAEnD,OAAO6T,GAYTnN,EAAUiW,SAAW,SAAkB9I,EAAS+I,GACzCA,IAASA,EAAU,IACxB,IAUI0B,EAVA5B,EAAS,GAWb,IAVIE,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOnW,QAAU,IACtDqW,EAAQC,WACVH,EAAO1jB,OAAS,GAChB0jB,EAAOpW,aAAe,MAEF,MAAlBuN,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YACnDgB,EAAO1jB,OAAS6a,EAAQ7a,QACE,MAAxB6a,EAAQvN,cAAwBuN,EAAQ6H,eAAe,kBACzDgB,EAAOpW,aAAe+U,GAAM7Z,OAAOmb,SAAS9I,EAAQvN,aAAcsW,IAEhE/I,EAAQtN,UAAY+X,EAAQ7hB,OAAOC,KAAKmX,EAAQtN,UAAUxH,OAAQ,CACpE2d,EAAOnW,QAAU,GACjB,IAAK,IAAI3D,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOnW,QAAQ+X,EAAM1b,IAAMiR,EAAQtN,QAAQ+X,EAAM1b,IAErD,OAAO8Z,GAUThW,EAAU6U,UAAUuB,OAAS,WAC3B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDtW,EAvRoC,GA0RlB2U,GAAMrU,WAAc,WAsB7C,SAASA,EAAWsU,GAElB,GADApkB,KAAKqP,QAAU,GACX+U,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAgXvE,OAvWAgH,EAAWuU,UAAUviB,OAAS,GAQ9BgO,EAAWuU,UAAUjV,aAAe,KAQpCU,EAAWuU,UAAUvf,OAASof,GAAM2C,UAAU,IAQ9C/W,EAAWuU,UAAUrU,SAAW,GAQhCF,EAAWuU,UAAUpU,SAAW,GAQhCH,EAAWuU,UAAUhU,UAAW,EAQhCP,EAAWuU,UAAUhV,QAAU6U,GAAM8C,YAUrClX,EAAWuJ,OAAS,SAAgB+K,GAClC,OAAO,IAAItU,EAAWsU,IAYxBtU,EAAWwU,OAAS,SAAgB3H,EAAS4H,GA6B3C,GA5BKA,IAAQA,EAASN,GAAQ5K,UACR,MAAlBsD,EAAQ7a,QAAkByD,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7a,QAEjC,MAAxB6a,EAAQvN,cACR7J,OAAOif,eAAeC,KAAK9H,EAAS,iBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQvN,aACRmV,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACkB,MAAlBlI,EAAQ7X,QAAkBS,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAI9b,MAAM+T,EAAQ7X,QAEpC,MAApB6X,EAAQ3M,UACRzK,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ3M,UAErC,MAApB2M,EAAQ1M,UACR1K,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ1M,UAErC,MAApB0M,EAAQtM,UACR9K,OAAOif,eAAeC,KAAK9H,EAAS,aAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQtM,UAEpC,MAAnBsM,EAAQtN,SACR9J,OAAOif,eAAeC,KAAK9H,EAAS,WAEpC,IAAK,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQtN,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtEyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACZ4b,OAA+B,IAC/BsB,MAAMrJ,EAAQtN,QAAQ7J,EAAKsD,KAC3B+b,SACP,OAAON,GAYTzU,EAAW8U,gBAAkB,SAAyBjI,EAAS4H,GAC7D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC/U,EAAWgV,OAAS,SAAgBvK,EAAQ1S,GACpC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMrU,WAGfyK,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7a,OAASyY,EAAO2L,SACxB,MACF,KAAK,EACHvJ,EAAQvN,aAAe+U,GAAM7Z,OAAOwa,OAAOvK,EAAQA,EAAOmK,UAC1D,MACF,KAAK,EACH/H,EAAQ7X,OAASyV,EAAO3R,QACxB,MACF,KAAK,EACH+T,EAAQ3M,SAAWuK,EAAO2L,SAC1B,MACF,KAAK,EACHvJ,EAAQ1M,SAAWsK,EAAO2L,SAC1B,MACF,KAAK,EACHvJ,EAAQtM,SAAWkK,EAAO+M,OAC1B,MACF,KAAK,EACC3K,EAAQtN,UAAY6U,GAAM8C,cAAarK,EAAQtN,QAAU,IAC7D,IAAI4X,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,EACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQuJ,EAAOyL,QACf,MACF,QACEzL,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQtN,QAAQ4B,GAAOD,EACvB,MACF,QACEuJ,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT7M,EAAWsV,gBAAkB,SAAyB7K,GAEpD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC5U,EAAWuV,OAAS,SAAgB1I,GAClC,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAsB,MAAlBA,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YAC9CN,GAAMiC,SAASxJ,EAAQ7a,QAAS,MAAO,0BAC9C,GAC0B,MAAxB6a,EAAQvN,cACRuN,EAAQ6H,eAAe,gBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQvN,cACxC,GAAIsX,EAAO,MAAO,gBAAkBA,EAEtC,GAAsB,MAAlB/J,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,aAG9C7H,EAAQ7X,QAA2C,kBAA1B6X,EAAQ7X,OAAO+C,QACzCqc,GAAMiC,SAASxJ,EAAQ7X,SAGzB,MAAO,0BACX,GAAwB,MAApB6X,EAAQ3M,UAAoB2M,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQ3M,UAAW,MAAO,4BAChD,GAAwB,MAApB2M,EAAQ1M,UAAoB0M,EAAQ6H,eAAe,cAChDN,GAAMiC,SAASxJ,EAAQ1M,UAAW,MAAO,4BAChD,GAAwB,MAApB0M,EAAQtM,UAAoBsM,EAAQ6H,eAAe,aACrB,mBAArB7H,EAAQtM,SACjB,MAAO,6BACX,GAAuB,MAAnBsM,EAAQtN,SAAmBsN,EAAQ6H,eAAe,WAAY,CAChE,IAAKN,GAAMiD,SAASxK,EAAQtN,SAAU,MAAO,2BAE7C,IADA,IAAI4B,EAAM1L,OAAOC,KAAKmX,EAAQtN,SACrBvG,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAChC,IAAKob,GAAMoB,UAAU3I,EAAQtN,QAAQ4B,EAAInI,KACvC,MAAO,sCAEb,OAAO,MAWTgH,EAAWyV,WAAa,SAAoBC,GAC1C,GAAIA,aAAkBrB,GAAMrU,WAAY,OAAO0V,EAC/C,IAAI7I,EAAU,IAAIwH,GAAMrU,WAExB,GADqB,MAAjB0V,EAAO1jB,SAAgB6a,EAAQ7a,OAASskB,OAAOZ,EAAO1jB,SAC/B,MAAvB0jB,EAAOpW,aAAsB,CAC/B,GAAmC,kBAAxBoW,EAAOpW,aAChB,MAAMuX,UAAU,6CAClBhK,EAAQvN,aAAe+U,GAAM7Z,OAAOib,WAAWC,EAAOpW,cAexD,GAbqB,MAAjBoW,EAAO1gB,SACoB,kBAAlB0gB,EAAO1gB,OAChBof,GAAM1b,OAAOsc,OACXU,EAAO1gB,OACN6X,EAAQ7X,OAASof,GAAM2C,UACtB3C,GAAM1b,OAAOX,OAAO2d,EAAO1gB,SAE7B,GAEK0gB,EAAO1gB,OAAO+C,SAAQ8U,EAAQ7X,OAAS0gB,EAAO1gB,SAClC,MAAnB0gB,EAAOxV,WAAkB2M,EAAQ3M,SAAWoW,OAAOZ,EAAOxV,WACvC,MAAnBwV,EAAOvV,WAAkB0M,EAAQ1M,SAAWmW,OAAOZ,EAAOvV,WACvC,MAAnBuV,EAAOnV,WAAkBsM,EAAQtM,SAAWkX,QAAQ/B,EAAOnV,WAC3DmV,EAAOnW,QAAS,CAClB,GAA8B,kBAAnBmW,EAAOnW,QAChB,MAAMsX,UAAU,wCAClBhK,EAAQtN,QAAU,GAClB,IAAK,IAAI7J,EAAOD,OAAOC,KAAKggB,EAAOnW,SAAUvG,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACrE6T,EAAQtN,QAAQ7J,EAAKsD,IAAgC,EAA1B0c,EAAOnW,QAAQ7J,EAAKsD,IAEnD,OAAO6T,GAYT7M,EAAW2V,SAAW,SAAkB9I,EAAS+I,GAC1CA,IAASA,EAAU,IACxB,IAgCI0B,EAhCA5B,EAAS,GAiCb,IAhCIE,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOnW,QAAU,IACtDqW,EAAQC,WACVH,EAAO1jB,OAAS,GAChB0jB,EAAOpW,aAAe,KAClBsW,EAAQ9c,QAAUwd,OAAQZ,EAAO1gB,OAAS,IAE5C0gB,EAAO1gB,OAAS,GACZ4gB,EAAQ9c,QAAU0L,QACpBkR,EAAO1gB,OAASof,GAAM2C,UAAUrB,EAAO1gB,UAE3C0gB,EAAOxV,SAAW,GAClBwV,EAAOvV,SAAW,GAClBuV,EAAOnV,UAAW,GAEE,MAAlBsM,EAAQ7a,QAAkB6a,EAAQ6H,eAAe,YACnDgB,EAAO1jB,OAAS6a,EAAQ7a,QACE,MAAxB6a,EAAQvN,cAAwBuN,EAAQ6H,eAAe,kBACzDgB,EAAOpW,aAAe+U,GAAM7Z,OAAOmb,SAAS9I,EAAQvN,aAAcsW,IAC9C,MAAlB/I,EAAQ7X,QAAkB6X,EAAQ6H,eAAe,YACnDgB,EAAO1gB,OACL4gB,EAAQ9c,QAAUwd,OACdlC,GAAM1b,OAAO8b,OAAO3H,EAAQ7X,OAAQ,EAAG6X,EAAQ7X,OAAO+C,QACtD6d,EAAQ9c,QAAU0L,MAClBA,MAAM+P,UAAU0C,MAAMtC,KAAK9H,EAAQ7X,QACnC6X,EAAQ7X,QACQ,MAApB6X,EAAQ3M,UAAoB2M,EAAQ6H,eAAe,cACrDgB,EAAOxV,SAAW2M,EAAQ3M,UACJ,MAApB2M,EAAQ1M,UAAoB0M,EAAQ6H,eAAe,cACrDgB,EAAOvV,SAAW0M,EAAQ1M,UACJ,MAApB0M,EAAQtM,UAAoBsM,EAAQ6H,eAAe,cACrDgB,EAAOnV,SAAWsM,EAAQtM,UAExBsM,EAAQtN,UAAY+X,EAAQ7hB,OAAOC,KAAKmX,EAAQtN,UAAUxH,OAAQ,CACpE2d,EAAOnW,QAAU,GACjB,IAAK,IAAI3D,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOnW,QAAQ+X,EAAM1b,IAAMiR,EAAQtN,QAAQ+X,EAAM1b,IAErD,OAAO8Z,GAUT1V,EAAWuU,UAAUuB,OAAS,WAC5B,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDhW,EA1YsC,GA6YxBqU,GAAMpa,OAAU,WAqBrC,SAASA,EAAOqa,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAuQvE,OA9PAiB,EAAOsa,UAAUpa,QAAU,EAQ3BF,EAAOsa,UAAUna,QAAU,EAQ3BH,EAAOsa,UAAUljB,MAAQ,EAQzB4I,EAAOsa,UAAUhjB,OAAS,EAQ1B0I,EAAOsa,UAAUja,MAAO,EAQxBL,EAAOsa,UAAUha,WAAY,EAU7BN,EAAOsP,OAAS,SAAgB+K,GAC9B,OAAO,IAAIra,EAAOqa,IAYpBra,EAAOua,OAAS,SAAgB3H,EAAS4H,GAuBvC,OAtBKA,IAAQA,EAASN,GAAQ5K,UAET,MAAnBsD,EAAQ1S,SACR1E,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,GAAGsB,MAAMrJ,EAAQ1S,SAEpC,MAAnB0S,EAAQzS,SACR3E,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQzS,SACrC,MAAjByS,EAAQxb,OAAiBoE,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQxb,OACpC,MAAlBwb,EAAQtb,QAAkBkE,OAAOif,eAAeC,KAAK9H,EAAS,WAChE4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQtb,QACtC,MAAhBsb,EAAQvS,MAAgB7E,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQvS,MAElC,MAArBuS,EAAQtS,WACR9E,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQtS,WAClDka,GAYTxa,EAAO6a,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActC9a,EAAO+a,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMpa,OACfwQ,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ1S,QAAUsQ,EAAOyL,QACzB,MACF,KAAK,EACHrJ,EAAQzS,QAAUqQ,EAAOyL,QACzB,MACF,KAAK,EACHrJ,EAAQxb,MAAQoZ,EAAOyL,QACvB,MACF,KAAK,EACHrJ,EAAQtb,OAASkZ,EAAOyL,QACxB,MACF,KAAK,EACHrJ,EAAQvS,KAAOmQ,EAAO+M,OACtB,MACF,KAAK,EACH3K,EAAQtS,UAAYkQ,EAAO+M,OAC3B,MACF,QACE/M,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT5S,EAAOqb,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC3a,EAAOsb,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACc,MAAnBA,EAAQ1S,SAAmB0S,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQ1S,SAAiB,4BACzB,MAAnB0S,EAAQzS,SAAmByS,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQzS,SAAiB,4BAC3B,MAAjByS,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAC7CN,GAAMoB,UAAU3I,EAAQxb,OAAe,0BACxB,MAAlBwb,EAAQtb,QAAkBsb,EAAQ6H,eAAe,YAC9CN,GAAMoB,UAAU3I,EAAQtb,QAAgB,2BAC3B,MAAhBsb,EAAQvS,MAAgBuS,EAAQ6H,eAAe,SACrB,mBAAjB7H,EAAQvS,KAA2B,yBACvB,MAArBuS,EAAQtS,WAAqBsS,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQtS,UACV,8BACJ,MAWTN,EAAOwb,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAMpa,OAAQ,OAAOyb,EAC3C,IAAI7I,EAAU,IAAIwH,GAAMpa,OAOxB,OANsB,MAAlByb,EAAOvb,UAAiB0S,EAAQ1S,QAA2B,EAAjBub,EAAOvb,SAC/B,MAAlBub,EAAOtb,UAAiByS,EAAQzS,QAA2B,EAAjBsb,EAAOtb,SACjC,MAAhBsb,EAAOrkB,QAAewb,EAAQxb,MAAuB,EAAfqkB,EAAOrkB,OAC5B,MAAjBqkB,EAAOnkB,SAAgBsb,EAAQtb,OAAyB,EAAhBmkB,EAAOnkB,QAChC,MAAfmkB,EAAOpb,OAAcuS,EAAQvS,KAAOmd,QAAQ/B,EAAOpb,OAC/B,MAApBob,EAAOnb,YAAmBsS,EAAQtS,UAAYkd,QAAQ/B,EAAOnb,YAC1DsS,GAYT5S,EAAO0b,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAqBb,OApBIE,EAAQC,WACVH,EAAOvb,QAAU,EACjBub,EAAOtb,QAAU,EACjBsb,EAAOrkB,MAAQ,EACfqkB,EAAOnkB,OAAS,EAChBmkB,EAAOpb,MAAO,EACdob,EAAOnb,WAAY,GAEE,MAAnBsS,EAAQ1S,SAAmB0S,EAAQ6H,eAAe,aACpDgB,EAAOvb,QAAU0S,EAAQ1S,SACJ,MAAnB0S,EAAQzS,SAAmByS,EAAQ6H,eAAe,aACpDgB,EAAOtb,QAAUyS,EAAQzS,SACN,MAAjByS,EAAQxb,OAAiBwb,EAAQ6H,eAAe,WAClDgB,EAAOrkB,MAAQwb,EAAQxb,OACH,MAAlBwb,EAAQtb,QAAkBsb,EAAQ6H,eAAe,YACnDgB,EAAOnkB,OAASsb,EAAQtb,QACN,MAAhBsb,EAAQvS,MAAgBuS,EAAQ6H,eAAe,UACjDgB,EAAOpb,KAAOuS,EAAQvS,MACC,MAArBuS,EAAQtS,WAAqBsS,EAAQ6H,eAAe,eACtDgB,EAAOnb,UAAYsS,EAAQtS,WACtBmb,GAUTzb,EAAOsa,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjD/b,EA/R8B,GAkShBoa,GAAM3a,OAAU,WAmBrC,SAASA,EAAO4a,GACd,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA6NvE,OApNAU,EAAO6a,UAAU3c,MAAQ,GAQzB8B,EAAO6a,UAAU3a,KAAO,EAQxBF,EAAO6a,UAAUtjB,QAAU,EAQ3ByI,EAAO6a,UAAUjjB,QAAU,EAU3BoI,EAAO6P,OAAS,SAAgB+K,GAC9B,OAAO,IAAI5a,EAAO4a,IAYpB5a,EAAO8a,OAAS,SAAgB3H,EAAS4H,GAgBvC,OAfKA,IAAQA,EAASN,GAAQ5K,UACT,MAAjBsD,EAAQjV,OAAiBnC,OAAOif,eAAeC,KAAK9H,EAAS,UAC/D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQjV,OACvC,MAAhBiV,EAAQjT,MAAgBnE,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIsB,MAAMrJ,EAAQjT,MAErC,MAAnBiT,EAAQ5b,SACRwE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQ5b,SAEtC,MAAnB4b,EAAQvb,SACRmE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIC,OAAOhI,EAAQvb,SACpDmjB,GAYT/a,EAAOob,gBAAkB,SAAyBjI,EAAS4H,GACzD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCrb,EAAOsb,OAAS,SAAgBvK,EAAQ1S,GAChC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM3a,OACf+Q,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQjV,MAAQ6S,EAAO2L,SACvB,MACF,KAAK,EACHvJ,EAAQjT,KAAO6Q,EAAOyL,QACtB,MACF,KAAK,EACHrJ,EAAQ5b,QAAUwZ,EAAOoK,SACzB,MACF,KAAK,EACHhI,EAAQvb,QAAUmZ,EAAOoK,SACzB,MACF,QACEpK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTnT,EAAO4b,gBAAkB,SAAyB7K,GAEhD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpClb,EAAO6b,OAAS,SAAgB1I,GAC9B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACY,MAAjBA,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAC7CN,GAAMiC,SAASxJ,EAAQjV,OAAe,yBACzB,MAAhBiV,EAAQjT,MAAgBiT,EAAQ6H,eAAe,UAC5CN,GAAMoB,UAAU3I,EAAQjT,MAAc,yBACtB,MAAnBiT,EAAQ5b,SAAmB4b,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQ5b,SAAiB,4BACzB,MAAnB4b,EAAQvb,SAAmBub,EAAQ6H,eAAe,aAC/CN,GAAMoB,UAAU3I,EAAQvb,SAAiB,4BACzC,MAWToI,EAAO+b,WAAa,SAAoBC,GACtC,GAAIA,aAAkBrB,GAAM3a,OAAQ,OAAOgc,EAC3C,IAAI7I,EAAU,IAAIwH,GAAM3a,OAKxB,OAJoB,MAAhBgc,EAAO9d,QAAeiV,EAAQjV,MAAQ0e,OAAOZ,EAAO9d,QACrC,MAAf8d,EAAO9b,OAAciT,EAAQjT,KAAqB,EAAd8b,EAAO9b,MACzB,MAAlB8b,EAAOzkB,UAAiB4b,EAAQ5b,QAA2B,EAAjBykB,EAAOzkB,SAC/B,MAAlBykB,EAAOpkB,UAAiBub,EAAQvb,QAA2B,EAAjBokB,EAAOpkB,SAC9Cub,GAYTnT,EAAOic,SAAW,SAAkB9I,EAAS+I,GACtCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAeb,OAdIE,EAAQC,WACVH,EAAO9d,MAAQ,GACf8d,EAAO9b,KAAO,EACd8b,EAAOzkB,QAAU,EACjBykB,EAAOpkB,QAAU,GAEE,MAAjBub,EAAQjV,OAAiBiV,EAAQ6H,eAAe,WAClDgB,EAAO9d,MAAQiV,EAAQjV,OACL,MAAhBiV,EAAQjT,MAAgBiT,EAAQ6H,eAAe,UACjDgB,EAAO9b,KAAOiT,EAAQjT,MACD,MAAnBiT,EAAQ5b,SAAmB4b,EAAQ6H,eAAe,aACpDgB,EAAOzkB,QAAU4b,EAAQ5b,SACJ,MAAnB4b,EAAQvb,SAAmBub,EAAQ6H,eAAe,aACpDgB,EAAOpkB,QAAUub,EAAQvb,SACpBokB,GAUThc,EAAO6a,UAAUuB,OAAS,WACxB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDtc,EAnP8B,GAsPjB2a,GAAMxa,MAAS,WAsBnC,SAASA,EAAMya,GACb,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA+TvE,OAtTAa,EAAM0a,UAAUhhB,KAAO,KAQvBsG,EAAM0a,UAAUnb,KAAO,KAQvBS,EAAM0a,UAAUxa,WAAY,EAQ5BF,EAAM0a,UAAUhb,OAAS,KAQzBM,EAAM0a,UAAUza,WAAY,EAQ5BD,EAAM0a,UAAU5a,OAAS,KAQzBE,EAAM0a,UAAUva,QAAU,GAU1BH,EAAM0P,OAAS,SAAgB+K,GAC7B,OAAO,IAAIza,EAAMya,IAYnBza,EAAM2a,OAAS,SAAgB3H,EAAS4H,GAqCtC,OApCKA,IAAQA,EAASN,GAAQ5K,UACV,MAAhBsD,EAAQtZ,MAAgBkC,OAAOif,eAAeC,KAAK9H,EAAS,SAC9DwH,GAAMhhB,KAAKmhB,OACT3H,EAAQtZ,KACRkhB,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACgB,MAAhBlI,EAAQzT,MAAgB3D,OAAOif,eAAeC,KAAK9H,EAAS,SAC9DwH,GAAMlb,KAAKqb,OACT3H,EAAQzT,KACRqb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEmB,MAArBlI,EAAQ9S,WACRtE,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQ9S,WACnC,MAAlB8S,EAAQtT,QAAkB9D,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAMlb,KAAKqb,OACT3H,EAAQtT,OACRkb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEmB,MAArBlI,EAAQ/S,WACRrE,OAAOif,eAAeC,KAAK9H,EAAS,cAEpC4H,EAAOG,OAA+B,IAAI4C,KAAK3K,EAAQ/S,WACnC,MAAlB+S,EAAQlT,QAAkBlE,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAM3a,OAAO8a,OACX3H,EAAQlT,OACR8a,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAEiB,MAAnBlI,EAAQ7S,SACRvE,OAAOif,eAAeC,KAAK9H,EAAS,YAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7S,SACpDya,GAYT5a,EAAMib,gBAAkB,SAAyBjI,EAAS4H,GACxD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActClb,EAAMmb,OAAS,SAAgBvK,EAAQ1S,GAC/B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMxa,MACf4Q,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQtZ,KAAO8gB,GAAMhhB,KAAK2hB,OAAOvK,EAAQA,EAAOmK,UAChD,MACF,KAAK,EACH/H,EAAQzT,KAAOib,GAAMlb,KAAK6b,OAAOvK,EAAQA,EAAOmK,UAChD,MACF,KAAK,EACH/H,EAAQ9S,UAAY0Q,EAAO+M,OAC3B,MACF,KAAK,EACH3K,EAAQtT,OAAS8a,GAAMlb,KAAK6b,OAAOvK,EAAQA,EAAOmK,UAClD,MACF,KAAK,EACH/H,EAAQ/S,UAAY2Q,EAAO+M,OAC3B,MACF,KAAK,EACH3K,EAAQlT,OAAS0a,GAAM3a,OAAOsb,OAAOvK,EAAQA,EAAOmK,UACpD,MACF,KAAK,EACH/H,EAAQ7S,QAAUyQ,EAAO2L,SACzB,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaThT,EAAMyb,gBAAkB,SAAyB7K,GAE/C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC/a,EAAM0b,OAAS,SAAgB1I,GAC7B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAoB,MAAhBA,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,QAAS,CAC1D,IAAIkC,EAAQvC,GAAMhhB,KAAKkiB,OAAO1I,EAAQtZ,MACtC,GAAIqjB,EAAO,MAAO,QAAUA,EAE9B,GAAoB,MAAhB/J,EAAQzT,MAAgByT,EAAQ6H,eAAe,QAAS,CAC1D,IAAIkC,EAAQvC,GAAMlb,KAAKoc,OAAO1I,EAAQzT,MACtC,GAAIwd,EAAO,MAAO,QAAUA,EAE9B,GAAyB,MAArB/J,EAAQ9S,WAAqB8S,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQ9S,UACjB,MAAO,8BACX,GAAsB,MAAlB8S,EAAQtT,QAAkBsT,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAMlb,KAAKoc,OAAO1I,EAAQtT,QACtC,GAAIqd,EAAO,MAAO,UAAYA,EAEhC,GAAyB,MAArB/J,EAAQ/S,WAAqB+S,EAAQ6H,eAAe,cACrB,mBAAtB7H,EAAQ/S,UACjB,MAAO,8BACX,GAAsB,MAAlB+S,EAAQlT,QAAkBkT,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAM3a,OAAO6b,OAAO1I,EAAQlT,QACxC,GAAIid,EAAO,MAAO,UAAYA,EAEhC,OAAuB,MAAnB/J,EAAQ7S,SAAmB6S,EAAQ6H,eAAe,aAC/CN,GAAMiC,SAASxJ,EAAQ7S,SAAiB,2BACxC,MAWTH,EAAM4b,WAAa,SAAoBC,GACrC,GAAIA,aAAkBrB,GAAMxa,MAAO,OAAO6b,EAC1C,IAAI7I,EAAU,IAAIwH,GAAMxa,MACxB,GAAmB,MAAf6b,EAAOniB,KAAc,CACvB,GAA2B,kBAAhBmiB,EAAOniB,KAChB,MAAMsjB,UAAU,gCAClBhK,EAAQtZ,KAAO8gB,GAAMhhB,KAAKoiB,WAAWC,EAAOniB,MAE9C,GAAmB,MAAfmiB,EAAOtc,KAAc,CACvB,GAA2B,kBAAhBsc,EAAOtc,KAChB,MAAMyd,UAAU,gCAClBhK,EAAQzT,KAAOib,GAAMlb,KAAKsc,WAAWC,EAAOtc,MAG9C,GADwB,MAApBsc,EAAO3b,YAAmB8S,EAAQ9S,UAAY0d,QAAQ/B,EAAO3b,YAC5C,MAAjB2b,EAAOnc,OAAgB,CACzB,GAA6B,kBAAlBmc,EAAOnc,OAChB,MAAMsd,UAAU,kCAClBhK,EAAQtT,OAAS8a,GAAMlb,KAAKsc,WAAWC,EAAOnc,QAGhD,GADwB,MAApBmc,EAAO5b,YAAmB+S,EAAQ/S,UAAY2d,QAAQ/B,EAAO5b,YAC5C,MAAjB4b,EAAO/b,OAAgB,CACzB,GAA6B,kBAAlB+b,EAAO/b,OAChB,MAAMkd,UAAU,kCAClBhK,EAAQlT,OAAS0a,GAAM3a,OAAO+b,WAAWC,EAAO/b,QAGlD,OADsB,MAAlB+b,EAAO1b,UAAiB6S,EAAQ7S,QAAUsc,OAAOZ,EAAO1b,UACrD6S,GAYThT,EAAM8b,SAAW,SAAkB9I,EAAS+I,GACrCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAwBb,OAvBIE,EAAQC,WACVH,EAAOniB,KAAO,KACdmiB,EAAOtc,KAAO,KACdsc,EAAO3b,WAAY,EACnB2b,EAAOnc,OAAS,KAChBmc,EAAO5b,WAAY,EACnB4b,EAAO/b,OAAS,KAChB+b,EAAO1b,QAAU,IAEC,MAAhB6S,EAAQtZ,MAAgBsZ,EAAQ6H,eAAe,UACjDgB,EAAOniB,KAAO8gB,GAAMhhB,KAAKsiB,SAAS9I,EAAQtZ,KAAMqiB,IAC9B,MAAhB/I,EAAQzT,MAAgByT,EAAQ6H,eAAe,UACjDgB,EAAOtc,KAAOib,GAAMlb,KAAKwc,SAAS9I,EAAQzT,KAAMwc,IACzB,MAArB/I,EAAQ9S,WAAqB8S,EAAQ6H,eAAe,eACtDgB,EAAO3b,UAAY8S,EAAQ9S,WACP,MAAlB8S,EAAQtT,QAAkBsT,EAAQ6H,eAAe,YACnDgB,EAAOnc,OAAS8a,GAAMlb,KAAKwc,SAAS9I,EAAQtT,OAAQqc,IAC7B,MAArB/I,EAAQ/S,WAAqB+S,EAAQ6H,eAAe,eACtDgB,EAAO5b,UAAY+S,EAAQ/S,WACP,MAAlB+S,EAAQlT,QAAkBkT,EAAQ6H,eAAe,YACnDgB,EAAO/b,OAAS0a,GAAM3a,OAAOic,SAAS9I,EAAQlT,OAAQic,IACjC,MAAnB/I,EAAQ7S,SAAmB6S,EAAQ6H,eAAe,aACpDgB,EAAO1b,QAAU6S,EAAQ7S,SACpB0b,GAUT7b,EAAM0a,UAAUuB,OAAS,WACvB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDnc,EAxV4B,GA2VlBwa,GAAMvkB,GAAM,WAgB7B,SAASA,EAAGwkB,GACV,GAAIA,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KAiKvE,OAxJAlJ,EAAGykB,UAAUvjB,YAAc,GAU3BlB,EAAGyZ,OAAS,SAAgB+K,GAC1B,OAAO,IAAIxkB,EAAGwkB,IAYhBxkB,EAAG0kB,OAAS,SAAgB3H,EAAS4H,GAOnC,OANKA,IAAQA,EAASN,GAAQ5K,UAEL,MAAvBsD,EAAQ7b,aACRyE,OAAOif,eAAeC,KAAK9H,EAAS,gBAEpC4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ7b,aACpDyjB,GAYT3kB,EAAGglB,gBAAkB,SAAyBjI,EAAS4H,GACrD,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCjlB,EAAGklB,OAAS,SAAgBvK,EAAQ1S,GAC5B0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAG1D,IAFA,IAAIwK,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAMvkB,GACf2a,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQ7b,YAAcyZ,EAAO2L,SAC7B,MACF,QACE3L,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaT/c,EAAGwlB,gBAAkB,SAAyB7K,GAE5C,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpC9kB,EAAGylB,OAAS,SAAgB1I,GAC1B,MAAuB,kBAAZA,GAAoC,OAAZA,EAC1B,kBACkB,MAAvBA,EAAQ7b,aAAuB6b,EAAQ6H,eAAe,iBACnDN,GAAMiC,SAASxJ,EAAQ7b,aACnB,+BACJ,MAWTlB,EAAG2lB,WAAa,SAAoBC,GAClC,GAAIA,aAAkBrB,GAAMvkB,GAAI,OAAO4lB,EACvC,IAAI7I,EAAU,IAAIwH,GAAMvkB,GAGxB,OAF0B,MAAtB4lB,EAAO1kB,cACT6b,EAAQ7b,YAAcslB,OAAOZ,EAAO1kB,cAC/B6b,GAYT/c,EAAG6lB,SAAW,SAAkB9I,EAAS+I,GAClCA,IAASA,EAAU,IACxB,IAAIF,EAAS,GAIb,OAHIE,EAAQC,WAAUH,EAAO1kB,YAAc,IAChB,MAAvB6b,EAAQ7b,aAAuB6b,EAAQ6H,eAAe,iBACxDgB,EAAO1kB,YAAc6b,EAAQ7b,aACxB0kB,GAUT5lB,EAAGykB,UAAUuB,OAAS,WACpB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDlmB,EApLsB,GAuLPukB,GAAM7T,QAAW,WAwBvC,SAASA,EAAQ8T,GAGf,GAFApkB,KAAK+Q,OAAS,GACd/Q,KAAKkR,YAAc,GACfkT,EACF,IAAK,IAAI5e,EAAOD,OAAOC,KAAK4e,GAAatb,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EACtC,MAAvBsb,EAAW5e,EAAKsD,MAAa9I,KAAKwF,EAAKsD,IAAMsb,EAAW5e,EAAKsD,KA2evE,OAleAwH,EAAQ+T,UAAU/c,GAAK4c,GAAMsD,KAAOtD,GAAMsD,KAAKC,SAAS,EAAG,GAAG,GAAS,EAQvEnX,EAAQ+T,UAAUxe,KAAO,GAQzByK,EAAQ+T,UAAU5iB,KAAO,GAQzB6O,EAAQ+T,UAAUtT,OAASmT,GAAM8C,YAQjC1W,EAAQ+T,UAAUnT,YAAcgT,GAAMqC,WAQtCjW,EAAQ+T,UAAUle,MAAQ,KAQ1BmK,EAAQ+T,UAAUra,OAAS,KAQ3BsG,EAAQ+T,UAAUvT,mBAAqB,KAQvCR,EAAQ+T,UAAUxjB,GAAK,KAUvByP,EAAQ+I,OAAS,SAAgB+K,GAC/B,OAAO,IAAI9T,EAAQ8T,IAYrB9T,EAAQgU,OAAS,SAAgB3H,EAAS4H,GAQxC,GAPKA,IAAQA,EAASN,GAAQ5K,UACZ,MAAdsD,EAAQrV,IAAc/B,OAAOif,eAAeC,KAAK9H,EAAS,OAC5D4H,EAAOG,OAA+B,GAAGgD,MAAM/K,EAAQrV,IACrC,MAAhBqV,EAAQ9W,MAAgBN,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQ9W,MACvC,MAAhB8W,EAAQlb,MAAgB8D,OAAOif,eAAeC,KAAK9H,EAAS,SAC9D4H,EAAOG,OAA+B,IAAIwB,OAAOvJ,EAAQlb,MACrC,MAAlBkb,EAAQ5L,QAAkBxL,OAAOif,eAAeC,KAAK9H,EAAS,UAChE,IACE,IAAInX,EAAOD,OAAOC,KAAKmX,EAAQ5L,QAASjI,EAAI,EAC5CA,EAAItD,EAAKqC,SACPiB,EAEFyb,EACGG,OAA+B,IAC/B8B,OACA9B,OAA+B,IAC/BwB,OAAO1gB,EAAKsD,IACfqb,GAAM3U,UAAU8U,OACd3H,EAAQ5L,OAAOvL,EAAKsD,IACpByb,EAAOG,OAA+B,IAAI8B,QAEzC3B,SACAA,SAEP,GAA2B,MAAvBlI,EAAQzL,aAAuByL,EAAQzL,YAAYrJ,OACrD,IAAK,IAAIiB,EAAI,EAAGA,EAAI6T,EAAQzL,YAAYrJ,SAAUiB,EAChDqb,GAAMrU,WAAWwU,OACf3H,EAAQzL,YAAYpI,GACpByb,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAwBN,OAvBqB,MAAjBlI,EAAQxW,OAAiBZ,OAAOif,eAAeC,KAAK9H,EAAS,UAC/DwH,GAAMxa,MAAM2a,OACV3H,EAAQxW,MACRoe,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACkB,MAAlBlI,EAAQ3S,QAAkBzE,OAAOif,eAAeC,KAAK9H,EAAS,WAChEwH,GAAMpa,OAAOua,OACX3H,EAAQ3S,OACRua,EAAOG,OAA+B,IAAI8B,QAC1C3B,SAE4B,MAA9BlI,EAAQ7L,oBACRvL,OAAOif,eAAeC,KAAK9H,EAAS,uBAEpCwH,GAAM7Z,OAAOga,OACX3H,EAAQ7L,mBACRyT,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACc,MAAdlI,EAAQ9b,IAAc0E,OAAOif,eAAeC,KAAK9H,EAAS,OAC5DwH,GAAMvkB,GAAG0kB,OACP3H,EAAQ9b,GACR0jB,EAAOG,OAA+B,IAAI8B,QAC1C3B,SACGN,GAYTjU,EAAQsU,gBAAkB,SAAyBjI,EAAS4H,GAC1D,OAAOvkB,KAAKskB,OAAO3H,EAAS4H,GAAQM,UActCvU,EAAQwU,OAAS,SAAgBvK,EAAQ1S,GACjC0S,aAAkBwJ,KAAUxJ,EAASwJ,GAAQ1K,OAAOkB,IAK1D,IAJA,IAEEtJ,EACAD,EAHE+T,OAAiBC,IAAXnd,EAAuB0S,EAAO5R,IAAM4R,EAAO0K,IAAMpd,EACzD8U,EAAU,IAAIwH,GAAM7T,QAGfiK,EAAO0K,IAAMF,GAAK,CACvB,IAAIG,EAAM3K,EAAOmK,SACjB,OAAQQ,IAAQ,GACd,KAAK,EACHvI,EAAQrV,GAAKiT,EAAOmN,QACpB,MACF,KAAK,EACH/K,EAAQ9W,KAAO0U,EAAO2L,SACtB,MACF,KAAK,EACHvJ,EAAQlb,KAAO8Y,EAAO2L,SACtB,MACF,KAAK,EACCvJ,EAAQ5L,SAAWmT,GAAM8C,cAAarK,EAAQ5L,OAAS,IAC3D,IAAIkW,EAAO1M,EAAOmK,SAAWnK,EAAO0K,IAGpC,IAFAhU,EAAM,GACND,EAAQ,KACDuJ,EAAO0K,IAAMgC,GAAM,CACxB,IAAIC,EAAO3M,EAAOmK,SAClB,OAAQwC,IAAS,GACf,KAAK,EACHjW,EAAMsJ,EAAO2L,SACb,MACF,KAAK,EACHlV,EAAQmT,GAAM3U,UAAUsV,OAAOvK,EAAQA,EAAOmK,UAC9C,MACF,QACEnK,EAAO4K,SAAgB,EAAP+B,IAItBvK,EAAQ5L,OAAOE,GAAOD,EACtB,MACF,KAAK,EACG2L,EAAQzL,aAAeyL,EAAQzL,YAAYrJ,SAC/C8U,EAAQzL,YAAc,IACxByL,EAAQzL,YAAYvO,KAClBwhB,GAAMrU,WAAWgV,OAAOvK,EAAQA,EAAOmK,WAEzC,MACF,KAAK,EACH/H,EAAQxW,MAAQge,GAAMxa,MAAMmb,OAAOvK,EAAQA,EAAOmK,UAClD,MACF,KAAK,EACH/H,EAAQ3S,OAASma,GAAMpa,OAAO+a,OAAOvK,EAAQA,EAAOmK,UACpD,MACF,KAAK,EACH/H,EAAQ7L,mBAAqBqT,GAAM7Z,OAAOwa,OACxCvK,EACAA,EAAOmK,UAET,MACF,KAAK,EACH/H,EAAQ9b,GAAKsjB,GAAMvkB,GAAGklB,OAAOvK,EAAQA,EAAOmK,UAC5C,MACF,QACEnK,EAAO4K,SAAe,EAAND,IAItB,OAAOvI,GAaTrM,EAAQ8U,gBAAkB,SAAyB7K,GAEjD,OADMA,aAAkBwJ,KAAUxJ,EAAS,IAAIwJ,GAAQxJ,IAChDva,KAAK8kB,OAAOvK,EAAQA,EAAOmK,WAWpCpU,EAAQ+U,OAAS,SAAgB1I,GAC/B,GAAuB,kBAAZA,GAAoC,OAAZA,EACjC,MAAO,kBACT,GAAkB,MAAdA,EAAQrV,IAAcqV,EAAQ6H,eAAe,QAE5CN,GAAMoB,UAAU3I,EAAQrV,OAEvBqV,EAAQrV,IACR4c,GAAMoB,UAAU3I,EAAQrV,GAAGqgB,MAC3BzD,GAAMoB,UAAU3I,EAAQrV,GAAGsgB,OAG7B,MAAO,4BACX,GAAoB,MAAhBjL,EAAQ9W,MAAgB8W,EAAQ6H,eAAe,UAC5CN,GAAMiC,SAASxJ,EAAQ9W,MAAO,MAAO,wBAC5C,GAAoB,MAAhB8W,EAAQlb,MAAgBkb,EAAQ6H,eAAe,UAC5CN,GAAMiC,SAASxJ,EAAQlb,MAAO,MAAO,wBAC5C,GAAsB,MAAlBkb,EAAQ5L,QAAkB4L,EAAQ6H,eAAe,UAAW,CAC9D,IAAKN,GAAMiD,SAASxK,EAAQ5L,QAAS,MAAO,0BAE5C,IADA,IAAIE,EAAM1L,OAAOC,KAAKmX,EAAQ5L,QACrBjI,EAAI,EAAGA,EAAImI,EAAIpJ,SAAUiB,EAAG,CACnC,IAAI4d,EAAQvC,GAAM3U,UAAU6V,OAAO1I,EAAQ5L,OAAOE,EAAInI,KACtD,GAAI4d,EAAO,MAAO,UAAYA,GAGlC,GAA2B,MAAvB/J,EAAQzL,aAAuByL,EAAQ6H,eAAe,eAAgB,CACxE,IAAKlQ,MAAMmS,QAAQ9J,EAAQzL,aACzB,MAAO,8BACT,IAAK,IAAIpI,EAAI,EAAGA,EAAI6T,EAAQzL,YAAYrJ,SAAUiB,EAAG,CACnD,IAAI4d,EAAQvC,GAAMrU,WAAWuV,OAAO1I,EAAQzL,YAAYpI,IACxD,GAAI4d,EAAO,MAAO,eAAiBA,GAGvC,GAAqB,MAAjB/J,EAAQxW,OAAiBwW,EAAQ6H,eAAe,SAAU,CAC5D,IAAIkC,EAAQvC,GAAMxa,MAAM0b,OAAO1I,EAAQxW,OACvC,GAAIugB,EAAO,MAAO,SAAWA,EAE/B,GAAsB,MAAlB/J,EAAQ3S,QAAkB2S,EAAQ6H,eAAe,UAAW,CAC9D,IAAIkC,EAAQvC,GAAMpa,OAAOsb,OAAO1I,EAAQ3S,QACxC,GAAI0c,EAAO,MAAO,UAAYA,EAEhC,GACgC,MAA9B/J,EAAQ7L,oBACR6L,EAAQ6H,eAAe,sBACvB,CACA,IAAIkC,EAAQvC,GAAM7Z,OAAO+a,OAAO1I,EAAQ7L,oBACxC,GAAI4V,EAAO,MAAO,sBAAwBA,EAE5C,GAAkB,MAAd/J,EAAQ9b,IAAc8b,EAAQ6H,eAAe,MAAO,CACtD,IAAIkC,EAAQvC,GAAMvkB,GAAGylB,OAAO1I,EAAQ9b,IACpC,GAAI6lB,EAAO,MAAO,MAAQA,EAE5B,OAAO,MAWTpW,EAAQiV,WAAa,SAAoBC,GACvC,GAAIA,aAAkBrB,GAAM7T,QAAS,OAAOkV,EAC5C,IAAI7I,EAAU,IAAIwH,GAAM7T,QAcxB,GAbiB,MAAbkV,EAAOle,KACL4c,GAAMsD,MACP7K,EAAQrV,GAAK4c,GAAMsD,KAAKK,UAAUrC,EAAOle,KAAKwgB,UAAW,EAC9B,kBAAdtC,EAAOle,GACrBqV,EAAQrV,GAAKgG,SAASkY,EAAOle,GAAI,IACL,kBAAdke,EAAOle,GAAiBqV,EAAQrV,GAAKke,EAAOle,GAC9B,kBAAdke,EAAOle,KACrBqV,EAAQrV,GAAK,IAAI4c,GAAM6D,SACrBvC,EAAOle,GAAGqgB,MAAQ,EAClBnC,EAAOle,GAAGsgB,OAAS,GACnBI,aACa,MAAfxC,EAAO3f,OAAc8W,EAAQ9W,KAAOugB,OAAOZ,EAAO3f,OACnC,MAAf2f,EAAO/jB,OAAckb,EAAQlb,KAAO2kB,OAAOZ,EAAO/jB,OAClD+jB,EAAOzU,OAAQ,CACjB,GAA6B,kBAAlByU,EAAOzU,OAChB,MAAM4V,UAAU,oCAClBhK,EAAQ5L,OAAS,GACjB,IAAK,IAAIvL,EAAOD,OAAOC,KAAKggB,EAAOzU,QAASjI,EAAI,EAAGA,EAAItD,EAAKqC,SAAUiB,EAAG,CACvE,GAAsC,kBAA3B0c,EAAOzU,OAAOvL,EAAKsD,IAC5B,MAAM6d,UAAU,oCAClBhK,EAAQ5L,OAAOvL,EAAKsD,IAAMqb,GAAM3U,UAAU+V,WACxCC,EAAOzU,OAAOvL,EAAKsD,MAIzB,GAAI0c,EAAOtU,YAAa,CACtB,IAAKoD,MAAMmS,QAAQjB,EAAOtU,aACxB,MAAMyV,UAAU,wCAClBhK,EAAQzL,YAAc,GACtB,IAAK,IAAIpI,EAAI,EAAGA,EAAI0c,EAAOtU,YAAYrJ,SAAUiB,EAAG,CAClD,GAAqC,kBAA1B0c,EAAOtU,YAAYpI,GAC5B,MAAM6d,UAAU,yCAClBhK,EAAQzL,YAAYpI,GAAKqb,GAAMrU,WAAWyV,WACxCC,EAAOtU,YAAYpI,KAIzB,GAAoB,MAAhB0c,EAAOrf,MAAe,CACxB,GAA4B,kBAAjBqf,EAAOrf,MAChB,MAAMwgB,UAAU,mCAClBhK,EAAQxW,MAAQge,GAAMxa,MAAM4b,WAAWC,EAAOrf,OAEhD,GAAqB,MAAjBqf,EAAOxb,OAAgB,CACzB,GAA6B,kBAAlBwb,EAAOxb,OAChB,MAAM2c,UAAU,oCAClBhK,EAAQ3S,OAASma,GAAMpa,OAAOwb,WAAWC,EAAOxb,QAElD,GAAiC,MAA7Bwb,EAAO1U,mBAA4B,CACrC,GAAyC,kBAA9B0U,EAAO1U,mBAChB,MAAM6V,UAAU,gDAClBhK,EAAQ7L,mBAAqBqT,GAAM7Z,OAAOib,WACxCC,EAAO1U,oBAGX,GAAiB,MAAb0U,EAAO3kB,GAAY,CACrB,GAAyB,kBAAd2kB,EAAO3kB,GAChB,MAAM8lB,UAAU,gCAClBhK,EAAQ9b,GAAKsjB,GAAMvkB,GAAG2lB,WAAWC,EAAO3kB,IAE1C,OAAO8b,GAYTrM,EAAQmV,SAAW,SAAkB9I,EAAS+I,GACvCA,IAASA,EAAU,IACxB,IAqCI0B,EArCA5B,EAAS,GAGb,IAFIE,EAAQkB,QAAUlB,EAAQC,YAAUH,EAAOtU,YAAc,KACzDwU,EAAQ2B,SAAW3B,EAAQC,YAAUH,EAAOzU,OAAS,IACrD2U,EAAQC,SAAU,CACpB,GAAIzB,GAAMsD,KAAM,CACd,IAAIS,EAAO,IAAI/D,GAAMsD,KAAK,EAAG,GAAG,GAChChC,EAAOle,GACLoe,EAAQwC,QAAU9B,OACd6B,EAAKE,WACLzC,EAAQwC,QAAU1nB,OAClBynB,EAAKD,WACLC,OACDzC,EAAOle,GAAKoe,EAAQwC,QAAU9B,OAAS,IAAM,EACpDZ,EAAO3f,KAAO,GACd2f,EAAO/jB,KAAO,GACd+jB,EAAOrf,MAAQ,KACfqf,EAAOxb,OAAS,KAChBwb,EAAO1U,mBAAqB,KAC5B0U,EAAO3kB,GAAK,KAoBd,GAlBkB,MAAd8b,EAAQrV,IAAcqV,EAAQ6H,eAAe,QACrB,kBAAf7H,EAAQrV,GACjBke,EAAOle,GAAKoe,EAAQwC,QAAU9B,OAASA,OAAOzJ,EAAQrV,IAAMqV,EAAQrV,GAEpEke,EAAOle,GACLoe,EAAQwC,QAAU9B,OACdlC,GAAMsD,KAAKnD,UAAU8D,SAAS1D,KAAK9H,EAAQrV,IAC3Coe,EAAQwC,QAAU1nB,OAClB,IAAI0jB,GAAM6D,SACRpL,EAAQrV,GAAGqgB,MAAQ,EACnBhL,EAAQrV,GAAGsgB,OAAS,GACpBI,WACFrL,EAAQrV,IACE,MAAhBqV,EAAQ9W,MAAgB8W,EAAQ6H,eAAe,UACjDgB,EAAO3f,KAAO8W,EAAQ9W,MACJ,MAAhB8W,EAAQlb,MAAgBkb,EAAQ6H,eAAe,UACjDgB,EAAO/jB,KAAOkb,EAAQlb,MAEpBkb,EAAQ5L,SAAWqW,EAAQ7hB,OAAOC,KAAKmX,EAAQ5L,SAASlJ,OAAQ,CAClE2d,EAAOzU,OAAS,GAChB,IAAK,IAAIrF,EAAI,EAAGA,EAAI0b,EAAMvf,SAAU6D,EAClC8Z,EAAOzU,OAAOqW,EAAM1b,IAAMyY,GAAM3U,UAAUiW,SACxC9I,EAAQ5L,OAAOqW,EAAM1b,IACrBga,GAGN,GAAI/I,EAAQzL,aAAeyL,EAAQzL,YAAYrJ,OAAQ,CACrD2d,EAAOtU,YAAc,GACrB,IAAK,IAAIxF,EAAI,EAAGA,EAAIiR,EAAQzL,YAAYrJ,SAAU6D,EAChD8Z,EAAOtU,YAAYxF,GAAKyY,GAAMrU,WAAW2V,SACvC9I,EAAQzL,YAAYxF,GACpBga,GAiBN,OAdqB,MAAjB/I,EAAQxW,OAAiBwW,EAAQ6H,eAAe,WAClDgB,EAAOrf,MAAQge,GAAMxa,MAAM8b,SAAS9I,EAAQxW,MAAOuf,IAC/B,MAAlB/I,EAAQ3S,QAAkB2S,EAAQ6H,eAAe,YACnDgB,EAAOxb,OAASma,GAAMpa,OAAO0b,SAAS9I,EAAQ3S,OAAQ0b,IAExB,MAA9B/I,EAAQ7L,oBACR6L,EAAQ6H,eAAe,wBAEvBgB,EAAO1U,mBAAqBqT,GAAM7Z,OAAOmb,SACvC9I,EAAQ7L,mBACR4U,IAEc,MAAd/I,EAAQ9b,IAAc8b,EAAQ6H,eAAe,QAC/CgB,EAAO3kB,GAAKsjB,GAAMvkB,GAAG6lB,SAAS9I,EAAQ9b,GAAI6kB,IACrCF,GAUTlV,EAAQ+T,UAAUuB,OAAS,WACzB,OAAO5lB,KAAK6lB,YAAYJ,SAASzlB,KAAMgkB,QAAe8B,gBAGjDxV,EAxgBgC,ICnuG1BgY,OArBf,SAA0BC,GAKxB,MAJuB,kBAAZA,IACTA,EAAUA,EAAQ9T,MAAM,MAGrBH,MAAMmS,QAAQ8B,IAEnBA,EAAO,aAAOA,IAGXC,UACAC,QACC,SAACC,EAAuBC,EAAsBC,GAC5C,OACEF,EAAgBloB,OAAOmoB,GAAgB3nB,KAAK6nB,IAAI,IAAMD,KAG1D,GAZgC,GCmCtC,IAAM/U,GAAkB,CACtBiV,IAlCF,SAA0BvY,GAMxB,OALAA,EAAQvG,OAAR,eAAsBuG,EAAQvG,QAC9BuG,EAAQvG,OAAO7I,MAAQ,KACvBoP,EAAQvG,OAAO3I,OAAS,KACxBkP,EAAQvG,OAAOI,MAAO,EACtBmG,EAAQvG,OAAOK,WAAY,EACpBkG,GA6BPwY,QA1BF,SAA0BxY,GAAoB,IAAD,YAC3C,SAASyY,EAAUlX,GACjB,IAAMnJ,EAAMmJ,EAAKjK,OAAS,EAC1BiK,EAAK1K,SAAQ,SAACC,EAAM4N,GAClB5N,EAAKI,OAAU,EAAIkB,EAAOsM,KAiB9B,OAbS,OAAP1E,QAAO,IAAPA,GAAA,UAAAA,EAASpK,aAAT,mBAAgB+C,YAAhB,mBAAsBlC,gBAAtB,eAAgCG,UAChCoJ,EAAQpK,MAAM+C,KAAKlC,SAASG,QAAQU,OAAS,GAE7CmhB,EAAUzY,EAAQpK,MAAM+C,KAAKlC,SAASG,UAI/B,OAAPoJ,QAAO,IAAPA,GAAA,UAAAA,EAASpK,aAAT,mBAAgBkD,cAAhB,mBAAwBrC,gBAAxB,eAAkCG,UAClCoJ,EAAQpK,MAAMkD,OAAOrC,SAASG,QAAQU,OAAS,GAE/CmhB,EAAUzY,EAAQpK,MAAMkD,OAAOrC,SAASG,SAGnCoJ,IAQH0Y,GAAgC1jB,OAAOC,KAAKqO,IAC/ClM,KAAI,SAACuhB,GAAD,OAAY1oB,OAAO0oB,MACvBvX,OASYwX,OAPf,SAA0B5Y,EAAmBgY,GAI3C,OAHAU,GAAQ7hB,SAAQ,SAACgiB,GACXb,GAAWa,GAAKvV,GAAIuV,IAAIvV,GAAIuV,GAAG7Y,MAE9BA,GC1CH8Y,GAAkC,CACtCN,QAASO,IAmEI,SAASC,GAAczkB,GACpC,GAAIA,EAAOvB,WAAa,GAAI,MAAM,IAAIiB,MAAM,SAC5C,IAAMglB,EAAepB,KACfqB,EAAaD,EAAazC,MAAM,EAAGyC,EAAajmB,WAAa,GAE7DmmB,EAAK,IAAI7gB,WAAW/D,GACpB6kB,EAAaD,EAAG3C,MAAM,EAAGyC,EAAajmB,YACtCqmB,EAAgBD,EAAW5C,MAAM4C,EAAWpmB,WAAa,GAC3DsmB,GAAQ,EAIZ,GAHAJ,EAAWriB,SAAQ,SAACnC,EAAG6D,GACjB6gB,EAAW7gB,KAAO7D,IAAG4kB,GAAQ,OAE9BA,EAAO,MAAM,IAAIrlB,MAAM,eAE5B,IAAMslB,EAAcxB,GAAiBhU,MAAMC,KAAKqV,IAG1CrZ,GADc8Y,GAAeS,IAAgBC,IACvBjF,OAAO4E,EAAG3C,MAAM4C,EAAWpmB,aAEvD,OAnFF,SAAwBymB,GAAkC,IAAD,gBACjDzZ,EAAO,eAAQyZ,GACfriB,EAAM,IAAI4H,IAuDhB,OApDA,OAAIgB,QAAJ,IAAIA,GAAJ,UAAIA,EAASpK,aAAb,iBAAI,EAAgB9C,YAApB,aAAI,EAAsBA,QACxBkN,EAAQpK,MAAM9C,KAAd,2BACMkN,EAAQpK,MAAM9C,MADpB,IAEEA,KAAMkN,EAAQpK,MAAM9C,KAAKA,KAAK0jB,QAAQjiB,WAK1C,OAAIyL,QAAJ,IAAIA,OAAJ,EAAIA,EAASW,cACXX,EAAQW,YAAY9J,SAAQ,SAAC2I,GAI3B,GAHIA,EAAWjL,SACbiL,EAAWjL,OAASiL,EAAWjL,OAAOiiB,QAAQjiB,QAE5CiL,EAAWV,QAAS,CACtB,IAAM4a,EAAa,IAAI1a,IACvBhK,OAAOC,KAAKuK,EAAWV,SAASjI,SAAQ,SAAC6J,GACnClB,GAAcA,EAAWV,SAAWU,EAAWV,QAAQ4B,IACzDgZ,EAAW3a,IAAI2B,EAAKlB,EAAWV,QAAQ4B,IAAQ,WAQzD,OAAIV,QAAJ,IAAIA,OAAJ,EAAIA,EAASQ,SACXxL,OAAOC,KAAK+K,EAAQQ,QAAQ3J,SAAQ,SAAC8iB,GACnC,GAAI3Z,GAAWA,EAAQQ,QAAUR,EAAQQ,OAAOmZ,GAAI,CAClD,IAAMC,EAAK5Z,EAAQQ,OAAOmZ,GACpBE,EAAe,IAAI7a,IACrB4a,GAAMA,EAAG9a,SACX9J,OAAOC,KAAK2kB,EAAG9a,SAASjI,SAAQ,SAAC6J,GAC3BkZ,EAAG9a,SAAS+a,EAAa9a,IAAI2B,EAAKkZ,EAAG9a,QAAQ4B,IAAQ,MAG7DtJ,EAAI2H,IAAI4a,EAAR,2BAAgBC,GAAhB,IAAoB9a,QAAS+a,UAMnC,OAAI7Z,QAAJ,IAAIA,GAAJ,UAAIA,EAASpK,aAAb,iBAAI,EAAgB+C,YAApB,iBAAI,EAAsBC,sBAA1B,aAAI,EAAsCrE,UACxCyL,EAAQpK,MAAM+C,KAAKC,eAAerE,OAASyL,EAAQpK,MAAM+C,KAAKC,eAAerE,OAAOiiB,QACjFjiB,SAIL,OAAIyL,QAAJ,IAAIA,GAAJ,UAAIA,EAASpK,aAAb,iBAAI,EAAgBkD,cAApB,iBAAI,EAAwBF,sBAA5B,aAAI,EAAwCrE,UAC1CyL,EAAQpK,MAAMkD,OAAOF,eAAerE,OAASyL,EAAQpK,MAAMkD,OAAOF,eAAerE,OAAOiiB,QACrFjiB,QAGE,YAAC,eACHyL,GADL,IAEEQ,OAAQpJ,EACRuJ,YAAaX,EAAQW,aAAe,KAuB/BmZ,CAAelB,GAAiB5Y,EAASuZ,I,gECAnCQ,GAhF4C,SACzDpU,GACI,IACI2G,EAAsB3G,EAAtB2G,UAAW0N,EAAWrU,EAAXqU,OAEX1kB,EADQmU,KACRnU,KAHL,EAIqBuV,oBAAS,GAJ9B,oBAIIoP,EAJJ,KAIUC,EAJV,OAKmBrP,mBAAS,GAL5B,oBAKIsP,EALJ,KAKSC,EALT,OAMYvP,mBAAS,CACtB,CAAE9T,GAAI,EAAGsjB,IAAK,MAAO3jB,KAAM,OAC3B,CAAEK,GAAI,EAAGsjB,IAAK,MAAO3jB,KAAM,OAC3B,CAAEK,GAAI,EAAGsjB,IAAK,MAAO3jB,KAAM,QAC3B,CAAEK,GAAI,EAAGsjB,IAAK,OAAQ3jB,KAAM,UAJvB6K,EANJ,qBAaG+Y,EAAkB,WACtBJ,GAAQ,IAGJK,EAAc,WAClBL,GAAQ,IA4BV,OARAlM,qBAAU,WAGR,OAFAwM,KAAQC,OAAO,gCACfD,aAAQ,+BAAgCF,GACjC,WACLE,KAAQC,OAAO,mCAEhB,IAGD,qCACE,cAACnP,GAAA,EAAD,CACEgB,UAAWA,EACXoO,MAAM,uCACNnO,QAAS+N,EAHX,oBAOA,eAACK,GAAA,EAAD,CAAQC,QAASL,EAAaN,KAAMA,EAAMzO,WAAS,EAACtJ,SAAS,KAA7D,UACE,cAAC2Y,GAAA,EAAD,4BACA,cAACC,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,cAAC,GAAD,CAAWtO,OAAO,eAAeG,cAAe,EAAhD,SACE,cAACoO,GAAA,EAAD,CAAQC,cAAY,EAACxa,MAAO0Z,EAAKtO,SAtCtB,SACnBnX,GAKA0lB,EAAO1lB,EAAEyV,OAAO1J,QAgCR,SACGc,EAAKnK,KAAI,SAACN,GAAD,OACR,cAACokB,GAAA,EAAD,CAAUza,MAAO3J,EAAKC,GAAtB,mBACMzB,EADN,YACcwB,EAAKujB,IADnB,oBACkCvjB,EAAKJ,KAAKykB,cAD5C,MAA+BrkB,EAAKC,aAO5C,cAACqkB,GAAA,EAAD,UACE,cAAC9P,GAAA,EAAD,CAAQ+P,WAAS,EAAC9O,QAxCP,WACbyN,GACFA,EAAO,CACLK,IAAK9Y,EAAK4Y,GAAKE,IACf3jB,KAAM6K,EAAK4Y,GAAKzjB,OAEpB6jB,KAkC6CpjB,MAAM,UAA7C,2BC5DJkT,GAAYC,cAAW,gBAAGgR,EAAH,EAAGA,OAAQ3hB,EAAX,EAAWA,QAAX,OAC3B4Q,aAAa,CACX+E,KAAM,CACJzZ,SAAU,WACVylB,OAAQA,EAAOC,QAEjBC,QAAS,CACP3pB,SAAU,UACVS,WAAY,SACZmpB,YAAa9hB,EAAQ,IAEvB+hB,WAAY,CACVppB,WAAY,UACZT,SAAU,QACVwV,WAAY,UAEdsU,IAAK,CACHC,cAAe,aAkJNjR,gBA7I8B,WAC3C,IAAMC,EAAUP,KADiC,EAEvBQ,mBAGvB,CAAEoP,MAAM,EAAO1O,UAAW,OALoB,oBAE1CsQ,EAF0C,KAEnCC,EAFmC,KAM3CC,EAAa1S,KACb2S,EAAWC,iBAAyB,MAClCC,EAAeH,EAAfG,WACFlc,EAAU+b,EAAWvS,eAqBrB2S,EAAmBpO,uBACvB,SAACrZ,GAGC,OAFAA,EAAE0nB,iBACFF,KACO,IAET,CAACA,IAGGG,EAAoBtO,uBACxB,SAACrZ,GAGC,OAFAA,EAAE0nB,iBCtFO,SAAqBpc,GAE9BA,EAAQpK,MAAM9C,KAAKA,OACrBkN,EAAQpK,MAAM9C,KAAKA,KAAO,IAAIwF,WAAW0H,EAAQpK,MAAM9C,KAAKA,OAI9DkN,EAAQW,YAAY9J,SAAQ,SAAC2I,GACvBA,EAAWjL,SAAQiL,EAAWjL,OAAS,IAAI+D,WAAWkH,EAAWjL,YAInEyL,EAAQpK,MAAM+C,KAAKC,eAAerE,SACpCyL,EAAQpK,MAAM+C,KAAKC,eAAerE,OAAS,IAAI+D,WAC7C0H,EAAQpK,MAAM+C,KAAKC,eAAerE,SAKlCyL,EAAQpK,MAAMkD,OAAOF,eAAerE,SACtCyL,EAAQpK,MAAMkD,OAAOF,eAAerE,OAAS,IAAI+D,WAC/C0H,EAAQpK,MAAMkD,OAAOF,eAAerE,SAIxC,IAAMklB,EAAeD,GAAa1Q,OAAQ9I,GACpCsc,EAAgB9C,GAAazF,OAAO0F,GAAc8C,SAClDtD,EAAepB,KAEftjB,EAAS,IAAI+D,WACjB2gB,EAAajmB,WAAaspB,EAActpB,YAE1CuB,EAAOwK,IAAIka,EAAc,GACzB1kB,EAAOwK,IAAIud,EAAerD,EAAajmB,YAEvCwpB,kBAAO,IAAInnB,KAAK,CAACd,IAAX,UAAwByL,EAAQ1K,KAAhC,SDoDFmnB,CAAYC,YAAK1c,KACV,IAET,CAACA,IAGG2c,EAAuB5O,uBAC3B,SAAC9b,IE5FU,SACb+N,GAKO,IAJP/N,EAIM,uDAJG,CACPyE,KAAM,MACN2jB,IAAK,OAGDuC,EAAM,IAAIC,KACRhY,EAAqB7E,EAArB6E,WAAYvP,EAAS0K,EAAT1K,KACd4a,EAAS6B,GAAa/R,GACxB9O,EAAO,GAEX,OAAQe,EAAOyE,MACb,IAAK,OACHxF,EAAO4gB,GAAc5B,GACrB,MACF,IAAK,MACHhf,EAAOwgB,GAAaxB,GACpB,MACF,QACEhf,EAAO4rB,GAAa5M,GAIxB0M,EAAI9S,KAAJ,UAAYxU,EAAZ,YAAoBrD,EAAOooB,KAAOnpB,GAC9B2T,GACFA,EAAWkY,QAAO,SAACC,GACbA,GAAMJ,EAAI9S,KAAJ,UAAYxU,EAAZ,QAAwB0nB,GAClCJ,EACGK,cAAc,CAAEvmB,KAAM,SACtBN,MAAK,SAAC8mB,GAAD,OAAaV,kBAAOU,EAAD,UAAa5nB,EAAb,eF+D3B6nB,CAAWnd,EAAS/N,KAEtB,CAAC+N,IAGGod,EAAoBrP,uBAAY,SAACrZ,GAGrC,OAFAA,EAAE0nB,iBACEJ,EAASqB,SAASrB,EAASqB,QAAQC,SAChC,IACN,IAyBH,OAdAtP,qBAAU,WAOR,OANAwM,KAAQC,OAAO,mBACfD,KAAQC,OAAO,UACfD,KAAQC,OAAO,oBACfD,aAAQ,kBAAmB2B,GAC3B3B,aAAQ,SAAU6B,GAClB7B,aAAQ,mBAAoB4C,GACrB,WACL5C,KAAQC,OAAO,mBACfD,KAAQC,OAAO,UACfD,KAAQC,OAAO,uBAEhB,CAAC0B,EAAkBiB,EAAmBf,IAGvC,eAAC/O,GAAA,EAAD,CACEhB,UAAW1B,EAAQ0E,KACnBG,QAAQ,sBACRlC,SAAU,EACV7C,QAAQ,OACRU,WAAW,SALb,UAQE,eAAC2B,GAAA,EAAD,CAAYlG,QAAQ,KAAKyF,UAAW1B,EAAQ4Q,QAA5C,sBAEE,qBAAKlP,UAAW1B,EAAQ8Q,WAAxB,qBAEF,eAACpO,GAAA,EAAD,CAAKsC,KAAK,OAAOrC,SAAU,EAA3B,UACE,cAACjC,GAAA,EAAD,CACEgB,UAAW1B,EAAQ+Q,IACnBjB,MAAM,wBACNnO,QAAS4P,EAHX,iBAOA,eAAC7Q,GAAA,EAAD,CACEgB,UAAW1B,EAAQ+Q,IACnBjB,MAAM,4BACNnP,UAAU,QACV1Y,IAAKmpB,EAJP,iBAOE,uBAAOtlB,KAAK,OAAOmV,SAtGR,SAACnX,GAAkD,IAAD,GAC/D,UAAAA,EAAEyV,cAAF,eAAU4B,QAASrX,EAAEyV,OAAO4B,MAAM,IACpClC,GAASnV,EAAEyV,OAAO4B,MAAM,IAAI3V,MAAK,SAAC7B,GAChC,IACMA,aAAkB0X,aAAaiQ,EAAWlD,GAAczkB,IAC5D,MAAOgpB,GACPzB,EAAS,CACP7B,MAAM,EACN1O,UACE,eAAC+B,GAAA,EAAD,CAAK5C,QAAQ,OAAOU,WAAW,SAA/B,UACE,cAAC,KAAD,IADF,UAEMmS,EAAI3F,sBA2F2BvL,OAAO,OAAOT,QAAM,OAE/D,cAACN,GAAA,EAAD,CACEgB,UAAW1B,EAAQ+Q,IACnBjB,MAAM,4BACNnO,QAAS8P,EAHX,kBAOA,cAAC,GAAD,CAAc/P,UAAW1B,EAAQ+Q,IAAK3B,OAAQ2C,OAEhD,cAACa,GAAA,EAAD,CACEzqB,KAAK,QACLwY,UAAU,IACVkS,KAAK,0CACLtT,OAAO,SACPuQ,MAAM,SALR,SAOE,cAAC,KAAD,MAEF,cAACgD,GAAA,EAAD,CACEC,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7C5D,KAAM4B,EAAM5B,KACZW,QA1EmB,WACvBkB,GAAS,SAACxX,GACR,OAAO,2BACFA,GADL,IAEE2V,MAAM,QAuEN7N,QAASyP,EAAMtQ,kB,qEGxJjBlB,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAH,OAC3B2T,aAAa,CACXuT,OAAQ,CACN,MAAO,CACL3mB,MAAM,GAAD,OAAKP,EAAQ1F,KAAKwW,QAAlB,eACLqW,YAAY,GAAD,OAAKnnB,EAAQonB,QAAb,gBAEb,UAAW,CACT1W,WAAY,OACZnQ,MAAM,GAAD,OAAKP,EAAQ1F,KAAKwW,QAAlB,eACLiI,UAAU,kBACVsO,OAAO,aAAD,OAAernB,EAAQonB,QAAvB,sBAoCCE,GA9BwD,SACrEvY,GACI,IACIsU,EAA+CtU,EAA/CsU,KAAMkE,EAAyCxY,EAAzCwY,SAAUhnB,EAA+BwO,EAA/BxO,MAAO0U,EAAwBlG,EAAxBkG,SAAUuS,EAAczY,EAAdyY,UACnCxT,EAAUP,KACVgU,EA5Ce,WACrB,IAAM7W,EAAQ8W,eACN1nB,EAAY4Q,EAAZ5Q,QAER,MAAqB,UAAjBA,EAAQF,KAAyB,GAE9B,CACLoR,QAAS,CACPgW,OAAQ,CACNxW,WAAY1Q,EAAQ0Q,WAAWU,SAC/B9O,OAAQsO,EAAM+W,QAAQ,KAExBC,MAAO,CACLlX,WAAY,QAEdnQ,MAAO,CACLmQ,WAAY,UA4BEmX,GACpB,OACE,cAACC,GAAA,EAAD,CACEzE,OAAQA,EACRkE,SAAUA,EACVC,UAAWA,GAAa,SACxBxoB,MAAO,CAAE0lB,OAAQ,QAJnB,SAME,cAAC,KAAD,CACEnkB,MAAOA,EACPwnB,OAAQN,EACR/R,UAAW1B,EAAQkT,OACnBjS,SAAQ,+GAAE,YAA2B,IAAxB+S,EAAuB,EAAvBA,IACP/S,GACFA,EAAS,QAAD,OACE+S,EAAInjB,EADN,YACWmjB,EAAIC,EADf,YACoBD,EAAIvuB,EADxB,YAEa,qBAAVuuB,EAAIxuB,EAAoB,EAAIwuB,EAAIxuB,EAFnC,cC5Ddia,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAS0R,EAAZ,EAAYA,QAAZ,OAC3BiC,aAAa,CACX+E,KAAM,CACJC,SAAU,UAEZuP,OAAO,2BACFxW,GADC,IAEJoC,QAAS,eACTD,OAAQ,YAEVtT,MAAO,CACLvG,MAAO,OACPE,OAAQ,OACRmtB,OAAO,aAAD,OAAernB,EAAQ8Q,QAAQC,MACrCY,gBAAiB,SAAC5C,GAAD,OAA4BA,EAAMxO,OAAS,UAmCnD4nB,GA9BwC,SACrDpZ,GACI,IACIxO,EAAoBwO,EAApBxO,MAAO0U,EAAalG,EAAbkG,SACTjB,EAAUP,GAAU1E,GACpBwY,EAAWlC,iBAAO,MAHrB,EAIqBpR,oBAAS,GAJ9B,oBAIIoP,EAJJ,KAIUC,EAJV,KAMH,OACE,cAAC8E,GAAA,EAAD,CACEC,WAAW,cACXC,YAAa,kBAAMhF,GAAQ,IAF7B,SAIE,sBAAKiF,eAAA,EAAY7S,UAAW1B,EAAQkU,OAAQjsB,IAAKsrB,EAAjD,UACE,qBACEgB,eAAA,EACA7S,UAAW1B,EAAQzT,MACnBoV,QAAS,kBAAM2N,GAASD,MAE1B,cAAC,GAAD,CACEA,KAAMA,EACNkE,SAAUA,EAASd,QACnBlmB,MAAOA,GAAS,UAChB0U,SAAUA,UC/BLuT,GAZsC,SACnDzZ,GACI,IACIxO,EAAoBwO,EAApBxO,MAAO0U,EAAalG,EAAbkG,SAEf,OACE,cAAC,GAAD,CAAWY,OAAO,SAASG,cAAe,EAA1C,SACE,cAAC,GAAD,CAAYzV,MAAOA,EAAO0U,SAAUA,O,uCCDpCxB,GAAYC,cAAW,gBAAGhC,EAAH,EAAGA,QAAS1R,EAAZ,EAAYA,QAAZ,OAC3B2T,aAAa,CACX+E,KAAK,2BACAhH,GADD,IAEF1X,MAAO,OACPE,OAAQ,OACRmtB,OAAO,SAAD,OAAWrnB,EAAQ8Q,QAAQC,MACjC0X,YAAa,YACbxpB,SAAU,WACV4U,OAAQ,UACRpD,WAAY,OACZvR,KAAM,SAAC6P,GAAD,OAAWA,EAAM7P,MAAQ,GAC/BwlB,OAAQ,SAAC3V,GAAD,OAAYA,EAAM2Z,SAAW,EAAI,GACzC,mBAAoB,CAClBzpB,SAAU,WACVqnB,QAAS,KACTtsB,MAAO,EACPE,OAAQ,EACRyuB,YAAa,QACbzpB,KAAM,KAER,WAAY,CACVzC,IAAK,OACLyC,KAAM,OACNupB,YAAa,gBACbtB,YAAY,2BAAD,OAA6BnnB,EAAQ8Q,QAAQ8X,KAA7C,iBAEb,UAAW,CACTnsB,IAAK,OACLgsB,YAAa,gBACbtB,YAAa,SAACpY,GACZ,IAAM8Z,EACa,SAAjB7oB,EAAQF,KACJE,EAAQsR,OAAOE,MACfxR,EAAQsR,OAAOC,MAErB,MAAM,2BAAN,OACExC,EAAM2Z,SAAWG,EAAc7oB,EAAQ8oB,KAAK,KAD9C,oBAMNvoB,MAAO,CACLvG,MAAO,OACPE,OAAQ,OACRkF,cAAe,OACfuS,gBAAiB,qBAAGpR,OAAqC,qBAkBhDwoB,GAbsC,SACnDha,GACI,IACI7P,EAAuD6P,EAAvD7P,KAAMzC,EAAiDsS,EAAjDtS,IAAK8D,EAA4CwO,EAA5CxO,MAAOmoB,EAAqC3Z,EAArC2Z,SAAUhT,EAA2B3G,EAA3B2G,UAAcsT,EAD/C,aAC4Dja,EAD5D,+CAEGiF,EAAUP,GAAU,CAAEvU,OAAMzC,MAAK8D,QAAOmoB,aAE9C,OACE,6CAAKhT,UAAWuT,aAAKjV,EAAQ0E,KAAMhD,IAAgBsT,GAAnD,aACE,qBAAKtT,UAAW1B,EAAQzT,YC1CxBkT,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJ1e,MAAO,OACPE,OAAQ,OACR+E,SAAU,WACV4U,OAAQ,kBA6HCqV,GAxHoD,SACjEna,GACI,IACI2G,EAA4D3G,EAA5D2G,UAAW1V,EAAiD+O,EAAjD/O,QAASqO,EAAwCU,EAAxCV,SAAU8a,EAA8Bpa,EAA9Boa,MAAOC,EAAuBra,EAAvBqa,SAAUC,EAAata,EAAbsa,SACjDrV,EAAUP,GAAU1E,GAFvB,EAGuBkF,mBAAS,GAHhC,oBAGIja,EAHJ,KAGWie,EAHX,OAIiChE,mBAAS,CAAEtP,EAAG,EAAGC,EAAG,EAAGtE,OAAQ,IAJhE,oBAII8E,EAJJ,KAIgBkkB,EAJhB,OAKiCrV,oBAAS,GAL1C,oBAKIsV,EALJ,KAKgBC,EALhB,KAMGC,EAAmDpE,iBAAO,MAEhEjO,qBAAU,WACJqS,EAAQhD,SACVxO,EAASwR,EAAQhD,QAAQiD,eAE1B,CAACD,IAEJ,IAwBME,EAAkBxS,uBACtB,SAACrZ,GACC,GAAKyrB,GAAelb,EACpB,GAAkB,IAAdvQ,EAAE8rB,QAAN,CAIA,IAAM9b,EAAM9N,EAAQ6pB,WAClB,SAACC,GAAD,OAAiBA,EAAY3pB,KAAOkO,KAGtC,KAAIP,EAAM,GAAV,CACA,IAAMic,EAAU,aAAO/pB,GAEvB,GAAInG,KAAKmN,IAAIlJ,EAAEksB,QAAU5kB,EAAWR,GAAK,GACvCwkB,EAASW,EAAWjc,IAAM,OAD5B,CAKA,IAAMgc,EAAcC,EAAWjc,GACzBxN,EAASzG,KAAKC,IAClBD,KAAKE,KAAK+D,EAAEmsB,QAAU7kB,EAAWT,GAAK3K,EAAQoL,EAAW9E,OAAQ,GACjE,GAEFypB,EAAWjc,GAAX,2BAAuBgc,GAAvB,IAAoCxpB,WACpC8oB,EAAS,CAAE9oB,kBArBTkpB,GAAc,KAuBlB,CACEnb,EACAkb,EACAH,EACAppB,EACAoF,EAAW9E,OACX8E,EAAWT,EACXS,EAAWR,EACX5K,IAIEkwB,EAAgB/S,uBAAY,SAACrZ,GACjCA,EAAEqsB,kBACFrsB,EAAE0nB,iBACFgE,GAAc,KACb,IAiBH,OAfApS,qBAAU,WASR,OARImS,GACFhd,OAAOtB,iBAAiB,YAAa0e,GACrCpd,OAAOtB,iBAAiB,UAAWif,KAEnC3d,OAAO6d,oBAAoB,YAAaT,GACxCpd,OAAO6d,oBAAoB,UAAWF,IAGjC,WACL3d,OAAO6d,oBAAoB,YAAaT,GACxCpd,OAAO6d,oBAAoB,UAAWF,MAEvC,CAACP,EAAiBO,EAAeX,IAGlC,qBACEhB,eAAA,EACAtsB,IAAKwtB,EACL/T,UAAWuT,aAAKjV,EAAQ0E,KAAMhD,GAC9B2U,YAzFqB,SACvBvsB,GAEA,IAAMyV,EAASkW,EAAQhD,QACvB,GAAKlT,GAAwB,IAAdzV,EAAE8rB,QAAjB,CAFG,IAGK1qB,EAASqU,EAAO+W,wBAAhBprB,KACFoB,GAAUxC,EAAEmsB,QAAU/qB,GAAQlF,EACpCmvB,EAAM7oB,GACNkpB,GAAc,GACdF,EAAc,CAAE3kB,EAAG7G,EAAEmsB,QAASrlB,EAAG9G,EAAEksB,QAAS1pB,aA4E5C,SAMGN,EAAQQ,KAAI,SAACspB,GAAD,OACX,cAAC,GAAD,CAEE5qB,KAAMlF,EAAQ8vB,EAAYxpB,OAC1BC,MAAOupB,EAAYvpB,MACnBmoB,SAAUoB,EAAY3pB,KAAOkO,EAC7Bgc,YAAa,SAACvsB,GAAD,OArFG,SACtBA,EACAgsB,GAEkB,IAAdhsB,EAAE8rB,UACN9rB,EAAE0nB,iBACF1nB,EAAEqsB,kBACFb,EAAc,CAAE3kB,EAAG7G,EAAEmsB,QAASrlB,EAAG9G,EAAEksB,QAAS1pB,OAAQwpB,EAAYxpB,SAChEkpB,GAAc,GACdH,EAASS,EAAY3pB,KA4EKoqB,CAAgBzsB,EAAGgsB,KAJlCA,EAAY3pB,UC1IrBsT,GAAYC,cAAW,gBAAGhC,EAAH,EAAGA,QAAH,MAAkB,CAC7CgH,KAAK,2BACAhH,GADD,IAEF1X,MAAO,SAAC+U,GAAD,OAAyBA,EAAM/U,OAAS,QAC/CE,OAAQ,SAAC6U,GAAD,OAAyBA,EAAM7U,QAAU,QACjDmtB,OAAQ,mBAEVmD,IAAK,CACHxwB,MAAO,OACPE,OAAQ,OACRuwB,cAAe,WAkCJC,GA9BkC,SAC/C3b,GAEA,IAAMiF,EAAUP,GAAU1E,GAClB/O,EAAY+O,EAAZ/O,QAFQ,EAGHiU,mBAAS,WAAD,OAAYpa,KAAK8wB,SAAS3J,WAAW4J,OAAO,EAAG,KAA7DzqB,EAHS,qBAIV0qB,EAAgB,aAAI7qB,GAASwK,MACjC,uBAAGlK,OAAH,EAAwBA,UAG1B,OACE,qBAAKoV,UAAW1B,EAAQ0E,KAAxB,SACE,sBAAKhD,UAAW1B,EAAQwW,IAAxB,UACE,+BACE,gCAAgBrqB,GAAIA,EAAI2qB,GAAG,IAAIC,GAAG,MAAMC,GAAG,IAAIC,GAAG,MAAlD,SACGJ,EAAcrqB,KAAI,SAACN,GAAD,OACjB,sBAEEI,OAAQJ,EAAKI,OACbtB,MAAO,CAAEksB,UAAWhrB,EAAKK,QAFpBL,EAAKC,WAOlB,sBAAMwE,EAAE,IAAIC,EAAE,IAAI5K,MAAM,OAAOE,OAAO,OAAO6H,KAAI,eAAU5B,EAAV,aCsG1CgrB,GAnIkD,SAC/Dpc,GACI,IACI+G,EAAuC/G,EAAvC+G,SAAU9V,EAA6B+O,EAA7B/O,QAASopB,EAAoBra,EAApBqa,SAAUD,EAAUpa,EAAVoa,MAC/BiC,EAAwD/F,iBAAO,MAFlE,EAGiCpR,mBAAS,aAAIjU,IAH9C,oBAGIqrB,EAHJ,KAGgBC,EAHhB,OAI6BrX,mBAAiB,GAJ9C,oBAII5F,EAJJ,KAIckd,EAJd,OAKmCtX,mBAAiB,IALpD,oBAKI4U,EALJ,KAKiB2C,EALjB,OAMuBvX,oBAAS,GANhC,oBAMIwX,EANJ,KAMWC,EANX,KAQHtU,qBAAU,WACR,GAAIqU,EAAO,CACT,IAAME,EAAS3rB,EAAQQ,KAAI,qBAAGL,MACxByrB,EAASP,EAAW7qB,KAAI,qBAAGL,MAC3B0rB,EAAO1e,MAAMC,KAAK,IAAIC,IAAJ,uBAAYse,GAAZ,aAAuBC,MAAUhhB,QACvD,SAACzK,GAAD,OAASyrB,EAAOje,SAASxN,MAEvB0rB,EAAKnrB,OAAS,GAChB6qB,EAAYM,EAAK,IAEnBH,GAAS,kBAAM,QAEhB,CAAC1rB,EAASyrB,EAAOJ,IAEpBjU,qBAAU,WACRkU,EAAc,aAAItrB,MACjB,CAACA,IAEJoX,qBAAU,WACR,GAAI/I,EAAU,CACZ,IAAMyb,EAAc9pB,EAAQyL,MAAK,SAACvL,GAAD,OAAUA,EAAKC,KAAOkO,KACnDyb,GACF0B,EAAe1B,EAAYvpB,UAG9B,CAAC8N,EAAUrO,IAEd,IA6CM8rB,EAAe,SAAC5rB,GAAqD,IAAtB6rB,EAAqB,wDACxE,GAAK1d,EAAL,CAEA,IAAM0b,EAAU,aAAO/pB,GACjB8N,EAAMic,EAAWF,WACrB,SAACC,GAAD,OAAiBA,EAAY3pB,KAAOkO,KAEtC,GAAI0d,EACF3C,EAAS,GAAD,oBAAKW,EAAWnK,MAAM,EAAG9R,IAAzB,aAAkCic,EAAWnK,MAAM9R,EAAM,MACjEyd,EAAY,OACP,CACL,IAAMS,EAAU,2BAAQjC,EAAWjc,IAAS5N,GAC5CkpB,EAAS,GAAD,oBACHW,EAAWnK,MAAM,EAAG9R,IADjB,CAENke,GAFM,aAGHjC,EAAWnK,MAAM9R,EAAM,SAKhC,OACE,cAACsa,GAAA,EAAD,CACEC,WAAW,cACXC,YAAa,kBAAMiD,EAAY,IAFjC,SAIE,sBAAKtvB,IAAKmvB,EAAV,UACE,cAAC,GAAD,CAASprB,QAASA,EAAS9F,OAAO,SAClC,cAAC,GAAD,CACE8F,QAASA,EACTqO,SAAUA,EACV8a,MA3EU,SAAC7oB,GACjB,IAEIpB,EACA+sB,EAHEthB,EAAI,aAAO3K,GACXymB,EAAU,CAAEnmB,SAAQC,MAAO,QAgBjC,GAbAgrB,EAAY,GAEZ5gB,EAAK1K,SAAQ,SAACC,GAEVA,EAAKI,OAASmmB,EAAQnmB,UACpBpB,GAAQA,EAAKoB,OAASJ,EAAKI,QAE7BpB,EAAOgB,IACG+rB,GAASA,EAAM3rB,OAASJ,EAAKI,UACvC2rB,EAAQ/rB,MAIRhB,GAAQ+sB,EAAO,CACjB,IAAMC,GACHzF,EAAQnmB,OAASpB,EAAKoB,SAAW2rB,EAAM3rB,OAASpB,EAAKoB,QAClD6rB,EAAYC,KAAMltB,EAAKqB,OACvB8rB,EAAaD,KAAMH,EAAM1rB,OAEzBsE,GACHwnB,EAAWC,MAAQH,EAAUG,OAASJ,EAAcC,EAAUG,MAC3DrE,GACHoE,EAAWE,QAAUJ,EAAUI,SAAWL,EAC3CC,EAAUI,QACN9yB,GACH4yB,EAAWG,OAASL,EAAUK,QAAUN,EAAcC,EAAUK,OAC7DhzB,GACH6yB,EAAWzE,QAAUuE,EAAUvE,SAAWsE,EAC3CC,EAAUvE,QACZnB,EAAQlmB,MAAR,eAAwB1G,KAAK0iB,MAAM1X,GAAnC,YAAyChL,KAAK0iB,MAAM0L,GAApD,YAA0DpuB,KAAK0iB,MAC7D9iB,GADF,YAEKI,KAAK0iB,MAAM/iB,GAFhB,UAGS0F,GAAQ+sB,KACjBxF,EAAQlmB,OAAUrB,GAAQ+sB,GAAuB1rB,OAGnD4oB,EAAM1C,GACNiF,GAAS,IAkCHtC,SAAU0C,EACVzC,SAAU,SAAClpB,GAAD,OAAQorB,EAAYprB,GAAM,MAErC2V,EACG2W,IAAMC,aAAa5W,EAAU,CAC3BuN,OAAQhV,GAAYod,EACpBlE,SAAU6D,EAAO3E,QACjBlmB,MAAOsoB,EACP5T,SAAU,SAAC1U,GAAD,OACRurB,EAAa,CACXvrB,aAGN,WCvINkT,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJ1e,MAAO,SAAC+U,GAAD,OACLA,EAAM/U,MAAN,UAAiB+U,EAAM/U,MAAvB,MAAmC,QACrCE,OAAQ,SAAC6U,GAAD,OAAYA,EAAM/U,MAAN,UAAiB+U,EAAM/U,MAAvB,MAAmC,QACvDiF,SAAU,WACV4U,OAAQ,YACR8E,SAAU,SACVvG,aAAc,OACd1B,WAAY,QAEdic,MAAO,CACL3yB,MAAO,MACPE,OAAQ,MACRkY,aAAc,OACdnT,SAAU,WACVC,KAAM,MACNzC,IAAK,MACLmwB,UAAW,OACXlc,WAAY,OACZtR,cAAe,OACfytB,gBAAgB,QAChBC,UAAW,SAAC/d,GAAD,uBACCA,EAAMhP,OAAS,EADhB,2BAENgP,EAAM/U,OAAS,IAAM,EAAI,EAFnB,iBAsEF+yB,GA9D0C,SACvDhe,GACI,IACIkG,EAAalG,EAAbkG,SACFwU,EAAUpE,iBAAuB,MAFpC,EAGiCpR,oBAAS,GAH1C,oBAGIsV,EAHJ,KAGgBC,EAHhB,KAIGxV,EAAUP,GAAU1E,GAEpB4a,EAAkBxS,uBACtB,SAACrZ,GACC,GAAK2rB,EAAQhD,QAAb,CADgE,IAGxDwD,EAAqBnsB,EAArBmsB,QAASD,EAAYlsB,EAAZksB,QACXgD,EAASvD,EAAQhD,QAAQ6D,wBACzB2C,EAAUpzB,KAAKqzB,MACnBlD,GAAWgD,EAAOpoB,EAAIooB,EAAO9yB,OAAS,GACtC+vB,GAAW+C,EAAOroB,EAAIqoB,EAAOhzB,MAAQ,IAEvCib,EAASpb,KAAK0iB,MAAM0Q,GAAW,IAAMpzB,KAAKkL,SAE5C,CAACkQ,IAGGiV,EAAgB/S,uBAAY,SAACrZ,GACjCA,EAAEqsB,kBACFrsB,EAAE0nB,iBACFgE,GAAc,KACb,IAuBH,OAfApS,qBAAU,WASR,OARImS,GACFhd,OAAOtB,iBAAiB,YAAa0e,GACrCpd,OAAOtB,iBAAiB,UAAWif,KAEnC3d,OAAO6d,oBAAoB,YAAaT,GACxCpd,OAAO6d,oBAAoB,UAAWF,IAGjC,WACL3d,OAAO6d,oBAAoB,YAAaT,GACxCpd,OAAO6d,oBAAoB,UAAWF,MAEvC,CAACP,EAAiBO,EAAeX,IAGlC,qBACEhB,eAAA,EACA7S,UAAW1B,EAAQ0E,KACnBzc,IAAKwtB,EACLY,YA1BoB,SAACvsB,GAClB2rB,EAAQhD,UACb+C,GAAc,GACdG,EAAgB7rB,KAmBhB,SAME,qBAAK4X,UAAW1B,EAAQ2Y,WC7EfQ,GApBwC,SACrDpe,GACI,IACIhP,EAAoBgP,EAApBhP,MAAOkV,EAAalG,EAAbkG,SAEf,OACE,cAAC,GAAD,CACEY,OAAO,SACPE,MAAO,cAAC,GAAD,CAAa/b,MAAO,GAAI+F,MAAOA,EAAOkV,SAAUA,IAFzD,SAIE,cAACqB,GAAA,EAAD,CACEzM,MAAO9J,EACP6U,WAAS,EACT9U,KAAK,SACLmV,SAAU,SAACnX,GAAD,OAAOmX,EAAS5b,OAAOyE,EAAEyV,OAAO1J,cCsDnCkK,gBAxD4C,SACzDhF,GACI,IAAD,EAWCA,EATFlP,SACEC,EAHD,EAGCA,KACAC,EAJD,EAICA,MACAC,EALD,EAKCA,QACAK,EAND,EAMCA,SACA+sB,EAPD,EAOCA,cACAC,EARD,EAQCA,SACAC,EATD,EASCA,QAIJ,OACE,qCACE,cAAC5W,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAW7W,MAAOA,EAAOkV,SAAUoY,MAGrC,cAAC3W,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,QAAQlB,UAAU,MAAMqB,cAAe,EAAzD,SACE,eAACuX,GAAA,EAAD,CACEC,KAAG,EACH9uB,KAAK,OACLmL,MAAO/J,EACPmV,SAAU,SAACnX,GAAD,OAAOwvB,EAAQj0B,OAAOyE,EAAEyV,OAAO1J,SACzC7K,MAAO,CAAEyuB,SAAU,UALrB,UAOE,cAACC,GAAA,EAAD,CACE7jB,MAAO9N,GAAa4xB,OACpBC,QAAS,cAACC,GAAA,EAAD,CAAO1xB,KAAK,QAAQoE,MAAM,YACnCutB,MAAM,WAER,cAACJ,GAAA,EAAD,CACE7jB,MAAO9N,GAAagyB,OACpBH,QAAS,cAACC,GAAA,EAAD,CAAO1xB,KAAK,QAAQoE,MAAM,YACnCutB,MAAM,kBAKd,cAACpX,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CACE5W,QAASA,EACTmpB,MAAO,SAACrrB,GAAD,OAAOuC,EAASvC,EAAEwC,OAAQxC,EAAEyC,QACnC6oB,SAAUgE,EAHZ,SAKE,cAAC,GAAD,cC7DJ3Z,GAAYC,cAAW,SAAC9C,GAAD,OAC3B+C,aAAa,CACX+E,KAAK,aACH1e,MAAO4W,EAAM7N,QAAQ,IACrB7I,OAAQ0W,EAAM7N,QAAQ,IACtB+Q,QAAS,OACTU,WAAY,SACZwZ,eAAgB,SAChB/uB,SAAU,WACVooB,OAAO,aAAD,OAAezW,EAAM5Q,QAAQ8Q,QAAQC,MAC3C8C,OAAQ,WACLjD,EAAMc,SAEXtQ,MAAO,CACLkK,SAAU,OACVC,UAAW,OACXnM,cAAe,aAuCN6uB,GA7B4C,SACzDlf,GACI,IACI/N,EAAkB+N,EAAlB/N,IAAKiU,EAAalG,EAAbkG,SACPjB,EAAUP,KAWhB,OACE,eAACiD,GAAA,EAAD,CAAK/B,UAAU,QAAQe,UAAW1B,EAAQ0E,KAA1C,UACE,uBACE1D,QAAM,EACNlV,KAAK,OACLouB,UAAQ,EACRzY,OAAO,UACPR,SAhBe,SAACnX,GACfA,EAAEyV,OAAO4B,OACVrX,EAAEyV,OAAO4B,MAAMzU,OAAS,GAC1BuS,GAASnV,EAAEyV,OAAO4B,MAAM,IAAI3V,MAAK,SAAC7B,GAC5BA,aAAkB0X,aAAaJ,EAAStX,SAc9C,qBAAK+X,UAAW1B,EAAQ5S,MAAOJ,IAAKA,EAAKmtB,IAAI,SCapCC,GAjDsC,SACnDrf,GACI,IACI/M,EAAmB+M,EAAnB/M,eAENhB,EAMEgB,EANFhB,IACA7G,EAKE6H,EALF7H,MACA2G,EAIEkB,EAJFlB,WACAutB,EAGErsB,EAHFqsB,cACAC,EAEEtsB,EAFFssB,SACAvtB,EACEiB,EADFjB,SAGF,OACE,qCACE,cAAC2V,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CACEjC,UAAU,MACVkB,OAAO,SACPE,MAAO,cAAC,GAAD,CAAc/U,IAAKA,EAAKiU,SAAUlU,IAH3C,SAKE,cAACuV,GAAA,EAAD,CACEzM,MAAO1P,EACPya,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,IAAM2c,KAAM,IAC/BxB,SAAU,SAACnX,GAAD,OAAOwwB,EAASj1B,OAAOyE,EAAEyV,OAAO1J,eAIhD,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,UAAlB,SACE,eAACuO,GAAA,EAAD,CACEva,MAAO/I,EACPmU,SAAU,SAACnX,GAAD,OAAOuwB,EAAcvwB,EAAEyV,OAAO1J,QACxCwa,cAAY,EACZzP,WAAS,EAJX,UAME,cAAC0P,GAAA,EAAD,CAAUza,MAAM,SAAhB,oBACA,cAACya,GAAA,EAAD,CAAUza,MAAM,WAAhB,sBACA,cAACya,GAAA,EAAD,CAAUza,MAAM,WAAhB,sBACA,cAACya,GAAA,EAAD,CAAUza,MAAM,YAAhB,kCCMGkK,gBAlDoC,SAAChF,GAA0B,IAAD,EAGvEA,EADF1T,OAAUyE,EAF+D,EAE/DA,KAAMS,EAFyD,EAEzDA,MAAOV,EAFkD,EAElDA,SAAUmC,EAFwC,EAExCA,eAAgBsrB,EAFwB,EAExBA,QAASiB,EAFe,EAEfA,SAG5D,OACE,qCACE,cAAC7X,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,eAAC2W,GAAA,EAAD,CACEC,KAAG,EACH9uB,KAAK,OACLmL,MAAO/J,EACPmV,SAAU,SAACnX,GAAD,OAAOwvB,EAAQj0B,OAAOyE,EAAEyV,OAAO1J,SAJ3C,UAME,cAAC6jB,GAAA,EAAD,CACE7jB,MAAOlJ,GAAS6tB,MAChBZ,QAAS,cAACC,GAAA,EAAD,CAAO1xB,KAAK,QAAQoE,MAAM,YACnCutB,MAAM,UAER,cAACJ,GAAA,EAAD,CACE7jB,MAAOlJ,GAAS8tB,SAChBb,QAAS,cAACC,GAAA,EAAD,CAAO1xB,KAAK,QAAQoE,MAAM,YACnCutB,MAAM,aAER,cAACJ,GAAA,EAAD,CACE7jB,MAAOlJ,GAAS+tB,MAChBd,QAAS,cAACC,GAAA,EAAD,CAAO1xB,KAAK,QAAQoE,MAAM,YACnCutB,MAAM,eAIF,IAAThuB,EACC,cAAC4W,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWrW,MAAOA,EAAO0U,SAAUsZ,MAEnC,KACM,IAATzuB,EAAa,cAAC,GAAD,CAAcD,SAAUA,IAAe,KAC3C,IAATC,EACC,cAAC,GAAD,CACEkC,eAAgBA,EAChBhB,IAAKgB,EAAehB,IACpB7G,MAAO6H,EAAe7H,QAItB,WC1CK4Z,gBAZ0B,WACvC,IAAMhS,E9CkCW+Q,KAAT/Q,K8CjCR,OACE,qCACE,cAAC2U,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,qBAEF,cAAC,GAAD,CAAU9a,OAAQ0G,U,oBCAlB0R,GAAYC,cAAW,kBAC3BC,aAAa,CACXoB,SAAU,CACR5V,QAAS,GACTC,cAAe,QAEjB0kB,MAAO,CACL9K,KAAM,QAkGGjF,gBA7F4B,WACzC,IAAMC,EAAUP,KAD+B,EAEHX,KAApC5Q,EAFuC,EAEvCA,OAAQQ,EAF+B,EAE/BA,UAAWisB,EAFoB,EAEpBA,aACnB1W,EAAyD/V,EAAzD+V,SAAU7V,EAA+CF,EAA/CE,SAAUwsB,EAAqC1sB,EAArC0sB,YAAazsB,EAAwBD,EAAxBC,QAAS0sB,EAAe3sB,EAAf2sB,WAElD,OACE,qCACE,eAACnY,GAAA,EAAD,CACE/B,UAAU,QACVb,QAAQ,OACRU,WAAW,SACXmC,SAAU,EACVC,QAAS,EALX,UAOE,cAACT,GAAA,EAAD,CAAYxB,UAAU,MAAMe,UAAW1B,EAAQ8P,MAA/C,oBAPF,MAWE,cAACgL,GAAA,EAAD,CACE3yB,KAAK,QACL4b,QAASrV,EACTuS,SAAU,SAACnX,GAAD,OAAO6wB,EAAa7wB,EAAEyV,OAAOwE,YAd3C,QAkBA,sBAAKrC,UAAWhT,EAAY,GAAKsR,EAAQe,SAAzC,UACE,cAAC2B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,SAASE,MAAM,KAAjC,SACE,cAACO,GAAA,EAAD,CACEzM,OAAa,OAAN3H,QAAM,IAANA,OAAA,EAAAA,EAAQlI,QAAS,EACxB4a,WAAS,EACT9U,KAAK,SACLyW,WAAY,CAAEzc,IAAK,GACnBmb,SAAU,SAACnX,GAAD,OAAOma,EAAS5e,OAAOyE,EAAEyV,OAAO1J,eAKhD,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,YAAYlB,UAAU,MAAMqB,cAAe,EAA7D,SACE,eAAC+Y,GAAA,EAAD,CAAa5yB,KAAK,QAAQoE,MAAM,UAAhC,UACE,cAACmU,GAAA,EAAD,CACEiB,QAAS,kBAAMkZ,EAAW,SAC1B5e,QAAqB,SAAZ9N,EAAqB,YAAc,WAF9C,kBAMA,cAACuS,GAAA,EAAD,CACEiB,QAAS,kBAAMkZ,EAAW,UAC1B5e,QAAqB,UAAZ9N,EAAsB,YAAc,WAF/C,mBAMA,cAACuS,GAAA,EAAD,CACEiB,QAAS,kBAAMkZ,EAAW,WAC1B5e,QAAqB,WAAZ9N,EAAuB,YAAc,WAFhD,2BAUN,cAACuU,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,aAAalB,UAAU,MAAMqB,cAAe,EAA9D,SACE,eAAC+Y,GAAA,EAAD,CAAa5yB,KAAK,QAAQoE,MAAM,UAAhC,UACE,cAACmU,GAAA,EAAD,CACEiB,QAAS,kBAAMiZ,EAAY,UAC3B3e,QAAsB,UAAb7N,EAAuB,YAAc,WAFhD,mBAMA,cAACsS,GAAA,EAAD,CACEiB,QAAS,kBAAMiZ,EAAY,UAC3B3e,QAAsB,UAAb7N,EAAuB,YAAc,WAFhD,mBAMA,cAACsS,GAAA,EAAD,CACEiB,QAAS,kBAAMiZ,EAAY,UAC3B3e,QAAsB,UAAb7N,EAAuB,YAAc,WAFhD,0BASN,cAAC,GAAD,CAAU/G,OAAQ6G,aCtGpBuR,GAAYC,cAAW,kBAC3BC,aAAa,CACXoB,SAAU,CACR5V,QAAS,GACTC,cAAe,QAEjB0kB,MAAO,CACL9K,KAAM,QAwEGjF,gBAnE4B,WAAO,IAAD,EACHjB,KAApCxQ,EADuC,EACvCA,OAAQG,EAD+B,EAC/BA,UAAWusB,EADoB,EACpBA,aACnBC,EAA8C3sB,EAA9C2sB,WAAYC,EAAkC5sB,EAAlC4sB,WAAYC,EAAsB7sB,EAAtB6sB,QAASZ,EAAajsB,EAAbisB,SACnCva,EAAUP,KAEhB,OACE,qCACE,eAACiD,GAAA,EAAD,CACE/B,UAAU,QACVb,QAAQ,OACRU,WAAW,SACXmC,SAAU,EACVC,QAAS,EALX,UAOE,cAACT,GAAA,EAAD,CAAYxB,UAAU,MAAMe,UAAW1B,EAAQ8P,MAA/C,oBAPF,MAWE,cAACgL,GAAA,EAAD,CACE3yB,KAAK,QACL4b,QAAStV,EACTwS,SAAU,SAACnX,GAAD,OAAOkxB,EAAalxB,EAAEyV,OAAOwE,YAd3C,QAkBA,sBAAKrC,UAAWjT,EAAY,GAAKuR,EAAQe,SAAzC,UACE,cAAC2B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,YAAYE,MAAM,KAApC,SACE,cAACO,GAAA,EAAD,CACEzM,OAAa,OAANvH,QAAM,IAANA,OAAA,EAAAA,EAAQ1I,UAAW,EAC1Bgb,WAAS,EACT9U,KAAK,SACLiV,UAAWtS,EACXwS,SAAU,SAACnX,GAAD,OAAOmxB,EAAW51B,OAAOyE,EAAEyV,OAAO1J,eAIlD,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,YAAYE,MAAM,KAApC,SACE,cAACO,GAAA,EAAD,CACEzM,OAAa,OAANvH,QAAM,IAANA,OAAA,EAAAA,EAAQrI,UAAW,EAC1B2a,WAAS,EACT9U,KAAK,SACLiV,UAAWtS,EACXwS,SAAU,SAACnX,GAAD,OAAOoxB,EAAW71B,OAAOyE,EAAEyV,OAAO1J,eAIlD,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,QAAQE,MAAM,KAAhC,SACE,cAACO,GAAA,EAAD,CACEzM,OAAa,OAANvH,QAAM,IAANA,OAAA,EAAAA,EAAQC,OAAQ,EACvBqS,WAAS,EACT9U,KAAK,SACLiV,UAAWtS,EACX8T,WAAY,CAAEvX,MAAO,CAAEgH,UAAW,SAAWlM,IAAK,GAClDmb,SAAU,SAACnX,GAAD,OAAOqxB,EAAQ91B,OAAOyE,EAAEyV,OAAO1J,eAI/C,cAAC6M,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWrW,OAAa,OAAN+B,QAAM,IAANA,OAAA,EAAAA,EAAQ/B,QAAS,GAAI0U,SAAUsZ,eCxD5Cxa,gBArBqC,WAAO,IAAD,EACxBjB,KAAxBnQ,EADgD,EAChDA,QAASysB,EADuC,EACvCA,WAEjB,OACE,qCACE,cAAC1Y,GAAA,EAAD,CACE/B,UAAU,QACVb,QAAQ,OACRU,WAAW,SACXmC,SAAU,EACVC,QAAS,EALX,SAOE,cAACT,GAAA,EAAD,iCAEF,cAACO,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWrW,MAAOoC,GAAW,GAAIsS,SAAUma,YCZ7C3b,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJC,SAAU,SACV3e,MAAO,cAgCEq1B,GA3B8B,WAC3C,IAAMrb,EAAUP,KAEhB,OACE,eAACiD,GAAA,EAAD,CACEmC,QAAQ,qBACR/E,QAAQ,OACRgF,cAAc,SACdH,SAAS,SACTjD,UAAW1B,EAAQ0E,KALrB,UAOE,cAAChC,GAAA,EAAD,CAAKmC,QAAQ,qBAAqBE,UAAW,EAAGjW,QAAS,EAAzD,SACE,cAACqT,GAAA,EAAD,CAAYlG,QAAQ,YAApB,4BAEF,eAACyG,GAAA,EAAD,CAAKsC,KAAM,EAAG9e,OAAQ,EAAGye,SAAS,cAAlC,UACE,cAAC,GAAD,IACA,cAACM,GAAA,EAAD,IACA,cAAC,GAAD,IACA,cAACA,GAAA,EAAD,IACA,cAAC,GAAD,IACA,cAACA,GAAA,EAAD,IACA,cAAC,GAAD,W,qBCeOqW,OA5Cf,SACErzB,EACAszB,GAEO,IADPC,EACM,uDADiB,GAEjBC,EAAWtY,sBAAYoY,EAAS,CAACA,EAASC,IAC1CE,EAAcvY,uBAClB,SAACrZ,GACCA,EAAE0nB,iBACF1nB,EAAEqsB,kBAFe,IAGTwF,EAAoC7xB,EAApC6xB,QAASC,EAA2B9xB,EAA3B8xB,OAAQC,EAAmB/xB,EAAnB+xB,OAAQC,EAAWhyB,EAAXgyB,OACjC,GAAIH,EAAS,CACX,IAAII,GAAK,IACLl2B,KAAKmN,IAAI8oB,GAAU,KAAIC,GAAK,IAChCN,EAAS,CAAEO,WAAYF,EAASC,EAAGF,OAAQ,EAAGC,OAAQ,QACjD,CACL,IAAInrB,GAAKkrB,EACLjrB,GAAKkrB,EACM,IAAXD,GAAgBD,GAAU/1B,KAAKmN,IAAI8oB,GAAU,KAC/CnrB,GAAKmrB,EACLlrB,EAAI,GAEN6qB,EAAS,CACPI,OAAQlrB,EACRmrB,OAAQlrB,EACRorB,WAAY,OAIlB,CAACP,IAGHrY,qBAAU,WACR,GAAKnb,EAAIwqB,QAAT,CAEA,IAAMwJ,EAAMh0B,EAAIwqB,QAMhB,OAJAwJ,EAAIhlB,iBAAiB,QAASykB,EAAa,CACzCQ,SAAS,IAGJ,kBAAMD,EAAI7F,oBAAoB,QAASsF,OAC7C,CAACzzB,EAAKyzB,KCrCL/C,GAAQ,CACZhoB,EAAG,EACHC,EAAG,GAqGUurB,OAlGf,SACEC,GAE4D,IAD5DZ,EAC2D,uDADpC,GACoC,EACzBvb,mBAAS,CACzCoc,IAAI,EACJC,IAAI,IAHqD,oBACpDC,EADoD,KACzCC,EADyC,KAMrDC,EAAaC,mBAAQ,WACzB,OAAIH,EAAUF,IAAME,EAAUD,GAAW,EACrCC,EAAUF,GAAW,EAClB,IACN,CAACE,EAAUF,GAAIE,EAAUD,KAEtBK,EAAexZ,sBAAYiZ,EAAD,CAAUA,GAAV,oBAAqBZ,KAE/CoB,EAAiBzZ,uBACrB,SAACrZ,GACC,IAAM+yB,EAAsB,KAAd/yB,EAAEgzB,SAA6B,YAAXhzB,EAAEgC,KAChCywB,EAAUF,KAAOQ,GACrBL,GAAa,SAACtP,GACZ,OAAO,2BACFA,GADL,IAEEmP,GAAkB,KAAdvyB,EAAEgzB,SAA6B,YAAXhzB,EAAEgC,YAIhC,CAACywB,EAAUF,KAGP9F,EAAkB,SAACzsB,GACvB,GAAKyyB,EAAUF,GAAf,CAD8D,IAEtDpG,EAAqBnsB,EAArBmsB,QAASD,EAAYlsB,EAAZksB,QACjB2C,GAAMhoB,EAAIslB,EACV0C,GAAM/nB,EAAIolB,EACVwG,GAAa,SAACtP,GACZ,OAAO,2BACFA,GADL,IAEEoP,IAAI,SAKJS,EAAa5Z,uBACjB,SAACrZ,GAAmB,IACVmsB,EAAqBnsB,EAArBmsB,QAASD,EAAYlsB,EAAZksB,QACTrlB,EAASgoB,GAAThoB,EAAGC,EAAM+nB,GAAN/nB,EAEPqlB,EAAUtlB,IAAM,GAAKqlB,EAAUplB,IAAM,IAEzC+rB,EAAa,CACX/2B,QAASqwB,EAAUtlB,EACnB1K,QAAS+vB,EAAUplB,IAGrB+nB,GAAMhoB,EAAIslB,EACV0C,GAAM/nB,EAAIolB,KAEZ,CAAC2G,IAGGK,EAAY7Z,uBAAY,WAC5BqZ,GAAa,SAACtP,GACZ,OAAO,2BACFA,GADL,IAEEoP,IAAI,SAGP,IA2BH,OAzBAlZ,qBAAU,WAIR,OAHA7K,OAAOtB,iBAAiB,UAAW2lB,GACnCrkB,OAAOtB,iBAAiB,QAAS2lB,GAE1B,WACLrkB,OAAO6d,oBAAoB,UAAWwG,GACtCrkB,OAAO6d,oBAAoB,QAASwG,MAErC,CAACA,IAEJxZ,qBAAU,WASR,OARImZ,EAAUF,IAAME,EAAUD,IAC5B/jB,OAAOtB,iBAAiB,YAAa8lB,GACrCxkB,OAAOtB,iBAAiB,UAAW+lB,KAEnCzkB,OAAO6d,oBAAoB,YAAa2G,GACxCxkB,OAAO6d,oBAAoB,UAAW4G,IAGjC,WACLzkB,OAAO6d,oBAAoB,YAAa2G,GACxCxkB,OAAO6d,oBAAoB,UAAW4G,MAEvC,CAACA,EAAWD,EAAYR,EAAUF,GAAIE,EAAUD,KAE5C,CAACG,EAAYlG,ICrGhB9W,GAAYC,cAAW,gBAAGhC,EAAH,EAAGA,QAAH,OAC3BiC,aAAa,CACX+E,KAAM,CACJzZ,SAAU,WACVjF,MAAO,OACPE,OAAQ,OACRye,SAAU,SACVK,KAAM,EACNnF,OAAQ,SAAC9E,GACP,OAAwB,IAApBA,EAAMkiB,UAAwB,WACV,IAApBliB,EAAMkiB,UAAwB,OAC3B,YAGX/3B,OAAO,2BACFwY,GADC,IAEJmb,gBAAiB,UACjB5tB,SAAU,WACVC,KAAM,MACNzC,IAAK,MACLzC,MAAO,SAAC+U,GAAD,gBAA0BA,EAAM/U,MAAhC,OACPE,OAAQ,SAAC6U,GAAD,gBAA0BA,EAAM7U,OAAhC,OACRuW,WAAY,SAAC1B,GAAD,gBAA0BA,EAAM/U,OAAS,EAAzC,OACZ4yB,UAAW,SAAC7d,GAAD,gBAA0BA,EAAM7U,QAAU,EAA1C,OACX4yB,UAAW,SAAC/d,GAAD,sBACAA,EAAM5U,MADN,uBAC0B4U,EAAMnV,QADhC,cAC6CmV,EAAM9U,QADnD,QAEXi3B,eAAgB,mBAkHPnd,gBA7GgC,WAAO,IAAD,EAS/ClB,KAPFxI,EAFiD,EAEjDA,UACA3Q,EAHiD,EAGjDA,GAHiD,IAIjDmJ,OAAUC,EAJuC,EAIvCA,QAASG,EAJ8B,EAI9BA,KAAMC,EAJwB,EAIxBA,UAAkBiuB,EAJM,EAIbn3B,MAA0Bo3B,EAJb,EAIKl3B,OACtDgU,EALiD,EAKjDA,UACSvL,EANwC,EAMjD3D,MAAS2D,QACTsL,EAPiD,EAOjDA,WACAojB,EARiD,EAQjDA,UAEMr3B,EAA2CN,EAA3CM,MAAOE,EAAoCR,EAApCQ,OAAQC,EAA4BT,EAA5BS,MAAOP,EAAqBF,EAArBE,QAASK,EAAYP,EAAZO,QACjCq3B,EAAYjM,iBAA0B,MACtCkM,EAASlM,iBAAuB,MAZa,EAad8K,IACnC,SAACqB,GAAgB,IACEC,EAAoBD,EAA7B53B,QAAsB83B,EAAOF,EAAhBv3B,QACN03B,EAA+Cj4B,EAAtDS,MAAoBy3B,EAAkCl4B,EAA3CE,QAAsBi4B,EAAqBn4B,EAA9BO,SAChC63B,EAD8Dp4B,EAAjBo4B,cAChC,CACXl4B,QAASg4B,EAAKH,EAAKE,EACnB13B,QAAS43B,EAAKH,EAAKC,MAGvB,CAACj4B,IAtBgD,oBAa5Cu3B,EAb4C,KAajC1G,EAbiC,KAyB7CvW,EAAUP,GAAU,CACxBzZ,QACAE,SACAC,QACAP,UACAK,UACAg3B,cAkEF,OA/DA3B,GACEiC,GACA,SAAChY,GAAU,IACQqY,EAA6Cl4B,EAAtDE,QAAsBi4B,EAAgCn4B,EAAzCO,QAAoB03B,EAAqBj4B,EAA5BS,MAAW23B,EAAiBp4B,EAAjBo4B,aACvC5Q,EAAIyQ,EAAKpY,EAAKyW,WAGpB8B,EAAa,CACXl4B,QAHQg4B,EAAKrY,EAAKsW,OAAS3O,EAI3BjnB,QAHQ43B,EAAKtY,EAAKuW,OAAS5O,EAI3B/mB,MAAO+mB,MAGX,CAACxnB,IAGH0d,qBAAU,WACJka,EAAU7K,SAAW6K,EAAU7K,UAAYxY,GAC7CojB,EAAUC,EAAU7K,WACrB,CAAC6K,EAAWrjB,EAAYojB,IAE3Bja,qBAAU,WACR,GAAKlJ,IAAa7D,GAAcrQ,GAAUE,EAA1C,CACA,IAAMhB,EAASo4B,EAAU7K,QACzB,GAAKvtB,EAAL,CAEAA,EAAOc,MAAQA,EACfd,EAAOgB,OAASA,EAEhB,IAAMiD,EAAMjE,EAAOkE,WAAW,MACzBD,IAEDwF,IACFxF,EAAIgK,UAAYxE,EAChBxF,EAAI40B,SAAS,EAAG,EAAG74B,EAAOc,MAAOd,EAAOgB,SAG1CgU,EAAUjO,SAAQ,SAAC+H,GAEfA,EAAMU,QACiB,IAAvBV,EAAMU,OAAO1O,OACW,IAAxBgO,EAAMU,OAAOxO,QAEbiD,EAAI0I,UACFmC,EAAMU,OACNV,EAAMrD,GAAK7B,GAAW,GACtBkF,EAAMpD,GAAK9B,GAAW,YAI3B,CACDH,EACAuL,EACA7D,EACAnQ,EACAF,EACA8I,EACAG,EACAC,EACAiuB,EACAC,IAIA,qBACE7I,eAAA,EACAtsB,IAAKs1B,EACL7b,UAAW1B,EAAQ0E,KACnB2R,YAAaE,EAJf,SAME,wBAAQtuB,IAAKq1B,EAAW5b,UAAW1B,EAAQ9a,c,UClJ3Cua,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAH,OAC3B2T,aAAa,CACX+E,KAAM,CACJ1e,MAAO,OACP0W,WAAY1Q,EAAQ0Q,WAAWO,MAC/BjL,UAAW,SACX8N,QAAS,OACTka,eAAgB,SAChBxZ,WAAY,SACZvZ,SAAU,GACV6H,QAAS,EACTkvB,kBAAmB,QACnB5yB,cAAe,OACfmB,MAAOP,EAAQ1F,KAAK0W,UACpB/R,SAAU,YAEZiV,QAAS,CACPjV,SAAU,WACVC,KAAM,EACNzC,IAAK,OACLzC,MAAO,aAkBE+Z,gBAbiC,WAAO,IAAD,EAC1BlB,KAAlBxI,EAD4C,EAC5CA,UAAW3Q,EADiC,EACjCA,GACXM,EAAkBN,EAAlBM,MAAOE,EAAWR,EAAXQ,OACT8Z,EAAUP,KAEhB,OACE,sBAAKiC,UAAW1B,EAAQ0E,KAAxB,kCACwB1e,EADxB,MACkCE,EAC/BmQ,EAAY,cAAC4nB,GAAA,EAAD,CAAgBvc,UAAW1B,EAAQE,UAAc,WCzBrDge,GAT8B,WAC3C,OACE,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,Q,aCAAze,GAAYC,cAAW,kBAC3BC,aAAa,CACXhZ,OAAQ,CACNsE,SAAU,WACV,mBAAoB,CAClByR,WAAY,kBACZyhB,QAAS,mBAGbC,OAAQ,CACN,YAAa,CACX1hB,WAAY,kBACZyhB,QAAS,oBAGbv3B,KAAM,QAmDKmZ,gBA3CwC,SACrDhF,GACI,IAAD,EAGCA,EADFpL,KAAQL,EAFP,EAEOA,QAASC,EAFhB,EAEgBA,QAASoH,EAFzB,EAEyBA,KAEtBqJ,EAAUP,KACV/Z,EAAKsZ,KAUX,OACE,mCACGrI,EAAKnK,KAAI,SAACN,EAAM4N,GAAS,IAAD,EACjBhE,EAAG,UAAM5J,EAAKvF,QAAX,OAAoBmT,GAC7B,OACE,qBACEya,eAAA,EACA7S,UAAWuT,aAAKjV,EAAQrZ,QAAT,oBACZqZ,EAAQoe,OAASlyB,EAAKvF,SAAWjB,EAAGmB,cADxB,eAEZmZ,EAAQpZ,KAAOsF,EAAKvF,SAAWjB,EAAGoB,kBAFtB,IAIfkE,MAAO,CACLhF,MAAOkG,EAAKlG,MACZE,OAAQgG,EAAKhG,OACbgF,KAAK,GAAD,OAAKgB,EAAKyE,EAAIrB,EAAd,MACJ7G,IAAI,GAAD,OAAKyD,EAAK0E,EAAIrB,EAAd,OAGLoS,QAAS,SAAC7X,GAAD,OA3BE,SACnBA,EACAnD,EACAC,GAGAkD,EAAEqsB,kBACFzwB,EAAG24B,gBAAgB13B,EAAQC,GAoBH03B,CAAax0B,EAAGoC,EAAKvF,OAAQuF,EAAKtF,QAD7CkP,WC7CX2J,GAAYC,cAAW,gBAAGhC,EAAH,EAAGA,QAAH,OAC3BiC,aAAa,CACX+E,KAAK,yBACHzZ,SAAU,WACV+Z,KAAM,EACNhf,MAAO,OACPE,OAAQ,OACRye,SAAU,UACPjH,GAND,IAOFmC,OAAQ,SAAC9E,GACP,OAAwB,IAApBA,EAAMkiB,UAAwB,WACV,IAApBliB,EAAMkiB,UAAwB,OAC3B,aAGXhb,KAAM,CACJ4W,gBAAiB,UACjB5tB,SAAU,WACVC,KAAM,MACNzC,IAAK,MACLzC,MAAO,SAAC+U,GAAD,gBAA0BA,EAAM/U,MAAhC,OACPE,OAAQ,SAAC6U,GAAD,gBAA0BA,EAAM7U,OAAhC,OACRuW,WAAY,SAAC1B,GAAD,gBAA0BA,EAAM/U,OAAS,EAAzC,OACZ4yB,UAAW,SAAC7d,GAAD,gBAA0BA,EAAM7U,QAAU,EAA1C,OACX4yB,UAAW,SAAC/d,GAAD,sBACAA,EAAM5U,MADN,uBAC0B4U,EAAMnV,QADhC,cAC6CmV,EAAM9U,QADnD,SAGbf,OAAQ,CACNc,MAAO,OACPE,OAAQ,OACRg3B,eAAgB,kBA2LPnd,gBAtLmC,WAChD,IAAM3K,EAAUyJ,KADsC,EAE9BoB,mBAA+B,MAFD,oBAE/CtQ,EAF+C,KAEzC4uB,EAFyC,KAIpD74B,EAgBE0P,EAhBF1P,GAJoD,EAoBlD0P,EAfFpK,MACE9C,KACEC,EAPgD,EAOhDA,KACAR,EARgD,EAQhDA,WACAY,EATgD,EAShDA,OACAC,EAVgD,EAUhDA,QACAC,EAXgD,EAWhDA,IACAC,EAZgD,EAYhDA,WACAC,EAbgD,EAahDA,YACAC,EAdgD,EAchDA,OACA41B,EAfgD,EAehDA,YACAC,EAhBgD,EAgBhDA,YAGJpoB,EACEjB,EADFiB,UAEM7P,EAAiDd,EAAjDc,aAAcC,EAAmCf,EAAnCe,eAAgBC,EAAmBhB,EAAnBgB,eAEhC42B,EAAYjM,iBAA0B,MACtCkM,EAASlM,iBAAuB,MAxBgB,EAyBjB8K,IACnC,SAACqB,GAAgB,IACEC,EAAoBD,EAA7B53B,QAAsB83B,EAAOF,EAAhBv3B,QAEL03B,EAIZj4B,EAJFc,aACgBo3B,EAGdl4B,EAHFe,eACgBo3B,EAEdn4B,EAFFgB,gBAGFg4B,EADIh5B,EADFg5B,qBAEkB,CAClBj4B,eAAgBm3B,EAAKH,EAAKE,EAC1Bj3B,eAAgBm3B,EAAKH,EAAKC,MAG9B,CAACj4B,IAvCmD,oBAyB/Cu3B,EAzB+C,KAyBpC1G,EAzBoC,KAyChDvW,EAAUP,GAAU,CACxBzZ,MAAO2J,EAAOA,EAAK3J,MAAQ,EAC3BE,OAAQyJ,EAAOA,EAAKzJ,OAAS,EAC7BC,MAAOK,EACPZ,QAASa,EACTR,QAASS,EACTu2B,cAuHF,OApHA3B,GACEiC,GACA,SAAChY,GAAU,IAESqY,EAIdl4B,EAJFe,eACgBo3B,EAGdn4B,EAHFgB,eACci3B,EAEZj4B,EAFFc,aACAk4B,EACEh5B,EADFg5B,oBAEIxR,EAAIyQ,EAAKpY,EAAKyW,WAGpB0C,EAAoB,CAClBj4B,eAHQm3B,EAAKrY,EAAKsW,OAAS3O,EAI3BxmB,eAHQm3B,EAAKtY,EAAKuW,OAAS5O,EAI3B1mB,aAAc0mB,MAGlB,CAACxnB,IAGH0d,qBAAU,WACR,GAAKka,EAAU7K,UAAWpc,GAAc1G,EAAxC,CAEA,IAAMzK,EAASo4B,EAAU7K,QACnBtpB,EAAMjE,EAAOkE,WAAW,MAC9B,GAAKD,EAAL,CACA,IAAMw1B,EAAKx2B,EAAOR,EAElBzC,EAAOc,MAAQ2J,EAAK3J,MACpBd,EAAOgB,OAASyJ,EAAKzJ,OACrByJ,EAAKgH,KAAK1K,SAAQ,SAACC,GACZA,EAAKwI,QAAgC,IAAtBxI,EAAKwI,OAAO1O,OAAsC,IAAvBkG,EAAKwI,OAAOxO,QAE3DiD,EAAI0I,UAAU3F,EAAKwI,OAAQxI,EAAKyE,EAAIhB,EAAKL,QAASpD,EAAK0E,EAAIjB,EAAKJ,YAGlE,IAhBc,eAgBLqvB,GACN,CAACr2B,EAAQC,EAASC,EAAKC,EAAYC,EAAaC,GAAQqD,SACvD,SAAC4yB,GACC,IAAMC,EAAQj5B,KAAK0iB,MAAMsW,EAAWL,EAAcI,EAAQD,GAC1Dx1B,EAAI41B,YACJ51B,EAAI61B,QAAQrvB,EAAKL,QAASwvB,EAAQ,GAAMnvB,EAAKJ,SAC7CpG,EAAI81B,OAAOtvB,EAAK3J,MAAO84B,EAAQ,GAAMnvB,EAAKJ,SACtCsvB,IAAaL,GAAeK,IAAaJ,GAC3Ct1B,EAAI8J,YAAc,gBAClB9J,EAAI+1B,YAAY,MAEhB/1B,EAAI8J,YAAc,kBAClB9J,EAAI+1B,YAAY,CAAC,GAAI,EAAG,EAAG,KAE7B/1B,EAAI+E,YAGR/E,EAAI41B,YACJ51B,EAAI61B,OAAuB,GAAfrvB,EAAKL,QAAesvB,EAAQD,EAAKhvB,EAAKJ,SAClDpG,EAAI81B,OACc,GAAftvB,EAAKL,QACNsvB,EAAQD,EAAKhvB,EAAKJ,QAAUkvB,EAAcD,GAE5Cr1B,EAAI8J,YAAc,gBAClB9J,EAAI+1B,YAAY,IAChB/1B,EAAI+E,UAzBG0wB,EAAQ,EAAGA,EAAQjvB,EAAKwvB,MAAOP,GAAS,EAAI,EAA5CA,OA2BR,CACDl2B,EACAE,EACA+G,EACAnH,EACAG,EACA0N,EACA1O,EACA82B,EACAl2B,EACAi2B,EACAr2B,EACAM,IAGF2a,qBAAU,WACR,GAAKka,EAAU7K,UAAWpc,GAEXinB,EAAU7K,QACNrpB,WAAW,MAC9B,CALc,MAOc+d,GAAa/R,GAAjCqQ,EAPM,EAONA,MAAOC,EAPD,EAOCA,SACT0Z,EAA+C,IAAIhrB,IACzDsR,EAAS/O,KAAK1K,SAAQ,YAAgC,IAA7Byc,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,OAAQL,EAAa,EAAbA,OACjC8W,EAAWppB,IAAI0S,IAAQ0W,EAAWjrB,IAAIuU,EAAO,IAAItU,KACtD,IAAM2a,EAAIqQ,EAAWznB,IAAI+Q,GACxB,OAADqG,QAAC,IAADA,KAAG5a,IAAIwU,EAAQL,MAEjB,IAAM+W,EAAmC,IAAIjrB,IAC7CqR,EAAM9O,KAAK1K,SAAQ,SAACsa,GAClB8Y,EAAQlrB,IAAIoS,EAAK5f,OAAQ4f,MAE3B,IAAMoY,EAAKx2B,EAAOR,EACZ+Q,ECvLK,SACbpS,EACAmf,EACAC,EACA/d,EACA0K,GAGA,IAAMsE,EAAsB,GACtBwoB,EAAQ74B,EAAKgT,MAAM,cACrBgmB,EAAO,EACPC,EAAO,EACPC,EAAO,EACPC,EAAO,EACP7uB,EAAI,EACJD,EAAI,EAiCR,OA/BAwuB,EAAMlzB,SAAQ,SAAC8M,EAAK6lB,GAClBhuB,EAAIjJ,EAAai3B,EACjBjuB,EAAI,EACJ,IAAMrJ,EAAM6R,MAAMC,KAAKL,GACvBzR,EAAI2E,SAAQ,SAACtF,EAAQmT,GACnB,IAAMyM,EAAOd,EAAM9N,IAAIhR,GACvB,GAAK4f,EAAL,CACA,IAAM3f,EAAOU,EAAIwS,EAAM,GACjB4lB,EAAKha,EAAS/N,IAAIhR,EAAOiH,WAAW,IACtC+xB,EAAS,EACT/4B,GAAQ84B,GAAMA,EAAG1pB,IAAIpP,EAAKgH,WAAW,MACvC+xB,EAASD,EAAG/nB,IAAI/Q,EAAKgH,WAAW,KAAO,GAEzC,IAAM8K,EAAM,CACV/H,EAAGA,EAAI4V,EAAK0B,QACZrX,EAAGA,EAAI2V,EAAK2B,QACZliB,MAAOugB,EAAKvgB,OAASugB,EAAK4B,SAC1BjiB,OAAQqgB,EAAKrgB,QAAUmM,EACvBqC,OAAQ6R,EAAK7R,OACb/N,OAAQ4f,EAAK5f,OACbC,QAEF+J,GAAK4V,EAAK4B,SAAWwX,EACrBL,EAAOz5B,KAAKC,IAAI4S,EAAI/H,EAAG2uB,GACvBC,EAAO15B,KAAKC,IAAI4S,EAAI9H,EAAG2uB,GACvBC,EAAO35B,KAAKE,IAAI2S,EAAI/H,EAAI+H,EAAI1S,MAAOw5B,GACnCC,EAAO55B,KAAKE,IAAI2S,EAAI9H,EAAI2V,EAAKrgB,OAAQu5B,GACrC9oB,EAAKnP,KAAKkR,UAIP,CACLymB,MAAOA,EAAMzyB,OACbiK,OACArH,QAASgwB,EACT/vB,QAASgwB,EACTv5B,MAAOw5B,EAAOF,EACdp5B,OAAQL,KAAKE,IAAI05B,EAAOF,EAAMJ,EAAMzyB,OAAS/E,EAAa43B,IDiI9CK,CACVl6B,EAAGC,YACH05B,EACAD,EACAT,EACAF,EAAcD,GAEhBD,GAAQ,kBAAM7lB,QACb,CACDrC,EACA1O,EACA82B,EACAD,EACAppB,EACAjN,EACAzC,EAAGC,cAIH,qBACE4uB,eAAA,EACAtsB,IAAKs1B,EACL7b,UAAW1B,EAAQ0E,KACnB2R,YAAaE,EACb5U,QAAS,kBAAMjc,EAAG24B,gBAAgB,GAAI,KALxC,SAOE,sBAAK3c,UAAW1B,EAAQiC,KAAxB,UACE,wBAAQha,IAAKq1B,EAAW5b,UAAW1B,EAAQ9a,SAC1CyK,EAAO,cAAC,GAAD,CAAYA,KAAMA,IAAW,aEnL9BoQ,gBA5C6B,WAAO,IAAD,EACRf,KAAhCrZ,EADwC,EACxCA,YAAak6B,EAD2B,EAC3BA,eAD2B,EAEtB5f,oBAAS,GAFa,oBAEzC6C,EAFyC,KAElCC,EAFkC,OAGd9C,mBAASta,GAHK,oBAGzCqd,EAHyC,KAG9BC,EAH8B,KAqBhD,OACE,eAACP,GAAA,EAAD,WACE,cAACA,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,uBAEF,cAACO,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACS,GAAA,EAAD,CACEjI,OAAO,OACPvF,MAAOiN,EAAQE,EAAYrd,EAC3Bib,WAAS,EACT0C,WAAS,EACTC,KAAM,EACNtH,QAAQ,WACRsG,WAAY,CAAEiB,YAAY,GAC1BvC,SA9BY,SAACC,GAAyD,IACpErL,EAAUqL,EAAM3B,OAAhB1J,MACJiN,EACFG,EAAapN,IAEboN,EAAapN,GACTA,IAAUlQ,GAAak6B,EAAehqB,KAyBtC4N,mBAAoB,kBAAMV,GAAS,IACnCW,iBAtBqB,WAC3BX,GAAS,GACTE,EAAaD,GACTA,IAAcrd,GAAak6B,EAAe7c,cCcnCjD,gBAhCkC,WAC/C,IAAM3K,EAAUyJ,KACR3E,EAAkB9E,EAAlB8E,UAAWxU,EAAO0P,EAAP1P,GACbsO,EAAQkG,EAAUzC,MAAK,SAACuX,GAAD,OAAQA,EAAGroB,SAAWjB,EAAGmB,gBACtD,IAAKmN,EAAO,OAAO,KAJkC,IAK7CC,EAAyBD,EAAzBC,aAActN,EAAWqN,EAAXrN,OAEpB0I,EAME4E,EANF5E,SACAC,EAKE2E,EALF3E,QACAC,EAIE0E,EAJF1E,QACA8U,EAGEpQ,EAHFoQ,YACAC,EAEErQ,EAFFqQ,WACAC,EACEtQ,EADFsQ,WAGF,OACE,qCACE,cAAC7B,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,qBAAiBxb,EAAjB,oBAEF,cAAC,GAAD,CACE0I,SAAUA,EACVC,QAASA,EACTC,QAASA,EACT8U,YAAaA,EACbC,WAAYA,EACZC,WAAYA,UC+CLxE,gBAvEkC,WAAO,IAAD,EAOjDlB,KALF3E,EAFmD,EAEnDA,UACAxU,EAHmD,EAGnDA,GAHmD,IAInDsF,MACE9C,KAAQW,EALyC,EAKzCA,SAAUV,EAL+B,EAK/BA,KAL+B,EAQzB8X,mBAAS,GARgB,oBAQ9C3T,EAR8C,KAQtCwzB,EARsC,OAS3B7f,qBAT2B,oBAS9CjM,EAT8C,KASvC+rB,EATuC,OAUvB9f,mBAAS,GAVc,oBAU9C/L,EAV8C,KAUrC8rB,EAVqC,KAYrD5c,qBAAU,WACR2c,EAAS7lB,EAAUzC,MAAK,SAACuX,GAAD,OAAQA,EAAGroB,SAAWjB,EAAGmB,mBAChD,CAACqT,EAAWxU,EAAGmB,eAElBuc,qBAAU,WACR,GAAIpP,GAAStO,EAAGoB,kBAAoB+B,EAAU,CAC5C,IAAMue,EAAa,EAAIve,EAASwe,WAAclf,EAC9C23B,EACEj6B,KAAK0iB,MACH1f,EAAS2f,gBACP3f,EAAS4f,iBAAiBzU,EAAMrN,QAChCkC,EAAS4f,iBAAiB/iB,EAAGoB,mBAC3BsgB,OAIT,CAACpT,EAAOnL,EAAUV,EAAMzC,EAAGoB,mBAsB9B,OAbAsc,qBAAU,WACR,IAAI6c,EASJ,OAPIjsB,IACFgsB,EAAWhsB,EAAME,QAAQyD,IAAIjS,EAAGoB,mBAAqB,GACrDm5B,EAAWtnB,YAAY3E,EAAME,SAAS,WACpC8rB,EAAWhsB,EAAME,QAAQyD,IAAIjS,EAAGoB,mBAAqB,OAIlDm5B,IACN,CAACjsB,EAAOtO,EAAGoB,mBAETkN,GAAUtO,EAAGoB,iBAGhB,qCACE,cAAC4b,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAACT,GAAA,EAAD,qBAAiBnO,EAAMrN,OAAvB,gBAAqCjB,EAAGoB,iBAAxC,iBAEF,cAAC4b,GAAA,EAAD,CAAKC,SAAU,EAAGC,QAAS,EAA3B,SACE,cAAC,GAAD,CAAWf,OAAO,UAAUE,MAAM,KAAlC,SACE,cAACO,GAAA,EAAD,CACEzM,MAAO3B,EAAU5H,EACjBsU,WAAS,EACT9U,KAAK,SACLmV,SAjCW,SACnBnX,GAEIkK,GACFA,EAAMksB,WAAWx6B,EAAGoB,iBAAkBzB,OAAOyE,EAAEyV,OAAO1J,OAASvJ,aAgBxB,QClC9B6zB,GAnB6B,WAC1C,OACE,qCACE,cAAC,GAAD,IACA,eAAC7f,GAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,aAA3B,UACE,cAACF,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAI,EAAf,SACE,cAAC2f,GAAD,MAEF,cAAC9f,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAI,EAAf,SACE,cAAC4f,GAAD,MAEF,cAAC/f,GAAA,EAAD,CAAMpU,MAAI,EAACuU,GAAI,EAAf,SACE,cAAC6f,GAAD,aCVJ7gB,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAH,OAC3B2T,aAAa,CACX,uBAAwB,CACtBvG,KAAM,CAAEjO,QAAS,EAAG2tB,UAAW,uBAC/ByH,GAAI,CAAEp1B,QAAS,EAAG2tB,UAAW,oBAE/BpU,KAAM,CACJ/G,gBAAiB3R,EAAQ0Q,WAAWQ,QACpCjS,SAAU,WACV6U,QAAS,OACTkF,KAAM,EACNF,cAAe,UAEjBmM,MAAO,CACLhmB,SAAU,WACVC,KAAM,EACNzC,IAAK,EACLzC,MAAO,OACP0qB,OAAQ,GACRhU,WAAY1Q,EAAQuf,MAAMxO,KAC1B/K,UAAW,SACX8N,QAAS,OACTka,eAAgB,SAChBxZ,WAAY,SACZvZ,SAAU,GACV6H,QAAS,EACT0xB,cAAe,aACfxC,kBAAmB,QACnB5yB,cAAe,QAEjBq1B,KAAM,CACJ5P,YAAa,QAsBJ9Q,gBAjB8B,WAAO,IAAD,EACbf,KAA5BzY,EADyC,EACzCA,YAAaQ,EAD4B,EAC5BA,WACfiZ,EAAUP,KAEhB,OACE,sBAAKiC,UAAW1B,EAAQ0E,KAAxB,UACG3d,EACC,sBAAK2a,UAAW1B,EAAQiR,MAAxB,UACE,cAAC,KAAD,CAAkBvP,UAAW1B,EAAQygB,KAAMx5B,SAAS,YADtD,uEAIE,KACHV,EAAc,cAAC,GAAD,IAAc,cAAC,GAAD,U,+BCnD7BkZ,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAH,OAC3B2T,aAAa,CACX+E,KAAM,CACJgc,UAAW,OACXlkB,SAAU,OACVlF,SAAU,OACVpR,OAAQ,OACRyB,WAAY,OACZmH,QAAS,OACTvC,MAAO,wBACPoR,gBAAiB,kBACjBgjB,YAAY,aAAD,OAAe30B,EAAQ0Q,WAAWQ,SAC7C8T,cAAe,OACflR,QAAS,cACTU,WAAY,SACZwZ,eAAgB,gBAChBna,OAAQ,UACR,UAAW,CACT,UAAW,CACT1U,QAAS,IAGb,eAAgB,CACdw1B,YAAa,WAGjBzrB,SAAU,CACRwH,WAAY1Q,EAAQ0Q,WAAWQ,QAC/B3Q,MAAO,OACP,UAAW,CACTpB,QAAS,IAGbT,KAAM,CACJk2B,WAAY,SACZ31B,SAAU,WACVyR,WAAY,WAEdmkB,OAAQ,CACNt0B,MAAO,iBAEToQ,MAAO,CACL1R,SAAU,WACVjF,MAAO,OACPE,OAAQ,OACRgF,KAAM,EACNjE,SAAU,UACV6H,QAAS,EACTukB,OAAQ,SACRyN,WAAY,OACZv0B,MAAO,UACPmQ,WAAY,WAEd+jB,KAAM,CACJz6B,MAAO,OACPE,OAAQ,OACRuW,WAAY,OACZtR,QAAS,QAyHA41B,GAnGwC,SACrDhmB,GACI,IAEFrQ,EAQEqQ,EARFrQ,KACAs2B,EAOEjmB,EAPFimB,UACA9rB,EAME6F,EANF7F,SACAW,EAKEkF,EALFlF,MACAoL,EAIElG,EAJFkG,SACAU,EAGE5G,EAHF4G,QACAsf,EAEElmB,EAFFkmB,SACAC,EACEnmB,EADFmmB,SATC,EAWyBjhB,oBAAS,GAXlC,oBAWI4gB,EAXJ,KAWYM,EAXZ,OAYuBlhB,mBAASvV,GAZhC,oBAYI02B,EAZJ,KAYWC,EAZX,KAaGC,EAAYjQ,iBAAyB,MACrCrR,EAAUP,KAEV8hB,EAAe,SAACz3B,GACpBA,EAAEqsB,kBACE8K,GAAUA,EAASn3B,EAAG+L,IA4C5B,OATAuN,qBAAU,WACJyd,GAAUS,EAAU7O,SAAS6O,EAAU7O,QAAQ+O,SAC9CX,GAAUK,GAAUA,EAASE,EAAOvrB,KACxC,CAACgrB,EAAQK,EAAUE,EAAOvrB,IAE7BuN,qBAAU,WACRie,EAAS32B,KACR,CAACA,IAGF,sBACE6pB,eAAA,EACA7S,UAAWuT,aAAKjV,EAAQ0E,KAAT,gBACZ1E,EAAQ9K,SAAWA,IAEtByM,QA/CiB,SACnB7X,GAEAA,EAAEqsB,kBACElV,GAAUA,EAASnX,EAAG+L,GACtB8L,GAASA,EAAQ7X,IA2CnB23B,cAxCsB,SACxB33B,GAEAA,EAAEqsB,kBACEmL,EAAU7O,SACZ0O,GAAU,IAoCVrR,MAAM,sBAPR,UASE,uBAAMyE,eAAA,EAAY7S,UAAW1B,EAAQtV,KAArC,UACGm2B,EAASO,EAAQ12B,EAClB,uBACEgX,UAAW1B,EAAQrD,MACnBqE,QAAS6f,EACT54B,IAAKq5B,EACLzrB,MAAOgrB,EAASO,EAAQ12B,EACxBoB,KAAK,OACL41B,UArCc,SAAC53B,GACH,KAAdA,EAAEgzB,SAAkBwE,EAAU7O,SAChC6O,EAAU7O,QAAQlkB,QAoCdozB,OA3CgB,SAAC73B,GACnBA,EAAE0nB,gBAAgB1nB,EAAE0nB,iBACxB2P,GAAU,IA2CJlgB,SAlCY,SAACnX,GACnBu3B,EAASv3B,EAAEyV,OAAO1J,aAoCfmrB,EACC,cAAC,KAAD,CACEtf,UAAW1B,EAAQygB,KACnB9e,QAAS4f,EACTE,cAAeF,IAEf,SC7KJ9hB,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAS2nB,EAAZ,EAAYA,QAAZ,OAC3BhU,aAAa,CACX+E,KAAM,CACJgc,UAAW,OACX16B,MAAO,OACP+e,UAAW4O,EAAQ,GACnBjX,WAAY1Q,EAAQ0Q,WAAWW,QAC/BpS,SAAU,WACVylB,OAAQ,QA6DC3Q,gBAxDiC,WAC9C,IAAMC,EAAUP,KACVmiB,EAAYnjB,KAEhB6S,EAMEsQ,EANFtQ,WACAuQ,EAKED,EALFC,cACAC,EAIEF,EAJFE,cACAC,EAGEH,EAHFG,eACAxnB,EAEEqnB,EAFFrnB,UACAF,EACEunB,EADFvnB,SAOIknB,EAAe,SACnBz3B,EACA+L,GAEqB,qBAAVA,GAAuBisB,EAAcjsB,IAOlD,OACE,cAACmsB,GAAA,EAAD,CACEhiB,QAASA,EACTnK,MAAOwE,EACP4G,SAnBiB,SAACnX,EAAY+L,GAChCgsB,EAAchsB,IAmBZosB,eAAe,UACfC,UAAU,UACVjmB,QAAQ,aACRkmB,cAAc,MACdC,uBAAqB,EACrBC,kBAAmB,CAAErhB,QAAQ,GAC7BygB,cAfsB,WACxBnQ,KAIA,SAYG/W,EAAU/N,KAAI,SAACN,GACd,OACE,cAAC,GAAD,CACE80B,UAAWzmB,EAAU7N,OAAS,EAC9BhC,KAAMwB,EAAKxB,KACXmL,MAAO3J,EAAKC,GAEZ+0B,SAAUa,EACVd,SAAUM,GAFLr1B,EAAKC,Y,8BCnDhBsT,GAAYC,cAAW,kBAC3BC,aAAa,CACX2iB,OAAQ,CACNt8B,MAAO,cAsFE+Z,gBAjFkC,WAAO,IAAD,EAQjDf,KANF7Y,EAFmD,EAEnDA,MACA23B,EAHmD,EAGnDA,aACAt3B,EAJmD,EAInDA,aACAk4B,EALmD,EAKnDA,oBACAn4B,EANmD,EAMnDA,YACAg8B,EAPmD,EAOnDA,eAEIviB,EAAUP,KATqC,EAU7BQ,oBAAS,GAVoB,oBAU9CoP,EAV8C,KAUxCC,EAVwC,KAW/CkT,EAAYnR,iBAA0B,MAXS,EAYtCpR,mBAAS,CAAC,IAAM,GAAK,IAAM,EAAG,KAAM,IAAK,EAAG,KAApDtJ,EAZ8C,qBA4B/C8rB,EAAe,SAACvhB,EAAgBqO,GAChChpB,EACFm4B,EAAoB,CAAEl4B,aAAc+oB,IAEpCuO,EAAa,CAAE33B,MAAOopB,KAU1B,OACE,eAAC7M,GAAA,EAAD,CAAKC,SAAU,EAAG7C,QAAQ,OAAOka,eAAe,gBAAhD,UACE,eAACtX,GAAA,EAAD,CAAK/B,UAAU,QAAQb,QAAQ,OAAOU,WAAW,SAAjD,oBAEE,cAACsa,GAAA,EAAD,CACE3yB,KAAK,QACLoE,MAAM,UACNwX,QAASxd,EACT0a,SAAU,SAACnX,GAAD,OAAOy4B,EAAez4B,EAAEyV,OAAOwE,eAG7C,cAAC2e,GAAA,EAAD,CACEhhB,UAAW1B,EAAQsiB,OACnBzsB,MAAOtP,EAAcC,EAAeL,EACpCL,IAAK,IACLC,IAAK,GACL0c,KAAM,IACNxB,SAAUwhB,IAEZ,cAAC/hB,GAAA,EAAD,CAAQzY,IAAKu6B,EAAW7gB,QAhDP,WACnB2N,GAAQ,SAACqT,GAAD,OAAeA,MA+CrB,mBACM98B,KAAK0iB,MAA6C,KAAtChiB,EAAcC,EAAeL,IAAiB,GADhE,OAGA,cAAC2tB,GAAA,EAAD,CAAQzE,KAAMA,EAAMkE,SAAUiP,EAAU/P,QAASe,UAAU,UAA3D,SACE,cAACoP,GAAA,EAAD,UACE,cAACxO,GAAA,EAAD,CAAmBE,YAjDP,SAACpT,GAEjBshB,EAAU/P,SACV+P,EAAU/P,QAAQoQ,SAAS3hB,EAAM3B,SAKnC+P,GAAQ,IAyCF,SACE,cAACwT,GAAA,EAAD,UACGnsB,EAAKnK,KAAI,SAACpH,GAAD,OACR,cAACkrB,GAAA,EAAD,CAAkB3O,QAAS,kBA/BvC8gB,EAAa,EA+B6Cr9B,QA9B1DkqB,GAAQ,IA8BI,mBACU,IAAJlqB,EADN,MAAeA,oB,iJC7EzBqa,GAAYC,cAAW,SAAC9C,GAAD,OAC3B+C,aAAa,CACX+E,KAAM,CACJ1e,MAAO4W,EAAM7N,QAAQ,IACrB7I,OAAQ0W,EAAM7N,QAAQ,IACtBqM,OAAQwB,EAAM7N,QAAQ,GACtB+Q,QAAS,OACTU,WAAY,SACZwZ,eAAgB,SAChB/uB,SAAU,YAEZmC,MAAO,CACLkK,SAAU,OACVC,UAAW,OACXnM,cAAe,QAEjB23B,QAAS,CACP/8B,MAAO,OACPE,OAAQ,OACR+E,SAAU,WACVC,KAAM,EACNzC,IAAK,GAEPu6B,WAAY,CACVh9B,MAAO,OACPE,OAAQ,OACR,UAAW,CACT8L,UAAW,gBA8EJ+N,gBAnEwC,SACrDhF,GAEA,IAAMiF,EAAUP,KACRwjB,EAAgBpkB,KAAhBokB,YAFL,EAGuBhjB,oBAAS,GAHhC,oBAGI6C,EAHJ,KAGWC,EAHX,KAIK/O,EAAU+G,EAAV/G,MAJL,EAKiCiM,mBAASjM,EAAMrN,QALhD,oBAKIu8B,EALJ,KAKgBC,EALhB,KAMKC,EAAqCpvB,EAArCovB,aAAcluB,EAAuBlB,EAAvBkB,SAAU6qB,EAAa/rB,EAAb+rB,SAkBhC,OACE,eAAC6C,GAAA,EAAD,CAAO3mB,QAAQ,WAAWyF,UAAW1B,EAAQ0E,KAA7C,UACE,qBAAKhD,UAAW1B,EAAQ5S,MAAOJ,IAAKgH,EAAMhH,IAAKmtB,IAAKnmB,EAAMa,WAC1D,eAACyL,GAAA,EAAD,CAAMC,WAAS,EAAC8iB,UAAU,SAAS3hB,UAAW1B,EAAQ+iB,QAAtD,UACE,eAACziB,GAAA,EAAD,CAAMpU,MAAI,EAACqU,WAAS,EAAC2B,QAAQ,gBAAgB1B,WAAW,SAAxD,UACE,cAACsD,GAAA,EAAD,CACEC,QAAS7O,EACT/M,KAAK,QACLoE,MAAM,UACN0U,SAAU,SAACnX,GAAD,OAAOs5B,EAAat5B,EAAEyV,OAAOwE,YAEzC,cAAC6O,GAAA,EAAD,CACErmB,MAAM,UACNpE,KAAK,QACLwZ,QAAS,kBAAMshB,EAAYjvB,IAH7B,SAKE,cAAC,KAAD,CAAY/M,SAAS,eAGzB,cAACqZ,GAAA,EAAD,CACEpU,MAAI,EACJuU,IAAE,EACFE,UAAU,QACVe,UAAW1B,EAAQgjB,WACnBziB,WAAS,EACTC,WAAW,WANb,SAQE,cAAC8iB,GAAA,EAAD,CACE1iB,WAAS,EACT/K,MAAOiN,EAAQogB,EAAalvB,EAAMrN,OAClC48B,QAAS,SAACz5B,GAAD,OAAOA,EAAEyV,OAAO6e,UACzBoF,QA/CgB,SAAC15B,GAAkD,IACnE+L,EAAU/L,EAAEyV,OAAZ1J,MACHiN,GAGHqgB,EAActtB,EAAM+V,MAAM,EAAG,IAC7BmU,EAASlqB,EAAM+V,MAAM,EAAG,KAHxBmU,EAASlqB,IA6CH6N,iBAtCmB,WAC3BX,GAAS,GACTogB,GAAc,SAACM,GAAD,OAAQA,EAAG7X,MAAM,EAAG,MAClCmU,EAASmD,EAAWtX,MAAM,EAAG,KAoCrBnI,mBAAoB,kBAAMV,GAAS,iBCvGzCtD,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJ1e,MAAO,OACP8Z,QAAS,OACT2Z,SAAU,aAiBD1Z,gBAZoC,WAAO,IAChDhK,EAAgB8I,KAAhB9I,YACFiK,EAAUP,KAChB,OACE,cAACiD,GAAA,EAAD,CAAKhB,UAAW1B,EAAQ0E,KAAxB,SACG3O,EAAYvJ,KAAI,SAACwH,GAChB,OAAO,cAAC,GAAD,CAAYA,MAAOA,GAAYA,EAAMhH,aCA9CyS,GAAYC,cAAW,kBAC3BC,aAAa,CACX+E,KAAM,CACJ5E,QAAS,OACT7U,SAAU,YAEZy4B,MAAO,CACLz4B,SAAU,QACVC,KAAM,EACNzC,IAAK,EACLioB,OAAQ,OACR1qB,MAAO,OACPE,OAAQ,OACR,WAAY,CACVqR,UAAW,SAGfosB,MAAO,CACL39B,MAAO,OACP8Z,QAAS,OACTgF,cAAe,SACfvN,UAAW,SAEbqsB,SAAU,CACR5e,KAAM,EACNL,SAAU,SACVkf,UAAW,QAEbC,SAAU,CACRpD,UAAW,QACXx6B,OAAQ,OACRF,MAAO,OACP2e,SAAU,SACVkf,UAAW,aAmIF9jB,gBA9H8B,WAC3C,IAAMC,EAAUP,KACRskB,EAAcllB,KAAdklB,UAFyC,EAGX9jB,oBAAS,GAHE,oBAG1C+jB,EAH0C,KAG5BC,EAH4B,OAIzBhkB,oBAAS,GAJgB,oBAI1CoP,EAJ0C,KAIpCC,EAJoC,KAO3C4U,EAAiB,SAAC/iB,GACtB,IAAMxK,EAAOwC,MAAMC,KAAK+H,GAAOvK,QAAO,SAACsI,GAAD,MAAU,WAAWilB,KAAKjlB,EAAKpT,SAChE6K,EAAKjK,QACV3C,QAAQ8P,IACNlD,EAAKnK,KAAI,SAAC0S,GAAD,OACPD,GAASC,GAAM1T,MAAK,SAAC7B,GACnB,IAAKA,GAA4B,kBAAXA,EAAqB,OAAO,KAElD,IAAMy6B,EAAUllB,EAAKxU,KAAKgQ,MAAM,wBAChC,MAAO,CACL/T,OAAQy9B,EAAUA,EAAQ,GAAK,GAC/BvvB,SAAUqK,EAAKxU,KACfoK,SAAUoK,EAAKpT,KACfnC,iBAIN6B,MAAK,SAAC64B,GACNN,EAAUM,EAASztB,QAAO,SAAC0tB,GAAD,OAAOA,UAyB/BC,EAAgB,SAACz6B,GACrB,IAAMyV,EAASzV,EAAEyV,OACC,KAAdzV,EAAEgzB,UACCvd,GAA6B,UAAnBA,EAAOilB,QACbjlB,GAAQA,EAAOhR,OADmB01B,GAAc,KAW7D,OANA7gB,qBAAU,WAGR,OAFI4gB,EAAczrB,OAAOtB,iBAAiB,UAAWstB,GAChDhsB,OAAO6d,oBAAoB,UAAWmO,GACpC,kBAAMhsB,OAAO6d,oBAAoB,UAAWmO,MAClD,CAACP,IAGF,cAACthB,GAAA,EAAD,CACE+hB,YAAa,SAAC36B,GAAD,OAAOA,EAAE0nB,kBACtBkT,WAAY,SAAC56B,GAAD,OAAOA,EAAE0nB,kBAErBmT,OAxCe,SAAC76B,GAClBA,EAAE0nB,iBACF0S,EAAep6B,EAAE86B,aAAazjB,QAuC5BO,UAAWuT,aAAKjV,EAAQ0E,KAAT,gBACZ1E,EAAQ0jB,MAAQM,IANrB,SASE,eAACa,GAAA,EAAD,CACEnjB,UAAW1B,EAAQ2jB,MACnBmB,SAAUd,GAAgB3U,EAC1BpO,SApCmB,WACvBqO,GAAQ,SAACyV,GAAD,OAAOf,IAAiBe,MAoC5BC,gBAAiB,CACfh6B,MACEg5B,GAAgB3U,EACZ,CAAErK,KAAM,EAAGL,SAAU,SAAUkf,UAAW,QAC1C,IARV,UAWE,cAACoB,GAAA,EAAD,CACEC,WAAYlB,OAAena,EAAY,cAAC,KAAD,IADzC,SAGE,eAACvJ,GAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,SAA3B,UACE,cAACF,GAAA,EAAD,CAAMpU,MAAI,EAAV,SACE,cAACiW,GAAA,EAAD,iCAEF,cAAC7B,GAAA,EAAD,CAAMpU,MAAI,EAACuU,IAAE,EAACF,WAAS,EAAC2B,QAAQ,SAAhC,SACE,eAACxB,GAAA,EAAD,CACEC,UAAU,QACVpU,MAAM,UACNpE,KAAK,QACL8T,QAAQ,YACR4E,UAAW,cAAC,KAAD,IALb,0BAQE,uBACEG,QAAM,EACNlV,KAAK,OACLouB,UAAQ,EACRzY,OAAO,UACPR,SA9DU,SAACnX,GACzB,GAAKA,EAAEyV,OAAO4B,MAAd,CAD0E,IAElEA,EAAUrX,EAAEyV,OAAZ4B,MACR+iB,EAAe/iB,YA+DP,cAACb,GAAA,EAAD,CAAMpU,MAAI,EAAV,SACE,cAAC0mB,GAAA,EAAD,CAAYjS,UAAU,MAAMgB,QA7ET,SAC7B7X,GAEIA,GAAGA,EAAEqsB,kBACT8N,GAAc,SAACK,GAAD,OAAQA,MAyEZ,SACGN,EAAe,cAAC,KAAD,IAAyB,cAAC,KAAD,aAKjD,cAACmB,GAAA,EAAD,CAAkBzjB,UAAW1B,EAAQ4jB,SAArC,SACE,cAAClhB,GAAA,EAAD,CAAKhB,UAAW1B,EAAQ8jB,SAAxB,SACE,cAAC,GAAD,gBC7KNrkB,GAAYC,cAAW,gBAAG1T,EAAH,EAAGA,QAAS2nB,EAAZ,EAAYA,QAAZ,OAC3BhU,aAAa,CACX+E,KAAM,CACJzZ,SAAU,WACV+Z,KAAM,EACNlF,QAAS,OACTgF,cAAe,SACfkV,eAAgB,SAChBh0B,MAAO,GAETo/B,SAAU,CACR1E,UAAW,OACX16B,MAAO,OACP+e,UAAW4O,EAAQ,GACnBjX,WAAY1Q,EAAQ0Q,WAAWW,QAC/BpS,SAAU,WACVylB,OAAQ,GAEV2U,QAAS,CACP3E,UAAW,OACXlkB,SAAU,OACVlF,SAAU,OACVpR,OAAQ,OACRqG,MAAO,wBACPo0B,YAAY,aAAD,OAAe30B,EAAQ0Q,WAAWQ,SAC7C8T,cAAe,QAEjBsU,YAAa,CACX5oB,WAAY1Q,EAAQ0Q,WAAWQ,SAEjCqoB,WAAY,CACVh5B,MAAO,aAkBEi5B,GAb+B,WAC5C,IAAMxlB,EAAUP,KAEhB,OACE,eAACiD,GAAA,EAAD,CAAKhB,UAAW1B,EAAQ0E,KAAxB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QC9CAjF,GAAYC,cAAW,SAAC9C,GAAD,OAC3B+C,aAAa,CACX8lB,MAAO,CACL32B,QAAS8N,EAAM7N,QAAQ,UAgBd,SAAS22B,KACtB,IAAM1lB,EAAUP,KAD6B,EAErBgZ,IAAMxY,UAAS,GAFM,oBAEtCoP,EAFsC,KAEhCC,EAFgC,KAIvCK,EAAc,SAClBzO,EACAykB,GAEe,cAAXA,GAGJrW,GAAQ,IAGJsW,EAAgBnN,IAAMtV,aAAY,SAACjC,GAAW,IAC1C2kB,EAAW3kB,EAAX2kB,OACRvW,IAAUuW,KACT,IAYH,OANApN,IAAMrV,WAAU,WAEd,OADA7K,OAAOtB,iBAAiB,eAAgB2uB,GAAe,GAChD,kBACLrtB,OAAO6d,oBAAoB,eAAgBwP,GAAe,MAC3D,CAACA,IAGF,cAAC9S,GAAA,EAAD,CACEC,aAAc,CACZC,SAAU,SACVC,WAAY,QAEd5D,KAAMA,EACNW,QAASL,EACTnO,QAAQ,4BACR9c,OACE,eAAC,IAAMohC,SAAP,WACE,cAACplB,GAAA,EAAD,CAAQnU,MAAM,YAAYpE,KAAK,QAAQwZ,QArB1B,WACnBpJ,OAAOwtB,SAASC,UAoBV,oBAGA,cAACpT,GAAA,EAAD,CACEqT,aAAW,QACX15B,MAAM,UACNmV,UAAW1B,EAAQylB,MACnB9jB,QAASgO,EAJX,SAME,cAAC,KAAD,WC5DZ,IAAMlQ,GAAYC,cAAW,gBAAGgR,EAAH,EAAGA,OAAH,OAC3B/Q,aAAa,CACX+E,KAAM,CACJ1e,MAAO,OACPE,OAAQ,OACR4Z,QAAS,OACTgF,cAAe,UAEjBwN,QAAS,CACPxS,QAAS,OACTkF,KAAM,EACN/Z,SAAU,WACV/E,OAAQ,IACRye,SAAU,UAEZuhB,gBAAiB,CACfxV,OAAQA,EAAOyV,OAAS,EACxB55B,MAAO,aAyBEwT,gBApB0B,WACvC,IAAMC,EAAUP,KACR/Z,EAAO4Y,KAAP5Y,GAER,OACE,eAACgd,GAAA,EAAD,CAAKhB,UAAW1B,EAAQ0E,KAAxB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,eAAChC,GAAA,EAAD,CAAKhB,UAAW1B,EAAQsS,QAAxB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,cAAC8T,GAAA,EAAD,CAAU1kB,UAAW1B,EAAQkmB,gBAAiB7W,OAAQ3pB,EAAGZ,aAAzD,SACE,cAACgc,GAAA,EAAD,CAAkBvU,MAAM,oBC9BjB85B,OAXf,WACE,OACE,eAACC,EAAA,EAAD,CAAe1pB,MAAOA,GAAtB,UACE,cAAC2pB,EAAA,EAAD,IACA,cAAC,IAAD,2B7EEG,CAAE7gC,GAAI,IAAIjB,EAAMia,UAAW,IAAItE,K6EFlC,aACE,cAAC,GAAD,WCHFosB,GAAcpa,QACW,cAA7B7T,OAAOwtB,SAASU,UAEe,UAA7BluB,OAAOwtB,SAASU,UAEhBluB,OAAOwtB,SAASU,SAAS/rB,MACvB,2DA2CN,SAASgsB,GAAgBC,EAAet/B,GACtCu/B,UAAUC,cACPC,SAASH,GACTn7B,MAAK,SAACu7B,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBpK,QACf+J,UAAUC,cAAcO,YAI1BC,QAAQC,IACN,+GAKEjgC,GAAUA,EAAO+tB,UACnB/tB,EAAO+tB,SAAS2R,KAMlBM,QAAQC,IAAI,sCAGRjgC,GAAUA,EAAOkgC,WACnBlgC,EAAOkgC,UAAUR,WAO5BzlB,OAAM,SAACiK,GACN8b,QAAQ9b,MAAM,4CAA6CA,MC9FjEic,IAASC,OAAO,cAAC,GAAD,IAASx+B,SAASy+B,eAAe,SDoB1C,SAAkBrgC,GACvB,GAA6C,kBAAmBu/B,UAAW,CAGzE,GADkB,IAAIr8B,IAAIo9B,IAAwBpvB,OAAOwtB,SAASlT,MACpD+U,SAAWrvB,OAAOwtB,SAAS6B,OAIvC,OAGFrvB,OAAOtB,iBAAiB,QAAQ,WAC9B,IAAM0vB,EAAK,UAAMgB,IAAN,sBAEPnB,KAgEV,SAAiCG,EAAet/B,GAE9CwgC,MAAMlB,EAAO,CACXmB,QAAS,CAAE,iBAAkB,YAE5Bt8B,MAAK,SAACu8B,GAEL,IAAMC,EAAcD,EAASD,QAAQnwB,IAAI,gBAEnB,MAApBowB,EAASE,QACO,MAAfD,IAA8D,IAAvCA,EAAYjuB,QAAQ,cAG5C6sB,UAAUC,cAAcqB,MAAM18B,MAAK,SAACu7B,GAClCA,EAAaoB,aAAa38B,MAAK,WAC7B+M,OAAOwtB,SAASC,eAKpBU,GAAgBC,EAAOt/B,MAG1Bia,OAAM,WACL+lB,QAAQC,IACN,oEAvFAc,CAAwBzB,EAAOt/B,GAI/Bu/B,UAAUC,cAAcqB,MAAM18B,MAAK,WACjC67B,QAAQC,IACN,+GAMJZ,GAAgBC,EAAOt/B,OC3C/BghC,CAAmC,CACjCjT,SADiC,SACxB2R,GACP,IAAM1xB,EAAS0xB,EAAauB,QAC5B,GAAKjzB,EAAL,CAEA,IAAMkzB,EAAU,IAAIC,eAEpBD,EAAQE,MAAMC,UAAY,WACxBnwB,OAAOowB,cAAc,IAAIC,YAAY,eAAgB,CAAE/C,OAAQxwB,MAGjEA,EAAO8B,YAAY,CAAErL,KAAM,gBAAkB,CAACy8B,EAAQM,c","file":"static/js/main.9ef761d1.chunk.js","sourcesContent":["import { action, observable } from 'mobx'\n\nclass Ui {\n  @observable globalLoader = 0\n\n  @action.bound showGlobalLoader(num = 1): void {\n    this.globalLoader += num\n  }\n\n  @action.bound hideGlobalLoader(num = -1): void {\n    this.globalLoader += num\n  }\n}\n\nexport default Ui\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/AutoPacker.711f49529e2a10d50a60.worker.js\");\n}\n","type UseType<T, U> = T extends U ? true : false\r\n\r\ntype IsNumber<T> = UseType<T, number>\r\n\r\nconst num = <T>(n: T): IsNumber<T> => {\r\n  return (typeof n === 'number' && !Number.isNaN(n)) as IsNumber<T>\r\n}\r\n\r\nconst is = {\r\n  num,\r\n}\r\n\r\nexport default is\r\n","import fontStyleStringify from './fontStyleStringify'\n\ninterface StyleConig {\n  fontFamily: string\n  fontSize: number\n}\ninterface Baselines {\n  middle: number\n  hanging: number\n  top: number\n  alphabetic: number\n  ideographic: number\n  bottom: number\n}\n\nlet canvas: HTMLCanvasElement\n\nexport default function getTextBaselines(\n  text: string,\n  styleConig: StyleConig,\n): Baselines {\n  if (!canvas) canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n  if (!ctx) throw new Error('Get context 2d failed.')\n  const font = fontStyleStringify(styleConig)\n\n  // clear before settings\n  canvas.width = 1\n  canvas.height = 1\n\n  ctx.font = font\n\n  ctx.textBaseline = 'middle'\n  const middle = ctx.measureText(text)\n  ctx.textBaseline = 'hanging'\n  const hanging = ctx.measureText(text)\n  ctx.textBaseline = 'top'\n  const top = ctx.measureText(text)\n  ctx.textBaseline = 'alphabetic'\n  const alphabetic = ctx.measureText(text)\n  ctx.textBaseline = 'ideographic'\n  const ideographic = ctx.measureText(text)\n  ctx.textBaseline = 'bottom'\n  const bottom = ctx.measureText(text)\n\n  return {\n    middle: 0,\n    hanging: hanging.actualBoundingBoxAscent - middle.actualBoundingBoxAscent,\n    top: top.actualBoundingBoxAscent - middle.actualBoundingBoxAscent,\n    alphabetic:\n      middle.actualBoundingBoxDescent - alphabetic.actualBoundingBoxDescent,\n    ideographic:\n      middle.actualBoundingBoxDescent - ideographic.actualBoundingBoxDescent,\n    bottom: middle.actualBoundingBoxDescent - bottom.actualBoundingBoxDescent,\n  }\n}\n","import is from './is'\r\n\r\nconst num = <T extends unknown>(a: T, b: number): number => {\r\n  if (is.num(a)) return a as number\r\n  return b\r\n}\r\n\r\nconst use = {\r\n  num,\r\n}\r\n\r\nexport default use\r\n","import { action, observable } from 'mobx'\r\nimport use from 'src/utils/use'\r\n\r\nclass Ui {\r\n  @observable scale = 1\r\n\r\n  @observable offsetX = 0\r\n\r\n  @observable offsetY = 0\r\n\r\n  @observable width = 0\r\n\r\n  @observable height = 0\r\n\r\n  @observable previewText = 'Hello World!\\nHello Snow Bamboo!' // /\\r\\n|\\r|\\n/\r\n\r\n  @observable selectLetter = ''\r\n\r\n  @observable selectNextLetter = ''\r\n\r\n  @observable showPreview = false\r\n\r\n  @observable previewScale = 1\r\n\r\n  @observable previewOffsetX = 0\r\n\r\n  @observable previewOffsetY = 0\r\n\r\n  @observable packFailed = false\r\n\r\n  constructor(ui: Partial<Ui> = {}) {\r\n    if (ui.previewText) {\r\n      this.previewText = ui.previewText\r\n    }\r\n  }\r\n\r\n  reOffset() {\r\n    this.offsetX = Math.min(\r\n      Math.max(this.width / -2, this.offsetX),\r\n      this.width / 2,\r\n    )\r\n    this.offsetY = Math.min(\r\n      Math.max(this.height / -2, this.offsetY),\r\n      this.height / 2,\r\n    )\r\n    this.scale = Math.max(this.scale, 0.01)\r\n  }\r\n\r\n  @action.bound setTransform(trans: Partial<Ui>): void {\r\n    this.scale = use.num(trans.scale, this.scale)\r\n    this.offsetX = use.num(trans.offsetX, this.offsetX)\r\n    this.offsetY = use.num(trans.offsetY, this.offsetY)\r\n    this.reOffset()\r\n  }\r\n\r\n  @action.bound setSize(width: number, height: number): void {\r\n    this.width = width\r\n    this.height = height\r\n    this.reOffset()\r\n  }\r\n\r\n  @action.bound setPreviewText(text: string): void {\r\n    this.previewText = text\r\n  }\r\n\r\n  @action.bound setShowPreview(showPreview: boolean): void {\r\n    this.showPreview = showPreview\r\n  }\r\n\r\n  @action.bound setPreviewTransform(trans: Partial<Ui>): void {\r\n    this.previewScale = Math.max(\r\n      use.num(trans.previewScale, this.previewScale),\r\n      0.01,\r\n    )\r\n    this.previewOffsetX = use.num(trans.previewOffsetX, this.previewOffsetX)\r\n    this.previewOffsetY = use.num(trans.previewOffsetY, this.previewOffsetY)\r\n  }\r\n\r\n  @action.bound setSelectLetter(letter: string = '', next: string = ''): void {\r\n    this.selectLetter = letter\r\n    this.selectNextLetter = next\r\n  }\r\n\r\n  @action.bound setPackFailed(packFailed: boolean): void {\r\n    this.packFailed = packFailed\r\n  }\r\n}\r\n\r\nexport default Ui\r\n","import is from './is'\n\nexport interface FontStyleConfig {\n  fontStyle?: 'normal' | 'italic' | 'oblique' | string\n  fontVariant?: 'normal' | 'none' | 'small-caps' | string\n  fontWeight?:\n    | 'normal'\n    | 'bold'\n    | 'lighter'\n    | 'bolder'\n    | '100'\n    | '200'\n    | '300'\n    | '400'\n    | '500'\n    | '600'\n    | '700'\n    | '800'\n    | '900'\n    | 100\n    | 200\n    | 300\n    | 400\n    | 500\n    | 600\n    | 700\n    | 800\n    | 900\n    | 'inherit'\n    | 'initial'\n    | 'unset'\n  fontSize?: string | number\n  lineHeight?: string | number\n  fontFamily?: string\n}\n\nconst defaultConfig: FontStyleConfig = {\n  fontSize: '14px',\n  fontFamily: 'sans-serif',\n}\n\n// https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\nexport default function fontStyleStringify(\n  fontStyleConfig: FontStyleConfig,\n): string {\n  const config = { ...defaultConfig, ...fontStyleConfig }\n  const arr = []\n\n  if (config.fontStyle) arr.push(config.fontStyle)\n\n  if (config.fontVariant) arr.push(config.fontVariant)\n\n  if (config.fontWeight) arr.push(config.fontWeight)\n\n  if (is.num(config.fontSize)) {\n    config.fontSize = `${config.fontSize}px`\n  } else {\n    config.fontSize = defaultConfig.fontSize\n  }\n\n  if (config.lineHeight) {\n    arr.push(`${config.fontSize}/${config.lineHeight}`)\n  } else {\n    arr.push(config.fontSize)\n  }\n\n  arr.push(config.fontFamily)\n\n  return arr.join(' ')\n}\n","let fontTargeCache: HTMLStyleElement\nlet loadDiv: HTMLDivElement\n\nexport default function updateFontFace(\n  name: string,\n  url: string,\n): Promise<void> {\n  const cssNode = document.createTextNode(`\n    @font-face {\n        font-family: \"${name}\";\n        src: url(\"${url}\") format('truetype');\n    }`)\n\n  if (!fontTargeCache) {\n    const textNode = document.createTextNode(`A`)\n    fontTargeCache = document.createElement('style')\n    loadDiv = document.createElement('div')\n    document.head.appendChild(fontTargeCache)\n    fontTargeCache.appendChild(cssNode)\n    loadDiv.appendChild(textNode)\n    loadDiv.style.position = 'absolute'\n    loadDiv.style.left = '-1000px'\n    loadDiv.style.top = '-1000px'\n    loadDiv.style.opacity = '0'\n    loadDiv.style.fontSize = '12px'\n    loadDiv.style.pointerEvents = 'none'\n    document.body.appendChild(loadDiv)\n  } else {\n    fontTargeCache.appendChild(cssNode)\n  }\n  loadDiv.style.fontFamily = name\n  return new Promise((resolve) => setTimeout(resolve, 200))\n}\n","import { action, computed, observable } from 'mobx'\r\n\r\n// import GradientPaletteItem from './gradientPaletteItem'\r\n\r\nexport enum GradientType {\r\n  LINEAR,\r\n  RADIAL,\r\n}\r\n\r\nexport interface GradientColor {\r\n  offset: number\r\n  color: string\r\n}\r\n\r\nexport interface GradientPaletteItem extends GradientColor {\r\n  id: number\r\n}\r\n\r\nexport interface GradientColorOption extends GradientColor {\r\n  id?: number\r\n}\r\n\r\nclass Gradient {\r\n  @observable type: GradientType = 0\r\n\r\n  @observable angle: number\r\n\r\n  @observable.shallow palette: GradientPaletteItem[] = []\r\n\r\n  constructor(gradient: Partial<Gradient> = {}) {\r\n    this.type = gradient.type && GradientType[gradient.type] ? gradient.type : 0\r\n    this.angle = gradient.angle || 0\r\n    if (gradient.palette) {\r\n      gradient.palette.forEach((item) => {\r\n        this.palette.push({\r\n          ...item,\r\n          id: item.id || this.nextId,\r\n        })\r\n      })\r\n    } else {\r\n      this.addColor(0, '#FFF')\r\n      this.addColor(1)\r\n    }\r\n  }\r\n\r\n  @computed get ids(): number[] {\r\n    return this.palette.map((color) => color.id)\r\n  }\r\n\r\n  @computed get nextId(): number {\r\n    if (this.ids.length === 0) return 1\r\n    return Math.max(...this.ids) + 1\r\n  }\r\n\r\n  @action.bound setType(type: GradientType): void {\r\n    this.type = type\r\n  }\r\n\r\n  @action.bound setAngle(angle: number): void {\r\n    this.angle = angle\r\n  }\r\n\r\n  @action.bound addColor(offset = 0, color = '#000000'): void {\r\n    this.palette.push({ offset, color, id: this.nextId })\r\n  }\r\n\r\n  @action.bound updatePalette(palette: GradientPaletteItem[]): void {\r\n    this.palette = palette\r\n  }\r\n}\r\n\r\nexport default Gradient\r\n","import { action, observable, computed, runInAction } from 'mobx'\r\nimport getTextBaselines from 'src/utils/getTextBaselines'\r\nimport { parse, Font as OpenType } from 'opentype.js'\r\nimport updateFontFace from 'src/utils/updateFontFace'\r\n\r\nclass Font {\r\n  @observable.ref font: ArrayBuffer | null = null\r\n\r\n  @observable family: string = 'sans-serif'\r\n\r\n  @observable size: number\r\n\r\n  @observable lineHeight = 1.25\r\n\r\n  @observable middle = 0\r\n\r\n  @observable hanging = 0\r\n\r\n  @observable top = 0\r\n\r\n  @observable alphabetic = 0\r\n\r\n  @observable ideographic = 0\r\n\r\n  @observable bottom = 0\r\n\r\n  @observable.ref opentype: OpenType | null = null\r\n\r\n  @computed get minBaseLine() {\r\n    const min = Math.min(\r\n      this.middle,\r\n      this.hanging,\r\n      this.top,\r\n      this.alphabetic,\r\n      this.ideographic,\r\n      this.bottom,\r\n    )\r\n    if (Number.isNaN(Number(min))) return 0\r\n    return min\r\n  }\r\n\r\n  @computed get maxBaseLine() {\r\n    const max = Math.max(\r\n      this.middle,\r\n      this.hanging,\r\n      this.top,\r\n      this.alphabetic,\r\n      this.ideographic,\r\n      this.bottom,\r\n    )\r\n    if (Number.isNaN(Number(max))) return this.size\r\n    return max\r\n  }\r\n\r\n  @computed get hasFont() {\r\n    if (this.font && this.opentype && this.family !== 'sans-serif') return true\r\n    return false\r\n  }\r\n\r\n  constructor(font: Partial<Font> = {}) {\r\n    this.size = font.size || 72\r\n    this.lineHeight = font.lineHeight || 1.25\r\n\r\n    if (font.font && font.font.byteLength) {\r\n      this.setFont(font.font)\r\n    } else {\r\n      this.updateBaseines()\r\n    }\r\n  }\r\n\r\n  updateBaseines(): void {\r\n    const bls = getTextBaselines('a', {\r\n      fontFamily: this.family,\r\n      fontSize: this.size,\r\n    })\r\n\r\n    this.middle = bls.middle\r\n    this.hanging = bls.hanging\r\n    this.top = bls.top\r\n    this.alphabetic = bls.alphabetic\r\n    this.ideographic = bls.ideographic\r\n    this.bottom = bls.bottom\r\n  }\r\n\r\n  @action.bound setFont(buffer: ArrayBuffer): Promise<void> {\r\n    try {\r\n      this.opentype = parse(buffer, { lowMemory: true })\r\n    } catch (e) {\r\n      return Promise.resolve()\r\n    }\r\n    const { names } = this.opentype\r\n    const fontName = names.postScriptName[Object.keys(names.postScriptName)[0]]\r\n    const url = URL.createObjectURL(new Blob([buffer]))\r\n    return updateFontFace(fontName, url).then(() => {\r\n      runInAction(() => {\r\n        this.family = fontName\r\n        this.font = buffer\r\n        this.updateBaseines()\r\n      })\r\n    })\r\n  }\r\n\r\n  @action.bound setSize(size: number): void {\r\n    this.size = size\r\n    this.updateBaseines()\r\n  }\r\n\r\n  @action.bound setLineHeight(lineHeight: number): void {\r\n    this.lineHeight = lineHeight\r\n  }\r\n\r\n  @action.bound clearFont(): void {\r\n    this.font = null\r\n    this.opentype = null\r\n    this.family = 'sans-serif'\r\n    this.updateBaseines()\r\n  }\r\n}\r\n\r\nexport default Font\r\n","import { action, observable, runInAction } from 'mobx'\nimport use from 'src/utils/use'\nimport base64ToArrayBuffer from 'src/utils/base64ToArrayBuffer'\n\nexport type Repetition = 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat'\n\nconst DEFAULT_IMAGE =\n  'iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII='\n\nclass PatternTexture {\n  @observable.ref buffer: ArrayBuffer = base64ToArrayBuffer(DEFAULT_IMAGE)\n\n  @observable.ref image: HTMLImageElement | null = null\n\n  @observable src = ''\n\n  @observable repetition: Repetition = 'repeat'\n\n  @observable scale: number\n\n  constructor(pt: Partial<PatternTexture> = {}) {\n    this.scale = use.num(pt.scale, 1)\n    this.repetition = pt.repetition || 'repeat'\n    this.setImage(pt.buffer || this.buffer)\n  }\n\n  @action.bound setImage(buffer: ArrayBuffer): void {\n    const src = URL.createObjectURL(new Blob([buffer]))\n    const img = new Image()\n    img.onload = () => {\n      runInAction('setPatternTextureImage', () => {\n        this.buffer = buffer\n        this.image = img\n        this.src = src\n        img.onload = null\n      })\n    }\n    img.src = src\n  }\n\n  @action.bound setRepetition(repetition: Repetition): void {\n    this.repetition = repetition\n  }\n\n  @action.bound setScale(scale: number): void {\n    this.scale = scale\n  }\n}\n\nexport default PatternTexture\n","import { action, observable } from 'mobx'\n\nimport Gradient from './gradient'\nimport PatternTexture from './patternTexture'\n\nexport enum FillType {\n  SOLID,\n  GRADIENT,\n  IMAGE,\n}\n\nclass Fill {\n  @observable type: FillType\n\n  @observable color: string\n\n  @observable.shallow gradient: Gradient\n\n  @observable.shallow patternTexture: PatternTexture\n\n  constructor(fill: Partial<Fill> = {}) {\n    this.color = fill.color || '#000000'\n    this.type = fill.type && FillType[fill.type] ? fill.type : 0\n    this.gradient = new Gradient(fill.gradient)\n    this.patternTexture = new PatternTexture(fill.patternTexture)\n  }\n\n  @action.bound setType(type: FillType = 0): void {\n    this.type = type\n  }\n\n  @action.bound setColor(color = '#000000'): void {\n    this.color = color\n  }\n}\n\nexport default Fill\n","export default function base64ToArrayBuffer(base64: string): ArrayBuffer {\n  const binaryString = atob(base64)\n  const len = binaryString.length\n  const bytes = new Uint8Array(len)\n  for (let i = 0; i < len; i += 1) {\n    bytes[i] = binaryString.charCodeAt(i)\n  }\n  return bytes.buffer\n}\n","import fontStyleStringify, { FontStyleConfig } from './fontStyleStringify'\n\nexport interface TextSize {\n  text: string\n  font: string\n  width: number\n  height: number\n  fontWidth: number\n  fontHeight: number\n  trimOffsetTop: number\n  trimOffsetLeft: number\n  trimOffsetRight: number\n  trimOffsetBottom: number\n}\n\nlet canvas: HTMLCanvasElement\n\nexport default function getTextSize(\n  text: string,\n  config: FontStyleConfig,\n): TextSize {\n  if (!canvas) canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n  if (!ctx) throw new Error('Get context 2d failed.')\n\n  // clear before settings\n  canvas.width = 1\n  canvas.height = 1\n\n  const font = fontStyleStringify(config)\n\n  ctx.font = font\n\n  ctx.textAlign = 'left'\n  ctx.textBaseline = 'bottom'\n\n  const testA = ctx.measureText(text)\n\n  if (typeof testA.actualBoundingBoxLeft === 'undefined') {\n    return {\n      text,\n      font,\n      width: testA.width,\n      height: parseInt(`${config.fontSize ?? '14'}`, 10),\n      fontWidth: testA.width,\n      fontHeight: parseInt(`${config.fontSize ?? '14'}`, 10),\n      trimOffsetTop: 0,\n      trimOffsetLeft: 0,\n      trimOffsetRight: 0,\n      trimOffsetBottom: 0,\n    }\n  }\n\n  ctx.textAlign = 'right'\n  ctx.textBaseline = 'top'\n\n  const testB = ctx.measureText(text)\n\n  const trimOffsetLeft = Math.ceil(testA.actualBoundingBoxLeft)\n  const trimOffsetRight = Math.ceil(testB.actualBoundingBoxRight)\n  const trimOffsetTop = Math.ceil(testB.actualBoundingBoxAscent)\n  const trimOffsetBottom = Math.ceil(testA.actualBoundingBoxDescent)\n  const width = trimOffsetLeft + Math.ceil(testA.actualBoundingBoxRight)\n  const height = trimOffsetBottom + Math.ceil(testA.actualBoundingBoxAscent)\n  const fontWidth = Math.ceil(testA.width)\n  const fontHeight =\n    testA.actualBoundingBoxAscent - testB.actualBoundingBoxAscent\n\n  return {\n    text,\n    font,\n    width,\n    height,\n    fontWidth,\n    fontHeight,\n    trimOffsetTop,\n    trimOffsetLeft,\n    trimOffsetRight,\n    trimOffsetBottom,\n  }\n}\n","import { action, observable } from 'mobx'\nimport use from 'src/utils/use'\n\nimport Fill from './fill'\n\nclass Stroke extends Fill {\n  @observable width = 1\n\n  /**\n   * butt   默认。向线条的每个末端添加平直的边缘。\n   * round  向线条的每个末端添加圆形线帽。\n   * square 向线条的每个末端添加正方形线帽。\n   */\n  @observable lineCap: CanvasLineCap\n\n  /**\n   * bevel 创建斜角。\n   * round 创建圆角。\n   * miter 默认。创建尖角。\n   */\n  @observable lineJoin: CanvasLineJoin\n\n  constructor(stroke: Partial<Stroke> = {}) {\n    super(stroke)\n    this.width = use.num(stroke.width, 1)\n    this.lineCap = stroke.lineCap || 'round'\n    this.lineJoin = stroke.lineJoin || 'round'\n  }\n\n  @action.bound setWidth(width: number): void {\n    this.width = width\n  }\n\n  @action.bound setLineCap(lineCap: CanvasLineCap): void {\n    this.lineCap = lineCap\n  }\n\n  @action.bound setLineJoin(lineJoin: CanvasLineJoin): void {\n    this.lineJoin = lineJoin\n  }\n}\n\nexport default Stroke\n","import { action, observable } from 'mobx'\nimport use from 'src/utils/use'\n\nclass Shadow {\n  @observable color: string\n\n  @observable blur = 1\n\n  @observable offsetX = 1\n\n  @observable offsetY = 1\n\n  constructor(shadow: Partial<Shadow> = {}) {\n    this.color = shadow.color || '#000000'\n    this.blur = use.num(shadow.blur, 1)\n    this.offsetX = use.num(shadow.offsetX, 1)\n    this.offsetY = use.num(shadow.offsetY, 1)\n  }\n\n  @action.bound setColor(color: string): void {\n    this.color = color\n  }\n\n  @action.bound setBlur(blur: number): void {\n    this.blur = blur\n  }\n\n  @action.bound setOffsetX(offsetX: number): void {\n    this.offsetX = offsetX\n  }\n\n  @action.bound setOffsetY(offsetY: number): void {\n    this.offsetY = offsetY\n  }\n\n  @action.bound setOffset(offsetX: number, offsetY: number): void {\n    this.offsetX = offsetX\n    this.offsetY = offsetY\n  }\n}\n\nexport default Shadow\n","import { action, observable } from 'mobx'\n\nimport Font from './font'\nimport Fill from './fill'\nimport Stroke from './stroke'\nimport Shadow from './shadow'\n\nclass Style {\n  @observable readonly font: Font\n\n  @observable readonly fill: Fill\n\n  @observable useStroke: boolean\n\n  @observable readonly stroke: Stroke\n\n  @observable useShadow: boolean\n\n  @observable readonly shadow: Shadow\n\n  @observable bgColor = 'rgba(0,0,0,0)'\n\n  constructor(style: Partial<Style> = {}) {\n    this.font = new Font(style.font)\n    this.fill = new Fill(style.fill)\n    this.stroke = new Stroke(style.stroke)\n    this.shadow = new Shadow(style.shadow)\n    this.useShadow = !!style.useShadow\n    this.useStroke = !!style.useStroke\n  }\n\n  @action.bound setUseStroke(useStroke: boolean): void {\n    this.useStroke = useStroke\n  }\n\n  @action.bound setUseShadow(useShadow: boolean): void {\n    this.useShadow = useShadow\n  }\n\n  @action.bound setBgColor(bgColor: string): void {\n    this.bgColor = bgColor\n  }\n}\n\nexport default Style\n","import { action, observable } from 'mobx'\r\nimport use from 'src/utils/use'\r\n\r\nclass Layout {\r\n  @observable padding = 1\r\n\r\n  @observable spacing = 1\r\n\r\n  @observable power = false\r\n\r\n  @observable width = 1024\r\n\r\n  @observable height = 1024\r\n\r\n  @observable auto = true\r\n\r\n  @observable fixedSize = false\r\n\r\n  constructor(layout: Partial<Layout> = {}) {\r\n    this.padding = use.num(layout.padding, 1)\r\n\r\n    this.spacing = use.num(layout.spacing, 1)\r\n\r\n    this.power = !!layout.power\r\n\r\n    this.width = use.num(layout.width, 1024)\r\n\r\n    this.height = use.num(layout.height, 1024)\r\n\r\n    // Compatible with old files, default true.\r\n    this.auto = layout.auto === false ? false : true\r\n\r\n    this.fixedSize = !!layout.fixedSize\r\n  }\r\n\r\n  @action.bound setPadding(padding: number): void {\r\n    this.padding = padding\r\n  }\r\n\r\n  @action.bound setSpacing(spacing: number): void {\r\n    this.spacing = spacing\r\n  }\r\n\r\n  @action.bound setPower(power: boolean): void {\r\n    this.power = power\r\n  }\r\n\r\n  @action.bound setWidth(width: number): void {\r\n    this.width = width\r\n  }\r\n\r\n  @action.bound setHeight(height: number): void {\r\n    this.height = height\r\n  }\r\n\r\n  @action.bound setAuto(auto: boolean): void {\r\n    this.auto = auto\r\n  }\r\n\r\n  @action.bound setFixedSize(fixedSize: boolean): void {\r\n    this.fixedSize = fixedSize\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import { action, observable } from 'mobx'\n\nclass Metric {\n  @observable xAdvance = 0\n\n  @observable xOffset = 0\n\n  @observable yOffset = 0\n\n  constructor(metric: Partial<Metric> = {}) {\n    this.xAdvance = metric.xAdvance || 0\n    this.xOffset = metric.xOffset || 0\n    this.yOffset = metric.yOffset || 0\n  }\n\n  @action.bound setXAdvance(xAdvance: number): void {\n    this.xAdvance = xAdvance\n  }\n\n  @action.bound setXOffset(xOffset: number): void {\n    this.xOffset = xOffset\n  }\n\n  @action.bound setYOffset(yOffset: number): void {\n    this.yOffset = yOffset\n  }\n}\n\nexport default Metric\n","export interface TrimImageInfo {\n  width: number\n  height: number\n  trimOffsetTop: number\n  trimOffsetLeft: number\n}\n\nexport default function trimImageData(\n  imageData: ImageData,\n  threshold = 0,\n): TrimImageInfo {\n  const { data, width, height } = imageData\n  let topTrim = 0\n  let bottomTrim = 0\n  let leftTrim = 0\n  let rightTrim = 0\n  let topStatus = true\n  let bottomStatus = true\n  let leftStatus = true\n  let rightStatus = true\n\n  let h: number = Math.ceil(height / 2)\n  const w: number = Math.ceil(width / 2)\n\n  for (let i = 0; i < h; i += 1) {\n    for (let j = 0; j < width; j += 1) {\n      if (topStatus && data[(i * width + j) * 4 + 3] > threshold) {\n        topStatus = false\n      }\n      if (\n        bottomStatus &&\n        data[((height - i - 1) * width + j) * 4 + 3] > threshold\n      ) {\n        bottomStatus = false\n      }\n      if (!topStatus && !bottomStatus) {\n        break\n      }\n    }\n    if (!topStatus && !bottomStatus) {\n      break\n    }\n    if (topStatus) topTrim += 1\n    if (bottomStatus) bottomTrim += 1\n  }\n\n  if (topTrim + bottomTrim >= height) {\n    // Is empty image.\n    return {\n      trimOffsetLeft: width * -1,\n      trimOffsetTop: height * -1,\n      width: 0,\n      height: 0,\n    }\n  }\n\n  h = height - bottomTrim\n\n  for (let i = 0; i < w; i += 1) {\n    for (let j = topTrim; j < h; j += 1) {\n      if (leftStatus && data[(width * j + i) * 4 + 3] > threshold) {\n        leftStatus = false\n      }\n      if (\n        rightStatus &&\n        data[(width * j + width - i - 1) * 4 + 3] > threshold\n      ) {\n        rightStatus = false\n      }\n      if (!leftStatus && !rightStatus) {\n        break\n      }\n    }\n    if (!leftStatus && !rightStatus) {\n      break\n    }\n    if (leftStatus) leftTrim += 1\n    if (rightStatus) rightTrim += 1\n  }\n\n  return {\n    trimOffsetLeft: leftTrim * -1,\n    trimOffsetTop: topTrim * -1,\n    width: width - leftTrim - rightTrim,\n    height: height - topTrim - bottomTrim,\n  }\n}\n","export interface Point {\n  x: number\n  y: number\n}\n\nexport default function getPointOnCircle(\n  x: number,\n  y: number,\n  r: number,\n  angle: number,\n): Point {\n  return {\n    x: x + r * Math.cos((Math.PI / 180) * angle),\n    y: y + r * Math.sin((Math.PI / 180) * angle),\n  }\n}\n","import getPointOnCircle from './getPointOnCircle'\n\ninterface GarentColor {\n  offset: number\n  color: string\n}\n\ninterface Pradient {\n  type: 0 | 1\n  palette: GarentColor[]\n  angle: number\n}\n\ninterface PatternTexture {\n  image: HTMLImageElement | null\n  repetition: string\n  scale: number\n}\n\ninterface Config {\n  type: number\n  color: string\n  gradient: Pradient\n  patternTexture: PatternTexture\n}\n\nexport default function getCanvasStyle(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  config: Config,\n): string | CanvasGradient | CanvasPattern {\n  // 纯色\n  if (config.type === 0) {\n    return config.color\n  }\n\n  // 渐变\n  if (config.type === 1) {\n    const { type, palette, angle } = config.gradient\n    let gradient: CanvasGradient\n    const cx = x + width / 2\n    const cy = y + height / 2\n    const r = Math.max(width, height) / 2\n    if (type === 0) {\n      const startPoint = getPointOnCircle(cx, cy, r, angle + 180)\n      const endPoint = getPointOnCircle(cx, cy, r, angle)\n      gradient = ctx.createLinearGradient(\n        startPoint.x,\n        startPoint.y,\n        endPoint.x,\n        endPoint.y,\n      )\n    } else {\n      gradient = ctx.createRadialGradient(cx, cy, 0, cx, cy, r)\n    }\n\n    palette.forEach((color) => {\n      gradient.addColorStop(color.offset, color.color)\n    })\n\n    return gradient\n  }\n\n  const { image, repetition, scale } = config.patternTexture\n  if (!image) return 'rgba(0,0,0,0)'\n\n  if (scale === 1)\n    return ctx.createPattern(image, repetition) || 'rgba(0,0,0,0)'\n\n  const { naturalWidth, naturalHeight } = image\n  const canvas: HTMLCanvasElement = document.createElement('canvas')\n  canvas.width = Math.ceil(naturalWidth * scale)\n  canvas.height = Math.ceil(naturalHeight * scale)\n  const textureCtx = canvas.getContext('2d')\n\n  if (!textureCtx) return 'rgba(0,0,0,0)'\n\n  textureCtx.drawImage(image, 0, 0, canvas.width, canvas.height)\n  return ctx.createPattern(canvas, repetition) || 'rgba(0,0,0,0)'\n}\n","import trimImageData from './trimImageData'\r\nimport getTextSize, { TextSize } from './getTextSize'\r\nimport fontStyleStringify from './fontStyleStringify'\r\nimport getCanvasStyle from './getCanvasStyle'\r\n\r\nexport interface GlyphInfo extends TextSize {\r\n  canvas: HTMLCanvasElement | null\r\n}\r\n\r\ninterface ParentColor {\r\n  offset: number\r\n  color: string\r\n}\r\n\r\ninterface Gradient {\r\n  type: 0 | 1\r\n  palette: ParentColor[]\r\n  angle: number\r\n}\r\n\r\ninterface PatternTexture {\r\n  image: HTMLImageElement | null\r\n  repetition: string\r\n  scale: number\r\n}\r\n\r\ninterface Fill {\r\n  type: number\r\n  color: string\r\n  gradient: Gradient\r\n  patternTexture: PatternTexture\r\n}\r\n\r\ninterface Stroke extends Fill {\r\n  width: number\r\n  lineJoin: CanvasLineJoin\r\n  lineCap: CanvasLineCap\r\n}\r\n\r\ninterface Font {\r\n  family: string\r\n  size: number\r\n}\r\n\r\ninterface Shadow {\r\n  color: string\r\n  blur: number\r\n  offsetX: number\r\n  offsetY: number\r\n}\r\n\r\nexport interface Config {\r\n  font: Font\r\n  fill: Fill\r\n  stroke?: Stroke\r\n  shadow?: Shadow\r\n}\r\n\r\nexport default function getGlyphInfo(text: string, config: Config): GlyphInfo {\r\n  const { font, stroke, shadow, fill } = config\r\n\r\n  const styleConig = {\r\n    fontSize: font.size,\r\n    fontFamily: font.family,\r\n  }\r\n\r\n  const trimInfo = getTextSize(text, styleConig)\r\n  const { width, height, trimOffsetLeft, trimOffsetTop } = trimInfo\r\n  if (width === 0 || height === 0) return { canvas: null, ...trimInfo }\r\n\r\n  const lineWidth = stroke ? stroke.width * 2 : 0 // canvas is center stroke\r\n  let addX = lineWidth\r\n  let addY = lineWidth\r\n  let styleX = (width - font.size) / 2\r\n  let styleY = (height - font.size) / 2\r\n\r\n  if (shadow) {\r\n    const blur = Math.ceil(shadow.blur * 1.5)\r\n    addX += Math.abs(shadow.offsetX) + blur\r\n    addY += Math.abs(shadow.offsetY) + blur\r\n  }\r\n\r\n  styleX += addX\r\n  styleY += addY\r\n\r\n  let canvas = document.createElement('canvas')\r\n  let ctx = canvas.getContext('2d') as CanvasRenderingContext2D\r\n  canvas.width = width + addX * 2\r\n  canvas.height = height + addY * 2\r\n\r\n  ctx.textAlign = 'left'\r\n  ctx.textBaseline = 'top'\r\n\r\n  ctx.font = fontStyleStringify({\r\n    fontSize: font.size,\r\n    fontFamily: font.family,\r\n  })\r\n\r\n  if (stroke && lineWidth) {\r\n    ctx.lineWidth = lineWidth\r\n    ctx.lineCap = stroke.lineCap\r\n    ctx.lineJoin = stroke.lineJoin\r\n    ctx.strokeStyle = getCanvasStyle(\r\n      ctx,\r\n      styleX,\r\n      styleY,\r\n      font.size,\r\n      font.size,\r\n      stroke,\r\n    )\r\n    ctx.strokeText(text, addX + trimOffsetLeft, addY + trimOffsetTop)\r\n  }\r\n\r\n  ctx.fillStyle = getCanvasStyle(\r\n    ctx,\r\n    styleX,\r\n    styleY,\r\n    font.size,\r\n    font.size,\r\n    fill,\r\n  )\r\n  ctx.fillText(text, addX + trimOffsetLeft, addY + trimOffsetTop)\r\n\r\n  if (shadow) {\r\n    const cvs = document.createElement('canvas')\r\n    cvs.width = width + addX * 2\r\n    cvs.height = height + addY * 2\r\n    const newCtx = cvs.getContext('2d') as CanvasRenderingContext2D\r\n\r\n    newCtx.shadowColor = shadow.color\r\n    newCtx.shadowBlur = shadow.blur\r\n    newCtx.shadowOffsetX = shadow.offsetX\r\n    newCtx.shadowOffsetY = shadow.offsetY\r\n\r\n    newCtx.drawImage(canvas, 0, 0)\r\n\r\n    canvas = cvs\r\n    ctx = newCtx\r\n  }\r\n\r\n  if (canvas.width === 0 || canvas.height === 0) {\r\n    return {\r\n      canvas,\r\n      ...trimInfo,\r\n    }\r\n  }\r\n\r\n  const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\r\n  const styleTrimInfo = trimImageData(imgData)\r\n  canvas.width = styleTrimInfo.width\r\n  canvas.height = styleTrimInfo.height\r\n  trimInfo.width = styleTrimInfo.width\r\n  trimInfo.height = styleTrimInfo.height\r\n  ctx.putImageData(\r\n    imgData,\r\n    styleTrimInfo.trimOffsetLeft,\r\n    styleTrimInfo.trimOffsetTop,\r\n  )\r\n  trimInfo.trimOffsetLeft += addX + styleTrimInfo.trimOffsetLeft\r\n  trimInfo.trimOffsetTop += addY + styleTrimInfo.trimOffsetTop\r\n  trimInfo.trimOffsetBottom +=\r\n    addY +\r\n    (height + addY * 2 + styleTrimInfo.trimOffsetTop - styleTrimInfo.height)\r\n\r\n  return {\r\n    canvas,\r\n    ...trimInfo,\r\n  }\r\n}\r\n","import { observable, action } from 'mobx'\n\nimport Metric from './metric'\n\nexport type GlyphType = 'text' | 'image'\n\nclass GlyphBase {\n  readonly type: GlyphType = 'text'\n\n  @observable letter = ''\n\n  @observable.ref source: HTMLImageElement | HTMLCanvasElement | null = null\n\n  @observable width = 0\n\n  @observable height = 0\n\n  @observable x = 0\n\n  @observable y = 0\n\n  @observable fontWidth = 0\n\n  @observable fontHeight = 0\n\n  @observable trimOffsetTop = 0\n\n  @observable trimOffsetLeft = 0\n\n  @observable trimOffsetRight = 0\n\n  @observable trimOffsetBottom = 0\n\n  @observable.ref adjustMetric: Metric\n\n  @observable kerning: Map<string, number> = new Map()\n\n  constructor(glyph: Partial<GlyphBase> = {}) {\n    this.letter = glyph.letter || ''\n    this.adjustMetric = new Metric(glyph.adjustMetric)\n\n    if (glyph.kerning) {\n      this.kerning = glyph.kerning\n    }\n  }\n\n  @action.bound steKerning(text: string, kerning: number) {\n    this.kerning.set(text, kerning)\n  }\n}\n\nexport default GlyphBase\n","import { action } from 'mobx'\nimport getGlyphInfo, { Config } from 'src/utils/getGlyphInfo'\nimport GlyphBase from './glyphBase'\n\nimport Style from './style'\n\nclass GlyphFont extends GlyphBase {\n  constructor(galyphFont: Partial<GlyphFont> = {}, textStyle: Style) {\n    super(galyphFont)\n    this.setGlyphInfo(textStyle)\n  }\n\n  @action setGlyphInfo(textStyle: Style): void {\n    const { font, fill, useStroke, stroke, useShadow, shadow } = textStyle\n    const config: Config = { font, fill }\n    if (useStroke) config.stroke = stroke\n    if (useShadow) config.shadow = shadow\n\n    const glyphInfo = getGlyphInfo(this.letter, config)\n    this.source = glyphInfo.canvas\n    this.width = glyphInfo.width\n    this.height = glyphInfo.height\n    this.fontWidth = glyphInfo.fontWidth\n    this.fontHeight = glyphInfo.fontHeight\n    this.trimOffsetTop = glyphInfo.trimOffsetTop\n    this.trimOffsetLeft = glyphInfo.trimOffsetLeft\n    this.trimOffsetRight = glyphInfo.trimOffsetRight\n    this.trimOffsetBottom = glyphInfo.trimOffsetBottom\n  }\n}\n\nexport default GlyphFont\n","import { action, observable, runInAction } from 'mobx'\r\nimport getTrimImageInfo from 'src/utils/getTrimImageInfo'\r\n\r\nimport GlyphBase, { GlyphType } from './glyphBase'\r\n\r\nexport interface FileInfo {\r\n  letter?: string\r\n  fileName: string\r\n  fileType: string\r\n  buffer: ArrayBuffer\r\n}\r\n\r\nclass GlyphImage extends GlyphBase {\r\n  readonly type: GlyphType = 'image'\r\n\r\n  @observable src = '' // 仅显示列表中\r\n\r\n  @observable.ref buffer: ArrayBuffer | null = null\r\n\r\n  @observable fileName = ''\r\n\r\n  @observable fileType = ''\r\n\r\n  @observable selected = true\r\n\r\n  constructor(glyphImage: Partial<GlyphImage>) {\r\n    super(glyphImage)\r\n    this.letter = glyphImage.letter || ''\r\n    this.fileName = glyphImage.fileName || ''\r\n    this.fileType = glyphImage.fileType || ''\r\n    this.buffer = glyphImage.buffer || null\r\n    if (glyphImage.buffer) {\r\n      this.src = URL.createObjectURL(new Blob([glyphImage.buffer]))\r\n      this.initImage()\r\n    }\r\n  }\r\n\r\n  @action.bound initImage(): Promise<void> {\r\n    return new Promise((resolve) => {\r\n      const image = new Image()\r\n      image.onload = () => {\r\n        runInAction('trimImage', () => {\r\n          const { naturalWidth, naturalHeight } = image\r\n          this.fontWidth = naturalWidth\r\n          this.fontHeight = naturalHeight\r\n\r\n          const trimInfo = getTrimImageInfo(image)\r\n          this.width = trimInfo.width\r\n          this.height = trimInfo.height\r\n          this.trimOffsetLeft = trimInfo.trimOffsetLeft\r\n          this.trimOffsetTop = trimInfo.trimOffsetTop\r\n          this.trimOffsetRight =\r\n            trimInfo.width - trimInfo.trimOffsetLeft - naturalWidth\r\n          this.trimOffsetBottom =\r\n            trimInfo.height - trimInfo.trimOffsetTop - naturalHeight\r\n\r\n          this.source = trimInfo.canvas\r\n          resolve()\r\n        })\r\n      }\r\n      image.src = this.src\r\n    })\r\n  }\r\n\r\n  @action.bound setGlyph(text: string): void {\r\n    this.letter = text[0] || ''\r\n  }\r\n\r\n  @action.bound changeSelect(isSelect: boolean): void {\r\n    this.selected = isSelect\r\n  }\r\n}\r\n\r\nexport default GlyphImage\r\n","import trimImageData, { TrimImageInfo } from './trimImageData'\n\ninterface TrimInfo extends TrimImageInfo {\n  canvas: HTMLCanvasElement\n}\n\nexport default function getTrimImageInfo(\n  image: HTMLImageElement,\n  threshold = 10,\n): TrimInfo {\n  const width = image.naturalWidth\n  const height = image.naturalHeight\n\n  const canvas = document.createElement('canvas')\n  canvas.width = width\n  canvas.height = height\n  const ctx = canvas.getContext('2d') as CanvasRenderingContext2D\n  ctx.drawImage(image, 0, 0)\n  const imageData = ctx.getImageData(0, 0, width, height)\n  const trimInfo = trimImageData(imageData, threshold)\n  canvas.width = trimInfo.width\n  canvas.height = trimInfo.height\n  ctx.drawImage(image, trimInfo.trimOffsetLeft, trimInfo.trimOffsetTop)\n\n  return {\n    canvas,\n    ...trimInfo,\n  }\n}\n","import { observable, action, computed } from 'mobx'\r\nimport { deepObserve } from 'mobx-utils'\r\nimport { cancel, request } from 'requestidlecallback'\r\nimport { GuillotineBinPack } from 'rectangle-packer'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\n// import RectanglePacker from 'worker-loader?filename=static/js/RectanglePacker.[hash].worker.js!src/workers/RectanglePacker.worker'\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport AutoPacker from 'worker-loader?filename=static/js/AutoPacker.[hash].worker.js!src/workers/AutoPacker.worker'\r\n\r\nimport Ui from './base/ui'\r\nimport Style from './base/style'\r\nimport Layout from './base/layout'\r\nimport Metric from './base/metric'\r\nimport GlyphFont from './base/glyphFont'\r\nimport GlyphImage, { FileInfo } from './base/glyphImage'\r\nimport { GlyphType } from './base/glyphBase'\r\ninterface TextRectangle {\r\n  width: number\r\n  height: number\r\n  x: number\r\n  y: number\r\n  letter: string\r\n  type: GlyphType\r\n}\r\n\r\nclass Project {\r\n  @observable name = 'Unnamed'\r\n\r\n  id: number\r\n\r\n  worker: AutoPacker | null = null\r\n\r\n  packStart = 0\r\n\r\n  packTimer = 0\r\n\r\n  idleId = 0\r\n\r\n  @observable isPacking = false\r\n\r\n  @observable text =\r\n    '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!№;%:?*()_+-=.,/|\"\\'@#$^&{}[]'\r\n\r\n  @observable.shallow glyphs: Map<string, GlyphFont> = new Map()\r\n\r\n  @observable.shallow glyphImages: GlyphImage[] = []\r\n\r\n  @observable.ref style: Style\r\n\r\n  @observable.ref layout: Layout\r\n\r\n  @observable.ref globalAdjustMetric: Metric\r\n\r\n  @observable.ref packCanvas: HTMLCanvasElement | null = null\r\n\r\n  @observable.ref ui: Ui = new Ui()\r\n\r\n  constructor(project: Partial<Project> = {}) {\r\n    this.id = project.id || Date.now()\r\n    this.name = project.name || 'Unnamed'\r\n    this.text = project.text || this.text\r\n    this.ui = new Ui(project.ui)\r\n    this.style = new Style(project.style)\r\n    this.layout = new Layout(project.layout)\r\n    this.globalAdjustMetric = new Metric(project.globalAdjustMetric)\r\n\r\n    if (project.glyphs) {\r\n      project.glyphs.forEach((value, key) => {\r\n        this.glyphs.set(key, new GlyphFont(value, this.style))\r\n      })\r\n    }\r\n\r\n    project.glyphImages?.forEach((img) => {\r\n      this.glyphImages.push(new GlyphImage(img))\r\n    })\r\n\r\n    if (!this.glyphs.has(' '))\r\n      this.glyphs.set(' ', new GlyphFont({ letter: ' ' }, this.style))\r\n\r\n    this.addGlyphs(project.text || '')\r\n    this.addAutoRun()\r\n    this.pack()\r\n  }\r\n\r\n  @computed get glyphList(): (GlyphFont | GlyphImage)[] {\r\n    const obj: { [key: string]: GlyphImage } = {}\r\n\r\n    this.glyphImages.forEach((glyph) => {\r\n      if (glyph.letter && glyph.selected) {\r\n        obj[glyph.letter] = glyph\r\n      }\r\n    })\r\n\r\n    return ` ${this.text}`.split('').map((letter) => {\r\n      if (obj[letter]) return obj[letter]\r\n      return this.glyphs.get(letter) as GlyphFont\r\n    })\r\n  }\r\n\r\n  @computed get rectangleList(): TextRectangle[] {\r\n    const { padding, spacing } = this.layout\r\n    return this.glyphList.map((glyph) => {\r\n      const isUnEmpty = !!(glyph.width && glyph.height)\r\n      return {\r\n        letter: glyph.letter,\r\n        type: glyph.type,\r\n        width: isUnEmpty ? glyph.width + padding * 2 + spacing : 0,\r\n        height: isUnEmpty ? glyph.height + padding * 2 + spacing : 0,\r\n        x: 0,\r\n        y: 0,\r\n      }\r\n    })\r\n  }\r\n\r\n  @action.bound pack(): void {\r\n    if (this.idleId) return\r\n    if (this.worker) this.worker.terminate()\r\n    this.isPacking = true\r\n    const packList = this.rectangleList.sort((a, b) => b.height - a.height)\r\n    if (!this.layout.auto) {\r\n      const packer = new GuillotineBinPack<TextRectangle>(\r\n        this.layout.width + this.layout.spacing,\r\n        this.layout.height + this.layout.spacing,\r\n      )\r\n\r\n      const list = packList.filter(({ width, height }) => !!(width && height))\r\n\r\n      packer.InsertSizes(list, true, 1, 1)\r\n\r\n      this.setPack(packer.usedRectangles, list)\r\n\r\n      this.isPacking = false\r\n      return\r\n    }\r\n    this.worker = new AutoPacker()\r\n    this.worker.addEventListener(\r\n      'message',\r\n      action('PackerWorkerCallback', (messageEvent) => {\r\n        const { data } = messageEvent\r\n        this.setPack(data)\r\n\r\n        this.isPacking = false\r\n        this.worker?.terminate()\r\n        this.worker = null\r\n      }),\r\n      false,\r\n    )\r\n\r\n    this.worker.postMessage(\r\n      packList.filter(({ width, height }) => !!(width && height)),\r\n    )\r\n  }\r\n\r\n  @action.bound setPack(\r\n    list: TextRectangle[],\r\n    failedList?: TextRectangle[],\r\n  ): void {\r\n    const imgList = this.glyphImages\r\n    let maxWidth = 0\r\n    let maxHeight = 0\r\n    const { auto, fixedSize, width, height, spacing } = this.layout\r\n\r\n    list.forEach((rectangle) => {\r\n      const { letter, x, y, type, width, height } = rectangle\r\n      let glyph: GlyphFont | GlyphImage | undefined\r\n\r\n      if (type === 'image') {\r\n        glyph = imgList.find((gi) => {\r\n          if (gi && gi.letter === letter) return true\r\n          return false\r\n        })\r\n      }\r\n\r\n      if (!glyph) {\r\n        glyph = this.glyphs.get(letter)\r\n      }\r\n\r\n      if (glyph) {\r\n        glyph.x = x || 0\r\n        glyph.y = y || 0\r\n      }\r\n\r\n      maxWidth = Math.max(maxWidth, x + width)\r\n      maxHeight = Math.max(maxHeight, y + height)\r\n    })\r\n\r\n    if (failedList?.length) {\r\n      failedList.forEach((rectangle) => {\r\n        const { letter, type } = rectangle\r\n        let glyph: GlyphFont | GlyphImage | undefined\r\n\r\n        if (type === 'image') {\r\n          glyph = imgList.find((gi) => {\r\n            if (gi && gi.letter === letter) return true\r\n            return false\r\n          })\r\n        }\r\n\r\n        if (!glyph) {\r\n          glyph = this.glyphs.get(letter)\r\n        }\r\n\r\n        if (glyph) {\r\n          glyph.x = 0\r\n          glyph.y = 0\r\n        }\r\n      })\r\n      this.ui.setPackFailed(true)\r\n    } else {\r\n      this.ui.setPackFailed(false)\r\n    }\r\n\r\n    if (!auto && fixedSize) {\r\n      this.ui.setSize(width, height)\r\n      return\r\n    }\r\n\r\n    this.ui.setSize(maxWidth - spacing, maxHeight - spacing)\r\n  }\r\n\r\n  @action.bound packStyle(): void {\r\n    this.isPacking = true\r\n    if (this.worker) {\r\n      this.worker.terminate()\r\n      this.worker = null\r\n    }\r\n    cancel(this.idleId)\r\n\r\n    const tasks: GlyphFont[] = []\r\n\r\n    this.glyphs.forEach((glyph) => {\r\n      tasks.push(glyph)\r\n    })\r\n\r\n    const runTasks = () => {\r\n      this.idleId = request((deadline) => {\r\n        const tr = deadline.timeRemaining()\r\n        const start = Date.now()\r\n        while (tasks.length && tr - (Date.now() - start) > -100) {\r\n          // while (tasks.length) {\r\n          const glyph = tasks.shift()\r\n          if (glyph) glyph.setGlyphInfo(this.style)\r\n        }\r\n\r\n        if (tasks.length) {\r\n          runTasks()\r\n        } else {\r\n          this.idleId = 0\r\n          this.pack()\r\n        }\r\n      })\r\n    }\r\n\r\n    runTasks()\r\n  }\r\n\r\n  @action.bound throttlePack(): void {\r\n    if (this.idleId) return\r\n    window.clearTimeout(this.packTimer)\r\n    if (Date.now() - this.packStart > 500) {\r\n      Promise.resolve().then(this.pack)\r\n    } else {\r\n      this.packTimer = window.setTimeout(() => {\r\n        this.pack()\r\n      }, 500)\r\n    }\r\n    this.packStart = Date.now()\r\n  }\r\n\r\n  addAutoRun(): void {\r\n    const isName = (obj: { name?: unknown }, name: string): boolean =>\r\n      !!(obj.name && obj.name === name)\r\n\r\n    deepObserve(this.glyphs, () => {\r\n      this.throttlePack()\r\n    })\r\n\r\n    deepObserve(this.glyphImages, () => {\r\n      this.throttlePack()\r\n    })\r\n\r\n    deepObserve(this.layout, () => {\r\n      this.throttlePack()\r\n    })\r\n\r\n    deepObserve(this.style, (change) => {\r\n      if (isName(change, 'bgColor') || isName(change, 'lineHeight')) return\r\n      this.packStyle()\r\n    })\r\n  }\r\n\r\n  @action.bound setText(str: string): void {\r\n    const oldText = this.text\r\n    this.text = str.replace(/\\s/gm, '')\r\n    this.addGlyphs(oldText)\r\n  }\r\n\r\n  @action.bound addGlyphs(oldText = ''): void {\r\n    const currentList = Array.from(new Set(this.text.split('')))\r\n    const oldList = Array.from(new Set(oldText.split('')))\r\n    this.text = currentList.join('')\r\n    const diffList = oldText\r\n      ? Array.from(new Set(currentList.concat(oldList))).filter(\r\n          (t) => !(currentList.includes(t) && oldList.includes(t)),\r\n        )\r\n      : currentList\r\n\r\n    if (!diffList.length) return\r\n\r\n    diffList.forEach((letter) => {\r\n      if (currentList.includes(letter)) {\r\n        this.glyphs.set(letter, new GlyphFont({ letter }, this.style))\r\n      } else {\r\n        // in diff\r\n        this.glyphs.delete(letter)\r\n      }\r\n    })\r\n  }\r\n\r\n  @action.bound addImages<T extends FileInfo>(list: T[]): void {\r\n    Promise.all(\r\n      list.map((img) => {\r\n        const glyphImage = new GlyphImage(img)\r\n        this.glyphImages.push(glyphImage)\r\n        return glyphImage.initImage()\r\n      }),\r\n    ).then(this.pack)\r\n  }\r\n\r\n  @action.bound removeImage(image: GlyphImage): void {\r\n    const idx = this.glyphImages.indexOf(image)\r\n    if (idx > -1) this.glyphImages.splice(idx, 1)\r\n  }\r\n\r\n  @action.bound setCanvas(canvas: HTMLCanvasElement): void {\r\n    this.packCanvas = canvas\r\n  }\r\n\r\n  @action.bound setName(name: string): void {\r\n    this.name = name || this.name\r\n  }\r\n}\r\n\r\nexport default Project\r\n","import { action, observable, runInAction, computed } from 'mobx'\n\nimport Project from './project'\n\nclass Workspace {\n  @observable activeId = 0\n\n  @observable.shallow projectList: Map<number, Project> = new Map()\n\n  constructor() {\n    runInAction(() => {\n      this.activeId = Date.now()\n      const project = new Project({ id: this.activeId })\n      this.projectList.set(project.id, project)\n    })\n  }\n\n  @computed get currentProject(): Project {\n    return this.projectList.get(this.activeId) as Project\n  }\n\n  @computed get namedList(): { id: number; name: string }[] {\n    const list: { id: number; name: string }[] = []\n    this.projectList.forEach((value) => {\n      list.push({\n        id: value.id,\n        name: value.name,\n      })\n    })\n    return list\n  }\n\n  @action.bound selectProject(id: number): void {\n    if (this.projectList.has(id)) this.activeId = id\n  }\n\n  @action.bound removeProject(id: number): void {\n    const list = this.namedList.filter((item) => item.id !== id)\n    if (list.length === 0) return\n    this.activeId = list[0].id\n    this.projectList.delete(id)\n  }\n\n  @action.bound addProject(p: Partial<Project> = {}): void {\n    if (p.id && this.projectList.has(p.id)) {\n      this.activeId = p.id\n      return\n    }\n    if (!p.name) {\n      p.name = 'Unnamed'\n      const namedList: number[] = []\n      this.projectList.forEach((item) => {\n        const named = item.name.match(/^Unnamed-?(\\d+)?$/)\n        if (named) {\n          namedList.push(Number(named[1]) || 0)\n        }\n      })\n      if (namedList.length > 0) {\n        p.name += `-${Math.max(...namedList) + 1}`\n      }\n    }\n\n    const project = new Project(p)\n    this.projectList.set(project.id, project)\n    this.activeId = project.id\n  }\n\n  @action.bound setProjectName(name: string, value: number): void {\n    const project = this.projectList.get(value)\n    if (project) {\n      project.setName(name)\n    }\n  }\n}\n\nexport default Workspace\n","import { configure } from 'mobx'\n\nimport Ui from './ui'\nimport Workspace from './workspace'\n\nconfigure({\n  enforceActions: 'always',\n  computedRequiresReaction: true,\n})\n\nexport interface Store {\n  ui: Ui\n  workspace: Workspace\n}\n\nexport default function createStore(): Store {\n  return { ui: new Ui(), workspace: new Workspace() }\n}\n\nexport type TStore = ReturnType<typeof createStore>\n\nexport { default as Ui } from './ui'\nexport { default as Project } from './project'\nexport { default as Workspace } from './workspace'\n\nexport * from './base'\n","import { ComponentsProps } from '@material-ui/core/styles/props'\n\nconst props: ComponentsProps = {\n  MuiButton: {\n    size: 'small',\n  },\n  MuiButtonBase: {\n    disableRipple: true,\n  },\n  MuiFilledInput: {\n    margin: 'dense',\n  },\n  MuiFormControl: {\n    margin: 'dense',\n  },\n  MuiFormHelperText: {\n    margin: 'dense',\n  },\n  MuiIconButton: {\n    size: 'small',\n  },\n  MuiInputBase: {\n    margin: 'dense',\n  },\n  MuiInputLabel: {\n    margin: 'dense',\n  },\n  MuiListItem: {\n    dense: true,\n  },\n  MuiOutlinedInput: {\n    margin: 'dense',\n  },\n  MuiFab: {\n    size: 'small',\n  },\n  MuiTable: {\n    size: 'small',\n  },\n  MuiTextField: {\n    margin: 'dense',\n  },\n  MuiToolbar: {\n    variant: 'dense',\n  },\n}\n\nexport default props\n","import { Overrides } from '@material-ui/core/styles/overrides'\r\n\r\nconst overrides: Overrides = {\r\n  MuiCssBaseline: {\r\n    '@global': {\r\n      'html,body,#root': {\r\n        width: '100%',\r\n        height: '100%',\r\n      },\r\n      html: {\r\n        fontSize: '14px',\r\n      },\r\n      body: {\r\n        margin: 0,\r\n        // fontFamily: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\r\n        WebkitFontSmoothing: 'antialiased',\r\n        MozOsxFontSmoothing: 'grayscale',\r\n        userSelect: 'none',\r\n      },\r\n      '#root': {\r\n        minWidth: 900,\r\n      },\r\n      'input::-webkit-inner-spin-button': {\r\n        marginLeft: '10px',\r\n      },\r\n      'input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button': {\r\n        opacity: 0.3,\r\n      },\r\n      '::-webkit-scrollbar': {\r\n        width: '4px',\r\n        height: '4px',\r\n      },\r\n      '::-webkit-scrollbar-thumb': {\r\n        background: 'rgba(255, 255, 255, 0.2)',\r\n      },\r\n      '::-webkit-scrollbar-track': {\r\n        background: 'rgba(0, 0, 0, 0.1)',\r\n      },\r\n    },\r\n  },\r\n  MuiInputBase: {\r\n    input: {\r\n      '&[type=number]': {\r\n        textAlign: 'right',\r\n      },\r\n    },\r\n  },\r\n}\r\n\r\nexport default overrides\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\n\nimport props from './props'\nimport overrides from './overrides'\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: { main: '#444' },\n    secondary: { main: '#424242' },\n    background: {\n      paper: 'rgb(37, 37, 37)',\n      default: 'rgb(30, 30, 30)',\n      activityBar: 'rgb(51, 51, 51)',\n      titleBar: 'rgb(50, 50, 50)',\n      sidebar: 'rgb(37, 37, 37)',\n    },\n    common: {\n      black: 'rgb(30,30,30)',\n      white: 'rgb(204,204,204)',\n    },\n    action: {\n      hover: 'rgba(255, 255, 255, 0.1)',\n    },\n  },\n  bgPixel: {\n    backgroundColor: '#fff',\n    backgroundImage: `\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)`,\n    backgroundSize: '8px 8px',\n    backgroundPosition: '0 0, 4px 4px',\n    backgroundRepeat: 'repeat',\n  },\n  spacing: 4,\n  typography: { fontSize: 13 },\n  transitions: {\n    create: () => 'none',\n  },\n  shape: { borderRadius: 0 },\n  props,\n  overrides,\n})\n\nexport default responsiveFontSizes(theme)\n","import { useContext } from 'react'\nimport { MobXProviderContext } from 'mobx-react'\nimport {\n  TStore,\n  Workspace,\n  Layout,\n  Project,\n  Style,\n  Font,\n  ProjectUi,\n  FontStyleConfig,\n} from '.'\n\nexport default function useStores(): TStore {\n  return useContext(MobXProviderContext) as TStore\n}\n\nexport function useWorkspace(): Workspace {\n  const store = useStores()\n  return store.workspace\n}\n\nexport function useLayout(): Layout {\n  const store = useStores()\n  return store.workspace.currentProject.layout\n}\n\nexport function useProject(): Project {\n  const store = useStores()\n  return store.workspace.currentProject\n}\n\nexport function useStyle(): Style {\n  const { style } = useProject()\n  return style\n}\n\nexport function useFont(): Font {\n  const { font } = useStyle()\n  return font\n}\n\nexport function useFill(): FontStyleConfig {\n  const { fill } = useStyle()\n  return fill\n}\n\nexport function useProjectUi(): ProjectUi {\n  const { ui } = useProject()\n  return ui\n}\n","export default function readFile(\r\n  file: File,\r\n): Promise<string | ArrayBuffer | null> {\r\n  if (file.arrayBuffer) return file.arrayBuffer()\r\n\r\n  return new Promise((resolve) => {\r\n    const reader = new FileReader()\r\n    reader.readAsArrayBuffer(file)\r\n    reader.onload = (e) => {\r\n      resolve(e?.target?.result || null)\r\n    }\r\n  })\r\n}\r\n","import React, { useState, FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\n\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FontDownload from '@material-ui/icons/FontDownload'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff'\r\n\r\nimport { useFont } from 'src/store/hooks'\r\nimport readFile from 'src/utils/readFile'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    clear: {\r\n      padding: theme.spacing(0.5),\r\n      cursor: 'pointer',\r\n      display: 'block',\r\n    },\r\n  }),\r\n)\r\n\r\nconst FontFamily: FunctionComponent<unknown> = () => {\r\n  const classes = useStyles()\r\n  const [loading, setLoading] = useState(false)\r\n  const { hasFont, setFont, clearFont } = useFont()\r\n\r\n  const hanleUploadFile = (\r\n    event: React.ChangeEvent<HTMLInputElement>,\r\n  ): void => {\r\n    if (\r\n      !event ||\r\n      !event.target ||\r\n      !event.target.files ||\r\n      !event.target.files[0]\r\n    )\r\n      return\r\n\r\n    const file = event.target.files[0]\r\n    const ext = file.name.match(/\\.([A-Z0-9]+)$/i)\r\n    if (!ext) return\r\n\r\n    setLoading(true)\r\n\r\n    readFile(file).then((arrBuf) => {\r\n      if (!(arrBuf instanceof ArrayBuffer)) {\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      event.target.value = ''\r\n\r\n      setFont(arrBuf)\r\n        .then(() => setLoading(false))\r\n        .catch((e) => {\r\n          setLoading(false)\r\n          window.alert(e.message)\r\n        })\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={2} alignItems='center'>\r\n      <Grid item xs={true}>\r\n        <Button\r\n          component='label'\r\n          variant='contained'\r\n          color='primary'\r\n          fullWidth\r\n          size='large'\r\n          startIcon={\r\n            loading ? (\r\n              <CircularProgress size={22} color='inherit' />\r\n            ) : (\r\n              <FontDownload />\r\n            )\r\n          }\r\n          disabled={loading}\r\n        >\r\n          Select Font File\r\n          <input\r\n            hidden\r\n            type='file'\r\n            onChange={hanleUploadFile}\r\n            accept='.ttf,.otf,.woff'\r\n          />\r\n        </Button>\r\n      </Grid>\r\n      {hasFont ? (\r\n        <Grid item xs='auto'>\r\n          <HighlightOffIcon className={classes.clear} onClick={clearFont} />\r\n        </Grid>\r\n      ) : null}\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default observer(FontFamily)\r\n","import React, {\n  ReactNode,\n  FunctionComponent,\n  PropsWithChildren,\n  ElementType,\n} from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\n\ninterface GridInputProps {\n  before?: ReactNode\n  after?: ReactNode\n  component?: ElementType\n  childrenWidth?: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8\n}\n\nconst GridInput: FunctionComponent<GridInputProps> = (\n  props: PropsWithChildren<GridInputProps>,\n): JSX.Element => {\n  const { before, children, component, after, childrenWidth } = props\n  return (\n    <Grid\n      component={component || 'label'}\n      container\n      spacing={2}\n      wrap='nowrap'\n      justify='center'\n      alignItems='center'\n    >\n      <Grid item xs={4}>\n        {typeof before === 'object' ? (\n          before\n        ) : (\n          <Typography noWrap align='right'>\n            {before}\n          </Typography>\n        )}\n      </Grid>\n      <Grid item xs={childrenWidth || 5}>\n        {children}\n      </Grid>\n      <Grid item xs>\n        {typeof after === 'object' ? (\n          after\n        ) : (\n          <Typography noWrap variant='caption'>\n            {after}\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default GridInput\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Input from '@material-ui/core/Input'\n\nimport GridInput from 'src/app/components/GridInput/GridInput'\n\nimport { useFont } from 'src/store/hooks'\n\nconst FontSize: FunctionComponent<unknown> = () => {\n  const { size, setSize } = useFont()\n\n  const handleInput = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>,\n  ): void => {\n    setSize(Number(event.target.value))\n  }\n\n  return (\n    <GridInput before='Font Size:' after='px'>\n      <Input\n        value={size}\n        fullWidth\n        type='number'\n        inputProps={{ min: 1 }}\n        onChange={handleInput}\n      />\n    </GridInput>\n  )\n}\n\nexport default observer(FontSize)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Input from '@material-ui/core/Input'\n\nimport GridInput from 'src/app/components/GridInput/GridInput'\n\nimport { useFont } from 'src/store/hooks'\n\nconst LineHeight: FunctionComponent<unknown> = () => {\n  const { lineHeight, setLineHeight } = useFont()\n\n  const handleInput = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>,\n  ): void => {\n    setLineHeight(Number(event.target.value))\n  }\n\n  return (\n    <GridInput before='Line Height:' after='multiple'>\n      <Input\n        value={lineHeight}\n        fullWidth\n        type='number'\n        inputProps={{ min: 0.5, step: 0.1 }}\n        onChange={handleInput}\n      />\n    </GridInput>\n  )\n}\n\nexport default observer(LineHeight)\n","import React, { FunctionComponent } from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\n\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport LineHeight from './LineHeight'\n\nconst Font: FunctionComponent<unknown> = () => {\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <Typography>Font</Typography>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <FontFamily />\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <FontSize />\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <LineHeight />\n      </Box>\n    </>\n  )\n}\n\nexport default Font\n","import React, {\r\n  useState,\r\n  FunctionComponent,\r\n  useCallback,\r\n  useEffect,\r\n} from 'react'\r\n\r\nimport Box from '@material-ui/core/Box'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { observer } from 'mobx-react'\r\n\r\nimport { useProject } from 'src/store/hooks'\r\n\r\nconst Glyphs: FunctionComponent<unknown> = () => {\r\n  const { text, setText } = useProject()\r\n  const [isIME, setIsIME] = useState(false)\r\n  const [inputText, setInputText] = useState(text)\r\n\r\n  const handleInput = (event: React.ChangeEvent<HTMLTextAreaElement>): void => {\r\n    const { value } = event.target\r\n    const str = Array.from(new Set(value.split(''))).join('')\r\n    if (isIME) {\r\n      setInputText(value)\r\n    } else {\r\n      setInputText(str)\r\n      if (str !== text) setText(str)\r\n    }\r\n  }\r\n\r\n  const handleCompositionStart = useCallback((): void => {\r\n    setInputText(text)\r\n    setIsIME(true)\r\n  }, [text])\r\n\r\n  const handleCompositionEnd = (): void => {\r\n    setIsIME(false)\r\n    const str = Array.from(new Set(inputText.split(''))).join('')\r\n    setInputText(str)\r\n    if (str !== text) setText(str)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setInputText(text)\r\n  }, [text])\r\n\r\n  return (\r\n    <>\r\n      <Box paddingX={2} marginY={4}>\r\n        <Typography>Glyphs</Typography>\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <TextField\r\n          margin='none'\r\n          value={isIME ? inputText : text}\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          variant='outlined'\r\n          inputProps={{ spellCheck: false }}\r\n          onChange={handleInput}\r\n          onCompositionStart={handleCompositionStart}\r\n          onCompositionEnd={handleCompositionEnd}\r\n        />\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default observer(Glyphs)\r\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Input from '@material-ui/core/Input'\n\nimport GridInput from 'src/app/components/GridInput'\n\nimport { useLayout } from 'src/store/hooks'\n\nconst Padding: FunctionComponent<unknown> = () => {\n  const { padding, setPadding } = useLayout()\n\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setPadding(Number(event.target.value))\n  }\n\n  return (\n    <GridInput before='Padding:' after='px'>\n      <Input\n        value={padding}\n        fullWidth\n        type='number'\n        inputProps={{ min: 0 }}\n        onChange={handleInput}\n      />\n    </GridInput>\n  )\n}\n\nexport default observer(Padding)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Input from '@material-ui/core/Input'\n\nimport { useLayout } from 'src/store/hooks'\n\nimport GridInput from 'src/app/components/GridInput'\n\nconst Spacing: FunctionComponent<unknown> = () => {\n  const { spacing, setSpacing } = useLayout()\n\n  return (\n    <GridInput before='Spacing:' after='px'>\n      <Input\n        value={spacing}\n        fullWidth\n        type='number'\n        inputProps={{ min: 0 }}\n        onChange={(e) => setSpacing(Number(e.target.value))}\n      />\n    </GridInput>\n  )\n}\n\nexport default observer(Spacing)\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nimport { useLayout } from 'src/store/hooks'\r\n\r\nimport GridInput from 'src/app/components/GridInput'\r\n\r\nconst AutoPack: FunctionComponent<unknown> = () => {\r\n  const { auto, setAuto } = useLayout()\r\n\r\n  return (\r\n    <GridInput before='Auto Pack:'>\r\n      <Checkbox\r\n        checked={auto}\r\n        size='small'\r\n        color='default'\r\n        onChange={(e) => setAuto(e.target.checked)}\r\n      />\r\n    </GridInput>\r\n  )\r\n}\r\n\r\nexport default observer(AutoPack)\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nimport { useLayout } from 'src/store/hooks'\r\n\r\nimport GridInput from 'src/app/components/GridInput'\r\n\r\nconst FixedSize: FunctionComponent<unknown> = () => {\r\n  const { auto, fixedSize, setFixedSize } = useLayout()\r\n\r\n  return (\r\n    <GridInput before='Fixed Size:'>\r\n      <Checkbox\r\n        checked={fixedSize}\r\n        size='small'\r\n        color='default'\r\n        onChange={(e) => setFixedSize(e.target.checked)}\r\n        disabled={auto}\r\n      />\r\n    </GridInput>\r\n  )\r\n}\r\n\r\nexport default observer(FixedSize)\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Input from '@material-ui/core/Input'\r\n\r\nimport GridInput from 'src/app/components/GridInput'\r\n\r\nimport { useLayout } from 'src/store/hooks'\r\n\r\nconst PackWidth: FunctionComponent<unknown> = () => {\r\n  const { width, auto, fixedSize, setWidth } = useLayout()\r\n\r\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>): void => {\r\n    setWidth(Number(event.target.value))\r\n  }\r\n\r\n  return (\r\n    <GridInput before={fixedSize ? 'Width:' : 'Max Width:'} after='px'>\r\n      <Input\r\n        value={width}\r\n        fullWidth\r\n        type='number'\r\n        inputProps={{ min: 0 }}\r\n        onChange={handleInput}\r\n        disabled={auto}\r\n      />\r\n    </GridInput>\r\n  )\r\n}\r\n\r\nexport default observer(PackWidth)\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Input from '@material-ui/core/Input'\r\n\r\nimport GridInput from 'src/app/components/GridInput'\r\n\r\nimport { useLayout } from 'src/store/hooks'\r\n\r\nconst PackHeight: FunctionComponent<unknown> = () => {\r\n  const { height, auto, fixedSize, setHeight } = useLayout()\r\n\r\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>): void => {\r\n    setHeight(Number(event.target.value))\r\n  }\r\n\r\n  return (\r\n    <GridInput before={fixedSize ? 'Height:' : 'Max Height:'} after='px'>\r\n      <Input\r\n        value={height}\r\n        fullWidth\r\n        type='number'\r\n        inputProps={{ min: 0 }}\r\n        onChange={handleInput}\r\n        disabled={auto}\r\n      />\r\n    </GridInput>\r\n  )\r\n}\r\n\r\nexport default observer(PackHeight)\r\n","import React, { FunctionComponent } from 'react'\r\n\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nimport Padding from './Padding'\r\nimport Spacing from './Spacing'\r\n// import Power from './Power'\r\nimport AutoPack from './AutoPack'\r\nimport FixedSize from './FixedSize'\r\nimport PackWidth from './PackWidth'\r\nimport PackHeight from './PackHeight'\r\n\r\nconst PackConfig: FunctionComponent<unknown> = () => {\r\n  return (\r\n    <>\r\n      <Box paddingX={2} marginY={4}>\r\n        <Typography>Layout</Typography>\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <Padding />\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <Spacing />\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <AutoPack />\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <FixedSize />\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <PackWidth />\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <PackHeight />\r\n      </Box>\r\n      {/* <Box paddingX={2} marginY={4}>\r\n        <Power />\r\n      </Box> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PackConfig\r\n","import React, { FunctionComponent } from 'react'\nimport Box from '@material-ui/core/Box'\nimport Input from '@material-ui/core/Input'\nimport GridInput from 'src/app/components/GridInput'\n\ninterface SetHandle {\n  (value: number): void\n}\n\ninterface FormAdjustMetricProps {\n  xAdvance: number\n  xOffset: number\n  yOffset: number\n  setXAdvance: SetHandle\n  setXOffset: SetHandle\n  setYOffset: SetHandle\n}\n\nconst FormAdjustMetric: FunctionComponent<FormAdjustMetricProps> = (\n  props: FormAdjustMetricProps,\n) => {\n  const {\n    xAdvance,\n    xOffset,\n    yOffset,\n    setXAdvance,\n    setXOffset,\n    setYOffset,\n  } = props\n\n  const getHandle = (handleSet: SetHandle) => (\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => handleSet(Number(e.target.value))\n\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <GridInput before='xAdvance:' after='px'>\n          <Input\n            value={xAdvance}\n            fullWidth\n            type='number'\n            onChange={getHandle(setXAdvance)}\n          />\n        </GridInput>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <GridInput before='xOffset:' after='px'>\n          <Input\n            value={xOffset}\n            fullWidth\n            type='number'\n            onChange={getHandle(setXOffset)}\n          />\n        </GridInput>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <GridInput before='yOffset:' after='px'>\n          <Input\n            value={yOffset}\n            fullWidth\n            type='number'\n            onChange={getHandle(setYOffset)}\n          />\n        </GridInput>\n      </Box>\n    </>\n  )\n}\n\nexport default FormAdjustMetric\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useProject } from 'src/store/hooks'\n\nimport FormAdjustMetric from 'src/app/layout/common/FormAdjustMetric'\n\nconst GlobalMetric: FunctionComponent<unknown> = () => {\n  const { globalAdjustMetric } = useProject()\n  const {\n    xAdvance,\n    xOffset,\n    yOffset,\n    setXAdvance,\n    setXOffset,\n    setYOffset,\n  } = globalAdjustMetric\n\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <Typography>Global Metric Adjustment</Typography>\n      </Box>\n      <FormAdjustMetric\n        xAdvance={xAdvance}\n        xOffset={xOffset}\n        yOffset={yOffset}\n        setXAdvance={setXAdvance}\n        setXOffset={setXOffset}\n        setYOffset={setYOffset}\n      />\n    </>\n  )\n}\n\nexport default observer(GlobalMetric)\n","import React, { FunctionComponent } from 'react'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Font from './modules/Font'\r\nimport Glyphs from './modules/Glyphs'\r\nimport PackConfig from './modules/PackConfig'\r\nimport GlobalMetric from './modules/GlobalMetric'\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    root: {\r\n      overflow: 'hidden',\r\n      width: '256px',\r\n    },\r\n  }),\r\n)\r\n\r\nconst LeftBar: FunctionComponent<unknown> = () => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Box\r\n      bgcolor='background.sidebar'\r\n      display='flex'\r\n      flexDirection='column'\r\n      overflow='hidden'\r\n      className={classes.root}\r\n    >\r\n      <Box bgcolor='background.sidebar' boxShadow={2} padding={2}>\r\n        <Typography variant='subtitle2'>Font Config</Typography>\r\n      </Box>\r\n      <Box flex={1} height={0} overflow='hidden auto'>\r\n        <Glyphs />\r\n        <Divider />\r\n        <Font />\r\n        <Divider />\r\n        <PackConfig />\r\n        <Divider />\r\n        <GlobalMetric />\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default LeftBar\r\n","export default function formatStr(\n  str: string,\n  obj: Record<string, unknown>,\n): string {\n  return str.replace(/\\$\\w+\\$/gi, (matchs: string): string => {\n    const returns = obj[matchs.replace(/\\$/g, '')]\n    return `${returns}` === 'undefined' ? '' : `${returns}`\n  })\n}\n","import formatStr from 'src/utils/formatStr'\n\nimport { BMFont } from './toOutputInfo'\n\nconst TEMP_INFO = `<info face=\"$face$\" size=\"$size$\" bold=\"$bold$\" italic=\"$italic$\" charset=\"$charset$\" unicode=\"$unicode$\" stretchH=\"$stretchH$\" smooth=\"$smooth$\" aa=\"$aa$\" padding=\"$padding$\" spacing=\"$spacing$\" />`\nconst TEMP_COMMON = `<common lineHeight=\"$lineHeight$\" base=\"$base$\" scaleW=\"$scaleW$\" scaleH=\"$scaleH$\" pages=\"$pages$\" packed=\"$packed$\" />`\nconst TEMP_PAGE = `<page id=\"$id$\" file=\"$file$\" />`\nconst TEMP_CHARS = `<chars count=\"$count$\" />`\nconst TEMP_CHAR = `<char id=\"$id$\" x=\"$x$\" y=\"$y$\" width=\"$width$\" height=\"$height$\" xoffset=\"$xoffset$\" yoffset=\"$yoffset$\" xadvance=\"$xadvance$\" page=\"$page$\" chnl=\"$chnl$\" />`\nconst TEMP_KERNINGS = `<kernings count=\"$count$\" />`\nconst TEMP_KERNING = `<kerning first=\"$first$\" second=\"$second$\" amount=\"$amount$\" />`\n// http://www.angelcode.com/products/bmfont/doc/file_format.html\nexport default function storeToXml(bmfont: BMFont): string {\n  const { info, common, pages, chars, kernings } = bmfont\n\n  const parser = new DOMParser()\n  const xmlDOM = document.implementation.createDocument('', 'font', null)\n\n  const infoDoc = parser.parseFromString(formatStr(TEMP_INFO, info), 'text/xml')\n  xmlDOM.documentElement.appendChild(infoDoc.childNodes[0])\n\n  const commonDoc = parser.parseFromString(\n    formatStr(TEMP_COMMON, common),\n    'text/xml',\n  )\n  xmlDOM.documentElement.appendChild(commonDoc.childNodes[0])\n\n  const pagesDoc = parser.parseFromString(\n    `<pages>${pages.map((p) => formatStr(TEMP_PAGE, p))}</pages>`,\n    'text/xml',\n  )\n  xmlDOM.documentElement.appendChild(pagesDoc.childNodes[0])\n\n  const charsDoc = parser.parseFromString(\n    formatStr(TEMP_CHARS, chars),\n    'text/xml',\n  )\n\n  chars.list.forEach((char) => {\n    const charDoc = parser.parseFromString(\n      formatStr(TEMP_CHAR, char),\n      'text/xml',\n    )\n    charsDoc.childNodes[0].appendChild(charDoc.childNodes[0])\n  })\n\n  xmlDOM.documentElement.appendChild(charsDoc.childNodes[0])\n\n  if (kernings.count) {\n    const kerningsDoc = parser.parseFromString(\n      formatStr(TEMP_KERNINGS, kernings),\n      'text/xml',\n    )\n\n    kernings.list.forEach((kerning) => {\n      const kerningDoc = parser.parseFromString(\n        formatStr(TEMP_KERNING, kerning),\n        'text/xml',\n      )\n      kerningsDoc.childNodes[0].appendChild(kerningDoc.childNodes[0])\n    })\n\n    xmlDOM.documentElement.appendChild(kerningsDoc.childNodes[0])\n  }\n\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>${new XMLSerializer().serializeToString(\n    xmlDOM,\n  )}`\n}\n","import formatStr from 'src/utils/formatStr'\n\nimport { BMFont } from './toOutputInfo'\n\nconst TEMP_INFO = `Font.info = {\\n\\tface = \"$face$\",\\n\\tfile = \"$file$\",\\n\\tsize = $size$,\\n\\tbold = $bold$,\\n\\titalic = $italic$,\\n\\tcharset = $charset$\\n\\tunicode = $unicode$,\\n\\tstretchH = $stretchH$,\\n\\tsmooth = $smooth$,\\n\\taa = $aa$,\\n\\tpadding = {$padding$},\\n\\tspacing = $spacing$,\\n\\tcharsCount = $charsCount$,\\n\\tkerningsCounts = $kerningsCounts$\\n}\\n\\n`\nconst TEMP_COMMON = `Font.common = {\\n\\tlineHeight = $lineHeight$,\\n\\tbase = $base$,\\n\\tscaleW = $scaleW$,\\n\\tscaleH = $scaleH$,\\n\\tpages = $pages$,\\n\\tpacked = $packed$\\n}\\n\\n`\nconst TEMP_PAGE = `\\t{ id=$id$, file=\"$file$\" }`\nconst TEMP_CHARS = `Font.chars = {\\n`\nconst TEMP_CHAR = `\\t{\\n\\t\\tid = $id$,\\n\\t\\tx = $x$,\\n\\t\\ty = $y$,\\n\\t\\twidth = $width$,\\n\\t\\theight = $height$,\\n\\t\\txoffset = $xoffset$,\\n\\t\\tyoffset = $yoffset$,\\n\\t\\txadvance = $xadvance$,\\n\\t\\tpage = 0,\\n\\t\\tchnl = 15\\n\\t}`\nconst TEMP_KERNINGS = `Font.kerning = {\\n`\nconst TEMP_KERNING = `\\t{first = $first$, second = $second$, amount = $amount$}`\n\nexport default function getLuaString(bmfont: BMFont): string {\n  const { info, common, pages, chars, kernings } = bmfont\n\n  let str = ''\n\n  str += formatStr(TEMP_INFO, {\n    ...info,\n    charset: info.charset || '\"\"',\n    charsCount: chars.count,\n    kerningsCounts: kernings.count,\n    file: pages[0].file,\n  })\n  str += formatStr(TEMP_COMMON, common)\n\n  str += `Font.pages = {\\n`\n  str += pages.map((p) => formatStr(TEMP_PAGE, p)).join(',\\n')\n  str += '\\n}\\n\\n'\n\n  str += TEMP_CHARS\n  str += chars.list.map((char) => formatStr(TEMP_CHAR, char)).join(',\\n')\n  str += '\\n}\\n\\n'\n\n  str += TEMP_KERNINGS\n  str += kernings.list\n    .map((kerning) => formatStr(TEMP_KERNING, kerning))\n    .join(',\\n')\n  str += '\\n}'\n\n  return `local Font = {}\n\n${str.replace(/\\t/g, '    ')}\n\nreturn Font\n`\n}\n","import formatStr from 'src/utils/formatStr'\n\nimport { BMFont } from './toOutputInfo'\n\nconst TEMP_INFO = `info face=\"$face$\" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\\n`\nconst TEMP_COMMON = `common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\\n`\nconst TEMP_PAGE = `page id=$id$ file=\"$file$\"\\n`\nconst TEMP_CHARS = `chars count=$count$\\n`\nconst TEMP_CHAR = `char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\\n`\nconst TEMP_KERNINGS = `kernings count=$count$\\n`\nconst TEMP_KERNING = `kerning first=$first$ second=$second$ amount=$amount$\\n`\n\nexport default function getTextString(bmfont: BMFont): string {\n  const { info, common, pages, chars, kernings } = bmfont\n\n  let str = ''\n\n  str += formatStr(TEMP_INFO, { ...info, charset: info.charset || '\"\"' })\n\n  str += formatStr(TEMP_COMMON, common)\n\n  pages.forEach((p) => {\n    str += formatStr(TEMP_PAGE, p)\n  })\n\n  str += formatStr(TEMP_CHARS, chars)\n\n  chars.list.forEach((char) => {\n    str += formatStr(TEMP_CHAR, char)\n  })\n\n  if (kernings.count) {\n    str += formatStr(TEMP_KERNINGS, kernings)\n\n    kernings.list.forEach((kerning) => {\n      str += formatStr(TEMP_KERNING, kerning)\n    })\n  }\n\n  return str\n}\n","import { Project } from 'src/store'\n\ninterface BMFontInfo extends Record<string, unknown> {\n  face: string\n  size: number\n  bold: number\n  italic: number\n  charset: string\n  unicode: number\n  stretchH: number\n  smooth: number\n  aa: number\n  padding: number[]\n  spacing: number[]\n}\n\ninterface BMFontCommon extends Record<string, unknown> {\n  lineHeight: number\n  base: number\n  scaleW: number\n  scaleH: number\n  pages: number\n  packed: number\n}\n\ninterface BMFontPage extends Record<string, unknown> {\n  id: number\n  file: string\n}\n\nexport interface BMFontChar extends Record<string, unknown> {\n  letter: string\n  id: number\n  source: HTMLImageElement | HTMLCanvasElement | null\n  x: number\n  y: number\n  width: number\n  height: number\n  xoffset: number\n  yoffset: number\n  xadvance: number\n  page: number\n  chnl: number\n}\n\ninterface BMFontChars extends Record<string, unknown> {\n  count: number\n  list: BMFontChar[]\n}\n\nexport interface BMFontKerning extends Record<string, unknown> {\n  first: number\n  second: number\n  amount: number\n}\n\ninterface BMFontKernings extends Record<string, unknown> {\n  count: number\n  list: BMFontKerning[]\n}\n\nexport interface BMFont {\n  info: BMFontInfo\n  common: BMFontCommon\n  pages: BMFontPage[]\n  chars: BMFontChars\n  kernings: BMFontKernings\n}\n\n// http://www.angelcode.com/products/bmfont/doc/file_format.html\nexport default function toOutputInfo(project: Project): BMFont {\n  const {\n    name,\n    style,\n    layout,\n    globalAdjustMetric,\n    glyphList,\n    ui: { width, height },\n  } = project\n  const { opentype, size } = style.font\n  let fontScale = 1\n  if (opentype) {\n    fontScale = (1 / opentype.unitsPerEm) * size\n  }\n  const info: BMFontInfo = {\n    face: style.font.family,\n    size: style.font.size,\n    bold: 0,\n    italic: 0,\n    charset: '',\n    unicode: 1,\n    stretchH: 100,\n    smooth: 1,\n    aa: 1,\n    padding: new Array(4).fill(layout.padding),\n    spacing: new Array(2).fill(layout.spacing),\n  }\n\n  const common: BMFontCommon = {\n    lineHeight: style.font.size,\n    base: style.font.size,\n    scaleW: width,\n    scaleH: height,\n    pages: 1,\n    packed: 0,\n  }\n\n  const pages: BMFontPage[] = [\n    {\n      id: 0,\n      file: `${name}.png`,\n    },\n  ]\n\n  const chars: BMFontChars = {\n    count: glyphList.length,\n    list: [],\n  }\n\n  const kernings: BMFontKernings = {\n    count: 0,\n    list: [],\n  }\n\n  glyphList.forEach((glyph) => {\n    const isUnEmpty = !!(glyph.width && glyph.height)\n    chars.list.push({\n      letter: glyph.letter,\n      id: glyph.letter.charCodeAt(0),\n      source: glyph.source,\n      x: glyph.x,\n      y: glyph.y,\n      width: isUnEmpty ? glyph.width + layout.padding * 2 : 0,\n      height: isUnEmpty ? glyph.height + layout.padding * 2 : 0,\n      xoffset:\n        globalAdjustMetric.xOffset +\n        glyph.adjustMetric.xOffset -\n        (isUnEmpty ? glyph.trimOffsetLeft : 0),\n      yoffset:\n        globalAdjustMetric.yOffset +\n        glyph.adjustMetric.yOffset -\n        (isUnEmpty ? glyph.trimOffsetTop : 0),\n      xadvance:\n        Math.ceil(glyph.fontWidth) +\n        globalAdjustMetric.xAdvance +\n        glyph.adjustMetric.xAdvance,\n      page: 0,\n      chnl: 15,\n    })\n    if (opentype) {\n      glyphList.forEach(({ letter }) => {\n        const amount = Math.round(\n          opentype.getKerningValue(\n            opentype.charToGlyphIndex(glyph.letter),\n            opentype.charToGlyphIndex(letter),\n          ) *\n            fontScale +\n            (glyph.kerning.get(letter) || 0),\n        )\n        if (amount) {\n          kernings.list.push({\n            first: glyph.letter.charCodeAt(0),\n            second: letter.charCodeAt(0),\n            amount,\n          })\n        }\n      })\n    } else {\n      glyph.kerning.forEach((amount, letter) => {\n        if (amount)\n          kernings.list.push({\n            first: glyph.letter.charCodeAt(0),\n            second: letter.charCodeAt(0),\n            amount,\n          })\n      })\n    }\n  })\n  kernings.count = kernings.list.length\n\n  chars.list.sort((a, b) => a.id - b.id)\n\n  return {\n    info,\n    common,\n    pages,\n    chars,\n    kernings,\n  }\n}\n","/* eslint-disable */\r\nimport * as $protobuf from 'protobufjs/minimal'\r\n\r\n// Common aliases\r\nconst $Reader = $protobuf.Reader,\r\n  $Writer = $protobuf.Writer,\r\n  $util = $protobuf.util\r\n\r\n// Exported root namespace\r\nconst $root = $protobuf.roots['default'] || ($protobuf.roots['default'] = {})\r\n\r\nexport const Metric = ($root.Metric = (() => {\r\n  /**\r\n   * Properties of a Metric.\r\n   * @exports IMetric\r\n   * @interface IMetric\r\n   * @property {number|null} [xAdvance] Metric xAdvance\r\n   * @property {number|null} [xOffset] Metric xOffset\r\n   * @property {number|null} [yOffset] Metric yOffset\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Metric.\r\n   * @exports Metric\r\n   * @classdesc Represents a Metric.\r\n   * @implements IMetric\r\n   * @constructor\r\n   * @param {IMetric=} [properties] Properties to set\r\n   */\r\n  function Metric(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Metric xAdvance.\r\n   * @member {number} xAdvance\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.xAdvance = 0\r\n\r\n  /**\r\n   * Metric xOffset.\r\n   * @member {number} xOffset\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.xOffset = 0\r\n\r\n  /**\r\n   * Metric yOffset.\r\n   * @member {number} yOffset\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.yOffset = 0\r\n\r\n  /**\r\n   * Creates a new Metric instance using the specified properties.\r\n   * @function create\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric=} [properties] Properties to set\r\n   * @returns {Metric} Metric instance\r\n   */\r\n  Metric.create = function create(properties) {\r\n    return new Metric(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Metric message. Does not implicitly {@link Metric.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric} message Metric message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Metric.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.xAdvance != null &&\r\n      Object.hasOwnProperty.call(message, 'xAdvance')\r\n    )\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).sint32(message.xAdvance)\r\n    if (\r\n      message.xOffset != null &&\r\n      Object.hasOwnProperty.call(message, 'xOffset')\r\n    )\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).sint32(message.xOffset)\r\n    if (\r\n      message.yOffset != null &&\r\n      Object.hasOwnProperty.call(message, 'yOffset')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).sint32(message.yOffset)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Metric message, length delimited. Does not implicitly {@link Metric.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric} message Metric message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Metric.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Metric message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Metric} Metric\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Metric.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Metric()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.xAdvance = reader.sint32()\r\n          break\r\n        case 2:\r\n          message.xOffset = reader.sint32()\r\n          break\r\n        case 3:\r\n          message.yOffset = reader.sint32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Metric message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Metric} Metric\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Metric.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Metric message.\r\n   * @function verify\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Metric.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.xAdvance != null && message.hasOwnProperty('xAdvance'))\r\n      if (!$util.isInteger(message.xAdvance))\r\n        return 'xAdvance: integer expected'\r\n    if (message.xOffset != null && message.hasOwnProperty('xOffset'))\r\n      if (!$util.isInteger(message.xOffset)) return 'xOffset: integer expected'\r\n    if (message.yOffset != null && message.hasOwnProperty('yOffset'))\r\n      if (!$util.isInteger(message.yOffset)) return 'yOffset: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Metric message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Metric} Metric\r\n   */\r\n  Metric.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Metric) return object\r\n    let message = new $root.Metric()\r\n    if (object.xAdvance != null) message.xAdvance = object.xAdvance | 0\r\n    if (object.xOffset != null) message.xOffset = object.xOffset | 0\r\n    if (object.yOffset != null) message.yOffset = object.yOffset | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Metric message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Metric} message Metric\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Metric.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.xAdvance = 0\r\n      object.xOffset = 0\r\n      object.yOffset = 0\r\n    }\r\n    if (message.xAdvance != null && message.hasOwnProperty('xAdvance'))\r\n      object.xAdvance = message.xAdvance\r\n    if (message.xOffset != null && message.hasOwnProperty('xOffset'))\r\n      object.xOffset = message.xOffset\r\n    if (message.yOffset != null && message.hasOwnProperty('yOffset'))\r\n      object.yOffset = message.yOffset\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Metric to JSON.\r\n   * @function toJSON\r\n   * @memberof Metric\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Metric.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Metric\r\n})())\r\n\r\nexport const GradientColor = ($root.GradientColor = (() => {\r\n  /**\r\n   * Properties of a GradientColor.\r\n   * @exports IGradientColor\r\n   * @interface IGradientColor\r\n   * @property {number|null} [id] GradientColor id\r\n   * @property {number|null} [offset] GradientColor offset\r\n   * @property {string|null} [color] GradientColor color\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GradientColor.\r\n   * @exports GradientColor\r\n   * @classdesc Represents a GradientColor.\r\n   * @implements IGradientColor\r\n   * @constructor\r\n   * @param {IGradientColor=} [properties] Properties to set\r\n   */\r\n  function GradientColor(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GradientColor id.\r\n   * @member {number} id\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.id = 0\r\n\r\n  /**\r\n   * GradientColor offset.\r\n   * @member {number} offset\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.offset = 0\r\n\r\n  /**\r\n   * GradientColor color.\r\n   * @member {string} color\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.color = ''\r\n\r\n  /**\r\n   * Creates a new GradientColor instance using the specified properties.\r\n   * @function create\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor=} [properties] Properties to set\r\n   * @returns {GradientColor} GradientColor instance\r\n   */\r\n  GradientColor.create = function create(properties) {\r\n    return new GradientColor(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GradientColor message. Does not implicitly {@link GradientColor.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor} message GradientColor message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GradientColor.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.id != null && Object.hasOwnProperty.call(message, 'id'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.id)\r\n    if (message.offset != null && Object.hasOwnProperty.call(message, 'offset'))\r\n      writer.uint32(/* id 2, wireType 5 =*/ 21).float(message.offset)\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.color)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GradientColor message, length delimited. Does not implicitly {@link GradientColor.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor} message GradientColor message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GradientColor.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GradientColor message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GradientColor} GradientColor\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GradientColor.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GradientColor()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.id = reader.int32()\r\n          break\r\n        case 2:\r\n          message.offset = reader.float()\r\n          break\r\n        case 3:\r\n          message.color = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GradientColor message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GradientColor} GradientColor\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GradientColor.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GradientColor message.\r\n   * @function verify\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GradientColor.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (!$util.isInteger(message.id)) return 'id: integer expected'\r\n    if (message.offset != null && message.hasOwnProperty('offset'))\r\n      if (typeof message.offset !== 'number') return 'offset: number expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GradientColor message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GradientColor} GradientColor\r\n   */\r\n  GradientColor.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GradientColor) return object\r\n    let message = new $root.GradientColor()\r\n    if (object.id != null) message.id = object.id | 0\r\n    if (object.offset != null) message.offset = Number(object.offset)\r\n    if (object.color != null) message.color = String(object.color)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GradientColor message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {GradientColor} message GradientColor\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GradientColor.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.id = 0\r\n      object.offset = 0\r\n      object.color = ''\r\n    }\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      object.id = message.id\r\n    if (message.offset != null && message.hasOwnProperty('offset'))\r\n      object.offset =\r\n        options.json && !isFinite(message.offset)\r\n          ? String(message.offset)\r\n          : message.offset\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GradientColor to JSON.\r\n   * @function toJSON\r\n   * @memberof GradientColor\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GradientColor.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GradientColor\r\n})())\r\n\r\nexport const Gradient = ($root.Gradient = (() => {\r\n  /**\r\n   * Properties of a Gradient.\r\n   * @exports IGradient\r\n   * @interface IGradient\r\n   * @property {number|null} [type] Gradient type\r\n   * @property {number|null} [angle] Gradient angle\r\n   * @property {Array.<IGradientColor>|null} [palette] Gradient palette\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Gradient.\r\n   * @exports Gradient\r\n   * @classdesc Represents a Gradient.\r\n   * @implements IGradient\r\n   * @constructor\r\n   * @param {IGradient=} [properties] Properties to set\r\n   */\r\n  function Gradient(properties) {\r\n    this.palette = []\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Gradient type.\r\n   * @member {number} type\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.type = 0\r\n\r\n  /**\r\n   * Gradient angle.\r\n   * @member {number} angle\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.angle = 0\r\n\r\n  /**\r\n   * Gradient palette.\r\n   * @member {Array.<IGradientColor>} palette\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.palette = $util.emptyArray\r\n\r\n  /**\r\n   * Creates a new Gradient instance using the specified properties.\r\n   * @function create\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient=} [properties] Properties to set\r\n   * @returns {Gradient} Gradient instance\r\n   */\r\n  Gradient.create = function create(properties) {\r\n    return new Gradient(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Gradient message. Does not implicitly {@link Gradient.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient} message Gradient message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Gradient.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.type != null && Object.hasOwnProperty.call(message, 'type'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.type)\r\n    if (message.angle != null && Object.hasOwnProperty.call(message, 'angle'))\r\n      writer.uint32(/* id 2, wireType 5 =*/ 21).float(message.angle)\r\n    if (message.palette != null && message.palette.length)\r\n      for (let i = 0; i < message.palette.length; ++i)\r\n        $root.GradientColor.encode(\r\n          message.palette[i],\r\n          writer.uint32(/* id 3, wireType 2 =*/ 26).fork(),\r\n        ).ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Gradient message, length delimited. Does not implicitly {@link Gradient.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient} message Gradient message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Gradient.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Gradient message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Gradient} Gradient\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Gradient.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Gradient()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.type = reader.int32()\r\n          break\r\n        case 2:\r\n          message.angle = reader.float()\r\n          break\r\n        case 3:\r\n          if (!(message.palette && message.palette.length)) message.palette = []\r\n          message.palette.push(\r\n            $root.GradientColor.decode(reader, reader.uint32()),\r\n          )\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Gradient message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Gradient} Gradient\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Gradient.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Gradient message.\r\n   * @function verify\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Gradient.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      if (!$util.isInteger(message.type)) return 'type: integer expected'\r\n    if (message.angle != null && message.hasOwnProperty('angle'))\r\n      if (typeof message.angle !== 'number') return 'angle: number expected'\r\n    if (message.palette != null && message.hasOwnProperty('palette')) {\r\n      if (!Array.isArray(message.palette)) return 'palette: array expected'\r\n      for (let i = 0; i < message.palette.length; ++i) {\r\n        let error = $root.GradientColor.verify(message.palette[i])\r\n        if (error) return 'palette.' + error\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Gradient message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Gradient} Gradient\r\n   */\r\n  Gradient.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Gradient) return object\r\n    let message = new $root.Gradient()\r\n    if (object.type != null) message.type = object.type | 0\r\n    if (object.angle != null) message.angle = Number(object.angle)\r\n    if (object.palette) {\r\n      if (!Array.isArray(object.palette))\r\n        throw TypeError('.Gradient.palette: array expected')\r\n      message.palette = []\r\n      for (let i = 0; i < object.palette.length; ++i) {\r\n        if (typeof object.palette[i] !== 'object')\r\n          throw TypeError('.Gradient.palette: object expected')\r\n        message.palette[i] = $root.GradientColor.fromObject(object.palette[i])\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Gradient message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Gradient} message Gradient\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Gradient.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.arrays || options.defaults) object.palette = []\r\n    if (options.defaults) {\r\n      object.type = 0\r\n      object.angle = 0\r\n    }\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      object.type = message.type\r\n    if (message.angle != null && message.hasOwnProperty('angle'))\r\n      object.angle =\r\n        options.json && !isFinite(message.angle)\r\n          ? String(message.angle)\r\n          : message.angle\r\n    if (message.palette && message.palette.length) {\r\n      object.palette = []\r\n      for (let j = 0; j < message.palette.length; ++j)\r\n        object.palette[j] = $root.GradientColor.toObject(\r\n          message.palette[j],\r\n          options,\r\n        )\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Gradient to JSON.\r\n   * @function toJSON\r\n   * @memberof Gradient\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Gradient.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Gradient\r\n})())\r\n\r\nexport const PatternTexture = ($root.PatternTexture = (() => {\r\n  /**\r\n   * Properties of a PatternTexture.\r\n   * @exports IPatternTexture\r\n   * @interface IPatternTexture\r\n   * @property {Uint8Array|null} [buffer] PatternTexture buffer\r\n   * @property {number|null} [scale] PatternTexture scale\r\n   * @property {string|null} [repetition] PatternTexture repetition\r\n   */\r\n\r\n  /**\r\n   * Constructs a new PatternTexture.\r\n   * @exports PatternTexture\r\n   * @classdesc Represents a PatternTexture.\r\n   * @implements IPatternTexture\r\n   * @constructor\r\n   * @param {IPatternTexture=} [properties] Properties to set\r\n   */\r\n  function PatternTexture(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * PatternTexture buffer.\r\n   * @member {Uint8Array} buffer\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.buffer = $util.newBuffer([])\r\n\r\n  /**\r\n   * PatternTexture scale.\r\n   * @member {number} scale\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.scale = 0\r\n\r\n  /**\r\n   * PatternTexture repetition.\r\n   * @member {string} repetition\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.repetition = ''\r\n\r\n  /**\r\n   * Creates a new PatternTexture instance using the specified properties.\r\n   * @function create\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture=} [properties] Properties to set\r\n   * @returns {PatternTexture} PatternTexture instance\r\n   */\r\n  PatternTexture.create = function create(properties) {\r\n    return new PatternTexture(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified PatternTexture message. Does not implicitly {@link PatternTexture.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture} message PatternTexture message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  PatternTexture.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.buffer != null && Object.hasOwnProperty.call(message, 'buffer'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).bytes(message.buffer)\r\n    if (message.scale != null && Object.hasOwnProperty.call(message, 'scale'))\r\n      writer.uint32(/* id 2, wireType 1 =*/ 17).double(message.scale)\r\n    if (\r\n      message.repetition != null &&\r\n      Object.hasOwnProperty.call(message, 'repetition')\r\n    )\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.repetition)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified PatternTexture message, length delimited. Does not implicitly {@link PatternTexture.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture} message PatternTexture message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  PatternTexture.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a PatternTexture message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {PatternTexture} PatternTexture\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  PatternTexture.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.PatternTexture()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.buffer = reader.bytes()\r\n          break\r\n        case 2:\r\n          message.scale = reader.double()\r\n          break\r\n        case 3:\r\n          message.repetition = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a PatternTexture message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {PatternTexture} PatternTexture\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  PatternTexture.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a PatternTexture message.\r\n   * @function verify\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  PatternTexture.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      if (\r\n        !(\r\n          (message.buffer && typeof message.buffer.length === 'number') ||\r\n          $util.isString(message.buffer)\r\n        )\r\n      )\r\n        return 'buffer: buffer expected'\r\n    if (message.scale != null && message.hasOwnProperty('scale'))\r\n      if (typeof message.scale !== 'number') return 'scale: number expected'\r\n    if (message.repetition != null && message.hasOwnProperty('repetition'))\r\n      if (!$util.isString(message.repetition))\r\n        return 'repetition: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a PatternTexture message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {PatternTexture} PatternTexture\r\n   */\r\n  PatternTexture.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.PatternTexture) return object\r\n    let message = new $root.PatternTexture()\r\n    if (object.buffer != null)\r\n      if (typeof object.buffer === 'string')\r\n        $util.base64.decode(\r\n          object.buffer,\r\n          (message.buffer = $util.newBuffer(\r\n            $util.base64.length(object.buffer),\r\n          )),\r\n          0,\r\n        )\r\n      else if (object.buffer.length) message.buffer = object.buffer\r\n    if (object.scale != null) message.scale = Number(object.scale)\r\n    if (object.repetition != null)\r\n      message.repetition = String(object.repetition)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a PatternTexture message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {PatternTexture} message PatternTexture\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  PatternTexture.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      if (options.bytes === String) object.buffer = ''\r\n      else {\r\n        object.buffer = []\r\n        if (options.bytes !== Array)\r\n          object.buffer = $util.newBuffer(object.buffer)\r\n      }\r\n      object.scale = 0\r\n      object.repetition = ''\r\n    }\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      object.buffer =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.buffer, 0, message.buffer.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.buffer)\r\n          : message.buffer\r\n    if (message.scale != null && message.hasOwnProperty('scale'))\r\n      object.scale =\r\n        options.json && !isFinite(message.scale)\r\n          ? String(message.scale)\r\n          : message.scale\r\n    if (message.repetition != null && message.hasOwnProperty('repetition'))\r\n      object.repetition = message.repetition\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this PatternTexture to JSON.\r\n   * @function toJSON\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  PatternTexture.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return PatternTexture\r\n})())\r\n\r\nexport const Fill = ($root.Fill = (() => {\r\n  /**\r\n   * Properties of a Fill.\r\n   * @exports IFill\r\n   * @interface IFill\r\n   * @property {number|null} [type] Fill type\r\n   * @property {string|null} [color] Fill color\r\n   * @property {IGradient|null} [gradient] Fill gradient\r\n   * @property {IPatternTexture|null} [patternTexture] Fill patternTexture\r\n   * @property {number|null} [width] Fill width\r\n   * @property {string|null} [lineCap] Fill lineCap\r\n   * @property {string|null} [lineJoin] Fill lineJoin\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Fill.\r\n   * @exports Fill\r\n   * @classdesc Represents a Fill.\r\n   * @implements IFill\r\n   * @constructor\r\n   * @param {IFill=} [properties] Properties to set\r\n   */\r\n  function Fill(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Fill type.\r\n   * @member {number} type\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.type = 0\r\n\r\n  /**\r\n   * Fill color.\r\n   * @member {string} color\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.color = ''\r\n\r\n  /**\r\n   * Fill gradient.\r\n   * @member {IGradient|null|undefined} gradient\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.gradient = null\r\n\r\n  /**\r\n   * Fill patternTexture.\r\n   * @member {IPatternTexture|null|undefined} patternTexture\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.patternTexture = null\r\n\r\n  /**\r\n   * Fill width.\r\n   * @member {number} width\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.width = 0\r\n\r\n  /**\r\n   * Fill lineCap.\r\n   * @member {string} lineCap\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.lineCap = ''\r\n\r\n  /**\r\n   * Fill lineJoin.\r\n   * @member {string} lineJoin\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.lineJoin = ''\r\n\r\n  /**\r\n   * Creates a new Fill instance using the specified properties.\r\n   * @function create\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill=} [properties] Properties to set\r\n   * @returns {Fill} Fill instance\r\n   */\r\n  Fill.create = function create(properties) {\r\n    return new Fill(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Fill message. Does not implicitly {@link Fill.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill} message Fill message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Fill.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.type != null && Object.hasOwnProperty.call(message, 'type'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.type)\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.color)\r\n    if (\r\n      message.gradient != null &&\r\n      Object.hasOwnProperty.call(message, 'gradient')\r\n    )\r\n      $root.Gradient.encode(\r\n        message.gradient,\r\n        writer.uint32(/* id 3, wireType 2 =*/ 26).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.patternTexture != null &&\r\n      Object.hasOwnProperty.call(message, 'patternTexture')\r\n    )\r\n      $root.PatternTexture.encode(\r\n        message.patternTexture,\r\n        writer.uint32(/* id 4, wireType 2 =*/ 34).fork(),\r\n      ).ldelim()\r\n    if (message.width != null && Object.hasOwnProperty.call(message, 'width'))\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).int32(message.width)\r\n    if (\r\n      message.lineCap != null &&\r\n      Object.hasOwnProperty.call(message, 'lineCap')\r\n    )\r\n      writer.uint32(/* id 6, wireType 2 =*/ 50).string(message.lineCap)\r\n    if (\r\n      message.lineJoin != null &&\r\n      Object.hasOwnProperty.call(message, 'lineJoin')\r\n    )\r\n      writer.uint32(/* id 7, wireType 2 =*/ 58).string(message.lineJoin)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Fill message, length delimited. Does not implicitly {@link Fill.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill} message Fill message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Fill.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Fill message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Fill} Fill\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Fill.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Fill()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.type = reader.int32()\r\n          break\r\n        case 2:\r\n          message.color = reader.string()\r\n          break\r\n        case 3:\r\n          message.gradient = $root.Gradient.decode(reader, reader.uint32())\r\n          break\r\n        case 4:\r\n          message.patternTexture = $root.PatternTexture.decode(\r\n            reader,\r\n            reader.uint32(),\r\n          )\r\n          break\r\n        case 5:\r\n          message.width = reader.int32()\r\n          break\r\n        case 6:\r\n          message.lineCap = reader.string()\r\n          break\r\n        case 7:\r\n          message.lineJoin = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Fill message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Fill} Fill\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Fill.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Fill message.\r\n   * @function verify\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Fill.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      if (!$util.isInteger(message.type)) return 'type: integer expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    if (message.gradient != null && message.hasOwnProperty('gradient')) {\r\n      let error = $root.Gradient.verify(message.gradient)\r\n      if (error) return 'gradient.' + error\r\n    }\r\n    if (\r\n      message.patternTexture != null &&\r\n      message.hasOwnProperty('patternTexture')\r\n    ) {\r\n      let error = $root.PatternTexture.verify(message.patternTexture)\r\n      if (error) return 'patternTexture.' + error\r\n    }\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      if (!$util.isInteger(message.width)) return 'width: integer expected'\r\n    if (message.lineCap != null && message.hasOwnProperty('lineCap'))\r\n      if (!$util.isString(message.lineCap)) return 'lineCap: string expected'\r\n    if (message.lineJoin != null && message.hasOwnProperty('lineJoin'))\r\n      if (!$util.isString(message.lineJoin)) return 'lineJoin: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Fill message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Fill} Fill\r\n   */\r\n  Fill.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Fill) return object\r\n    let message = new $root.Fill()\r\n    if (object.type != null) message.type = object.type | 0\r\n    if (object.color != null) message.color = String(object.color)\r\n    if (object.gradient != null) {\r\n      if (typeof object.gradient !== 'object')\r\n        throw TypeError('.Fill.gradient: object expected')\r\n      message.gradient = $root.Gradient.fromObject(object.gradient)\r\n    }\r\n    if (object.patternTexture != null) {\r\n      if (typeof object.patternTexture !== 'object')\r\n        throw TypeError('.Fill.patternTexture: object expected')\r\n      message.patternTexture = $root.PatternTexture.fromObject(\r\n        object.patternTexture,\r\n      )\r\n    }\r\n    if (object.width != null) message.width = object.width | 0\r\n    if (object.lineCap != null) message.lineCap = String(object.lineCap)\r\n    if (object.lineJoin != null) message.lineJoin = String(object.lineJoin)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Fill message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Fill} message Fill\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Fill.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.type = 0\r\n      object.color = ''\r\n      object.gradient = null\r\n      object.patternTexture = null\r\n      object.width = 0\r\n      object.lineCap = ''\r\n      object.lineJoin = ''\r\n    }\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      object.type = message.type\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    if (message.gradient != null && message.hasOwnProperty('gradient'))\r\n      object.gradient = $root.Gradient.toObject(message.gradient, options)\r\n    if (\r\n      message.patternTexture != null &&\r\n      message.hasOwnProperty('patternTexture')\r\n    )\r\n      object.patternTexture = $root.PatternTexture.toObject(\r\n        message.patternTexture,\r\n        options,\r\n      )\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      object.width = message.width\r\n    if (message.lineCap != null && message.hasOwnProperty('lineCap'))\r\n      object.lineCap = message.lineCap\r\n    if (message.lineJoin != null && message.hasOwnProperty('lineJoin'))\r\n      object.lineJoin = message.lineJoin\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Fill to JSON.\r\n   * @function toJSON\r\n   * @memberof Fill\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Fill.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Fill\r\n})())\r\n\r\nexport const Font = ($root.Font = (() => {\r\n  /**\r\n   * Properties of a Font.\r\n   * @exports IFont\r\n   * @interface IFont\r\n   * @property {Uint8Array|null} [font] Font font\r\n   * @property {string|null} [family] Font family\r\n   * @property {number|null} [size] Font size\r\n   * @property {number|null} [lineHeight] Font lineHeight\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Font.\r\n   * @exports Font\r\n   * @classdesc Represents a Font.\r\n   * @implements IFont\r\n   * @constructor\r\n   * @param {IFont=} [properties] Properties to set\r\n   */\r\n  function Font(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Font font.\r\n   * @member {Uint8Array} font\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.font = $util.newBuffer([])\r\n\r\n  /**\r\n   * Font family.\r\n   * @member {string} family\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.family = ''\r\n\r\n  /**\r\n   * Font size.\r\n   * @member {number} size\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.size = 0\r\n\r\n  /**\r\n   * Font lineHeight.\r\n   * @member {number} lineHeight\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.lineHeight = 0\r\n\r\n  /**\r\n   * Creates a new Font instance using the specified properties.\r\n   * @function create\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont=} [properties] Properties to set\r\n   * @returns {Font} Font instance\r\n   */\r\n  Font.create = function create(properties) {\r\n    return new Font(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Font message. Does not implicitly {@link Font.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont} message Font message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Font.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.font != null && Object.hasOwnProperty.call(message, 'font'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).bytes(message.font)\r\n    if (message.family != null && Object.hasOwnProperty.call(message, 'family'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.family)\r\n    if (message.size != null && Object.hasOwnProperty.call(message, 'size'))\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).int32(message.size)\r\n    if (\r\n      message.lineHeight != null &&\r\n      Object.hasOwnProperty.call(message, 'lineHeight')\r\n    )\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).int32(message.lineHeight)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Font message, length delimited. Does not implicitly {@link Font.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont} message Font message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Font.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Font message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Font\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Font} Font\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Font.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Font()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.font = reader.bytes()\r\n          break\r\n        case 2:\r\n          message.family = reader.string()\r\n          break\r\n        case 3:\r\n          message.size = reader.int32()\r\n          break\r\n        case 4:\r\n          message.lineHeight = reader.int32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Font message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Font\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Font} Font\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Font.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Font message.\r\n   * @function verify\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Font.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      if (\r\n        !(\r\n          (message.font && typeof message.font.length === 'number') ||\r\n          $util.isString(message.font)\r\n        )\r\n      )\r\n        return 'font: buffer expected'\r\n    if (message.family != null && message.hasOwnProperty('family'))\r\n      if (!$util.isString(message.family)) return 'family: string expected'\r\n    if (message.size != null && message.hasOwnProperty('size'))\r\n      if (!$util.isInteger(message.size)) return 'size: integer expected'\r\n    if (message.lineHeight != null && message.hasOwnProperty('lineHeight'))\r\n      if (!$util.isInteger(message.lineHeight))\r\n        return 'lineHeight: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Font message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Font} Font\r\n   */\r\n  Font.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Font) return object\r\n    let message = new $root.Font()\r\n    if (object.font != null)\r\n      if (typeof object.font === 'string')\r\n        $util.base64.decode(\r\n          object.font,\r\n          (message.font = $util.newBuffer($util.base64.length(object.font))),\r\n          0,\r\n        )\r\n      else if (object.font.length) message.font = object.font\r\n    if (object.family != null) message.family = String(object.family)\r\n    if (object.size != null) message.size = object.size | 0\r\n    if (object.lineHeight != null) message.lineHeight = object.lineHeight | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Font message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Font} message Font\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Font.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      if (options.bytes === String) object.font = ''\r\n      else {\r\n        object.font = []\r\n        if (options.bytes !== Array) object.font = $util.newBuffer(object.font)\r\n      }\r\n      object.family = ''\r\n      object.size = 0\r\n      object.lineHeight = 0\r\n    }\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      object.font =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.font, 0, message.font.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.font)\r\n          : message.font\r\n    if (message.family != null && message.hasOwnProperty('family'))\r\n      object.family = message.family\r\n    if (message.size != null && message.hasOwnProperty('size'))\r\n      object.size = message.size\r\n    if (message.lineHeight != null && message.hasOwnProperty('lineHeight'))\r\n      object.lineHeight = message.lineHeight\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Font to JSON.\r\n   * @function toJSON\r\n   * @memberof Font\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Font.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Font\r\n})())\r\n\r\nexport const GlyphFont = ($root.GlyphFont = (() => {\r\n  /**\r\n   * Properties of a GlyphFont.\r\n   * @exports IGlyphFont\r\n   * @interface IGlyphFont\r\n   * @property {string|null} [letter] GlyphFont letter\r\n   * @property {IMetric|null} [adjustMetric] GlyphFont adjustMetric\r\n   * @property {Object.<string,number>|null} [kerning] GlyphFont kerning\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GlyphFont.\r\n   * @exports GlyphFont\r\n   * @classdesc Represents a GlyphFont.\r\n   * @implements IGlyphFont\r\n   * @constructor\r\n   * @param {IGlyphFont=} [properties] Properties to set\r\n   */\r\n  function GlyphFont(properties) {\r\n    this.kerning = {}\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GlyphFont letter.\r\n   * @member {string} letter\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.letter = ''\r\n\r\n  /**\r\n   * GlyphFont adjustMetric.\r\n   * @member {IMetric|null|undefined} adjustMetric\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.adjustMetric = null\r\n\r\n  /**\r\n   * GlyphFont kerning.\r\n   * @member {Object.<string,number>} kerning\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.kerning = $util.emptyObject\r\n\r\n  /**\r\n   * Creates a new GlyphFont instance using the specified properties.\r\n   * @function create\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont=} [properties] Properties to set\r\n   * @returns {GlyphFont} GlyphFont instance\r\n   */\r\n  GlyphFont.create = function create(properties) {\r\n    return new GlyphFont(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphFont message. Does not implicitly {@link GlyphFont.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont} message GlyphFont message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphFont.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.letter != null && Object.hasOwnProperty.call(message, 'letter'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.letter)\r\n    if (\r\n      message.adjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'adjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.adjustMetric,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.kerning != null &&\r\n      Object.hasOwnProperty.call(message, 'kerning')\r\n    )\r\n      for (let keys = Object.keys(message.kerning), i = 0; i < keys.length; ++i)\r\n        writer\r\n          .uint32(/* id 3, wireType 2 =*/ 26)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n          .uint32(/* id 2, wireType 0 =*/ 16)\r\n          .int32(message.kerning[keys[i]])\r\n          .ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphFont message, length delimited. Does not implicitly {@link GlyphFont.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont} message GlyphFont message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphFont.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphFont message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GlyphFont} GlyphFont\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphFont.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GlyphFont(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.letter = reader.string()\r\n          break\r\n        case 2:\r\n          message.adjustMetric = $root.Metric.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          if (message.kerning === $util.emptyObject) message.kerning = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = 0\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = reader.int32()\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.kerning[key] = value\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphFont message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GlyphFont} GlyphFont\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphFont.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GlyphFont message.\r\n   * @function verify\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GlyphFont.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      if (!$util.isString(message.letter)) return 'letter: string expected'\r\n    if (\r\n      message.adjustMetric != null &&\r\n      message.hasOwnProperty('adjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.adjustMetric)\r\n      if (error) return 'adjustMetric.' + error\r\n    }\r\n    if (message.kerning != null && message.hasOwnProperty('kerning')) {\r\n      if (!$util.isObject(message.kerning)) return 'kerning: object expected'\r\n      let key = Object.keys(message.kerning)\r\n      for (let i = 0; i < key.length; ++i)\r\n        if (!$util.isInteger(message.kerning[key[i]]))\r\n          return 'kerning: integer{k:string} expected'\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GlyphFont message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GlyphFont} GlyphFont\r\n   */\r\n  GlyphFont.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GlyphFont) return object\r\n    let message = new $root.GlyphFont()\r\n    if (object.letter != null) message.letter = String(object.letter)\r\n    if (object.adjustMetric != null) {\r\n      if (typeof object.adjustMetric !== 'object')\r\n        throw TypeError('.GlyphFont.adjustMetric: object expected')\r\n      message.adjustMetric = $root.Metric.fromObject(object.adjustMetric)\r\n    }\r\n    if (object.kerning) {\r\n      if (typeof object.kerning !== 'object')\r\n        throw TypeError('.GlyphFont.kerning: object expected')\r\n      message.kerning = {}\r\n      for (let keys = Object.keys(object.kerning), i = 0; i < keys.length; ++i)\r\n        message.kerning[keys[i]] = object.kerning[keys[i]] | 0\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GlyphFont message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {GlyphFont} message GlyphFont\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GlyphFont.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.objects || options.defaults) object.kerning = {}\r\n    if (options.defaults) {\r\n      object.letter = ''\r\n      object.adjustMetric = null\r\n    }\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      object.letter = message.letter\r\n    if (message.adjustMetric != null && message.hasOwnProperty('adjustMetric'))\r\n      object.adjustMetric = $root.Metric.toObject(message.adjustMetric, options)\r\n    let keys2\r\n    if (message.kerning && (keys2 = Object.keys(message.kerning)).length) {\r\n      object.kerning = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.kerning[keys2[j]] = message.kerning[keys2[j]]\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GlyphFont to JSON.\r\n   * @function toJSON\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GlyphFont.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GlyphFont\r\n})())\r\n\r\nexport const GlyphImage = ($root.GlyphImage = (() => {\r\n  /**\r\n   * Properties of a GlyphImage.\r\n   * @exports IGlyphImage\r\n   * @interface IGlyphImage\r\n   * @property {string|null} [letter] GlyphImage letter\r\n   * @property {IMetric|null} [adjustMetric] GlyphImage adjustMetric\r\n   * @property {Uint8Array|null} [buffer] GlyphImage buffer\r\n   * @property {string|null} [fileName] GlyphImage fileName\r\n   * @property {string|null} [fileType] GlyphImage fileType\r\n   * @property {boolean|null} [selected] GlyphImage selected\r\n   * @property {Object.<string,number>|null} [kerning] GlyphImage kerning\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GlyphImage.\r\n   * @exports GlyphImage\r\n   * @classdesc Represents a GlyphImage.\r\n   * @implements IGlyphImage\r\n   * @constructor\r\n   * @param {IGlyphImage=} [properties] Properties to set\r\n   */\r\n  function GlyphImage(properties) {\r\n    this.kerning = {}\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GlyphImage letter.\r\n   * @member {string} letter\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.letter = ''\r\n\r\n  /**\r\n   * GlyphImage adjustMetric.\r\n   * @member {IMetric|null|undefined} adjustMetric\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.adjustMetric = null\r\n\r\n  /**\r\n   * GlyphImage buffer.\r\n   * @member {Uint8Array} buffer\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.buffer = $util.newBuffer([])\r\n\r\n  /**\r\n   * GlyphImage fileName.\r\n   * @member {string} fileName\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.fileName = ''\r\n\r\n  /**\r\n   * GlyphImage fileType.\r\n   * @member {string} fileType\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.fileType = ''\r\n\r\n  /**\r\n   * GlyphImage selected.\r\n   * @member {boolean} selected\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.selected = false\r\n\r\n  /**\r\n   * GlyphImage kerning.\r\n   * @member {Object.<string,number>} kerning\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.kerning = $util.emptyObject\r\n\r\n  /**\r\n   * Creates a new GlyphImage instance using the specified properties.\r\n   * @function create\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage=} [properties] Properties to set\r\n   * @returns {GlyphImage} GlyphImage instance\r\n   */\r\n  GlyphImage.create = function create(properties) {\r\n    return new GlyphImage(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphImage message. Does not implicitly {@link GlyphImage.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage} message GlyphImage message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphImage.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.letter != null && Object.hasOwnProperty.call(message, 'letter'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.letter)\r\n    if (\r\n      message.adjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'adjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.adjustMetric,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (message.buffer != null && Object.hasOwnProperty.call(message, 'buffer'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).bytes(message.buffer)\r\n    if (\r\n      message.fileName != null &&\r\n      Object.hasOwnProperty.call(message, 'fileName')\r\n    )\r\n      writer.uint32(/* id 4, wireType 2 =*/ 34).string(message.fileName)\r\n    if (\r\n      message.fileType != null &&\r\n      Object.hasOwnProperty.call(message, 'fileType')\r\n    )\r\n      writer.uint32(/* id 5, wireType 2 =*/ 42).string(message.fileType)\r\n    if (\r\n      message.selected != null &&\r\n      Object.hasOwnProperty.call(message, 'selected')\r\n    )\r\n      writer.uint32(/* id 6, wireType 0 =*/ 48).bool(message.selected)\r\n    if (\r\n      message.kerning != null &&\r\n      Object.hasOwnProperty.call(message, 'kerning')\r\n    )\r\n      for (let keys = Object.keys(message.kerning), i = 0; i < keys.length; ++i)\r\n        writer\r\n          .uint32(/* id 7, wireType 2 =*/ 58)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n          .uint32(/* id 2, wireType 0 =*/ 16)\r\n          .int32(message.kerning[keys[i]])\r\n          .ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphImage message, length delimited. Does not implicitly {@link GlyphImage.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage} message GlyphImage message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphImage.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphImage message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GlyphImage} GlyphImage\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphImage.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GlyphImage(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.letter = reader.string()\r\n          break\r\n        case 2:\r\n          message.adjustMetric = $root.Metric.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          message.buffer = reader.bytes()\r\n          break\r\n        case 4:\r\n          message.fileName = reader.string()\r\n          break\r\n        case 5:\r\n          message.fileType = reader.string()\r\n          break\r\n        case 6:\r\n          message.selected = reader.bool()\r\n          break\r\n        case 7:\r\n          if (message.kerning === $util.emptyObject) message.kerning = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = 0\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = reader.int32()\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.kerning[key] = value\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphImage message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GlyphImage} GlyphImage\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphImage.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GlyphImage message.\r\n   * @function verify\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GlyphImage.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      if (!$util.isString(message.letter)) return 'letter: string expected'\r\n    if (\r\n      message.adjustMetric != null &&\r\n      message.hasOwnProperty('adjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.adjustMetric)\r\n      if (error) return 'adjustMetric.' + error\r\n    }\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      if (\r\n        !(\r\n          (message.buffer && typeof message.buffer.length === 'number') ||\r\n          $util.isString(message.buffer)\r\n        )\r\n      )\r\n        return 'buffer: buffer expected'\r\n    if (message.fileName != null && message.hasOwnProperty('fileName'))\r\n      if (!$util.isString(message.fileName)) return 'fileName: string expected'\r\n    if (message.fileType != null && message.hasOwnProperty('fileType'))\r\n      if (!$util.isString(message.fileType)) return 'fileType: string expected'\r\n    if (message.selected != null && message.hasOwnProperty('selected'))\r\n      if (typeof message.selected !== 'boolean')\r\n        return 'selected: boolean expected'\r\n    if (message.kerning != null && message.hasOwnProperty('kerning')) {\r\n      if (!$util.isObject(message.kerning)) return 'kerning: object expected'\r\n      let key = Object.keys(message.kerning)\r\n      for (let i = 0; i < key.length; ++i)\r\n        if (!$util.isInteger(message.kerning[key[i]]))\r\n          return 'kerning: integer{k:string} expected'\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GlyphImage message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GlyphImage} GlyphImage\r\n   */\r\n  GlyphImage.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GlyphImage) return object\r\n    let message = new $root.GlyphImage()\r\n    if (object.letter != null) message.letter = String(object.letter)\r\n    if (object.adjustMetric != null) {\r\n      if (typeof object.adjustMetric !== 'object')\r\n        throw TypeError('.GlyphImage.adjustMetric: object expected')\r\n      message.adjustMetric = $root.Metric.fromObject(object.adjustMetric)\r\n    }\r\n    if (object.buffer != null)\r\n      if (typeof object.buffer === 'string')\r\n        $util.base64.decode(\r\n          object.buffer,\r\n          (message.buffer = $util.newBuffer(\r\n            $util.base64.length(object.buffer),\r\n          )),\r\n          0,\r\n        )\r\n      else if (object.buffer.length) message.buffer = object.buffer\r\n    if (object.fileName != null) message.fileName = String(object.fileName)\r\n    if (object.fileType != null) message.fileType = String(object.fileType)\r\n    if (object.selected != null) message.selected = Boolean(object.selected)\r\n    if (object.kerning) {\r\n      if (typeof object.kerning !== 'object')\r\n        throw TypeError('.GlyphImage.kerning: object expected')\r\n      message.kerning = {}\r\n      for (let keys = Object.keys(object.kerning), i = 0; i < keys.length; ++i)\r\n        message.kerning[keys[i]] = object.kerning[keys[i]] | 0\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GlyphImage message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {GlyphImage} message GlyphImage\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GlyphImage.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.objects || options.defaults) object.kerning = {}\r\n    if (options.defaults) {\r\n      object.letter = ''\r\n      object.adjustMetric = null\r\n      if (options.bytes === String) object.buffer = ''\r\n      else {\r\n        object.buffer = []\r\n        if (options.bytes !== Array)\r\n          object.buffer = $util.newBuffer(object.buffer)\r\n      }\r\n      object.fileName = ''\r\n      object.fileType = ''\r\n      object.selected = false\r\n    }\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      object.letter = message.letter\r\n    if (message.adjustMetric != null && message.hasOwnProperty('adjustMetric'))\r\n      object.adjustMetric = $root.Metric.toObject(message.adjustMetric, options)\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      object.buffer =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.buffer, 0, message.buffer.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.buffer)\r\n          : message.buffer\r\n    if (message.fileName != null && message.hasOwnProperty('fileName'))\r\n      object.fileName = message.fileName\r\n    if (message.fileType != null && message.hasOwnProperty('fileType'))\r\n      object.fileType = message.fileType\r\n    if (message.selected != null && message.hasOwnProperty('selected'))\r\n      object.selected = message.selected\r\n    let keys2\r\n    if (message.kerning && (keys2 = Object.keys(message.kerning)).length) {\r\n      object.kerning = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.kerning[keys2[j]] = message.kerning[keys2[j]]\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GlyphImage to JSON.\r\n   * @function toJSON\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GlyphImage.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GlyphImage\r\n})())\r\n\r\nexport const Layout = ($root.Layout = (() => {\r\n  /**\r\n   * Properties of a Layout.\r\n   * @exports ILayout\r\n   * @interface ILayout\r\n   * @property {number|null} [padding] Layout padding\r\n   * @property {number|null} [spacing] Layout spacing\r\n   * @property {number|null} [width] Layout width\r\n   * @property {number|null} [height] Layout height\r\n   * @property {boolean|null} [auto] Layout auto\r\n   * @property {boolean|null} [fixedSize] Layout fixedSize\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Layout.\r\n   * @exports Layout\r\n   * @classdesc Represents a Layout.\r\n   * @implements ILayout\r\n   * @constructor\r\n   * @param {ILayout=} [properties] Properties to set\r\n   */\r\n  function Layout(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Layout padding.\r\n   * @member {number} padding\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.padding = 0\r\n\r\n  /**\r\n   * Layout spacing.\r\n   * @member {number} spacing\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.spacing = 0\r\n\r\n  /**\r\n   * Layout width.\r\n   * @member {number} width\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.width = 0\r\n\r\n  /**\r\n   * Layout height.\r\n   * @member {number} height\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.height = 0\r\n\r\n  /**\r\n   * Layout auto.\r\n   * @member {boolean} auto\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.auto = false\r\n\r\n  /**\r\n   * Layout fixedSize.\r\n   * @member {boolean} fixedSize\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.fixedSize = false\r\n\r\n  /**\r\n   * Creates a new Layout instance using the specified properties.\r\n   * @function create\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout=} [properties] Properties to set\r\n   * @returns {Layout} Layout instance\r\n   */\r\n  Layout.create = function create(properties) {\r\n    return new Layout(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Layout message. Does not implicitly {@link Layout.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout} message Layout message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Layout.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.padding != null &&\r\n      Object.hasOwnProperty.call(message, 'padding')\r\n    )\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.padding)\r\n    if (\r\n      message.spacing != null &&\r\n      Object.hasOwnProperty.call(message, 'spacing')\r\n    )\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).int32(message.spacing)\r\n    if (message.width != null && Object.hasOwnProperty.call(message, 'width'))\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).int32(message.width)\r\n    if (message.height != null && Object.hasOwnProperty.call(message, 'height'))\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).int32(message.height)\r\n    if (message.auto != null && Object.hasOwnProperty.call(message, 'auto'))\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).bool(message.auto)\r\n    if (\r\n      message.fixedSize != null &&\r\n      Object.hasOwnProperty.call(message, 'fixedSize')\r\n    )\r\n      writer.uint32(/* id 6, wireType 0 =*/ 48).bool(message.fixedSize)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Layout message, length delimited. Does not implicitly {@link Layout.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout} message Layout message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Layout.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Layout message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Layout} Layout\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Layout.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Layout()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.padding = reader.int32()\r\n          break\r\n        case 2:\r\n          message.spacing = reader.int32()\r\n          break\r\n        case 3:\r\n          message.width = reader.int32()\r\n          break\r\n        case 4:\r\n          message.height = reader.int32()\r\n          break\r\n        case 5:\r\n          message.auto = reader.bool()\r\n          break\r\n        case 6:\r\n          message.fixedSize = reader.bool()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Layout message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Layout} Layout\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Layout.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Layout message.\r\n   * @function verify\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Layout.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.padding != null && message.hasOwnProperty('padding'))\r\n      if (!$util.isInteger(message.padding)) return 'padding: integer expected'\r\n    if (message.spacing != null && message.hasOwnProperty('spacing'))\r\n      if (!$util.isInteger(message.spacing)) return 'spacing: integer expected'\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      if (!$util.isInteger(message.width)) return 'width: integer expected'\r\n    if (message.height != null && message.hasOwnProperty('height'))\r\n      if (!$util.isInteger(message.height)) return 'height: integer expected'\r\n    if (message.auto != null && message.hasOwnProperty('auto'))\r\n      if (typeof message.auto !== 'boolean') return 'auto: boolean expected'\r\n    if (message.fixedSize != null && message.hasOwnProperty('fixedSize'))\r\n      if (typeof message.fixedSize !== 'boolean')\r\n        return 'fixedSize: boolean expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Layout message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Layout} Layout\r\n   */\r\n  Layout.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Layout) return object\r\n    let message = new $root.Layout()\r\n    if (object.padding != null) message.padding = object.padding | 0\r\n    if (object.spacing != null) message.spacing = object.spacing | 0\r\n    if (object.width != null) message.width = object.width | 0\r\n    if (object.height != null) message.height = object.height | 0\r\n    if (object.auto != null) message.auto = Boolean(object.auto)\r\n    if (object.fixedSize != null) message.fixedSize = Boolean(object.fixedSize)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Layout message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Layout} message Layout\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Layout.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.padding = 0\r\n      object.spacing = 0\r\n      object.width = 0\r\n      object.height = 0\r\n      object.auto = false\r\n      object.fixedSize = false\r\n    }\r\n    if (message.padding != null && message.hasOwnProperty('padding'))\r\n      object.padding = message.padding\r\n    if (message.spacing != null && message.hasOwnProperty('spacing'))\r\n      object.spacing = message.spacing\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      object.width = message.width\r\n    if (message.height != null && message.hasOwnProperty('height'))\r\n      object.height = message.height\r\n    if (message.auto != null && message.hasOwnProperty('auto'))\r\n      object.auto = message.auto\r\n    if (message.fixedSize != null && message.hasOwnProperty('fixedSize'))\r\n      object.fixedSize = message.fixedSize\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Layout to JSON.\r\n   * @function toJSON\r\n   * @memberof Layout\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Layout.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Layout\r\n})())\r\n\r\nexport const Shadow = ($root.Shadow = (() => {\r\n  /**\r\n   * Properties of a Shadow.\r\n   * @exports IShadow\r\n   * @interface IShadow\r\n   * @property {string|null} [color] Shadow color\r\n   * @property {number|null} [blur] Shadow blur\r\n   * @property {number|null} [offsetX] Shadow offsetX\r\n   * @property {number|null} [offsetY] Shadow offsetY\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Shadow.\r\n   * @exports Shadow\r\n   * @classdesc Represents a Shadow.\r\n   * @implements IShadow\r\n   * @constructor\r\n   * @param {IShadow=} [properties] Properties to set\r\n   */\r\n  function Shadow(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Shadow color.\r\n   * @member {string} color\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.color = ''\r\n\r\n  /**\r\n   * Shadow blur.\r\n   * @member {number} blur\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.blur = 0\r\n\r\n  /**\r\n   * Shadow offsetX.\r\n   * @member {number} offsetX\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.offsetX = 0\r\n\r\n  /**\r\n   * Shadow offsetY.\r\n   * @member {number} offsetY\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.offsetY = 0\r\n\r\n  /**\r\n   * Creates a new Shadow instance using the specified properties.\r\n   * @function create\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow=} [properties] Properties to set\r\n   * @returns {Shadow} Shadow instance\r\n   */\r\n  Shadow.create = function create(properties) {\r\n    return new Shadow(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Shadow message. Does not implicitly {@link Shadow.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow} message Shadow message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Shadow.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.color)\r\n    if (message.blur != null && Object.hasOwnProperty.call(message, 'blur'))\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).int32(message.blur)\r\n    if (\r\n      message.offsetX != null &&\r\n      Object.hasOwnProperty.call(message, 'offsetX')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).sint32(message.offsetX)\r\n    if (\r\n      message.offsetY != null &&\r\n      Object.hasOwnProperty.call(message, 'offsetY')\r\n    )\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).sint32(message.offsetY)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Shadow message, length delimited. Does not implicitly {@link Shadow.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow} message Shadow message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Shadow.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Shadow message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Shadow} Shadow\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Shadow.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Shadow()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.color = reader.string()\r\n          break\r\n        case 2:\r\n          message.blur = reader.int32()\r\n          break\r\n        case 3:\r\n          message.offsetX = reader.sint32()\r\n          break\r\n        case 4:\r\n          message.offsetY = reader.sint32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Shadow message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Shadow} Shadow\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Shadow.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Shadow message.\r\n   * @function verify\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Shadow.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    if (message.blur != null && message.hasOwnProperty('blur'))\r\n      if (!$util.isInteger(message.blur)) return 'blur: integer expected'\r\n    if (message.offsetX != null && message.hasOwnProperty('offsetX'))\r\n      if (!$util.isInteger(message.offsetX)) return 'offsetX: integer expected'\r\n    if (message.offsetY != null && message.hasOwnProperty('offsetY'))\r\n      if (!$util.isInteger(message.offsetY)) return 'offsetY: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Shadow message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Shadow} Shadow\r\n   */\r\n  Shadow.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Shadow) return object\r\n    let message = new $root.Shadow()\r\n    if (object.color != null) message.color = String(object.color)\r\n    if (object.blur != null) message.blur = object.blur | 0\r\n    if (object.offsetX != null) message.offsetX = object.offsetX | 0\r\n    if (object.offsetY != null) message.offsetY = object.offsetY | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Shadow message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Shadow} message Shadow\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Shadow.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.color = ''\r\n      object.blur = 0\r\n      object.offsetX = 0\r\n      object.offsetY = 0\r\n    }\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    if (message.blur != null && message.hasOwnProperty('blur'))\r\n      object.blur = message.blur\r\n    if (message.offsetX != null && message.hasOwnProperty('offsetX'))\r\n      object.offsetX = message.offsetX\r\n    if (message.offsetY != null && message.hasOwnProperty('offsetY'))\r\n      object.offsetY = message.offsetY\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Shadow to JSON.\r\n   * @function toJSON\r\n   * @memberof Shadow\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Shadow.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Shadow\r\n})())\r\n\r\nexport const Style = ($root.Style = (() => {\r\n  /**\r\n   * Properties of a Style.\r\n   * @exports IStyle\r\n   * @interface IStyle\r\n   * @property {IFont|null} [font] Style font\r\n   * @property {IFill|null} [fill] Style fill\r\n   * @property {boolean|null} [useStroke] Style useStroke\r\n   * @property {IFill|null} [stroke] Style stroke\r\n   * @property {boolean|null} [useShadow] Style useShadow\r\n   * @property {IShadow|null} [shadow] Style shadow\r\n   * @property {string|null} [bgColor] Style bgColor\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Style.\r\n   * @exports Style\r\n   * @classdesc Represents a Style.\r\n   * @implements IStyle\r\n   * @constructor\r\n   * @param {IStyle=} [properties] Properties to set\r\n   */\r\n  function Style(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Style font.\r\n   * @member {IFont|null|undefined} font\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.font = null\r\n\r\n  /**\r\n   * Style fill.\r\n   * @member {IFill|null|undefined} fill\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.fill = null\r\n\r\n  /**\r\n   * Style useStroke.\r\n   * @member {boolean} useStroke\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.useStroke = false\r\n\r\n  /**\r\n   * Style stroke.\r\n   * @member {IFill|null|undefined} stroke\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.stroke = null\r\n\r\n  /**\r\n   * Style useShadow.\r\n   * @member {boolean} useShadow\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.useShadow = false\r\n\r\n  /**\r\n   * Style shadow.\r\n   * @member {IShadow|null|undefined} shadow\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.shadow = null\r\n\r\n  /**\r\n   * Style bgColor.\r\n   * @member {string} bgColor\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.bgColor = ''\r\n\r\n  /**\r\n   * Creates a new Style instance using the specified properties.\r\n   * @function create\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle=} [properties] Properties to set\r\n   * @returns {Style} Style instance\r\n   */\r\n  Style.create = function create(properties) {\r\n    return new Style(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Style message. Does not implicitly {@link Style.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle} message Style message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Style.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.font != null && Object.hasOwnProperty.call(message, 'font'))\r\n      $root.Font.encode(\r\n        message.font,\r\n        writer.uint32(/* id 1, wireType 2 =*/ 10).fork(),\r\n      ).ldelim()\r\n    if (message.fill != null && Object.hasOwnProperty.call(message, 'fill'))\r\n      $root.Fill.encode(\r\n        message.fill,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.useStroke != null &&\r\n      Object.hasOwnProperty.call(message, 'useStroke')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).bool(message.useStroke)\r\n    if (message.stroke != null && Object.hasOwnProperty.call(message, 'stroke'))\r\n      $root.Fill.encode(\r\n        message.stroke,\r\n        writer.uint32(/* id 4, wireType 2 =*/ 34).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.useShadow != null &&\r\n      Object.hasOwnProperty.call(message, 'useShadow')\r\n    )\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).bool(message.useShadow)\r\n    if (message.shadow != null && Object.hasOwnProperty.call(message, 'shadow'))\r\n      $root.Shadow.encode(\r\n        message.shadow,\r\n        writer.uint32(/* id 6, wireType 2 =*/ 50).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.bgColor != null &&\r\n      Object.hasOwnProperty.call(message, 'bgColor')\r\n    )\r\n      writer.uint32(/* id 7, wireType 2 =*/ 58).string(message.bgColor)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Style message, length delimited. Does not implicitly {@link Style.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle} message Style message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Style.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Style message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Style\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Style} Style\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Style.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Style()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.font = $root.Font.decode(reader, reader.uint32())\r\n          break\r\n        case 2:\r\n          message.fill = $root.Fill.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          message.useStroke = reader.bool()\r\n          break\r\n        case 4:\r\n          message.stroke = $root.Fill.decode(reader, reader.uint32())\r\n          break\r\n        case 5:\r\n          message.useShadow = reader.bool()\r\n          break\r\n        case 6:\r\n          message.shadow = $root.Shadow.decode(reader, reader.uint32())\r\n          break\r\n        case 7:\r\n          message.bgColor = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Style message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Style\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Style} Style\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Style.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Style message.\r\n   * @function verify\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Style.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.font != null && message.hasOwnProperty('font')) {\r\n      let error = $root.Font.verify(message.font)\r\n      if (error) return 'font.' + error\r\n    }\r\n    if (message.fill != null && message.hasOwnProperty('fill')) {\r\n      let error = $root.Fill.verify(message.fill)\r\n      if (error) return 'fill.' + error\r\n    }\r\n    if (message.useStroke != null && message.hasOwnProperty('useStroke'))\r\n      if (typeof message.useStroke !== 'boolean')\r\n        return 'useStroke: boolean expected'\r\n    if (message.stroke != null && message.hasOwnProperty('stroke')) {\r\n      let error = $root.Fill.verify(message.stroke)\r\n      if (error) return 'stroke.' + error\r\n    }\r\n    if (message.useShadow != null && message.hasOwnProperty('useShadow'))\r\n      if (typeof message.useShadow !== 'boolean')\r\n        return 'useShadow: boolean expected'\r\n    if (message.shadow != null && message.hasOwnProperty('shadow')) {\r\n      let error = $root.Shadow.verify(message.shadow)\r\n      if (error) return 'shadow.' + error\r\n    }\r\n    if (message.bgColor != null && message.hasOwnProperty('bgColor'))\r\n      if (!$util.isString(message.bgColor)) return 'bgColor: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Style message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Style} Style\r\n   */\r\n  Style.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Style) return object\r\n    let message = new $root.Style()\r\n    if (object.font != null) {\r\n      if (typeof object.font !== 'object')\r\n        throw TypeError('.Style.font: object expected')\r\n      message.font = $root.Font.fromObject(object.font)\r\n    }\r\n    if (object.fill != null) {\r\n      if (typeof object.fill !== 'object')\r\n        throw TypeError('.Style.fill: object expected')\r\n      message.fill = $root.Fill.fromObject(object.fill)\r\n    }\r\n    if (object.useStroke != null) message.useStroke = Boolean(object.useStroke)\r\n    if (object.stroke != null) {\r\n      if (typeof object.stroke !== 'object')\r\n        throw TypeError('.Style.stroke: object expected')\r\n      message.stroke = $root.Fill.fromObject(object.stroke)\r\n    }\r\n    if (object.useShadow != null) message.useShadow = Boolean(object.useShadow)\r\n    if (object.shadow != null) {\r\n      if (typeof object.shadow !== 'object')\r\n        throw TypeError('.Style.shadow: object expected')\r\n      message.shadow = $root.Shadow.fromObject(object.shadow)\r\n    }\r\n    if (object.bgColor != null) message.bgColor = String(object.bgColor)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Style message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Style} message Style\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Style.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.font = null\r\n      object.fill = null\r\n      object.useStroke = false\r\n      object.stroke = null\r\n      object.useShadow = false\r\n      object.shadow = null\r\n      object.bgColor = ''\r\n    }\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      object.font = $root.Font.toObject(message.font, options)\r\n    if (message.fill != null && message.hasOwnProperty('fill'))\r\n      object.fill = $root.Fill.toObject(message.fill, options)\r\n    if (message.useStroke != null && message.hasOwnProperty('useStroke'))\r\n      object.useStroke = message.useStroke\r\n    if (message.stroke != null && message.hasOwnProperty('stroke'))\r\n      object.stroke = $root.Fill.toObject(message.stroke, options)\r\n    if (message.useShadow != null && message.hasOwnProperty('useShadow'))\r\n      object.useShadow = message.useShadow\r\n    if (message.shadow != null && message.hasOwnProperty('shadow'))\r\n      object.shadow = $root.Shadow.toObject(message.shadow, options)\r\n    if (message.bgColor != null && message.hasOwnProperty('bgColor'))\r\n      object.bgColor = message.bgColor\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Style to JSON.\r\n   * @function toJSON\r\n   * @memberof Style\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Style.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Style\r\n})())\r\n\r\nexport const Ui = ($root.Ui = (() => {\r\n  /**\r\n   * Properties of an Ui.\r\n   * @exports IUi\r\n   * @interface IUi\r\n   * @property {string|null} [previewText] Ui previewText\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Ui.\r\n   * @exports Ui\r\n   * @classdesc Represents an Ui.\r\n   * @implements IUi\r\n   * @constructor\r\n   * @param {IUi=} [properties] Properties to set\r\n   */\r\n  function Ui(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Ui previewText.\r\n   * @member {string} previewText\r\n   * @memberof Ui\r\n   * @instance\r\n   */\r\n  Ui.prototype.previewText = ''\r\n\r\n  /**\r\n   * Creates a new Ui instance using the specified properties.\r\n   * @function create\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi=} [properties] Properties to set\r\n   * @returns {Ui} Ui instance\r\n   */\r\n  Ui.create = function create(properties) {\r\n    return new Ui(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Ui message. Does not implicitly {@link Ui.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi} message Ui message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Ui.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.previewText != null &&\r\n      Object.hasOwnProperty.call(message, 'previewText')\r\n    )\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.previewText)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Ui message, length delimited. Does not implicitly {@link Ui.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi} message Ui message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Ui.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes an Ui message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Ui} Ui\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Ui.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Ui()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.previewText = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes an Ui message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Ui} Ui\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Ui.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies an Ui message.\r\n   * @function verify\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Ui.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.previewText != null && message.hasOwnProperty('previewText'))\r\n      if (!$util.isString(message.previewText))\r\n        return 'previewText: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates an Ui message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Ui} Ui\r\n   */\r\n  Ui.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Ui) return object\r\n    let message = new $root.Ui()\r\n    if (object.previewText != null)\r\n      message.previewText = String(object.previewText)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from an Ui message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Ui} message Ui\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Ui.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) object.previewText = ''\r\n    if (message.previewText != null && message.hasOwnProperty('previewText'))\r\n      object.previewText = message.previewText\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Ui to JSON.\r\n   * @function toJSON\r\n   * @memberof Ui\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Ui.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Ui\r\n})())\r\n\r\nexport const Project = ($root.Project = (() => {\r\n  /**\r\n   * Properties of a Project.\r\n   * @exports IProject\r\n   * @interface IProject\r\n   * @property {number|Long|null} [id] Project id\r\n   * @property {string|null} [name] Project name\r\n   * @property {string|null} [text] Project text\r\n   * @property {Object.<string,IGlyphFont>|null} [glyphs] Project glyphs\r\n   * @property {Array.<IGlyphImage>|null} [glyphImages] Project glyphImages\r\n   * @property {IStyle|null} [style] Project style\r\n   * @property {ILayout|null} [layout] Project layout\r\n   * @property {IMetric|null} [globalAdjustMetric] Project globalAdjustMetric\r\n   * @property {IUi|null} [ui] Project ui\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Project.\r\n   * @exports Project\r\n   * @classdesc Represents a Project.\r\n   * @implements IProject\r\n   * @constructor\r\n   * @param {IProject=} [properties] Properties to set\r\n   */\r\n  function Project(properties) {\r\n    this.glyphs = {}\r\n    this.glyphImages = []\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Project id.\r\n   * @member {number|Long} id\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.id = $util.Long ? $util.Long.fromBits(0, 0, false) : 0\r\n\r\n  /**\r\n   * Project name.\r\n   * @member {string} name\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.name = ''\r\n\r\n  /**\r\n   * Project text.\r\n   * @member {string} text\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.text = ''\r\n\r\n  /**\r\n   * Project glyphs.\r\n   * @member {Object.<string,IGlyphFont>} glyphs\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.glyphs = $util.emptyObject\r\n\r\n  /**\r\n   * Project glyphImages.\r\n   * @member {Array.<IGlyphImage>} glyphImages\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.glyphImages = $util.emptyArray\r\n\r\n  /**\r\n   * Project style.\r\n   * @member {IStyle|null|undefined} style\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.style = null\r\n\r\n  /**\r\n   * Project layout.\r\n   * @member {ILayout|null|undefined} layout\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.layout = null\r\n\r\n  /**\r\n   * Project globalAdjustMetric.\r\n   * @member {IMetric|null|undefined} globalAdjustMetric\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.globalAdjustMetric = null\r\n\r\n  /**\r\n   * Project ui.\r\n   * @member {IUi|null|undefined} ui\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.ui = null\r\n\r\n  /**\r\n   * Creates a new Project instance using the specified properties.\r\n   * @function create\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject=} [properties] Properties to set\r\n   * @returns {Project} Project instance\r\n   */\r\n  Project.create = function create(properties) {\r\n    return new Project(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Project message. Does not implicitly {@link Project.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject} message Project message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Project.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.id != null && Object.hasOwnProperty.call(message, 'id'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int64(message.id)\r\n    if (message.name != null && Object.hasOwnProperty.call(message, 'name'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.name)\r\n    if (message.text != null && Object.hasOwnProperty.call(message, 'text'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.text)\r\n    if (message.glyphs != null && Object.hasOwnProperty.call(message, 'glyphs'))\r\n      for (\r\n        let keys = Object.keys(message.glyphs), i = 0;\r\n        i < keys.length;\r\n        ++i\r\n      ) {\r\n        writer\r\n          .uint32(/* id 4, wireType 2 =*/ 34)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n        $root.GlyphFont.encode(\r\n          message.glyphs[keys[i]],\r\n          writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n        )\r\n          .ldelim()\r\n          .ldelim()\r\n      }\r\n    if (message.glyphImages != null && message.glyphImages.length)\r\n      for (let i = 0; i < message.glyphImages.length; ++i)\r\n        $root.GlyphImage.encode(\r\n          message.glyphImages[i],\r\n          writer.uint32(/* id 5, wireType 2 =*/ 42).fork(),\r\n        ).ldelim()\r\n    if (message.style != null && Object.hasOwnProperty.call(message, 'style'))\r\n      $root.Style.encode(\r\n        message.style,\r\n        writer.uint32(/* id 6, wireType 2 =*/ 50).fork(),\r\n      ).ldelim()\r\n    if (message.layout != null && Object.hasOwnProperty.call(message, 'layout'))\r\n      $root.Layout.encode(\r\n        message.layout,\r\n        writer.uint32(/* id 7, wireType 2 =*/ 58).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'globalAdjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.globalAdjustMetric,\r\n        writer.uint32(/* id 8, wireType 2 =*/ 66).fork(),\r\n      ).ldelim()\r\n    if (message.ui != null && Object.hasOwnProperty.call(message, 'ui'))\r\n      $root.Ui.encode(\r\n        message.ui,\r\n        writer.uint32(/* id 9, wireType 2 =*/ 74).fork(),\r\n      ).ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Project message, length delimited. Does not implicitly {@link Project.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject} message Project message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Project.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Project message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Project\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Project} Project\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Project.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Project(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.id = reader.int64()\r\n          break\r\n        case 2:\r\n          message.name = reader.string()\r\n          break\r\n        case 3:\r\n          message.text = reader.string()\r\n          break\r\n        case 4:\r\n          if (message.glyphs === $util.emptyObject) message.glyphs = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = null\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = $root.GlyphFont.decode(reader, reader.uint32())\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.glyphs[key] = value\r\n          break\r\n        case 5:\r\n          if (!(message.glyphImages && message.glyphImages.length))\r\n            message.glyphImages = []\r\n          message.glyphImages.push(\r\n            $root.GlyphImage.decode(reader, reader.uint32()),\r\n          )\r\n          break\r\n        case 6:\r\n          message.style = $root.Style.decode(reader, reader.uint32())\r\n          break\r\n        case 7:\r\n          message.layout = $root.Layout.decode(reader, reader.uint32())\r\n          break\r\n        case 8:\r\n          message.globalAdjustMetric = $root.Metric.decode(\r\n            reader,\r\n            reader.uint32(),\r\n          )\r\n          break\r\n        case 9:\r\n          message.ui = $root.Ui.decode(reader, reader.uint32())\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Project message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Project\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Project} Project\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Project.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Project message.\r\n   * @function verify\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Project.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (\r\n        !$util.isInteger(message.id) &&\r\n        !(\r\n          message.id &&\r\n          $util.isInteger(message.id.low) &&\r\n          $util.isInteger(message.id.high)\r\n        )\r\n      )\r\n        return 'id: integer|Long expected'\r\n    if (message.name != null && message.hasOwnProperty('name'))\r\n      if (!$util.isString(message.name)) return 'name: string expected'\r\n    if (message.text != null && message.hasOwnProperty('text'))\r\n      if (!$util.isString(message.text)) return 'text: string expected'\r\n    if (message.glyphs != null && message.hasOwnProperty('glyphs')) {\r\n      if (!$util.isObject(message.glyphs)) return 'glyphs: object expected'\r\n      let key = Object.keys(message.glyphs)\r\n      for (let i = 0; i < key.length; ++i) {\r\n        let error = $root.GlyphFont.verify(message.glyphs[key[i]])\r\n        if (error) return 'glyphs.' + error\r\n      }\r\n    }\r\n    if (message.glyphImages != null && message.hasOwnProperty('glyphImages')) {\r\n      if (!Array.isArray(message.glyphImages))\r\n        return 'glyphImages: array expected'\r\n      for (let i = 0; i < message.glyphImages.length; ++i) {\r\n        let error = $root.GlyphImage.verify(message.glyphImages[i])\r\n        if (error) return 'glyphImages.' + error\r\n      }\r\n    }\r\n    if (message.style != null && message.hasOwnProperty('style')) {\r\n      let error = $root.Style.verify(message.style)\r\n      if (error) return 'style.' + error\r\n    }\r\n    if (message.layout != null && message.hasOwnProperty('layout')) {\r\n      let error = $root.Layout.verify(message.layout)\r\n      if (error) return 'layout.' + error\r\n    }\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      message.hasOwnProperty('globalAdjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.globalAdjustMetric)\r\n      if (error) return 'globalAdjustMetric.' + error\r\n    }\r\n    if (message.ui != null && message.hasOwnProperty('ui')) {\r\n      let error = $root.Ui.verify(message.ui)\r\n      if (error) return 'ui.' + error\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Project message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Project} Project\r\n   */\r\n  Project.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Project) return object\r\n    let message = new $root.Project()\r\n    if (object.id != null)\r\n      if ($util.Long)\r\n        (message.id = $util.Long.fromValue(object.id)).unsigned = false\r\n      else if (typeof object.id === 'string')\r\n        message.id = parseInt(object.id, 10)\r\n      else if (typeof object.id === 'number') message.id = object.id\r\n      else if (typeof object.id === 'object')\r\n        message.id = new $util.LongBits(\r\n          object.id.low >>> 0,\r\n          object.id.high >>> 0,\r\n        ).toNumber()\r\n    if (object.name != null) message.name = String(object.name)\r\n    if (object.text != null) message.text = String(object.text)\r\n    if (object.glyphs) {\r\n      if (typeof object.glyphs !== 'object')\r\n        throw TypeError('.Project.glyphs: object expected')\r\n      message.glyphs = {}\r\n      for (let keys = Object.keys(object.glyphs), i = 0; i < keys.length; ++i) {\r\n        if (typeof object.glyphs[keys[i]] !== 'object')\r\n          throw TypeError('.Project.glyphs: object expected')\r\n        message.glyphs[keys[i]] = $root.GlyphFont.fromObject(\r\n          object.glyphs[keys[i]],\r\n        )\r\n      }\r\n    }\r\n    if (object.glyphImages) {\r\n      if (!Array.isArray(object.glyphImages))\r\n        throw TypeError('.Project.glyphImages: array expected')\r\n      message.glyphImages = []\r\n      for (let i = 0; i < object.glyphImages.length; ++i) {\r\n        if (typeof object.glyphImages[i] !== 'object')\r\n          throw TypeError('.Project.glyphImages: object expected')\r\n        message.glyphImages[i] = $root.GlyphImage.fromObject(\r\n          object.glyphImages[i],\r\n        )\r\n      }\r\n    }\r\n    if (object.style != null) {\r\n      if (typeof object.style !== 'object')\r\n        throw TypeError('.Project.style: object expected')\r\n      message.style = $root.Style.fromObject(object.style)\r\n    }\r\n    if (object.layout != null) {\r\n      if (typeof object.layout !== 'object')\r\n        throw TypeError('.Project.layout: object expected')\r\n      message.layout = $root.Layout.fromObject(object.layout)\r\n    }\r\n    if (object.globalAdjustMetric != null) {\r\n      if (typeof object.globalAdjustMetric !== 'object')\r\n        throw TypeError('.Project.globalAdjustMetric: object expected')\r\n      message.globalAdjustMetric = $root.Metric.fromObject(\r\n        object.globalAdjustMetric,\r\n      )\r\n    }\r\n    if (object.ui != null) {\r\n      if (typeof object.ui !== 'object')\r\n        throw TypeError('.Project.ui: object expected')\r\n      message.ui = $root.Ui.fromObject(object.ui)\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Project message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Project} message Project\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Project.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.arrays || options.defaults) object.glyphImages = []\r\n    if (options.objects || options.defaults) object.glyphs = {}\r\n    if (options.defaults) {\r\n      if ($util.Long) {\r\n        let long = new $util.Long(0, 0, false)\r\n        object.id =\r\n          options.longs === String\r\n            ? long.toString()\r\n            : options.longs === Number\r\n            ? long.toNumber()\r\n            : long\r\n      } else object.id = options.longs === String ? '0' : 0\r\n      object.name = ''\r\n      object.text = ''\r\n      object.style = null\r\n      object.layout = null\r\n      object.globalAdjustMetric = null\r\n      object.ui = null\r\n    }\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (typeof message.id === 'number')\r\n        object.id = options.longs === String ? String(message.id) : message.id\r\n      else\r\n        object.id =\r\n          options.longs === String\r\n            ? $util.Long.prototype.toString.call(message.id)\r\n            : options.longs === Number\r\n            ? new $util.LongBits(\r\n                message.id.low >>> 0,\r\n                message.id.high >>> 0,\r\n              ).toNumber()\r\n            : message.id\r\n    if (message.name != null && message.hasOwnProperty('name'))\r\n      object.name = message.name\r\n    if (message.text != null && message.hasOwnProperty('text'))\r\n      object.text = message.text\r\n    let keys2\r\n    if (message.glyphs && (keys2 = Object.keys(message.glyphs)).length) {\r\n      object.glyphs = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.glyphs[keys2[j]] = $root.GlyphFont.toObject(\r\n          message.glyphs[keys2[j]],\r\n          options,\r\n        )\r\n    }\r\n    if (message.glyphImages && message.glyphImages.length) {\r\n      object.glyphImages = []\r\n      for (let j = 0; j < message.glyphImages.length; ++j)\r\n        object.glyphImages[j] = $root.GlyphImage.toObject(\r\n          message.glyphImages[j],\r\n          options,\r\n        )\r\n    }\r\n    if (message.style != null && message.hasOwnProperty('style'))\r\n      object.style = $root.Style.toObject(message.style, options)\r\n    if (message.layout != null && message.hasOwnProperty('layout'))\r\n      object.layout = $root.Layout.toObject(message.layout, options)\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      message.hasOwnProperty('globalAdjustMetric')\r\n    )\r\n      object.globalAdjustMetric = $root.Metric.toObject(\r\n        message.globalAdjustMetric,\r\n        options,\r\n      )\r\n    if (message.ui != null && message.hasOwnProperty('ui'))\r\n      object.ui = $root.Ui.toObject(message.ui, options)\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Project to JSON.\r\n   * @function toJSON\r\n   * @memberof Project\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Project.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Project\r\n})())\r\n\r\nexport { $root as default }\r\n","export const PREFIX_STR = 'SnowBambooBMF'\r\nconst prefix = (): Uint8Array =>\r\n  new Uint8Array([...PREFIX_STR.split('').map((s) => s.charCodeAt(0)), 1, 0, 2])\r\n\r\nexport default prefix\r\n","/* eslint-disable */\r\nimport * as $protobuf from 'protobufjs/minimal'\r\n\r\n// Common aliases\r\nconst $Reader = $protobuf.Reader,\r\n  $Writer = $protobuf.Writer,\r\n  $util = $protobuf.util\r\n\r\n// Exported root namespace\r\nconst $root = {}\r\n\r\nexport const Metric = ($root.Metric = (() => {\r\n  /**\r\n   * Properties of a Metric.\r\n   * @exports IMetric\r\n   * @interface IMetric\r\n   * @property {number|null} [xAdvance] Metric xAdvance\r\n   * @property {number|null} [xOffset] Metric xOffset\r\n   * @property {number|null} [yOffset] Metric yOffset\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Metric.\r\n   * @exports Metric\r\n   * @classdesc Represents a Metric.\r\n   * @implements IMetric\r\n   * @constructor\r\n   * @param {IMetric=} [properties] Properties to set\r\n   */\r\n  function Metric(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Metric xAdvance.\r\n   * @member {number} xAdvance\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.xAdvance = 0\r\n\r\n  /**\r\n   * Metric xOffset.\r\n   * @member {number} xOffset\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.xOffset = 0\r\n\r\n  /**\r\n   * Metric yOffset.\r\n   * @member {number} yOffset\r\n   * @memberof Metric\r\n   * @instance\r\n   */\r\n  Metric.prototype.yOffset = 0\r\n\r\n  /**\r\n   * Creates a new Metric instance using the specified properties.\r\n   * @function create\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric=} [properties] Properties to set\r\n   * @returns {Metric} Metric instance\r\n   */\r\n  Metric.create = function create(properties) {\r\n    return new Metric(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Metric message. Does not implicitly {@link Metric.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric} message Metric message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Metric.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.xAdvance != null &&\r\n      Object.hasOwnProperty.call(message, 'xAdvance')\r\n    )\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).sint32(message.xAdvance)\r\n    if (\r\n      message.xOffset != null &&\r\n      Object.hasOwnProperty.call(message, 'xOffset')\r\n    )\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).sint32(message.xOffset)\r\n    if (\r\n      message.yOffset != null &&\r\n      Object.hasOwnProperty.call(message, 'yOffset')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).sint32(message.yOffset)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Metric message, length delimited. Does not implicitly {@link Metric.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {IMetric} message Metric message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Metric.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Metric message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Metric} Metric\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Metric.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Metric()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.xAdvance = reader.sint32()\r\n          break\r\n        case 2:\r\n          message.xOffset = reader.sint32()\r\n          break\r\n        case 3:\r\n          message.yOffset = reader.sint32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Metric message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Metric} Metric\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Metric.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Metric message.\r\n   * @function verify\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Metric.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.xAdvance != null && message.hasOwnProperty('xAdvance'))\r\n      if (!$util.isInteger(message.xAdvance))\r\n        return 'xAdvance: integer expected'\r\n    if (message.xOffset != null && message.hasOwnProperty('xOffset'))\r\n      if (!$util.isInteger(message.xOffset)) return 'xOffset: integer expected'\r\n    if (message.yOffset != null && message.hasOwnProperty('yOffset'))\r\n      if (!$util.isInteger(message.yOffset)) return 'yOffset: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Metric message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Metric} Metric\r\n   */\r\n  Metric.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Metric) return object\r\n    let message = new $root.Metric()\r\n    if (object.xAdvance != null) message.xAdvance = object.xAdvance | 0\r\n    if (object.xOffset != null) message.xOffset = object.xOffset | 0\r\n    if (object.yOffset != null) message.yOffset = object.yOffset | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Metric message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Metric\r\n   * @static\r\n   * @param {Metric} message Metric\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Metric.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.xAdvance = 0\r\n      object.xOffset = 0\r\n      object.yOffset = 0\r\n    }\r\n    if (message.xAdvance != null && message.hasOwnProperty('xAdvance'))\r\n      object.xAdvance = message.xAdvance\r\n    if (message.xOffset != null && message.hasOwnProperty('xOffset'))\r\n      object.xOffset = message.xOffset\r\n    if (message.yOffset != null && message.hasOwnProperty('yOffset'))\r\n      object.yOffset = message.yOffset\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Metric to JSON.\r\n   * @function toJSON\r\n   * @memberof Metric\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Metric.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Metric\r\n})())\r\n\r\nexport const GradientColor = ($root.GradientColor = (() => {\r\n  /**\r\n   * Properties of a GradientColor.\r\n   * @exports IGradientColor\r\n   * @interface IGradientColor\r\n   * @property {number|null} [id] GradientColor id\r\n   * @property {number|null} [offset] GradientColor offset\r\n   * @property {string|null} [color] GradientColor color\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GradientColor.\r\n   * @exports GradientColor\r\n   * @classdesc Represents a GradientColor.\r\n   * @implements IGradientColor\r\n   * @constructor\r\n   * @param {IGradientColor=} [properties] Properties to set\r\n   */\r\n  function GradientColor(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GradientColor id.\r\n   * @member {number} id\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.id = 0\r\n\r\n  /**\r\n   * GradientColor offset.\r\n   * @member {number} offset\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.offset = 0\r\n\r\n  /**\r\n   * GradientColor color.\r\n   * @member {string} color\r\n   * @memberof GradientColor\r\n   * @instance\r\n   */\r\n  GradientColor.prototype.color = ''\r\n\r\n  /**\r\n   * Creates a new GradientColor instance using the specified properties.\r\n   * @function create\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor=} [properties] Properties to set\r\n   * @returns {GradientColor} GradientColor instance\r\n   */\r\n  GradientColor.create = function create(properties) {\r\n    return new GradientColor(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GradientColor message. Does not implicitly {@link GradientColor.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor} message GradientColor message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GradientColor.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.id != null && Object.hasOwnProperty.call(message, 'id'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.id)\r\n    if (message.offset != null && Object.hasOwnProperty.call(message, 'offset'))\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).sint32(message.offset)\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.color)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GradientColor message, length delimited. Does not implicitly {@link GradientColor.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {IGradientColor} message GradientColor message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GradientColor.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GradientColor message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GradientColor} GradientColor\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GradientColor.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GradientColor()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.id = reader.int32()\r\n          break\r\n        case 2:\r\n          message.offset = reader.sint32()\r\n          break\r\n        case 3:\r\n          message.color = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GradientColor message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GradientColor} GradientColor\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GradientColor.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GradientColor message.\r\n   * @function verify\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GradientColor.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (!$util.isInteger(message.id)) return 'id: integer expected'\r\n    if (message.offset != null && message.hasOwnProperty('offset'))\r\n      if (!$util.isInteger(message.offset)) return 'offset: integer expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GradientColor message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GradientColor} GradientColor\r\n   */\r\n  GradientColor.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GradientColor) return object\r\n    let message = new $root.GradientColor()\r\n    if (object.id != null) message.id = object.id | 0\r\n    if (object.offset != null) message.offset = object.offset | 0\r\n    if (object.color != null) message.color = String(object.color)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GradientColor message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GradientColor\r\n   * @static\r\n   * @param {GradientColor} message GradientColor\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GradientColor.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.id = 0\r\n      object.offset = 0\r\n      object.color = ''\r\n    }\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      object.id = message.id\r\n    if (message.offset != null && message.hasOwnProperty('offset'))\r\n      object.offset = message.offset\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GradientColor to JSON.\r\n   * @function toJSON\r\n   * @memberof GradientColor\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GradientColor.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GradientColor\r\n})())\r\n\r\nexport const Gradient = ($root.Gradient = (() => {\r\n  /**\r\n   * Properties of a Gradient.\r\n   * @exports IGradient\r\n   * @interface IGradient\r\n   * @property {number|null} [type] Gradient type\r\n   * @property {number|null} [angle] Gradient angle\r\n   * @property {Array.<IGradientColor>|null} [palette] Gradient palette\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Gradient.\r\n   * @exports Gradient\r\n   * @classdesc Represents a Gradient.\r\n   * @implements IGradient\r\n   * @constructor\r\n   * @param {IGradient=} [properties] Properties to set\r\n   */\r\n  function Gradient(properties) {\r\n    this.palette = []\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Gradient type.\r\n   * @member {number} type\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.type = 0\r\n\r\n  /**\r\n   * Gradient angle.\r\n   * @member {number} angle\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.angle = 0\r\n\r\n  /**\r\n   * Gradient palette.\r\n   * @member {Array.<IGradientColor>} palette\r\n   * @memberof Gradient\r\n   * @instance\r\n   */\r\n  Gradient.prototype.palette = $util.emptyArray\r\n\r\n  /**\r\n   * Creates a new Gradient instance using the specified properties.\r\n   * @function create\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient=} [properties] Properties to set\r\n   * @returns {Gradient} Gradient instance\r\n   */\r\n  Gradient.create = function create(properties) {\r\n    return new Gradient(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Gradient message. Does not implicitly {@link Gradient.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient} message Gradient message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Gradient.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.type != null && Object.hasOwnProperty.call(message, 'type'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.type)\r\n    if (message.angle != null && Object.hasOwnProperty.call(message, 'angle'))\r\n      writer.uint32(/* id 2, wireType 5 =*/ 21).float(message.angle)\r\n    if (message.palette != null && message.palette.length)\r\n      for (let i = 0; i < message.palette.length; ++i)\r\n        $root.GradientColor.encode(\r\n          message.palette[i],\r\n          writer.uint32(/* id 3, wireType 2 =*/ 26).fork(),\r\n        ).ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Gradient message, length delimited. Does not implicitly {@link Gradient.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {IGradient} message Gradient message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Gradient.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Gradient message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Gradient} Gradient\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Gradient.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Gradient()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.type = reader.int32()\r\n          break\r\n        case 2:\r\n          message.angle = reader.float()\r\n          break\r\n        case 3:\r\n          if (!(message.palette && message.palette.length)) message.palette = []\r\n          message.palette.push(\r\n            $root.GradientColor.decode(reader, reader.uint32()),\r\n          )\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Gradient message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Gradient} Gradient\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Gradient.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Gradient message.\r\n   * @function verify\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Gradient.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      if (!$util.isInteger(message.type)) return 'type: integer expected'\r\n    if (message.angle != null && message.hasOwnProperty('angle'))\r\n      if (typeof message.angle !== 'number') return 'angle: number expected'\r\n    if (message.palette != null && message.hasOwnProperty('palette')) {\r\n      if (!Array.isArray(message.palette)) return 'palette: array expected'\r\n      for (let i = 0; i < message.palette.length; ++i) {\r\n        let error = $root.GradientColor.verify(message.palette[i])\r\n        if (error) return 'palette.' + error\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Gradient message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Gradient} Gradient\r\n   */\r\n  Gradient.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Gradient) return object\r\n    let message = new $root.Gradient()\r\n    if (object.type != null) message.type = object.type | 0\r\n    if (object.angle != null) message.angle = Number(object.angle)\r\n    if (object.palette) {\r\n      if (!Array.isArray(object.palette))\r\n        throw TypeError('.Gradient.palette: array expected')\r\n      message.palette = []\r\n      for (let i = 0; i < object.palette.length; ++i) {\r\n        if (typeof object.palette[i] !== 'object')\r\n          throw TypeError('.Gradient.palette: object expected')\r\n        message.palette[i] = $root.GradientColor.fromObject(object.palette[i])\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Gradient message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Gradient\r\n   * @static\r\n   * @param {Gradient} message Gradient\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Gradient.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.arrays || options.defaults) object.palette = []\r\n    if (options.defaults) {\r\n      object.type = 0\r\n      object.angle = 0\r\n    }\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      object.type = message.type\r\n    if (message.angle != null && message.hasOwnProperty('angle'))\r\n      object.angle =\r\n        options.json && !isFinite(message.angle)\r\n          ? String(message.angle)\r\n          : message.angle\r\n    if (message.palette && message.palette.length) {\r\n      object.palette = []\r\n      for (let j = 0; j < message.palette.length; ++j)\r\n        object.palette[j] = $root.GradientColor.toObject(\r\n          message.palette[j],\r\n          options,\r\n        )\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Gradient to JSON.\r\n   * @function toJSON\r\n   * @memberof Gradient\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Gradient.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Gradient\r\n})())\r\n\r\nexport const PatternTexture = ($root.PatternTexture = (() => {\r\n  /**\r\n   * Properties of a PatternTexture.\r\n   * @exports IPatternTexture\r\n   * @interface IPatternTexture\r\n   * @property {Uint8Array|null} [buffer] PatternTexture buffer\r\n   * @property {number|null} [scale] PatternTexture scale\r\n   * @property {string|null} [repetition] PatternTexture repetition\r\n   */\r\n\r\n  /**\r\n   * Constructs a new PatternTexture.\r\n   * @exports PatternTexture\r\n   * @classdesc Represents a PatternTexture.\r\n   * @implements IPatternTexture\r\n   * @constructor\r\n   * @param {IPatternTexture=} [properties] Properties to set\r\n   */\r\n  function PatternTexture(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * PatternTexture buffer.\r\n   * @member {Uint8Array} buffer\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.buffer = $util.newBuffer([])\r\n\r\n  /**\r\n   * PatternTexture scale.\r\n   * @member {number} scale\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.scale = 0\r\n\r\n  /**\r\n   * PatternTexture repetition.\r\n   * @member {string} repetition\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   */\r\n  PatternTexture.prototype.repetition = ''\r\n\r\n  /**\r\n   * Creates a new PatternTexture instance using the specified properties.\r\n   * @function create\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture=} [properties] Properties to set\r\n   * @returns {PatternTexture} PatternTexture instance\r\n   */\r\n  PatternTexture.create = function create(properties) {\r\n    return new PatternTexture(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified PatternTexture message. Does not implicitly {@link PatternTexture.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture} message PatternTexture message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  PatternTexture.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.buffer != null && Object.hasOwnProperty.call(message, 'buffer'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).bytes(message.buffer)\r\n    if (message.scale != null && Object.hasOwnProperty.call(message, 'scale'))\r\n      writer.uint32(/* id 2, wireType 1 =*/ 17).double(message.scale)\r\n    if (\r\n      message.repetition != null &&\r\n      Object.hasOwnProperty.call(message, 'repetition')\r\n    )\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.repetition)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified PatternTexture message, length delimited. Does not implicitly {@link PatternTexture.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {IPatternTexture} message PatternTexture message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  PatternTexture.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a PatternTexture message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {PatternTexture} PatternTexture\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  PatternTexture.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.PatternTexture()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.buffer = reader.bytes()\r\n          break\r\n        case 2:\r\n          message.scale = reader.double()\r\n          break\r\n        case 3:\r\n          message.repetition = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a PatternTexture message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {PatternTexture} PatternTexture\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  PatternTexture.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a PatternTexture message.\r\n   * @function verify\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  PatternTexture.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      if (\r\n        !(\r\n          (message.buffer && typeof message.buffer.length === 'number') ||\r\n          $util.isString(message.buffer)\r\n        )\r\n      )\r\n        return 'buffer: buffer expected'\r\n    if (message.scale != null && message.hasOwnProperty('scale'))\r\n      if (typeof message.scale !== 'number') return 'scale: number expected'\r\n    if (message.repetition != null && message.hasOwnProperty('repetition'))\r\n      if (!$util.isString(message.repetition))\r\n        return 'repetition: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a PatternTexture message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {PatternTexture} PatternTexture\r\n   */\r\n  PatternTexture.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.PatternTexture) return object\r\n    let message = new $root.PatternTexture()\r\n    if (object.buffer != null)\r\n      if (typeof object.buffer === 'string')\r\n        $util.base64.decode(\r\n          object.buffer,\r\n          (message.buffer = $util.newBuffer(\r\n            $util.base64.length(object.buffer),\r\n          )),\r\n          0,\r\n        )\r\n      else if (object.buffer.length) message.buffer = object.buffer\r\n    if (object.scale != null) message.scale = Number(object.scale)\r\n    if (object.repetition != null)\r\n      message.repetition = String(object.repetition)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a PatternTexture message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof PatternTexture\r\n   * @static\r\n   * @param {PatternTexture} message PatternTexture\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  PatternTexture.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      if (options.bytes === String) object.buffer = ''\r\n      else {\r\n        object.buffer = []\r\n        if (options.bytes !== Array)\r\n          object.buffer = $util.newBuffer(object.buffer)\r\n      }\r\n      object.scale = 0\r\n      object.repetition = ''\r\n    }\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      object.buffer =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.buffer, 0, message.buffer.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.buffer)\r\n          : message.buffer\r\n    if (message.scale != null && message.hasOwnProperty('scale'))\r\n      object.scale =\r\n        options.json && !isFinite(message.scale)\r\n          ? String(message.scale)\r\n          : message.scale\r\n    if (message.repetition != null && message.hasOwnProperty('repetition'))\r\n      object.repetition = message.repetition\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this PatternTexture to JSON.\r\n   * @function toJSON\r\n   * @memberof PatternTexture\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  PatternTexture.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return PatternTexture\r\n})())\r\n\r\nexport const Fill = ($root.Fill = (() => {\r\n  /**\r\n   * Properties of a Fill.\r\n   * @exports IFill\r\n   * @interface IFill\r\n   * @property {number|null} [type] Fill type\r\n   * @property {string|null} [color] Fill color\r\n   * @property {IGradient|null} [gradient] Fill gradient\r\n   * @property {IPatternTexture|null} [patternTexture] Fill patternTexture\r\n   * @property {number|null} [width] Fill width\r\n   * @property {string|null} [lineCap] Fill lineCap\r\n   * @property {string|null} [lineJoin] Fill lineJoin\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Fill.\r\n   * @exports Fill\r\n   * @classdesc Represents a Fill.\r\n   * @implements IFill\r\n   * @constructor\r\n   * @param {IFill=} [properties] Properties to set\r\n   */\r\n  function Fill(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Fill type.\r\n   * @member {number} type\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.type = 0\r\n\r\n  /**\r\n   * Fill color.\r\n   * @member {string} color\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.color = ''\r\n\r\n  /**\r\n   * Fill gradient.\r\n   * @member {IGradient|null|undefined} gradient\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.gradient = null\r\n\r\n  /**\r\n   * Fill patternTexture.\r\n   * @member {IPatternTexture|null|undefined} patternTexture\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.patternTexture = null\r\n\r\n  /**\r\n   * Fill width.\r\n   * @member {number} width\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.width = 0\r\n\r\n  /**\r\n   * Fill lineCap.\r\n   * @member {string} lineCap\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.lineCap = ''\r\n\r\n  /**\r\n   * Fill lineJoin.\r\n   * @member {string} lineJoin\r\n   * @memberof Fill\r\n   * @instance\r\n   */\r\n  Fill.prototype.lineJoin = ''\r\n\r\n  /**\r\n   * Creates a new Fill instance using the specified properties.\r\n   * @function create\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill=} [properties] Properties to set\r\n   * @returns {Fill} Fill instance\r\n   */\r\n  Fill.create = function create(properties) {\r\n    return new Fill(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Fill message. Does not implicitly {@link Fill.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill} message Fill message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Fill.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.type != null && Object.hasOwnProperty.call(message, 'type'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.type)\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.color)\r\n    if (\r\n      message.gradient != null &&\r\n      Object.hasOwnProperty.call(message, 'gradient')\r\n    )\r\n      $root.Gradient.encode(\r\n        message.gradient,\r\n        writer.uint32(/* id 3, wireType 2 =*/ 26).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.patternTexture != null &&\r\n      Object.hasOwnProperty.call(message, 'patternTexture')\r\n    )\r\n      $root.PatternTexture.encode(\r\n        message.patternTexture,\r\n        writer.uint32(/* id 4, wireType 2 =*/ 34).fork(),\r\n      ).ldelim()\r\n    if (message.width != null && Object.hasOwnProperty.call(message, 'width'))\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).int32(message.width)\r\n    if (\r\n      message.lineCap != null &&\r\n      Object.hasOwnProperty.call(message, 'lineCap')\r\n    )\r\n      writer.uint32(/* id 6, wireType 2 =*/ 50).string(message.lineCap)\r\n    if (\r\n      message.lineJoin != null &&\r\n      Object.hasOwnProperty.call(message, 'lineJoin')\r\n    )\r\n      writer.uint32(/* id 7, wireType 2 =*/ 58).string(message.lineJoin)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Fill message, length delimited. Does not implicitly {@link Fill.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {IFill} message Fill message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Fill.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Fill message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Fill} Fill\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Fill.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Fill()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.type = reader.int32()\r\n          break\r\n        case 2:\r\n          message.color = reader.string()\r\n          break\r\n        case 3:\r\n          message.gradient = $root.Gradient.decode(reader, reader.uint32())\r\n          break\r\n        case 4:\r\n          message.patternTexture = $root.PatternTexture.decode(\r\n            reader,\r\n            reader.uint32(),\r\n          )\r\n          break\r\n        case 5:\r\n          message.width = reader.int32()\r\n          break\r\n        case 6:\r\n          message.lineCap = reader.string()\r\n          break\r\n        case 7:\r\n          message.lineJoin = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Fill message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Fill} Fill\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Fill.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Fill message.\r\n   * @function verify\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Fill.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      if (!$util.isInteger(message.type)) return 'type: integer expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    if (message.gradient != null && message.hasOwnProperty('gradient')) {\r\n      let error = $root.Gradient.verify(message.gradient)\r\n      if (error) return 'gradient.' + error\r\n    }\r\n    if (\r\n      message.patternTexture != null &&\r\n      message.hasOwnProperty('patternTexture')\r\n    ) {\r\n      let error = $root.PatternTexture.verify(message.patternTexture)\r\n      if (error) return 'patternTexture.' + error\r\n    }\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      if (!$util.isInteger(message.width)) return 'width: integer expected'\r\n    if (message.lineCap != null && message.hasOwnProperty('lineCap'))\r\n      if (!$util.isString(message.lineCap)) return 'lineCap: string expected'\r\n    if (message.lineJoin != null && message.hasOwnProperty('lineJoin'))\r\n      if (!$util.isString(message.lineJoin)) return 'lineJoin: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Fill message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Fill} Fill\r\n   */\r\n  Fill.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Fill) return object\r\n    let message = new $root.Fill()\r\n    if (object.type != null) message.type = object.type | 0\r\n    if (object.color != null) message.color = String(object.color)\r\n    if (object.gradient != null) {\r\n      if (typeof object.gradient !== 'object')\r\n        throw TypeError('.Fill.gradient: object expected')\r\n      message.gradient = $root.Gradient.fromObject(object.gradient)\r\n    }\r\n    if (object.patternTexture != null) {\r\n      if (typeof object.patternTexture !== 'object')\r\n        throw TypeError('.Fill.patternTexture: object expected')\r\n      message.patternTexture = $root.PatternTexture.fromObject(\r\n        object.patternTexture,\r\n      )\r\n    }\r\n    if (object.width != null) message.width = object.width | 0\r\n    if (object.lineCap != null) message.lineCap = String(object.lineCap)\r\n    if (object.lineJoin != null) message.lineJoin = String(object.lineJoin)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Fill message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Fill\r\n   * @static\r\n   * @param {Fill} message Fill\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Fill.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.type = 0\r\n      object.color = ''\r\n      object.gradient = null\r\n      object.patternTexture = null\r\n      object.width = 0\r\n      object.lineCap = ''\r\n      object.lineJoin = ''\r\n    }\r\n    if (message.type != null && message.hasOwnProperty('type'))\r\n      object.type = message.type\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    if (message.gradient != null && message.hasOwnProperty('gradient'))\r\n      object.gradient = $root.Gradient.toObject(message.gradient, options)\r\n    if (\r\n      message.patternTexture != null &&\r\n      message.hasOwnProperty('patternTexture')\r\n    )\r\n      object.patternTexture = $root.PatternTexture.toObject(\r\n        message.patternTexture,\r\n        options,\r\n      )\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      object.width = message.width\r\n    if (message.lineCap != null && message.hasOwnProperty('lineCap'))\r\n      object.lineCap = message.lineCap\r\n    if (message.lineJoin != null && message.hasOwnProperty('lineJoin'))\r\n      object.lineJoin = message.lineJoin\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Fill to JSON.\r\n   * @function toJSON\r\n   * @memberof Fill\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Fill.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Fill\r\n})())\r\n\r\nexport const Font = ($root.Font = (() => {\r\n  /**\r\n   * Properties of a Font.\r\n   * @exports IFont\r\n   * @interface IFont\r\n   * @property {Uint8Array|null} [font] Font font\r\n   * @property {string|null} [family] Font family\r\n   * @property {number|null} [size] Font size\r\n   * @property {number|null} [lineHeight] Font lineHeight\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Font.\r\n   * @exports Font\r\n   * @classdesc Represents a Font.\r\n   * @implements IFont\r\n   * @constructor\r\n   * @param {IFont=} [properties] Properties to set\r\n   */\r\n  function Font(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Font font.\r\n   * @member {Uint8Array} font\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.font = $util.newBuffer([])\r\n\r\n  /**\r\n   * Font family.\r\n   * @member {string} family\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.family = ''\r\n\r\n  /**\r\n   * Font size.\r\n   * @member {number} size\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.size = 0\r\n\r\n  /**\r\n   * Font lineHeight.\r\n   * @member {number} lineHeight\r\n   * @memberof Font\r\n   * @instance\r\n   */\r\n  Font.prototype.lineHeight = 0\r\n\r\n  /**\r\n   * Creates a new Font instance using the specified properties.\r\n   * @function create\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont=} [properties] Properties to set\r\n   * @returns {Font} Font instance\r\n   */\r\n  Font.create = function create(properties) {\r\n    return new Font(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Font message. Does not implicitly {@link Font.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont} message Font message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Font.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.font != null && Object.hasOwnProperty.call(message, 'font'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).bytes(message.font)\r\n    if (message.family != null && Object.hasOwnProperty.call(message, 'family'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.family)\r\n    if (message.size != null && Object.hasOwnProperty.call(message, 'size'))\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).int32(message.size)\r\n    if (\r\n      message.lineHeight != null &&\r\n      Object.hasOwnProperty.call(message, 'lineHeight')\r\n    )\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).int32(message.lineHeight)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Font message, length delimited. Does not implicitly {@link Font.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Font\r\n   * @static\r\n   * @param {IFont} message Font message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Font.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Font message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Font\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Font} Font\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Font.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Font()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.font = reader.bytes()\r\n          break\r\n        case 2:\r\n          message.family = reader.string()\r\n          break\r\n        case 3:\r\n          message.size = reader.int32()\r\n          break\r\n        case 4:\r\n          message.lineHeight = reader.int32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Font message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Font\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Font} Font\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Font.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Font message.\r\n   * @function verify\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Font.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      if (\r\n        !(\r\n          (message.font && typeof message.font.length === 'number') ||\r\n          $util.isString(message.font)\r\n        )\r\n      )\r\n        return 'font: buffer expected'\r\n    if (message.family != null && message.hasOwnProperty('family'))\r\n      if (!$util.isString(message.family)) return 'family: string expected'\r\n    if (message.size != null && message.hasOwnProperty('size'))\r\n      if (!$util.isInteger(message.size)) return 'size: integer expected'\r\n    if (message.lineHeight != null && message.hasOwnProperty('lineHeight'))\r\n      if (!$util.isInteger(message.lineHeight))\r\n        return 'lineHeight: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Font message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Font} Font\r\n   */\r\n  Font.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Font) return object\r\n    let message = new $root.Font()\r\n    if (object.font != null)\r\n      if (typeof object.font === 'string')\r\n        $util.base64.decode(\r\n          object.font,\r\n          (message.font = $util.newBuffer($util.base64.length(object.font))),\r\n          0,\r\n        )\r\n      else if (object.font.length) message.font = object.font\r\n    if (object.family != null) message.family = String(object.family)\r\n    if (object.size != null) message.size = object.size | 0\r\n    if (object.lineHeight != null) message.lineHeight = object.lineHeight | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Font message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Font\r\n   * @static\r\n   * @param {Font} message Font\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Font.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      if (options.bytes === String) object.font = ''\r\n      else {\r\n        object.font = []\r\n        if (options.bytes !== Array) object.font = $util.newBuffer(object.font)\r\n      }\r\n      object.family = ''\r\n      object.size = 0\r\n      object.lineHeight = 0\r\n    }\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      object.font =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.font, 0, message.font.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.font)\r\n          : message.font\r\n    if (message.family != null && message.hasOwnProperty('family'))\r\n      object.family = message.family\r\n    if (message.size != null && message.hasOwnProperty('size'))\r\n      object.size = message.size\r\n    if (message.lineHeight != null && message.hasOwnProperty('lineHeight'))\r\n      object.lineHeight = message.lineHeight\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Font to JSON.\r\n   * @function toJSON\r\n   * @memberof Font\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Font.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Font\r\n})())\r\n\r\nexport const GlyphFont = ($root.GlyphFont = (() => {\r\n  /**\r\n   * Properties of a GlyphFont.\r\n   * @exports IGlyphFont\r\n   * @interface IGlyphFont\r\n   * @property {string|null} [letter] GlyphFont letter\r\n   * @property {IMetric|null} [adjustMetric] GlyphFont adjustMetric\r\n   * @property {Object.<string,number>|null} [kerning] GlyphFont kerning\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GlyphFont.\r\n   * @exports GlyphFont\r\n   * @classdesc Represents a GlyphFont.\r\n   * @implements IGlyphFont\r\n   * @constructor\r\n   * @param {IGlyphFont=} [properties] Properties to set\r\n   */\r\n  function GlyphFont(properties) {\r\n    this.kerning = {}\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GlyphFont letter.\r\n   * @member {string} letter\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.letter = ''\r\n\r\n  /**\r\n   * GlyphFont adjustMetric.\r\n   * @member {IMetric|null|undefined} adjustMetric\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.adjustMetric = null\r\n\r\n  /**\r\n   * GlyphFont kerning.\r\n   * @member {Object.<string,number>} kerning\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   */\r\n  GlyphFont.prototype.kerning = $util.emptyObject\r\n\r\n  /**\r\n   * Creates a new GlyphFont instance using the specified properties.\r\n   * @function create\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont=} [properties] Properties to set\r\n   * @returns {GlyphFont} GlyphFont instance\r\n   */\r\n  GlyphFont.create = function create(properties) {\r\n    return new GlyphFont(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphFont message. Does not implicitly {@link GlyphFont.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont} message GlyphFont message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphFont.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.letter != null && Object.hasOwnProperty.call(message, 'letter'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.letter)\r\n    if (\r\n      message.adjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'adjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.adjustMetric,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.kerning != null &&\r\n      Object.hasOwnProperty.call(message, 'kerning')\r\n    )\r\n      for (let keys = Object.keys(message.kerning), i = 0; i < keys.length; ++i)\r\n        writer\r\n          .uint32(/* id 3, wireType 2 =*/ 26)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n          .uint32(/* id 2, wireType 0 =*/ 16)\r\n          .int32(message.kerning[keys[i]])\r\n          .ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphFont message, length delimited. Does not implicitly {@link GlyphFont.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {IGlyphFont} message GlyphFont message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphFont.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphFont message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GlyphFont} GlyphFont\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphFont.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GlyphFont(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.letter = reader.string()\r\n          break\r\n        case 2:\r\n          message.adjustMetric = $root.Metric.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          if (message.kerning === $util.emptyObject) message.kerning = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = 0\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = reader.int32()\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.kerning[key] = value\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphFont message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GlyphFont} GlyphFont\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphFont.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GlyphFont message.\r\n   * @function verify\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GlyphFont.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      if (!$util.isString(message.letter)) return 'letter: string expected'\r\n    if (\r\n      message.adjustMetric != null &&\r\n      message.hasOwnProperty('adjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.adjustMetric)\r\n      if (error) return 'adjustMetric.' + error\r\n    }\r\n    if (message.kerning != null && message.hasOwnProperty('kerning')) {\r\n      if (!$util.isObject(message.kerning)) return 'kerning: object expected'\r\n      let key = Object.keys(message.kerning)\r\n      for (let i = 0; i < key.length; ++i)\r\n        if (!$util.isInteger(message.kerning[key[i]]))\r\n          return 'kerning: integer{k:string} expected'\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GlyphFont message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GlyphFont} GlyphFont\r\n   */\r\n  GlyphFont.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GlyphFont) return object\r\n    let message = new $root.GlyphFont()\r\n    if (object.letter != null) message.letter = String(object.letter)\r\n    if (object.adjustMetric != null) {\r\n      if (typeof object.adjustMetric !== 'object')\r\n        throw TypeError('.GlyphFont.adjustMetric: object expected')\r\n      message.adjustMetric = $root.Metric.fromObject(object.adjustMetric)\r\n    }\r\n    if (object.kerning) {\r\n      if (typeof object.kerning !== 'object')\r\n        throw TypeError('.GlyphFont.kerning: object expected')\r\n      message.kerning = {}\r\n      for (let keys = Object.keys(object.kerning), i = 0; i < keys.length; ++i)\r\n        message.kerning[keys[i]] = object.kerning[keys[i]] | 0\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GlyphFont message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GlyphFont\r\n   * @static\r\n   * @param {GlyphFont} message GlyphFont\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GlyphFont.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.objects || options.defaults) object.kerning = {}\r\n    if (options.defaults) {\r\n      object.letter = ''\r\n      object.adjustMetric = null\r\n    }\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      object.letter = message.letter\r\n    if (message.adjustMetric != null && message.hasOwnProperty('adjustMetric'))\r\n      object.adjustMetric = $root.Metric.toObject(message.adjustMetric, options)\r\n    let keys2\r\n    if (message.kerning && (keys2 = Object.keys(message.kerning)).length) {\r\n      object.kerning = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.kerning[keys2[j]] = message.kerning[keys2[j]]\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GlyphFont to JSON.\r\n   * @function toJSON\r\n   * @memberof GlyphFont\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GlyphFont.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GlyphFont\r\n})())\r\n\r\nexport const GlyphImage = ($root.GlyphImage = (() => {\r\n  /**\r\n   * Properties of a GlyphImage.\r\n   * @exports IGlyphImage\r\n   * @interface IGlyphImage\r\n   * @property {string|null} [letter] GlyphImage letter\r\n   * @property {IMetric|null} [adjustMetric] GlyphImage adjustMetric\r\n   * @property {Uint8Array|null} [buffer] GlyphImage buffer\r\n   * @property {string|null} [fileName] GlyphImage fileName\r\n   * @property {string|null} [fileType] GlyphImage fileType\r\n   * @property {boolean|null} [selected] GlyphImage selected\r\n   * @property {Object.<string,number>|null} [kerning] GlyphImage kerning\r\n   */\r\n\r\n  /**\r\n   * Constructs a new GlyphImage.\r\n   * @exports GlyphImage\r\n   * @classdesc Represents a GlyphImage.\r\n   * @implements IGlyphImage\r\n   * @constructor\r\n   * @param {IGlyphImage=} [properties] Properties to set\r\n   */\r\n  function GlyphImage(properties) {\r\n    this.kerning = {}\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * GlyphImage letter.\r\n   * @member {string} letter\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.letter = ''\r\n\r\n  /**\r\n   * GlyphImage adjustMetric.\r\n   * @member {IMetric|null|undefined} adjustMetric\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.adjustMetric = null\r\n\r\n  /**\r\n   * GlyphImage buffer.\r\n   * @member {Uint8Array} buffer\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.buffer = $util.newBuffer([])\r\n\r\n  /**\r\n   * GlyphImage fileName.\r\n   * @member {string} fileName\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.fileName = ''\r\n\r\n  /**\r\n   * GlyphImage fileType.\r\n   * @member {string} fileType\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.fileType = ''\r\n\r\n  /**\r\n   * GlyphImage selected.\r\n   * @member {boolean} selected\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.selected = false\r\n\r\n  /**\r\n   * GlyphImage kerning.\r\n   * @member {Object.<string,number>} kerning\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   */\r\n  GlyphImage.prototype.kerning = $util.emptyObject\r\n\r\n  /**\r\n   * Creates a new GlyphImage instance using the specified properties.\r\n   * @function create\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage=} [properties] Properties to set\r\n   * @returns {GlyphImage} GlyphImage instance\r\n   */\r\n  GlyphImage.create = function create(properties) {\r\n    return new GlyphImage(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphImage message. Does not implicitly {@link GlyphImage.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage} message GlyphImage message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphImage.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.letter != null && Object.hasOwnProperty.call(message, 'letter'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.letter)\r\n    if (\r\n      message.adjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'adjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.adjustMetric,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (message.buffer != null && Object.hasOwnProperty.call(message, 'buffer'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).bytes(message.buffer)\r\n    if (\r\n      message.fileName != null &&\r\n      Object.hasOwnProperty.call(message, 'fileName')\r\n    )\r\n      writer.uint32(/* id 4, wireType 2 =*/ 34).string(message.fileName)\r\n    if (\r\n      message.fileType != null &&\r\n      Object.hasOwnProperty.call(message, 'fileType')\r\n    )\r\n      writer.uint32(/* id 5, wireType 2 =*/ 42).string(message.fileType)\r\n    if (\r\n      message.selected != null &&\r\n      Object.hasOwnProperty.call(message, 'selected')\r\n    )\r\n      writer.uint32(/* id 6, wireType 0 =*/ 48).bool(message.selected)\r\n    if (\r\n      message.kerning != null &&\r\n      Object.hasOwnProperty.call(message, 'kerning')\r\n    )\r\n      for (let keys = Object.keys(message.kerning), i = 0; i < keys.length; ++i)\r\n        writer\r\n          .uint32(/* id 7, wireType 2 =*/ 58)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n          .uint32(/* id 2, wireType 0 =*/ 16)\r\n          .int32(message.kerning[keys[i]])\r\n          .ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified GlyphImage message, length delimited. Does not implicitly {@link GlyphImage.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {IGlyphImage} message GlyphImage message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  GlyphImage.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphImage message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {GlyphImage} GlyphImage\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphImage.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.GlyphImage(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.letter = reader.string()\r\n          break\r\n        case 2:\r\n          message.adjustMetric = $root.Metric.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          message.buffer = reader.bytes()\r\n          break\r\n        case 4:\r\n          message.fileName = reader.string()\r\n          break\r\n        case 5:\r\n          message.fileType = reader.string()\r\n          break\r\n        case 6:\r\n          message.selected = reader.bool()\r\n          break\r\n        case 7:\r\n          if (message.kerning === $util.emptyObject) message.kerning = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = 0\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = reader.int32()\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.kerning[key] = value\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a GlyphImage message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {GlyphImage} GlyphImage\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  GlyphImage.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a GlyphImage message.\r\n   * @function verify\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  GlyphImage.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      if (!$util.isString(message.letter)) return 'letter: string expected'\r\n    if (\r\n      message.adjustMetric != null &&\r\n      message.hasOwnProperty('adjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.adjustMetric)\r\n      if (error) return 'adjustMetric.' + error\r\n    }\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      if (\r\n        !(\r\n          (message.buffer && typeof message.buffer.length === 'number') ||\r\n          $util.isString(message.buffer)\r\n        )\r\n      )\r\n        return 'buffer: buffer expected'\r\n    if (message.fileName != null && message.hasOwnProperty('fileName'))\r\n      if (!$util.isString(message.fileName)) return 'fileName: string expected'\r\n    if (message.fileType != null && message.hasOwnProperty('fileType'))\r\n      if (!$util.isString(message.fileType)) return 'fileType: string expected'\r\n    if (message.selected != null && message.hasOwnProperty('selected'))\r\n      if (typeof message.selected !== 'boolean')\r\n        return 'selected: boolean expected'\r\n    if (message.kerning != null && message.hasOwnProperty('kerning')) {\r\n      if (!$util.isObject(message.kerning)) return 'kerning: object expected'\r\n      let key = Object.keys(message.kerning)\r\n      for (let i = 0; i < key.length; ++i)\r\n        if (!$util.isInteger(message.kerning[key[i]]))\r\n          return 'kerning: integer{k:string} expected'\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a GlyphImage message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {GlyphImage} GlyphImage\r\n   */\r\n  GlyphImage.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.GlyphImage) return object\r\n    let message = new $root.GlyphImage()\r\n    if (object.letter != null) message.letter = String(object.letter)\r\n    if (object.adjustMetric != null) {\r\n      if (typeof object.adjustMetric !== 'object')\r\n        throw TypeError('.GlyphImage.adjustMetric: object expected')\r\n      message.adjustMetric = $root.Metric.fromObject(object.adjustMetric)\r\n    }\r\n    if (object.buffer != null)\r\n      if (typeof object.buffer === 'string')\r\n        $util.base64.decode(\r\n          object.buffer,\r\n          (message.buffer = $util.newBuffer(\r\n            $util.base64.length(object.buffer),\r\n          )),\r\n          0,\r\n        )\r\n      else if (object.buffer.length) message.buffer = object.buffer\r\n    if (object.fileName != null) message.fileName = String(object.fileName)\r\n    if (object.fileType != null) message.fileType = String(object.fileType)\r\n    if (object.selected != null) message.selected = Boolean(object.selected)\r\n    if (object.kerning) {\r\n      if (typeof object.kerning !== 'object')\r\n        throw TypeError('.GlyphImage.kerning: object expected')\r\n      message.kerning = {}\r\n      for (let keys = Object.keys(object.kerning), i = 0; i < keys.length; ++i)\r\n        message.kerning[keys[i]] = object.kerning[keys[i]] | 0\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a GlyphImage message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof GlyphImage\r\n   * @static\r\n   * @param {GlyphImage} message GlyphImage\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  GlyphImage.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.objects || options.defaults) object.kerning = {}\r\n    if (options.defaults) {\r\n      object.letter = ''\r\n      object.adjustMetric = null\r\n      if (options.bytes === String) object.buffer = ''\r\n      else {\r\n        object.buffer = []\r\n        if (options.bytes !== Array)\r\n          object.buffer = $util.newBuffer(object.buffer)\r\n      }\r\n      object.fileName = ''\r\n      object.fileType = ''\r\n      object.selected = false\r\n    }\r\n    if (message.letter != null && message.hasOwnProperty('letter'))\r\n      object.letter = message.letter\r\n    if (message.adjustMetric != null && message.hasOwnProperty('adjustMetric'))\r\n      object.adjustMetric = $root.Metric.toObject(message.adjustMetric, options)\r\n    if (message.buffer != null && message.hasOwnProperty('buffer'))\r\n      object.buffer =\r\n        options.bytes === String\r\n          ? $util.base64.encode(message.buffer, 0, message.buffer.length)\r\n          : options.bytes === Array\r\n          ? Array.prototype.slice.call(message.buffer)\r\n          : message.buffer\r\n    if (message.fileName != null && message.hasOwnProperty('fileName'))\r\n      object.fileName = message.fileName\r\n    if (message.fileType != null && message.hasOwnProperty('fileType'))\r\n      object.fileType = message.fileType\r\n    if (message.selected != null && message.hasOwnProperty('selected'))\r\n      object.selected = message.selected\r\n    let keys2\r\n    if (message.kerning && (keys2 = Object.keys(message.kerning)).length) {\r\n      object.kerning = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.kerning[keys2[j]] = message.kerning[keys2[j]]\r\n    }\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this GlyphImage to JSON.\r\n   * @function toJSON\r\n   * @memberof GlyphImage\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  GlyphImage.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return GlyphImage\r\n})())\r\n\r\nexport const Layout = ($root.Layout = (() => {\r\n  /**\r\n   * Properties of a Layout.\r\n   * @exports ILayout\r\n   * @interface ILayout\r\n   * @property {number|null} [padding] Layout padding\r\n   * @property {number|null} [spacing] Layout spacing\r\n   * @property {number|null} [width] Layout width\r\n   * @property {number|null} [height] Layout height\r\n   * @property {boolean|null} [auto] Layout auto\r\n   * @property {boolean|null} [fixedSize] Layout fixedSize\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Layout.\r\n   * @exports Layout\r\n   * @classdesc Represents a Layout.\r\n   * @implements ILayout\r\n   * @constructor\r\n   * @param {ILayout=} [properties] Properties to set\r\n   */\r\n  function Layout(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Layout padding.\r\n   * @member {number} padding\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.padding = 0\r\n\r\n  /**\r\n   * Layout spacing.\r\n   * @member {number} spacing\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.spacing = 0\r\n\r\n  /**\r\n   * Layout width.\r\n   * @member {number} width\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.width = 0\r\n\r\n  /**\r\n   * Layout height.\r\n   * @member {number} height\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.height = 0\r\n\r\n  /**\r\n   * Layout auto.\r\n   * @member {boolean} auto\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.auto = false\r\n\r\n  /**\r\n   * Layout fixedSize.\r\n   * @member {boolean} fixedSize\r\n   * @memberof Layout\r\n   * @instance\r\n   */\r\n  Layout.prototype.fixedSize = false\r\n\r\n  /**\r\n   * Creates a new Layout instance using the specified properties.\r\n   * @function create\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout=} [properties] Properties to set\r\n   * @returns {Layout} Layout instance\r\n   */\r\n  Layout.create = function create(properties) {\r\n    return new Layout(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Layout message. Does not implicitly {@link Layout.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout} message Layout message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Layout.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.padding != null &&\r\n      Object.hasOwnProperty.call(message, 'padding')\r\n    )\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int32(message.padding)\r\n    if (\r\n      message.spacing != null &&\r\n      Object.hasOwnProperty.call(message, 'spacing')\r\n    )\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).int32(message.spacing)\r\n    if (message.width != null && Object.hasOwnProperty.call(message, 'width'))\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).int32(message.width)\r\n    if (message.height != null && Object.hasOwnProperty.call(message, 'height'))\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).int32(message.height)\r\n    if (message.auto != null && Object.hasOwnProperty.call(message, 'auto'))\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).bool(message.auto)\r\n    if (\r\n      message.fixedSize != null &&\r\n      Object.hasOwnProperty.call(message, 'fixedSize')\r\n    )\r\n      writer.uint32(/* id 6, wireType 0 =*/ 48).bool(message.fixedSize)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Layout message, length delimited. Does not implicitly {@link Layout.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {ILayout} message Layout message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Layout.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Layout message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Layout} Layout\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Layout.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Layout()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.padding = reader.int32()\r\n          break\r\n        case 2:\r\n          message.spacing = reader.int32()\r\n          break\r\n        case 3:\r\n          message.width = reader.int32()\r\n          break\r\n        case 4:\r\n          message.height = reader.int32()\r\n          break\r\n        case 5:\r\n          message.auto = reader.bool()\r\n          break\r\n        case 6:\r\n          message.fixedSize = reader.bool()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Layout message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Layout} Layout\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Layout.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Layout message.\r\n   * @function verify\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Layout.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.padding != null && message.hasOwnProperty('padding'))\r\n      if (!$util.isInteger(message.padding)) return 'padding: integer expected'\r\n    if (message.spacing != null && message.hasOwnProperty('spacing'))\r\n      if (!$util.isInteger(message.spacing)) return 'spacing: integer expected'\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      if (!$util.isInteger(message.width)) return 'width: integer expected'\r\n    if (message.height != null && message.hasOwnProperty('height'))\r\n      if (!$util.isInteger(message.height)) return 'height: integer expected'\r\n    if (message.auto != null && message.hasOwnProperty('auto'))\r\n      if (typeof message.auto !== 'boolean') return 'auto: boolean expected'\r\n    if (message.fixedSize != null && message.hasOwnProperty('fixedSize'))\r\n      if (typeof message.fixedSize !== 'boolean')\r\n        return 'fixedSize: boolean expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Layout message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Layout} Layout\r\n   */\r\n  Layout.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Layout) return object\r\n    let message = new $root.Layout()\r\n    if (object.padding != null) message.padding = object.padding | 0\r\n    if (object.spacing != null) message.spacing = object.spacing | 0\r\n    if (object.width != null) message.width = object.width | 0\r\n    if (object.height != null) message.height = object.height | 0\r\n    if (object.auto != null) message.auto = Boolean(object.auto)\r\n    if (object.fixedSize != null) message.fixedSize = Boolean(object.fixedSize)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Layout message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Layout\r\n   * @static\r\n   * @param {Layout} message Layout\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Layout.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.padding = 0\r\n      object.spacing = 0\r\n      object.width = 0\r\n      object.height = 0\r\n      object.auto = false\r\n      object.fixedSize = false\r\n    }\r\n    if (message.padding != null && message.hasOwnProperty('padding'))\r\n      object.padding = message.padding\r\n    if (message.spacing != null && message.hasOwnProperty('spacing'))\r\n      object.spacing = message.spacing\r\n    if (message.width != null && message.hasOwnProperty('width'))\r\n      object.width = message.width\r\n    if (message.height != null && message.hasOwnProperty('height'))\r\n      object.height = message.height\r\n    if (message.auto != null && message.hasOwnProperty('auto'))\r\n      object.auto = message.auto\r\n    if (message.fixedSize != null && message.hasOwnProperty('fixedSize'))\r\n      object.fixedSize = message.fixedSize\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Layout to JSON.\r\n   * @function toJSON\r\n   * @memberof Layout\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Layout.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Layout\r\n})())\r\n\r\nexport const Shadow = ($root.Shadow = (() => {\r\n  /**\r\n   * Properties of a Shadow.\r\n   * @exports IShadow\r\n   * @interface IShadow\r\n   * @property {string|null} [color] Shadow color\r\n   * @property {number|null} [blur] Shadow blur\r\n   * @property {number|null} [offsetX] Shadow offsetX\r\n   * @property {number|null} [offsetY] Shadow offsetY\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Shadow.\r\n   * @exports Shadow\r\n   * @classdesc Represents a Shadow.\r\n   * @implements IShadow\r\n   * @constructor\r\n   * @param {IShadow=} [properties] Properties to set\r\n   */\r\n  function Shadow(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Shadow color.\r\n   * @member {string} color\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.color = ''\r\n\r\n  /**\r\n   * Shadow blur.\r\n   * @member {number} blur\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.blur = 0\r\n\r\n  /**\r\n   * Shadow offsetX.\r\n   * @member {number} offsetX\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.offsetX = 0\r\n\r\n  /**\r\n   * Shadow offsetY.\r\n   * @member {number} offsetY\r\n   * @memberof Shadow\r\n   * @instance\r\n   */\r\n  Shadow.prototype.offsetY = 0\r\n\r\n  /**\r\n   * Creates a new Shadow instance using the specified properties.\r\n   * @function create\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow=} [properties] Properties to set\r\n   * @returns {Shadow} Shadow instance\r\n   */\r\n  Shadow.create = function create(properties) {\r\n    return new Shadow(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Shadow message. Does not implicitly {@link Shadow.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow} message Shadow message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Shadow.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.color != null && Object.hasOwnProperty.call(message, 'color'))\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.color)\r\n    if (message.blur != null && Object.hasOwnProperty.call(message, 'blur'))\r\n      writer.uint32(/* id 2, wireType 0 =*/ 16).int32(message.blur)\r\n    if (\r\n      message.offsetX != null &&\r\n      Object.hasOwnProperty.call(message, 'offsetX')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).sint32(message.offsetX)\r\n    if (\r\n      message.offsetY != null &&\r\n      Object.hasOwnProperty.call(message, 'offsetY')\r\n    )\r\n      writer.uint32(/* id 4, wireType 0 =*/ 32).sint32(message.offsetY)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Shadow message, length delimited. Does not implicitly {@link Shadow.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {IShadow} message Shadow message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Shadow.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Shadow message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Shadow} Shadow\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Shadow.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Shadow()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.color = reader.string()\r\n          break\r\n        case 2:\r\n          message.blur = reader.int32()\r\n          break\r\n        case 3:\r\n          message.offsetX = reader.sint32()\r\n          break\r\n        case 4:\r\n          message.offsetY = reader.sint32()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Shadow message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Shadow} Shadow\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Shadow.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Shadow message.\r\n   * @function verify\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Shadow.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      if (!$util.isString(message.color)) return 'color: string expected'\r\n    if (message.blur != null && message.hasOwnProperty('blur'))\r\n      if (!$util.isInteger(message.blur)) return 'blur: integer expected'\r\n    if (message.offsetX != null && message.hasOwnProperty('offsetX'))\r\n      if (!$util.isInteger(message.offsetX)) return 'offsetX: integer expected'\r\n    if (message.offsetY != null && message.hasOwnProperty('offsetY'))\r\n      if (!$util.isInteger(message.offsetY)) return 'offsetY: integer expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Shadow message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Shadow} Shadow\r\n   */\r\n  Shadow.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Shadow) return object\r\n    let message = new $root.Shadow()\r\n    if (object.color != null) message.color = String(object.color)\r\n    if (object.blur != null) message.blur = object.blur | 0\r\n    if (object.offsetX != null) message.offsetX = object.offsetX | 0\r\n    if (object.offsetY != null) message.offsetY = object.offsetY | 0\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Shadow message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Shadow\r\n   * @static\r\n   * @param {Shadow} message Shadow\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Shadow.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.color = ''\r\n      object.blur = 0\r\n      object.offsetX = 0\r\n      object.offsetY = 0\r\n    }\r\n    if (message.color != null && message.hasOwnProperty('color'))\r\n      object.color = message.color\r\n    if (message.blur != null && message.hasOwnProperty('blur'))\r\n      object.blur = message.blur\r\n    if (message.offsetX != null && message.hasOwnProperty('offsetX'))\r\n      object.offsetX = message.offsetX\r\n    if (message.offsetY != null && message.hasOwnProperty('offsetY'))\r\n      object.offsetY = message.offsetY\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Shadow to JSON.\r\n   * @function toJSON\r\n   * @memberof Shadow\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Shadow.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Shadow\r\n})())\r\n\r\nexport const Style = ($root.Style = (() => {\r\n  /**\r\n   * Properties of a Style.\r\n   * @exports IStyle\r\n   * @interface IStyle\r\n   * @property {IFont|null} [font] Style font\r\n   * @property {IFill|null} [fill] Style fill\r\n   * @property {boolean|null} [useStroke] Style useStroke\r\n   * @property {IFill|null} [stroke] Style stroke\r\n   * @property {boolean|null} [useShadow] Style useShadow\r\n   * @property {IShadow|null} [shadow] Style shadow\r\n   * @property {string|null} [bgColor] Style bgColor\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Style.\r\n   * @exports Style\r\n   * @classdesc Represents a Style.\r\n   * @implements IStyle\r\n   * @constructor\r\n   * @param {IStyle=} [properties] Properties to set\r\n   */\r\n  function Style(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Style font.\r\n   * @member {IFont|null|undefined} font\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.font = null\r\n\r\n  /**\r\n   * Style fill.\r\n   * @member {IFill|null|undefined} fill\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.fill = null\r\n\r\n  /**\r\n   * Style useStroke.\r\n   * @member {boolean} useStroke\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.useStroke = false\r\n\r\n  /**\r\n   * Style stroke.\r\n   * @member {IFill|null|undefined} stroke\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.stroke = null\r\n\r\n  /**\r\n   * Style useShadow.\r\n   * @member {boolean} useShadow\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.useShadow = false\r\n\r\n  /**\r\n   * Style shadow.\r\n   * @member {IShadow|null|undefined} shadow\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.shadow = null\r\n\r\n  /**\r\n   * Style bgColor.\r\n   * @member {string} bgColor\r\n   * @memberof Style\r\n   * @instance\r\n   */\r\n  Style.prototype.bgColor = ''\r\n\r\n  /**\r\n   * Creates a new Style instance using the specified properties.\r\n   * @function create\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle=} [properties] Properties to set\r\n   * @returns {Style} Style instance\r\n   */\r\n  Style.create = function create(properties) {\r\n    return new Style(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Style message. Does not implicitly {@link Style.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle} message Style message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Style.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.font != null && Object.hasOwnProperty.call(message, 'font'))\r\n      $root.Font.encode(\r\n        message.font,\r\n        writer.uint32(/* id 1, wireType 2 =*/ 10).fork(),\r\n      ).ldelim()\r\n    if (message.fill != null && Object.hasOwnProperty.call(message, 'fill'))\r\n      $root.Fill.encode(\r\n        message.fill,\r\n        writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.useStroke != null &&\r\n      Object.hasOwnProperty.call(message, 'useStroke')\r\n    )\r\n      writer.uint32(/* id 3, wireType 0 =*/ 24).bool(message.useStroke)\r\n    if (message.stroke != null && Object.hasOwnProperty.call(message, 'stroke'))\r\n      $root.Fill.encode(\r\n        message.stroke,\r\n        writer.uint32(/* id 4, wireType 2 =*/ 34).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.useShadow != null &&\r\n      Object.hasOwnProperty.call(message, 'useShadow')\r\n    )\r\n      writer.uint32(/* id 5, wireType 0 =*/ 40).bool(message.useShadow)\r\n    if (message.shadow != null && Object.hasOwnProperty.call(message, 'shadow'))\r\n      $root.Shadow.encode(\r\n        message.shadow,\r\n        writer.uint32(/* id 6, wireType 2 =*/ 50).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.bgColor != null &&\r\n      Object.hasOwnProperty.call(message, 'bgColor')\r\n    )\r\n      writer.uint32(/* id 7, wireType 2 =*/ 58).string(message.bgColor)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Style message, length delimited. Does not implicitly {@link Style.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Style\r\n   * @static\r\n   * @param {IStyle} message Style message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Style.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Style message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Style\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Style} Style\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Style.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Style()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.font = $root.Font.decode(reader, reader.uint32())\r\n          break\r\n        case 2:\r\n          message.fill = $root.Fill.decode(reader, reader.uint32())\r\n          break\r\n        case 3:\r\n          message.useStroke = reader.bool()\r\n          break\r\n        case 4:\r\n          message.stroke = $root.Fill.decode(reader, reader.uint32())\r\n          break\r\n        case 5:\r\n          message.useShadow = reader.bool()\r\n          break\r\n        case 6:\r\n          message.shadow = $root.Shadow.decode(reader, reader.uint32())\r\n          break\r\n        case 7:\r\n          message.bgColor = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Style message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Style\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Style} Style\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Style.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Style message.\r\n   * @function verify\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Style.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.font != null && message.hasOwnProperty('font')) {\r\n      let error = $root.Font.verify(message.font)\r\n      if (error) return 'font.' + error\r\n    }\r\n    if (message.fill != null && message.hasOwnProperty('fill')) {\r\n      let error = $root.Fill.verify(message.fill)\r\n      if (error) return 'fill.' + error\r\n    }\r\n    if (message.useStroke != null && message.hasOwnProperty('useStroke'))\r\n      if (typeof message.useStroke !== 'boolean')\r\n        return 'useStroke: boolean expected'\r\n    if (message.stroke != null && message.hasOwnProperty('stroke')) {\r\n      let error = $root.Fill.verify(message.stroke)\r\n      if (error) return 'stroke.' + error\r\n    }\r\n    if (message.useShadow != null && message.hasOwnProperty('useShadow'))\r\n      if (typeof message.useShadow !== 'boolean')\r\n        return 'useShadow: boolean expected'\r\n    if (message.shadow != null && message.hasOwnProperty('shadow')) {\r\n      let error = $root.Shadow.verify(message.shadow)\r\n      if (error) return 'shadow.' + error\r\n    }\r\n    if (message.bgColor != null && message.hasOwnProperty('bgColor'))\r\n      if (!$util.isString(message.bgColor)) return 'bgColor: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Style message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Style} Style\r\n   */\r\n  Style.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Style) return object\r\n    let message = new $root.Style()\r\n    if (object.font != null) {\r\n      if (typeof object.font !== 'object')\r\n        throw TypeError('.Style.font: object expected')\r\n      message.font = $root.Font.fromObject(object.font)\r\n    }\r\n    if (object.fill != null) {\r\n      if (typeof object.fill !== 'object')\r\n        throw TypeError('.Style.fill: object expected')\r\n      message.fill = $root.Fill.fromObject(object.fill)\r\n    }\r\n    if (object.useStroke != null) message.useStroke = Boolean(object.useStroke)\r\n    if (object.stroke != null) {\r\n      if (typeof object.stroke !== 'object')\r\n        throw TypeError('.Style.stroke: object expected')\r\n      message.stroke = $root.Fill.fromObject(object.stroke)\r\n    }\r\n    if (object.useShadow != null) message.useShadow = Boolean(object.useShadow)\r\n    if (object.shadow != null) {\r\n      if (typeof object.shadow !== 'object')\r\n        throw TypeError('.Style.shadow: object expected')\r\n      message.shadow = $root.Shadow.fromObject(object.shadow)\r\n    }\r\n    if (object.bgColor != null) message.bgColor = String(object.bgColor)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Style message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Style\r\n   * @static\r\n   * @param {Style} message Style\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Style.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) {\r\n      object.font = null\r\n      object.fill = null\r\n      object.useStroke = false\r\n      object.stroke = null\r\n      object.useShadow = false\r\n      object.shadow = null\r\n      object.bgColor = ''\r\n    }\r\n    if (message.font != null && message.hasOwnProperty('font'))\r\n      object.font = $root.Font.toObject(message.font, options)\r\n    if (message.fill != null && message.hasOwnProperty('fill'))\r\n      object.fill = $root.Fill.toObject(message.fill, options)\r\n    if (message.useStroke != null && message.hasOwnProperty('useStroke'))\r\n      object.useStroke = message.useStroke\r\n    if (message.stroke != null && message.hasOwnProperty('stroke'))\r\n      object.stroke = $root.Fill.toObject(message.stroke, options)\r\n    if (message.useShadow != null && message.hasOwnProperty('useShadow'))\r\n      object.useShadow = message.useShadow\r\n    if (message.shadow != null && message.hasOwnProperty('shadow'))\r\n      object.shadow = $root.Shadow.toObject(message.shadow, options)\r\n    if (message.bgColor != null && message.hasOwnProperty('bgColor'))\r\n      object.bgColor = message.bgColor\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Style to JSON.\r\n   * @function toJSON\r\n   * @memberof Style\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Style.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Style\r\n})())\r\n\r\nexport const Ui = ($root.Ui = (() => {\r\n  /**\r\n   * Properties of an Ui.\r\n   * @exports IUi\r\n   * @interface IUi\r\n   * @property {string|null} [previewText] Ui previewText\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Ui.\r\n   * @exports Ui\r\n   * @classdesc Represents an Ui.\r\n   * @implements IUi\r\n   * @constructor\r\n   * @param {IUi=} [properties] Properties to set\r\n   */\r\n  function Ui(properties) {\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Ui previewText.\r\n   * @member {string} previewText\r\n   * @memberof Ui\r\n   * @instance\r\n   */\r\n  Ui.prototype.previewText = ''\r\n\r\n  /**\r\n   * Creates a new Ui instance using the specified properties.\r\n   * @function create\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi=} [properties] Properties to set\r\n   * @returns {Ui} Ui instance\r\n   */\r\n  Ui.create = function create(properties) {\r\n    return new Ui(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Ui message. Does not implicitly {@link Ui.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi} message Ui message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Ui.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (\r\n      message.previewText != null &&\r\n      Object.hasOwnProperty.call(message, 'previewText')\r\n    )\r\n      writer.uint32(/* id 1, wireType 2 =*/ 10).string(message.previewText)\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Ui message, length delimited. Does not implicitly {@link Ui.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {IUi} message Ui message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Ui.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes an Ui message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Ui} Ui\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Ui.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Ui()\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.previewText = reader.string()\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes an Ui message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Ui} Ui\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Ui.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies an Ui message.\r\n   * @function verify\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Ui.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.previewText != null && message.hasOwnProperty('previewText'))\r\n      if (!$util.isString(message.previewText))\r\n        return 'previewText: string expected'\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates an Ui message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Ui} Ui\r\n   */\r\n  Ui.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Ui) return object\r\n    let message = new $root.Ui()\r\n    if (object.previewText != null)\r\n      message.previewText = String(object.previewText)\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from an Ui message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Ui\r\n   * @static\r\n   * @param {Ui} message Ui\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Ui.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.defaults) object.previewText = ''\r\n    if (message.previewText != null && message.hasOwnProperty('previewText'))\r\n      object.previewText = message.previewText\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Ui to JSON.\r\n   * @function toJSON\r\n   * @memberof Ui\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Ui.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Ui\r\n})())\r\n\r\nexport const Project = ($root.Project = (() => {\r\n  /**\r\n   * Properties of a Project.\r\n   * @exports IProject\r\n   * @interface IProject\r\n   * @property {number|Long|null} [id] Project id\r\n   * @property {string|null} [name] Project name\r\n   * @property {string|null} [text] Project text\r\n   * @property {Object.<string,IGlyphFont>|null} [glyphs] Project glyphs\r\n   * @property {Array.<IGlyphImage>|null} [glyphImages] Project glyphImages\r\n   * @property {IStyle|null} [style] Project style\r\n   * @property {ILayout|null} [layout] Project layout\r\n   * @property {IMetric|null} [globalAdjustMetric] Project globalAdjustMetric\r\n   * @property {IUi|null} [ui] Project ui\r\n   */\r\n\r\n  /**\r\n   * Constructs a new Project.\r\n   * @exports Project\r\n   * @classdesc Represents a Project.\r\n   * @implements IProject\r\n   * @constructor\r\n   * @param {IProject=} [properties] Properties to set\r\n   */\r\n  function Project(properties) {\r\n    this.glyphs = {}\r\n    this.glyphImages = []\r\n    if (properties)\r\n      for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\r\n        if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]]\r\n  }\r\n\r\n  /**\r\n   * Project id.\r\n   * @member {number|Long} id\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.id = $util.Long ? $util.Long.fromBits(0, 0, false) : 0\r\n\r\n  /**\r\n   * Project name.\r\n   * @member {string} name\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.name = ''\r\n\r\n  /**\r\n   * Project text.\r\n   * @member {string} text\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.text = ''\r\n\r\n  /**\r\n   * Project glyphs.\r\n   * @member {Object.<string,IGlyphFont>} glyphs\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.glyphs = $util.emptyObject\r\n\r\n  /**\r\n   * Project glyphImages.\r\n   * @member {Array.<IGlyphImage>} glyphImages\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.glyphImages = $util.emptyArray\r\n\r\n  /**\r\n   * Project style.\r\n   * @member {IStyle|null|undefined} style\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.style = null\r\n\r\n  /**\r\n   * Project layout.\r\n   * @member {ILayout|null|undefined} layout\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.layout = null\r\n\r\n  /**\r\n   * Project globalAdjustMetric.\r\n   * @member {IMetric|null|undefined} globalAdjustMetric\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.globalAdjustMetric = null\r\n\r\n  /**\r\n   * Project ui.\r\n   * @member {IUi|null|undefined} ui\r\n   * @memberof Project\r\n   * @instance\r\n   */\r\n  Project.prototype.ui = null\r\n\r\n  /**\r\n   * Creates a new Project instance using the specified properties.\r\n   * @function create\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject=} [properties] Properties to set\r\n   * @returns {Project} Project instance\r\n   */\r\n  Project.create = function create(properties) {\r\n    return new Project(properties)\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Project message. Does not implicitly {@link Project.verify|verify} messages.\r\n   * @function encode\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject} message Project message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Project.encode = function encode(message, writer) {\r\n    if (!writer) writer = $Writer.create()\r\n    if (message.id != null && Object.hasOwnProperty.call(message, 'id'))\r\n      writer.uint32(/* id 1, wireType 0 =*/ 8).int64(message.id)\r\n    if (message.name != null && Object.hasOwnProperty.call(message, 'name'))\r\n      writer.uint32(/* id 2, wireType 2 =*/ 18).string(message.name)\r\n    if (message.text != null && Object.hasOwnProperty.call(message, 'text'))\r\n      writer.uint32(/* id 3, wireType 2 =*/ 26).string(message.text)\r\n    if (message.glyphs != null && Object.hasOwnProperty.call(message, 'glyphs'))\r\n      for (\r\n        let keys = Object.keys(message.glyphs), i = 0;\r\n        i < keys.length;\r\n        ++i\r\n      ) {\r\n        writer\r\n          .uint32(/* id 4, wireType 2 =*/ 34)\r\n          .fork()\r\n          .uint32(/* id 1, wireType 2 =*/ 10)\r\n          .string(keys[i])\r\n        $root.GlyphFont.encode(\r\n          message.glyphs[keys[i]],\r\n          writer.uint32(/* id 2, wireType 2 =*/ 18).fork(),\r\n        )\r\n          .ldelim()\r\n          .ldelim()\r\n      }\r\n    if (message.glyphImages != null && message.glyphImages.length)\r\n      for (let i = 0; i < message.glyphImages.length; ++i)\r\n        $root.GlyphImage.encode(\r\n          message.glyphImages[i],\r\n          writer.uint32(/* id 5, wireType 2 =*/ 42).fork(),\r\n        ).ldelim()\r\n    if (message.style != null && Object.hasOwnProperty.call(message, 'style'))\r\n      $root.Style.encode(\r\n        message.style,\r\n        writer.uint32(/* id 6, wireType 2 =*/ 50).fork(),\r\n      ).ldelim()\r\n    if (message.layout != null && Object.hasOwnProperty.call(message, 'layout'))\r\n      $root.Layout.encode(\r\n        message.layout,\r\n        writer.uint32(/* id 7, wireType 2 =*/ 58).fork(),\r\n      ).ldelim()\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      Object.hasOwnProperty.call(message, 'globalAdjustMetric')\r\n    )\r\n      $root.Metric.encode(\r\n        message.globalAdjustMetric,\r\n        writer.uint32(/* id 8, wireType 2 =*/ 66).fork(),\r\n      ).ldelim()\r\n    if (message.ui != null && Object.hasOwnProperty.call(message, 'ui'))\r\n      $root.Ui.encode(\r\n        message.ui,\r\n        writer.uint32(/* id 9, wireType 2 =*/ 74).fork(),\r\n      ).ldelim()\r\n    return writer\r\n  }\r\n\r\n  /**\r\n   * Encodes the specified Project message, length delimited. Does not implicitly {@link Project.verify|verify} messages.\r\n   * @function encodeDelimited\r\n   * @memberof Project\r\n   * @static\r\n   * @param {IProject} message Project message or plain object to encode\r\n   * @param {$protobuf.Writer} [writer] Writer to encode to\r\n   * @returns {$protobuf.Writer} Writer\r\n   */\r\n  Project.encodeDelimited = function encodeDelimited(message, writer) {\r\n    return this.encode(message, writer).ldelim()\r\n  }\r\n\r\n  /**\r\n   * Decodes a Project message from the specified reader or buffer.\r\n   * @function decode\r\n   * @memberof Project\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @param {number} [length] Message length if known beforehand\r\n   * @returns {Project} Project\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Project.decode = function decode(reader, length) {\r\n    if (!(reader instanceof $Reader)) reader = $Reader.create(reader)\r\n    let end = length === undefined ? reader.len : reader.pos + length,\r\n      message = new $root.Project(),\r\n      key,\r\n      value\r\n    while (reader.pos < end) {\r\n      let tag = reader.uint32()\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          message.id = reader.int64()\r\n          break\r\n        case 2:\r\n          message.name = reader.string()\r\n          break\r\n        case 3:\r\n          message.text = reader.string()\r\n          break\r\n        case 4:\r\n          if (message.glyphs === $util.emptyObject) message.glyphs = {}\r\n          let end2 = reader.uint32() + reader.pos\r\n          key = ''\r\n          value = null\r\n          while (reader.pos < end2) {\r\n            let tag2 = reader.uint32()\r\n            switch (tag2 >>> 3) {\r\n              case 1:\r\n                key = reader.string()\r\n                break\r\n              case 2:\r\n                value = $root.GlyphFont.decode(reader, reader.uint32())\r\n                break\r\n              default:\r\n                reader.skipType(tag2 & 7)\r\n                break\r\n            }\r\n          }\r\n          message.glyphs[key] = value\r\n          break\r\n        case 5:\r\n          if (!(message.glyphImages && message.glyphImages.length))\r\n            message.glyphImages = []\r\n          message.glyphImages.push(\r\n            $root.GlyphImage.decode(reader, reader.uint32()),\r\n          )\r\n          break\r\n        case 6:\r\n          message.style = $root.Style.decode(reader, reader.uint32())\r\n          break\r\n        case 7:\r\n          message.layout = $root.Layout.decode(reader, reader.uint32())\r\n          break\r\n        case 8:\r\n          message.globalAdjustMetric = $root.Metric.decode(\r\n            reader,\r\n            reader.uint32(),\r\n          )\r\n          break\r\n        case 9:\r\n          message.ui = $root.Ui.decode(reader, reader.uint32())\r\n          break\r\n        default:\r\n          reader.skipType(tag & 7)\r\n          break\r\n      }\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Decodes a Project message from the specified reader or buffer, length delimited.\r\n   * @function decodeDelimited\r\n   * @memberof Project\r\n   * @static\r\n   * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\r\n   * @returns {Project} Project\r\n   * @throws {Error} If the payload is not a reader or valid buffer\r\n   * @throws {$protobuf.util.ProtocolError} If required fields are missing\r\n   */\r\n  Project.decodeDelimited = function decodeDelimited(reader) {\r\n    if (!(reader instanceof $Reader)) reader = new $Reader(reader)\r\n    return this.decode(reader, reader.uint32())\r\n  }\r\n\r\n  /**\r\n   * Verifies a Project message.\r\n   * @function verify\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Object.<string,*>} message Plain object to verify\r\n   * @returns {string|null} `null` if valid, otherwise the reason why it is not\r\n   */\r\n  Project.verify = function verify(message) {\r\n    if (typeof message !== 'object' || message === null)\r\n      return 'object expected'\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (\r\n        !$util.isInteger(message.id) &&\r\n        !(\r\n          message.id &&\r\n          $util.isInteger(message.id.low) &&\r\n          $util.isInteger(message.id.high)\r\n        )\r\n      )\r\n        return 'id: integer|Long expected'\r\n    if (message.name != null && message.hasOwnProperty('name'))\r\n      if (!$util.isString(message.name)) return 'name: string expected'\r\n    if (message.text != null && message.hasOwnProperty('text'))\r\n      if (!$util.isString(message.text)) return 'text: string expected'\r\n    if (message.glyphs != null && message.hasOwnProperty('glyphs')) {\r\n      if (!$util.isObject(message.glyphs)) return 'glyphs: object expected'\r\n      let key = Object.keys(message.glyphs)\r\n      for (let i = 0; i < key.length; ++i) {\r\n        let error = $root.GlyphFont.verify(message.glyphs[key[i]])\r\n        if (error) return 'glyphs.' + error\r\n      }\r\n    }\r\n    if (message.glyphImages != null && message.hasOwnProperty('glyphImages')) {\r\n      if (!Array.isArray(message.glyphImages))\r\n        return 'glyphImages: array expected'\r\n      for (let i = 0; i < message.glyphImages.length; ++i) {\r\n        let error = $root.GlyphImage.verify(message.glyphImages[i])\r\n        if (error) return 'glyphImages.' + error\r\n      }\r\n    }\r\n    if (message.style != null && message.hasOwnProperty('style')) {\r\n      let error = $root.Style.verify(message.style)\r\n      if (error) return 'style.' + error\r\n    }\r\n    if (message.layout != null && message.hasOwnProperty('layout')) {\r\n      let error = $root.Layout.verify(message.layout)\r\n      if (error) return 'layout.' + error\r\n    }\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      message.hasOwnProperty('globalAdjustMetric')\r\n    ) {\r\n      let error = $root.Metric.verify(message.globalAdjustMetric)\r\n      if (error) return 'globalAdjustMetric.' + error\r\n    }\r\n    if (message.ui != null && message.hasOwnProperty('ui')) {\r\n      let error = $root.Ui.verify(message.ui)\r\n      if (error) return 'ui.' + error\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * Creates a Project message from a plain object. Also converts values to their respective internal types.\r\n   * @function fromObject\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Object.<string,*>} object Plain object\r\n   * @returns {Project} Project\r\n   */\r\n  Project.fromObject = function fromObject(object) {\r\n    if (object instanceof $root.Project) return object\r\n    let message = new $root.Project()\r\n    if (object.id != null)\r\n      if ($util.Long)\r\n        (message.id = $util.Long.fromValue(object.id)).unsigned = false\r\n      else if (typeof object.id === 'string')\r\n        message.id = parseInt(object.id, 10)\r\n      else if (typeof object.id === 'number') message.id = object.id\r\n      else if (typeof object.id === 'object')\r\n        message.id = new $util.LongBits(\r\n          object.id.low >>> 0,\r\n          object.id.high >>> 0,\r\n        ).toNumber()\r\n    if (object.name != null) message.name = String(object.name)\r\n    if (object.text != null) message.text = String(object.text)\r\n    if (object.glyphs) {\r\n      if (typeof object.glyphs !== 'object')\r\n        throw TypeError('.Project.glyphs: object expected')\r\n      message.glyphs = {}\r\n      for (let keys = Object.keys(object.glyphs), i = 0; i < keys.length; ++i) {\r\n        if (typeof object.glyphs[keys[i]] !== 'object')\r\n          throw TypeError('.Project.glyphs: object expected')\r\n        message.glyphs[keys[i]] = $root.GlyphFont.fromObject(\r\n          object.glyphs[keys[i]],\r\n        )\r\n      }\r\n    }\r\n    if (object.glyphImages) {\r\n      if (!Array.isArray(object.glyphImages))\r\n        throw TypeError('.Project.glyphImages: array expected')\r\n      message.glyphImages = []\r\n      for (let i = 0; i < object.glyphImages.length; ++i) {\r\n        if (typeof object.glyphImages[i] !== 'object')\r\n          throw TypeError('.Project.glyphImages: object expected')\r\n        message.glyphImages[i] = $root.GlyphImage.fromObject(\r\n          object.glyphImages[i],\r\n        )\r\n      }\r\n    }\r\n    if (object.style != null) {\r\n      if (typeof object.style !== 'object')\r\n        throw TypeError('.Project.style: object expected')\r\n      message.style = $root.Style.fromObject(object.style)\r\n    }\r\n    if (object.layout != null) {\r\n      if (typeof object.layout !== 'object')\r\n        throw TypeError('.Project.layout: object expected')\r\n      message.layout = $root.Layout.fromObject(object.layout)\r\n    }\r\n    if (object.globalAdjustMetric != null) {\r\n      if (typeof object.globalAdjustMetric !== 'object')\r\n        throw TypeError('.Project.globalAdjustMetric: object expected')\r\n      message.globalAdjustMetric = $root.Metric.fromObject(\r\n        object.globalAdjustMetric,\r\n      )\r\n    }\r\n    if (object.ui != null) {\r\n      if (typeof object.ui !== 'object')\r\n        throw TypeError('.Project.ui: object expected')\r\n      message.ui = $root.Ui.fromObject(object.ui)\r\n    }\r\n    return message\r\n  }\r\n\r\n  /**\r\n   * Creates a plain object from a Project message. Also converts values to other types if specified.\r\n   * @function toObject\r\n   * @memberof Project\r\n   * @static\r\n   * @param {Project} message Project\r\n   * @param {$protobuf.IConversionOptions} [options] Conversion options\r\n   * @returns {Object.<string,*>} Plain object\r\n   */\r\n  Project.toObject = function toObject(message, options) {\r\n    if (!options) options = {}\r\n    let object = {}\r\n    if (options.arrays || options.defaults) object.glyphImages = []\r\n    if (options.objects || options.defaults) object.glyphs = {}\r\n    if (options.defaults) {\r\n      if ($util.Long) {\r\n        let long = new $util.Long(0, 0, false)\r\n        object.id =\r\n          options.longs === String\r\n            ? long.toString()\r\n            : options.longs === Number\r\n            ? long.toNumber()\r\n            : long\r\n      } else object.id = options.longs === String ? '0' : 0\r\n      object.name = ''\r\n      object.text = ''\r\n      object.style = null\r\n      object.layout = null\r\n      object.globalAdjustMetric = null\r\n      object.ui = null\r\n    }\r\n    if (message.id != null && message.hasOwnProperty('id'))\r\n      if (typeof message.id === 'number')\r\n        object.id = options.longs === String ? String(message.id) : message.id\r\n      else\r\n        object.id =\r\n          options.longs === String\r\n            ? $util.Long.prototype.toString.call(message.id)\r\n            : options.longs === Number\r\n            ? new $util.LongBits(\r\n                message.id.low >>> 0,\r\n                message.id.high >>> 0,\r\n              ).toNumber()\r\n            : message.id\r\n    if (message.name != null && message.hasOwnProperty('name'))\r\n      object.name = message.name\r\n    if (message.text != null && message.hasOwnProperty('text'))\r\n      object.text = message.text\r\n    let keys2\r\n    if (message.glyphs && (keys2 = Object.keys(message.glyphs)).length) {\r\n      object.glyphs = {}\r\n      for (let j = 0; j < keys2.length; ++j)\r\n        object.glyphs[keys2[j]] = $root.GlyphFont.toObject(\r\n          message.glyphs[keys2[j]],\r\n          options,\r\n        )\r\n    }\r\n    if (message.glyphImages && message.glyphImages.length) {\r\n      object.glyphImages = []\r\n      for (let j = 0; j < message.glyphImages.length; ++j)\r\n        object.glyphImages[j] = $root.GlyphImage.toObject(\r\n          message.glyphImages[j],\r\n          options,\r\n        )\r\n    }\r\n    if (message.style != null && message.hasOwnProperty('style'))\r\n      object.style = $root.Style.toObject(message.style, options)\r\n    if (message.layout != null && message.hasOwnProperty('layout'))\r\n      object.layout = $root.Layout.toObject(message.layout, options)\r\n    if (\r\n      message.globalAdjustMetric != null &&\r\n      message.hasOwnProperty('globalAdjustMetric')\r\n    )\r\n      object.globalAdjustMetric = $root.Metric.toObject(\r\n        message.globalAdjustMetric,\r\n        options,\r\n      )\r\n    if (message.ui != null && message.hasOwnProperty('ui'))\r\n      object.ui = $root.Ui.toObject(message.ui, options)\r\n    return object\r\n  }\r\n\r\n  /**\r\n   * Converts this Project to JSON.\r\n   * @function toJSON\r\n   * @memberof Project\r\n   * @instance\r\n   * @returns {Object.<string,*>} JSON object\r\n   */\r\n  Project.prototype.toJSON = function toJSON() {\r\n    return this.constructor.toObject(this, $protobuf.util.toJSONOptions)\r\n  }\r\n\r\n  return Project\r\n})())\r\n\r\nexport { $root as default }\r\n","function getVersionNumber(version: string | string[] | number[]): number {\r\n  if (typeof version === 'string') {\r\n    version = version.split('.')\r\n  }\r\n\r\n  if (!Array.isArray(version)) return 0\r\n\r\n  version = [...version] as number[]\r\n\r\n  return version\r\n    .reverse()\r\n    .reduce<number>(\r\n      (previousValue: number, currentValue: number, currentIndex: number) => {\r\n        return (\r\n          previousValue + Number(currentValue) * Math.pow(1000, currentIndex)\r\n        )\r\n      },\r\n      0,\r\n    )\r\n}\r\n\r\nexport default getVersionNumber\r\n","import { IProject, IGradientColor } from 'src/proto'\r\n\r\ntype TransProject = (project: IProject) => IProject\r\ninterface VersionMap {\r\n  [key: number]: TransProject\r\n}\r\n\r\nfunction f1000000t1000001(project: IProject) {\r\n  project.layout = { ...project.layout }\r\n  project.layout.width = 1024\r\n  project.layout.height = 1024\r\n  project.layout.auto = true\r\n  project.layout.fixedSize = false\r\n  return project\r\n}\r\n\r\nfunction f1000001t1000002(project: IProject) {\r\n  function fixOffset(list: IGradientColor[]) {\r\n    const len = list.length - 1\r\n    list.forEach((item, idx) => {\r\n      item.offset = (1 / len) * idx\r\n    })\r\n  }\r\n  if (\r\n    project?.style?.fill?.gradient?.palette &&\r\n    project.style.fill.gradient.palette.length > 0\r\n  ) {\r\n    fixOffset(project.style.fill.gradient.palette)\r\n  }\r\n\r\n  if (\r\n    project?.style?.stroke?.gradient?.palette &&\r\n    project.style.stroke.gradient.palette.length > 0\r\n  ) {\r\n    fixOffset(project.style.stroke.gradient.palette)\r\n  }\r\n\r\n  return project\r\n}\r\n\r\nconst obj: VersionMap = {\r\n  1000000: f1000000t1000001,\r\n  1000001: f1000001t1000002,\r\n}\r\n\r\nconst verions: (keyof VersionMap)[] = Object.keys(obj)\r\n  .map((verion) => Number(verion))\r\n  .sort()\r\n\r\nfunction updateOldProject(project: IProject, version: number): IProject {\r\n  verions.forEach((v) => {\r\n    if (version <= v && obj[v]) obj[v](project)\r\n  })\r\n  return project\r\n}\r\n\r\nexport default updateOldProject\r\n","import { Project, Font } from 'src/store'\r\nimport { Project as ProjectProto, IProject } from 'src/proto'\r\nimport { Project as Project1000001 } from 'src/proto/1.0.1'\r\nimport getVersionNumber from 'src/utils/getVersionNumber'\r\nimport updateOldProject from './updateOldProject'\r\nimport prefix from './prefix'\r\n\r\ninterface ProtoVersionMap {\r\n  [key: number]: typeof ProjectProto\r\n}\r\n\r\nconst oldDecodeProto: ProtoVersionMap = {\r\n  1000001: Project1000001,\r\n}\r\n\r\nfunction toOriginBuffer(protoProject: IProject): Project {\r\n  const project = { ...protoProject }\r\n  const map = new Map()\r\n\r\n  // font\r\n  if (project?.style?.font?.font) {\r\n    project.style.font = {\r\n      ...(project.style.font as Font),\r\n      font: project.style.font.font.slice().buffer as Uint8Array,\r\n    }\r\n  }\r\n\r\n  // images\r\n  if (project?.glyphImages) {\r\n    project.glyphImages.forEach((glyphImage) => {\r\n      if (glyphImage.buffer) {\r\n        glyphImage.buffer = glyphImage.buffer.slice().buffer as Uint8Array\r\n      }\r\n      if (glyphImage.kerning) {\r\n        const imgKerning = new Map()\r\n        Object.keys(glyphImage.kerning).forEach((key) => {\r\n          if (glyphImage && glyphImage.kerning && glyphImage.kerning[key])\r\n            imgKerning.set(key, glyphImage.kerning[key] || 0)\r\n        })\r\n      }\r\n    })\r\n\r\n    // project.glyphImages = new Set(project.glyphImages)\r\n  }\r\n\r\n  if (project?.glyphs) {\r\n    Object.keys(project.glyphs).forEach((k) => {\r\n      if (project && project.glyphs && project.glyphs[k]) {\r\n        const gl = project.glyphs[k]\r\n        const glyphKerning = new Map()\r\n        if (gl && gl.kerning) {\r\n          Object.keys(gl.kerning).forEach((key) => {\r\n            if (gl.kerning) glyphKerning.set(key, gl.kerning[key] || 0)\r\n          })\r\n        }\r\n        map.set(k, { ...gl, kerning: glyphKerning })\r\n      }\r\n    })\r\n  }\r\n\r\n  // fill\r\n  if (project?.style?.fill?.patternTexture?.buffer) {\r\n    project.style.fill.patternTexture.buffer = project.style.fill.patternTexture.buffer.slice()\r\n      .buffer as Uint8Array\r\n  }\r\n\r\n  // stroke\r\n  if (project?.style?.stroke?.patternTexture?.buffer) {\r\n    project.style.stroke.patternTexture.buffer = project.style.stroke.patternTexture.buffer.slice()\r\n      .buffer as Uint8Array\r\n  }\r\n\r\n  return ({\r\n    ...project,\r\n    glyphs: map,\r\n    glyphImages: project.glyphImages || [],\r\n  } as unknown) as Project\r\n}\r\n\r\nexport default function decodeProject(buffer: ArrayBuffer): Project {\r\n  if (buffer.byteLength < 17) throw new Error('error')\r\n  const perfixBuffer = prefix()\r\n  const perfixName = perfixBuffer.slice(0, perfixBuffer.byteLength - 3)\r\n  // const latestVersionBuffer = perfixBuffer.slice(perfixBuffer.byteLength - 3)\r\n  const u8 = new Uint8Array(buffer)\r\n  const filePrefix = u8.slice(0, perfixBuffer.byteLength)\r\n  const versionBuffer = filePrefix.slice(filePrefix.byteLength - 3)\r\n  let isSbf = true\r\n  perfixName.forEach((e, i) => {\r\n    if (filePrefix[i] !== e) isSbf = false\r\n  })\r\n  if (!isSbf) throw new Error('unknow file')\r\n  // const currentVersion = getVersionNumber(Array.from(latestVersionBuffer))\r\n  const fileVersion = getVersionNumber(Array.from(versionBuffer))\r\n\r\n  const decodeProto = oldDecodeProto[fileVersion] || ProjectProto\r\n  const project = decodeProto.decode(u8.slice(filePrefix.byteLength))\r\n\r\n  return toOriginBuffer(updateOldProject(project, fileVersion))\r\n}\r\n","import React, { useState, useEffect, FunctionComponent } from 'react'\nimport hotkeys from 'hotkeys-js'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport { useProject } from 'src/store/hooks'\nimport GridInput from 'src/app/components/GridInput/GridInput'\n\ninterface ExportButtonProps {\n  className?: string\n  onSave?: (config: { ext: string; type: string }) => void\n}\n\nconst ExportButton: FunctionComponent<ExportButtonProps> = (\n  props: ExportButtonProps,\n) => {\n  const { className, onSave } = props\n  const project = useProject()\n  const { name } = project\n  const [open, setOpen] = useState(false)\n  const [val, setVal] = useState(0)\n  const [list] = useState([\n    { id: 0, ext: 'fnt', type: 'xml' },\n    { id: 1, ext: 'xml', type: 'xml' },\n    { id: 2, ext: 'fnt', type: 'text' },\n    { id: 3, ext: 'text', type: 'text' },\n  ])\n\n  const handleClickOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleChange = (\n    e: React.ChangeEvent<{\n      name?: string | undefined\n      value: unknown\n    }>,\n  ) => {\n    setVal(e.target.value as number)\n  }\n  const handleSave = () => {\n    if (onSave)\n      onSave({\n        ext: list[val].ext,\n        type: list[val].type,\n      })\n    handleClose()\n  }\n\n  useEffect(() => {\n    hotkeys.unbind('ctrl+shift+s,command+shift+s')\n    hotkeys('ctrl+shift+s,command+shift+s', handleClickOpen)\n    return () => {\n      hotkeys.unbind('ctrl+shift+s,command+shift+s')\n    }\n  }, [])\n\n  return (\n    <>\n      <Button\n        className={className}\n        title='Export BitmapFont (⌘⇧ + S)'\n        onClick={handleClickOpen}\n      >\n        Export\n      </Button>\n      <Dialog onClose={handleClose} open={open} fullWidth maxWidth='xs'>\n        <DialogTitle>Export Config</DialogTitle>\n        <DialogContent dividers>\n          <GridInput before='Export Type:' childrenWidth={8}>\n            <Select displayEmpty value={val} onChange={handleChange}>\n              {list.map((item) => (\n                <MenuItem value={item.id} key={item.id}>\n                  {`${name}.${item.ext} (BMFont ${item.type.toUpperCase()})`}\n                </MenuItem>\n              ))}\n            </Select>\n          </GridInput>\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={handleSave} color='default'>\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n\nexport default ExportButton\n","import React, {\r\n  FunctionComponent,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useRef,\r\n} from 'react'\r\nimport { toJS } from 'mobx'\r\nimport hotkeys from 'hotkeys-js'\r\nimport { observer } from 'mobx-react'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\nimport GitHubIcon from '@material-ui/icons/GitHub'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\n\r\nimport { useWorkspace } from 'src/store/hooks'\r\n\r\nimport readFile from 'src/utils/readFile'\r\n\r\nimport outputFile from 'src/file/outputFile'\r\nimport saveProject from 'src/file/saveProject'\r\nimport decodeProject from 'src/file/decodeProject'\r\n\r\nimport ExportButton from './ExportButton'\r\n\r\nconst useStyles = makeStyles(({ zIndex, spacing }) =>\r\n  createStyles({\r\n    root: {\r\n      position: 'relative',\r\n      zIndex: zIndex.appBar,\r\n    },\r\n    appName: {\r\n      fontSize: '1.25rem',\r\n      fontWeight: 'bolder',\r\n      marginRight: spacing(4),\r\n    },\r\n    appNameSup: {\r\n      fontWeight: 'lighter',\r\n      fontSize: '0.5em',\r\n      marginLeft: '0.5rem',\r\n    },\r\n    btn: {\r\n      textTransform: 'none',\r\n    },\r\n  }),\r\n)\r\n\r\nconst TitleBar: FunctionComponent<unknown> = () => {\r\n  const classes = useStyles()\r\n  const [toast, setToast] = useState<{\r\n    open: boolean\r\n    component: React.ReactNode | null\r\n  }>({ open: false, component: null })\r\n  const worckSpace = useWorkspace()\r\n  const labelRef = useRef<HTMLLabelElement>(null)\r\n  const { addProject } = worckSpace\r\n  const project = worckSpace.currentProject\r\n  const handleLoad = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    if (e.target?.files && e.target.files[0]) {\r\n      readFile(e.target.files[0]).then((buffer) => {\r\n        try {\r\n          if (buffer instanceof ArrayBuffer) addProject(decodeProject(buffer))\r\n        } catch (err) {\r\n          setToast({\r\n            open: true,\r\n            component: (\r\n              <Box display='flex' alignItems='center'>\r\n                <ErrorIcon />\r\n                {`${err.toString()}`}\r\n              </Box>\r\n            ),\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleNewProject = useCallback(\r\n    (e: { preventDefault(): void }) => {\r\n      e.preventDefault()\r\n      addProject()\r\n      return false\r\n    },\r\n    [addProject],\r\n  )\r\n\r\n  const handleSaveProject = useCallback(\r\n    (e: { preventDefault(): void }) => {\r\n      e.preventDefault()\r\n      saveProject(toJS(project))\r\n      return false\r\n    },\r\n    [project],\r\n  )\r\n\r\n  const handleSaveBitmapFont = useCallback(\r\n    (config) => {\r\n      outputFile(project, config)\r\n    },\r\n    [project],\r\n  )\r\n\r\n  const handleOpenProject = useCallback((e: { preventDefault(): void }) => {\r\n    e.preventDefault()\r\n    if (labelRef.current) labelRef.current.click()\r\n    return false\r\n  }, [])\r\n\r\n  const handleToastClose = () => {\r\n    setToast((t) => {\r\n      return {\r\n        ...t,\r\n        open: false,\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    hotkeys.unbind('alt+n,control+n')\r\n    hotkeys.unbind('ctrl+s')\r\n    hotkeys.unbind('ctrl+o,command+o')\r\n    hotkeys('alt+n,control+n', handleNewProject)\r\n    hotkeys('ctrl+s', handleSaveProject)\r\n    hotkeys('ctrl+o,command+o', handleOpenProject)\r\n    return () => {\r\n      hotkeys.unbind('alt+n,control+n')\r\n      hotkeys.unbind('ctrl+s')\r\n      hotkeys.unbind('ctrl+o,command+o')\r\n    }\r\n  }, [handleNewProject, handleOpenProject, handleSaveProject])\r\n\r\n  return (\r\n    <Box\r\n      className={classes.root}\r\n      bgcolor='background.titleBar'\r\n      paddingX={4}\r\n      display='flex'\r\n      alignItems='center'\r\n    >\r\n      {/* lowing modifiers: ⇧, shift, option, ⌥, alt, ctrl, control, command, and ⌘. */}\r\n      <Typography variant='h1' className={classes.appName}>\r\n        SnowB BMF\r\n        <sup className={classes.appNameSup}>BETA</sup>\r\n      </Typography>\r\n      <Box flex='auto' paddingX={4}>\r\n        <Button\r\n          className={classes.btn}\r\n          title='New Project (ALT + N)'\r\n          onClick={handleNewProject}\r\n        >\r\n          New\r\n        </Button>\r\n        <Button\r\n          className={classes.btn}\r\n          title='Open Project (⌘ + O)'\r\n          component='label'\r\n          ref={labelRef}\r\n        >\r\n          Open\r\n          <input type='file' onChange={handleLoad} accept='.sbf' hidden />\r\n        </Button>\r\n        <Button\r\n          className={classes.btn}\r\n          title='Save Project (⌘ + S)'\r\n          onClick={handleSaveProject}\r\n        >\r\n          Save\r\n        </Button>\r\n        <ExportButton className={classes.btn} onSave={handleSaveBitmapFont} />\r\n      </Box>\r\n      <IconButton\r\n        size='small'\r\n        component='a'\r\n        href='https://github.com/SilenceLeo/snowb-bmf'\r\n        target='_blank'\r\n        title='GitHub'\r\n      >\r\n        <GitHubIcon />\r\n      </IconButton>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n        open={toast.open}\r\n        onClose={handleToastClose}\r\n        message={toast.component}\r\n      />\r\n    </Box>\r\n  )\r\n}\r\nexport default observer(TitleBar)\r\n","import { saveAs } from 'file-saver'\r\nimport { Project } from 'src/store'\r\nimport { Project as ProjectProto, IProject } from 'src/proto'\r\n\r\nimport prefix from './prefix'\r\n\r\nexport default function saveProject(project: Project): void {\r\n  // font\r\n  if (project.style.font.font) {\r\n    project.style.font.font = new Uint8Array(project.style.font.font)\r\n  }\r\n\r\n  // images\r\n  project.glyphImages.forEach((glyphImage) => {\r\n    if (glyphImage.buffer) glyphImage.buffer = new Uint8Array(glyphImage.buffer)\r\n  })\r\n\r\n  // fill\r\n  if (project.style.fill.patternTexture.buffer) {\r\n    project.style.fill.patternTexture.buffer = new Uint8Array(\r\n      project.style.fill.patternTexture.buffer,\r\n    )\r\n  }\r\n\r\n  // stroke\r\n  if (project.style.stroke.patternTexture.buffer) {\r\n    project.style.stroke.patternTexture.buffer = new Uint8Array(\r\n      project.style.stroke.patternTexture.buffer,\r\n    )\r\n  }\r\n\r\n  const protoProject = ProjectProto.create((project as unknown) as IProject)\r\n  const projectBuffer = ProjectProto.encode(protoProject).finish()\r\n  const perfixBuffer = prefix()\r\n\r\n  const buffer = new Uint8Array(\r\n    perfixBuffer.byteLength + projectBuffer.byteLength,\r\n  )\r\n  buffer.set(perfixBuffer, 0)\r\n  buffer.set(projectBuffer, perfixBuffer.byteLength)\r\n\r\n  saveAs(new Blob([buffer]), `${project.name}.sbf`)\r\n}\r\n","import JSZip from 'jszip'\r\nimport { saveAs } from 'file-saver'\r\nimport { Project } from 'src/store'\r\nimport getXmlString from './getXmlString'\r\nimport getLuaString from './getLuaString'\r\nimport getTextString from './getTextString'\r\nimport toOutputInfo from './toOutputInfo'\r\n\r\nexport default function outputFile(\r\n  project: Project,\r\n  config = {\r\n    type: 'xml',\r\n    ext: 'fnt',\r\n  },\r\n): void {\r\n  const zip = new JSZip()\r\n  const { packCanvas, name } = project\r\n  const bmfont = toOutputInfo(project)\r\n  let text = ''\r\n\r\n  switch (config.type) {\r\n    case 'text':\r\n      text = getTextString(bmfont)\r\n      break\r\n    case 'lua':\r\n      text = getLuaString(bmfont)\r\n      break\r\n    default:\r\n      text = getXmlString(bmfont)\r\n      break\r\n  }\r\n\r\n  zip.file(`${name}.${config.ext}`, text)\r\n  if (packCanvas) {\r\n    packCanvas.toBlob((blob) => {\r\n      if (blob) zip.file(`${name}.png`, blob)\r\n      zip\r\n        .generateAsync({ type: 'blob' })\r\n        .then((content) => saveAs(content, `${name}.zip`))\r\n    })\r\n  }\r\n}\r\n","import React, { FunctionComponent } from 'react'\nimport { SketchPicker, ColorResult } from 'react-color'\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles'\nimport Popper, { PopperPlacementType } from '@material-ui/core/Popper'\n\nexport interface ChildrenProps {\n  open: boolean\n  color: string\n  placement: PopperPlacementType\n  anchorEl: HTMLDivElement | null\n  onChange(color: string): void\n}\n\nconst usePickerStyle = () => {\n  const theme = useTheme()\n  const { palette } = theme\n\n  if (palette.type === 'light') return {}\n\n  return {\n    default: {\n      picker: {\n        background: palette.background.titleBar,\n        shadow: theme.shadows[24],\n      },\n      alpha: {\n        background: '#fff',\n      },\n      color: {\n        background: '#fff',\n      },\n    },\n  }\n}\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    picker: {\n      '& *': {\n        color: `${palette.text.primary} !important`,\n        borderColor: `${palette.divider} !important`,\n      },\n      '& input': {\n        background: 'none',\n        color: `${palette.text.primary} !important`,\n        boxShadow: `none !important`,\n        border: `1px solid ${palette.divider} !important`,\n      },\n    },\n  }),\n)\n\nconst WrappedSketchPicker: FunctionComponent<Partial<ChildrenProps>> = (\n  props: Partial<ChildrenProps>,\n) => {\n  const { open, anchorEl, color, onChange, placement } = props\n  const classes = useStyles()\n  const pickerStyle = usePickerStyle()\n  return (\n    <Popper\n      open={!!open}\n      anchorEl={anchorEl}\n      placement={placement || 'bottom'}\n      style={{ zIndex: 999999 }}\n    >\n      <SketchPicker\n        color={color}\n        styles={pickerStyle}\n        className={classes.picker}\n        onChange={({ rgb }: ColorResult) => {\n          if (onChange)\n            onChange(\n              `rgba(${rgb.r},${rgb.g},${rgb.b},${\n                typeof rgb.a === 'undefined' ? 1 : rgb.a\n              })`,\n            )\n        }}\n      />\n    </Popper>\n  )\n}\n\nexport default WrappedSketchPicker\n","import React, { FunctionComponent, useRef, useState } from 'react'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\n\nimport WrappedSketchPicker from '../WrappedSketchPicker'\n\nexport interface ColorInputProps {\n  color?: string\n  onChange?: (color: string) => void\n}\n\nconst useStyles = makeStyles(({ palette, bgPixel }: Theme) =>\n  createStyles({\n    root: {\n      overflow: 'hidden',\n    },\n    swatch: {\n      ...bgPixel,\n      display: 'inline-block',\n      cursor: 'pointer',\n    },\n    color: {\n      width: '46px',\n      height: '24px',\n      border: `5px solid ${palette.primary.main}`,\n      backgroundColor: (props: ColorInputProps) => props.color || '',\n    },\n  }),\n)\n\nconst ColorInput: FunctionComponent<ColorInputProps> = (\n  props: ColorInputProps,\n) => {\n  const { color, onChange } = props\n  const classes = useStyles(props)\n  const anchorEl = useRef(null)\n  const [open, setOpen] = useState(false)\n\n  return (\n    <ClickAwayListener\n      mouseEvent='onMouseDown'\n      onClickAway={() => setOpen(false)}\n    >\n      <div aria-hidden className={classes.swatch} ref={anchorEl}>\n        <div\n          aria-hidden\n          className={classes.color}\n          onClick={() => setOpen(!open)}\n        />\n        <WrappedSketchPicker\n          open={open}\n          anchorEl={anchorEl.current}\n          color={color || '#000000'}\n          onChange={onChange}\n        />\n      </div>\n    </ClickAwayListener>\n  )\n}\n\nexport default ColorInput\n","import React, { FunctionComponent } from 'react'\n\nimport GridInput from 'src/app/components/GridInput'\nimport ColorInput from 'src/app/components/ColorInput'\n\ninterface FormColorProps {\n  color: string\n  onChange(color: string): void\n}\n\nconst FormColor: FunctionComponent<FormColorProps> = (\n  props: FormColorProps,\n) => {\n  const { color, onChange } = props\n\n  return (\n    <GridInput before='Color:' childrenWidth={3}>\n      <ColorInput color={color} onChange={onChange} />\n    </GridInput>\n  )\n}\n\nexport default FormColor\n","import React, {\n  FunctionComponent,\n  DetailedHTMLProps,\n  HTMLAttributes,\n} from 'react'\nimport clsx from 'clsx'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\n\ninterface ColorStopPorps\n  extends DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n  left?: string | number\n  top?: string | number\n  color: string\n  isActive: boolean\n}\n\nconst useStyles = makeStyles(({ bgPixel, palette }: Theme) =>\n  createStyles({\n    root: {\n      ...bgPixel,\n      width: '12px',\n      height: '12px',\n      border: `solid ${palette.primary.main}`,\n      borderWidth: '0 1px 1px',\n      position: 'absolute',\n      cursor: 'pointer',\n      marginLeft: '-6px',\n      left: (props) => props.left || 0,\n      zIndex: (props) => (props.isActive ? 2 : 1),\n      '&:before,&:after': {\n        position: 'absolute',\n        content: '\"\"',\n        width: 0,\n        height: 0,\n        borderStyle: 'solid',\n        left: '0',\n      },\n      '&:before': {\n        top: '-6px',\n        left: '-1px',\n        borderWidth: '0 6px 6px 6px',\n        borderColor: `transparent transparent ${palette.primary.dark} transparent`,\n      },\n      '&:after': {\n        top: '-5px',\n        borderWidth: '0 5px 5px 5px',\n        borderColor: (props) => {\n          const activeColor =\n            palette.type === 'dark'\n              ? palette.common.white\n              : palette.common.black\n\n          return `transparent transparent ${\n            props.isActive ? activeColor : palette.grey[600]\n          } transparent`\n        },\n      },\n    },\n    color: {\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n      backgroundColor: ({ color }: ColorStopPorps) => color || 'transparent',\n    },\n  }),\n)\n\nconst ColorStop: FunctionComponent<ColorStopPorps> = (\n  props: ColorStopPorps,\n) => {\n  const { left, top, color, isActive, className, ...divProps } = props\n  const classes = useStyles({ left, top, color, isActive })\n\n  return (\n    <div className={clsx(classes.root, className)} {...divProps}>\n      <div className={classes.color} />\n    </div>\n  )\n}\n\nexport default ColorStop\n","import React, {\n  FunctionComponent,\n  useCallback,\n  useRef,\n  MutableRefObject,\n  useState,\n  useEffect,\n} from 'react'\nimport clsx from 'clsx'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport ColorStop from './ColorStop'\n\nexport interface AddPaletteItem {\n  offset: number\n  color: string\n}\n\nexport interface PaletteItem extends AddPaletteItem {\n  id: number\n  offset: number\n  color: string\n}\n\ninterface ColorStopsHolderProps {\n  className?: string\n  palette: PaletteItem[]\n  activeId?: number\n  onAdd(offset: number): void\n  onUpdate(paletteItem: Partial<AddPaletteItem>, isDelete?: boolean): void\n  onSelect(id?: number): void\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      width: '100%',\n      height: '17px',\n      position: 'relative',\n      cursor: 'crosshair',\n    },\n  }),\n)\n\nconst ColorStopsHolder: FunctionComponent<ColorStopsHolderProps> = (\n  props: ColorStopsHolderProps,\n) => {\n  const { className, palette, activeId, onAdd, onUpdate, onSelect } = props\n  const classes = useStyles(props)\n  const [width, setWidth] = useState(0)\n  const [startPoint, setStartPoint] = useState({ x: 0, y: 0, offset: 0 })\n  const [isDragging, setIsDragging] = useState(false)\n  const rootRef: MutableRefObject<HTMLDivElement | null> = useRef(null)\n\n  useEffect(() => {\n    if (rootRef.current) {\n      setWidth(rootRef.current.clientWidth)\n    }\n  }, [rootRef])\n\n  const handleAddPalette = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ) => {\n    const target = rootRef.current\n    if (!target || e.buttons !== 1) return\n    const { left } = target.getBoundingClientRect()\n    const offset = (e.clientX - left) / width\n    onAdd(offset)\n    setIsDragging(true)\n    setStartPoint({ x: e.clientX, y: e.clientY, offset })\n  }\n\n  const handleMouseDown = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    paletteItem: PaletteItem,\n  ) => {\n    if (e.buttons !== 1) return\n    e.preventDefault()\n    e.stopPropagation()\n    setStartPoint({ x: e.clientX, y: e.clientY, offset: paletteItem.offset })\n    setIsDragging(true)\n    onSelect(paletteItem.id)\n  }\n\n  const handleMouseMove = useCallback(\n    (e: MouseEvent) => {\n      if (!isDragging || !activeId) return\n      if (e.buttons !== 1) {\n        setIsDragging(false)\n        return\n      }\n      const idx = palette.findIndex(\n        (paletteItem) => paletteItem.id === activeId,\n      )\n\n      if (idx < 0) return\n      const newPalette = [...palette]\n\n      if (Math.abs(e.clientY - startPoint.y) > 50) {\n        onUpdate(newPalette[idx], true)\n        return\n      }\n\n      const paletteItem = newPalette[idx]\n      const offset = Math.min(\n        Math.max((e.clientX - startPoint.x) / width + startPoint.offset, 0),\n        1,\n      )\n      newPalette[idx] = { ...paletteItem, offset }\n      onUpdate({ offset })\n    },\n    [\n      activeId,\n      isDragging,\n      onUpdate,\n      palette,\n      startPoint.offset,\n      startPoint.x,\n      startPoint.y,\n      width,\n    ],\n  )\n\n  const handleMouseUp = useCallback((e: MouseEvent) => {\n    e.stopPropagation()\n    e.preventDefault()\n    setIsDragging(false)\n  }, [])\n\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove)\n      window.addEventListener('mouseup', handleMouseUp)\n    } else {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n  }, [handleMouseMove, handleMouseUp, isDragging])\n\n  return (\n    <div\n      aria-hidden\n      ref={rootRef}\n      className={clsx(classes.root, className)}\n      onMouseDown={handleAddPalette}\n    >\n      {palette.map((paletteItem) => (\n        <ColorStop\n          key={paletteItem.id}\n          left={width * paletteItem.offset}\n          color={paletteItem.color}\n          isActive={paletteItem.id === activeId}\n          onMouseDown={(e) => handleMouseDown(e, paletteItem)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default ColorStopsHolder\n","import React, { FunctionComponent, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nexport interface PaletteItem {\n  id: number | string\n  offset: number\n  color: string\n}\n\ninterface PaletteProps {\n  width?: number | string\n  height?: number | string\n  palette: PaletteItem[]\n}\n\nconst useStyles = makeStyles(({ bgPixel }) => ({\n  root: {\n    ...bgPixel,\n    width: (props: PaletteProps) => props.width || '100%',\n    height: (props: PaletteProps) => props.height || '100%',\n    border: '1px solid #ccc',\n  },\n  svg: {\n    width: '100%',\n    height: '100%',\n    verticalAlign: 'top',\n  },\n}))\n\nconst Palette: FunctionComponent<PaletteProps> = (\n  props: PaletteProps,\n): JSX.Element => {\n  const classes = useStyles(props)\n  const { palette } = props\n  const [id] = useState(`palette_${Math.random().toString().substr(2, 9)}`)\n  const sortedPalette = [...palette].sort(\n    ({ offset: offset1 }, { offset: offset2 }) => offset1 - offset2,\n  )\n\n  return (\n    <div className={classes.root}>\n      <svg className={classes.svg}>\n        <defs>\n          <linearGradient id={id} x1='0' y1='0.5' x2='1' y2='0.5'>\n            {sortedPalette.map((item) => (\n              <stop\n                key={item.id}\n                offset={item.offset}\n                style={{ stopColor: item.color }}\n              />\n            ))}\n          </linearGradient>\n        </defs>\n        <rect x='0' y='0' width='100%' height='100%' fill={`url(#${id})`} />\n      </svg>\n    </div>\n  )\n}\n\nexport default Palette\n","import React, { FunctionComponent, useRef, useState, useEffect } from 'react'\r\nimport Color from 'color'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nimport ColorStopsHolder, {\r\n  AddPaletteItem,\r\n  PaletteItem,\r\n} from './ColorStopsHolder'\r\nimport Palette from '../Palette'\r\n\r\nexport interface GradientBuilderProps {\r\n  children?: JSX.Element\r\n  palette: PaletteItem[]\r\n  onAdd: (addPaletteItem: AddPaletteItem) => void\r\n  onUpdate: (palette: PaletteItem[]) => void\r\n}\r\n\r\nexport interface ChildrenProps {\r\n  open: boolean\r\n  anchorEl: HTMLDivElement | null\r\n  color: string\r\n  onChange(color: string): void\r\n}\r\n\r\nconst GradientBuilder: FunctionComponent<GradientBuilderProps> = (\r\n  props: GradientBuilderProps,\r\n) => {\r\n  const { children, palette, onUpdate, onAdd } = props\r\n  const rootEl: React.MutableRefObject<HTMLDivElement | null> = useRef(null)\r\n  const [oldPalette, setOldPalette] = useState([...palette])\r\n  const [activeId, setActiveId] = useState<number>(0)\r\n  const [activeColor, setActiveColor] = useState<string>('')\r\n  const [isAdd, setIsAdd] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (isAdd) {\r\n      const newIds = palette.map(({ id }) => id)\r\n      const oldIds = oldPalette.map(({ id }) => id)\r\n      const diff = Array.from(new Set([...newIds, ...oldIds])).filter(\r\n        (id) => !oldIds.includes(id),\r\n      )\r\n      if (diff.length > 0) {\r\n        setActiveId(diff[0])\r\n      }\r\n      setIsAdd(() => false)\r\n    }\r\n  }, [palette, isAdd, oldPalette])\r\n\r\n  useEffect(() => {\r\n    setOldPalette([...palette])\r\n  }, [palette])\r\n\r\n  useEffect(() => {\r\n    if (activeId) {\r\n      const paletteItem = palette.find((item) => item.id === activeId)\r\n      if (paletteItem) {\r\n        setActiveColor(paletteItem.color)\r\n      }\r\n    }\r\n  }, [activeId, palette])\r\n\r\n  const handleAdd = (offset: number) => {\r\n    const list = [...palette]\r\n    const current = { offset, color: '#000' }\r\n    let left: PaletteItem | undefined\r\n    let right: PaletteItem | undefined\r\n    setActiveId(0)\r\n\r\n    list.forEach((item) => {\r\n      if (\r\n        item.offset < current.offset &&\r\n        (!left || left.offset < item.offset)\r\n      ) {\r\n        left = item\r\n      } else if (!right || right.offset > item.offset) {\r\n        right = item\r\n      }\r\n    })\r\n\r\n    if (left && right) {\r\n      const offsetSpace =\r\n        (current.offset - left.offset) / (right.offset - left.offset)\r\n      const leftColor = Color(left.color)\r\n      const rightColor = Color(right.color)\r\n\r\n      const r =\r\n        (rightColor.red() - leftColor.red()) * offsetSpace + leftColor.red()\r\n      const g =\r\n        (rightColor.green() - leftColor.green()) * offsetSpace +\r\n        leftColor.green()\r\n      const b =\r\n        (rightColor.blue() - leftColor.blue()) * offsetSpace + leftColor.blue()\r\n      const a =\r\n        (rightColor.alpha() - leftColor.alpha()) * offsetSpace +\r\n        leftColor.alpha()\r\n      current.color = `rgba(${Math.round(r)},${Math.round(g)},${Math.round(\r\n        b,\r\n      )},${Math.round(a)})`\r\n    } else if (left || right) {\r\n      current.color = ((left || right) as PaletteItem).color\r\n    }\r\n\r\n    onAdd(current)\r\n    setIsAdd(true)\r\n  }\r\n\r\n  const handleUpdate = (item: Partial<AddPaletteItem>, isDelete = false) => {\r\n    if (!activeId) return\r\n\r\n    const newPalette = [...palette]\r\n    const idx = newPalette.findIndex(\r\n      (paletteItem) => paletteItem.id === activeId,\r\n    )\r\n    if (isDelete) {\r\n      onUpdate([...newPalette.slice(0, idx), ...newPalette.slice(idx + 1)])\r\n      setActiveId(0)\r\n    } else {\r\n      const updateItem = { ...newPalette[idx], ...item }\r\n      onUpdate([\r\n        ...newPalette.slice(0, idx),\r\n        updateItem,\r\n        ...newPalette.slice(idx + 1),\r\n      ])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ClickAwayListener\r\n      mouseEvent='onMouseDown'\r\n      onClickAway={() => setActiveId(0)}\r\n    >\r\n      <div ref={rootEl}>\r\n        <Palette palette={palette} height='35px' />\r\n        <ColorStopsHolder\r\n          palette={palette}\r\n          activeId={activeId}\r\n          onAdd={handleAdd}\r\n          onUpdate={handleUpdate}\r\n          onSelect={(id) => setActiveId(id || 0)}\r\n        />\r\n        {children\r\n          ? React.cloneElement(children, {\r\n              open: !!activeId || isAdd,\r\n              anchorEl: rootEl.current,\r\n              color: activeColor,\r\n              onChange: (color: string) =>\r\n                handleUpdate({\r\n                  color,\r\n                }),\r\n            })\r\n          : null}\r\n      </div>\r\n    </ClickAwayListener>\r\n  )\r\n}\r\nexport default GradientBuilder\r\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  FunctionComponent,\n  useCallback,\n} from 'react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nexport interface AnglePickerProps {\n  width?: number\n  angle: number\n  onChange(angle: number): void\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      width: (props: AnglePickerProps) =>\n        props.width ? `${props.width}px` : '36px',\n      height: (props) => (props.width ? `${props.width}px` : '36px'),\n      position: 'relative',\n      cursor: 'crosshair',\n      overflow: 'hidden',\n      borderRadius: '100%',\n      background: '#FFF',\n    },\n    point: {\n      width: '6px',\n      height: '6px',\n      borderRadius: '100%',\n      position: 'relative',\n      left: '50%',\n      top: '50%',\n      marginTop: '-2px',\n      background: '#000',\n      pointerEvents: 'none',\n      transformOrigin: `0 50%`,\n      transform: (props) =>\n        `rotate(${props.angle || 0}deg) translate(${\n          (props.width || 36) / 2 - 8\n        }px, 0)`,\n    },\n  }),\n)\n\nconst AnglePicker: FunctionComponent<AnglePickerProps> = (\n  props: AnglePickerProps,\n) => {\n  const { onChange } = props\n  const rootRef = useRef<HTMLDivElement>(null)\n  const [isDragging, setIsDragging] = useState(false)\n  const classes = useStyles(props)\n\n  const handleMouseMove = useCallback(\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent> | MouseEvent) => {\n      if (!rootRef.current) return\n\n      const { clientX, clientY } = e\n      const bounds = rootRef.current.getBoundingClientRect()\n      const radians = Math.atan2(\n        clientY - (bounds.y + bounds.height / 2),\n        clientX - (bounds.x + bounds.width / 2),\n      )\n      onChange(Math.round(radians * (180 / Math.PI)))\n    },\n    [onChange],\n  )\n\n  const handleMouseUp = useCallback((e: MouseEvent) => {\n    e.stopPropagation()\n    e.preventDefault()\n    setIsDragging(false)\n  }, [])\n\n  const handleMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (!rootRef.current) return\n    setIsDragging(true)\n    handleMouseMove(e)\n  }\n\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove)\n      window.addEventListener('mouseup', handleMouseUp)\n    } else {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n  }, [handleMouseMove, handleMouseUp, isDragging])\n\n  return (\n    <div\n      aria-hidden\n      className={classes.root}\n      ref={rootRef}\n      onMouseDown={handleMouseDown}\n    >\n      <div className={classes.point} />\n    </div>\n  )\n}\n\nexport default AnglePicker\n","import React, { FunctionComponent } from 'react'\nimport Input from '@material-ui/core/Input'\n\nimport GridInput from 'src/app/components/GridInput'\nimport AnglePicker, { AnglePickerProps } from 'src/app/components/AnglePicker'\n\nconst FormAngle: FunctionComponent<AnglePickerProps> = (\n  props: AnglePickerProps,\n) => {\n  const { angle, onChange } = props\n\n  return (\n    <GridInput\n      before='Angle:'\n      after={<AnglePicker width={24} angle={angle} onChange={onChange} />}\n    >\n      <Input\n        value={angle}\n        fullWidth\n        type='number'\n        onChange={(e) => onChange(Number(e.target.value))}\n      />\n    </GridInput>\n  )\n}\n\nexport default FormAngle\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Box from '@material-ui/core/Box'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport RadioGroup from '@material-ui/core/RadioGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport GradientPicker from 'src/app/components/GradientPicker'\r\nimport WrappedSketchPicker from 'src/app/components/WrappedSketchPicker'\r\nimport { Gradient, GradientType } from 'src/store'\r\nimport GridInput from 'src/app/components/GridInput'\r\n\r\nimport FormAngle from '../FormAngle'\r\n\r\ninterface FormGradientProps {\r\n  gradient: Gradient\r\n}\r\n\r\nconst FormGradient: FunctionComponent<FormGradientProps> = (\r\n  props: FormGradientProps,\r\n) => {\r\n  const {\r\n    gradient: {\r\n      type,\r\n      angle,\r\n      palette,\r\n      addColor,\r\n      updatePalette,\r\n      setAngle,\r\n      setType,\r\n    },\r\n  } = props\r\n\r\n  return (\r\n    <>\r\n      <Box paddingX={2} marginY={4}>\r\n        <FormAngle angle={angle} onChange={setAngle} />\r\n      </Box>\r\n\r\n      <Box paddingX={2} marginY={4}>\r\n        <GridInput before='Type:' component='div' childrenWidth={8}>\r\n          <RadioGroup\r\n            row\r\n            name='type'\r\n            value={type}\r\n            onChange={(e) => setType(Number(e.target.value))}\r\n            style={{ flexWrap: 'nowrap' }}\r\n          >\r\n            <FormControlLabel\r\n              value={GradientType.LINEAR}\r\n              control={<Radio size='small' color='default' />}\r\n              label='Linear'\r\n            />\r\n            <FormControlLabel\r\n              value={GradientType.RADIAL}\r\n              control={<Radio size='small' color='default' />}\r\n              label='Radial'\r\n            />\r\n          </RadioGroup>\r\n        </GridInput>\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <GradientPicker\r\n          palette={palette}\r\n          onAdd={(e) => addColor(e.offset, e.color)}\r\n          onUpdate={updatePalette}\r\n        >\r\n          <WrappedSketchPicker />\r\n        </GradientPicker>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default observer(FormGradient)\r\n","import React, { FunctionComponent } from 'react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\n\nimport readFile from 'src/utils/readFile'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      position: 'relative',\n      border: `1px solid ${theme.palette.primary.main}`,\n      cursor: 'pointer',\n      ...theme.bgPixel,\n    },\n    image: {\n      maxWidth: '100%',\n      maxHeight: '100%',\n      pointerEvents: 'none',\n    },\n  }),\n)\n\ninterface FileSelectorProps {\n  src: string\n  onChange(image: ArrayBuffer): void\n}\n\nconst FileSelector: FunctionComponent<FileSelectorProps> = (\n  props: FileSelectorProps,\n) => {\n  const { src, onChange } = props\n  const classes = useStyles()\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    if (!e.target.files) return\n    if (e.target.files.length > 0) {\n      readFile(e.target.files[0]).then((buffer) => {\n        if (buffer instanceof ArrayBuffer) onChange(buffer)\n      })\n    }\n  }\n\n  return (\n    <Box component='label' className={classes.root}>\n      <input\n        hidden\n        type='file'\n        multiple\n        accept='image/*'\n        onChange={handleChange}\n      />\n      <img className={classes.image} src={src} alt='' />\n    </Box>\n  )\n}\n\nexport default FileSelector\n","import React, { FunctionComponent } from 'react'\r\n\r\nimport GridInput from 'src/app/components/GridInput'\r\nimport Box from '@material-ui/core/Box'\r\nimport Input from '@material-ui/core/Input'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { PatternTexture, Repetition } from 'src/store'\r\n\r\nimport FileSelector from './FileSelector'\r\n\r\ninterface FormImageProps {\r\n  patternTexture: PatternTexture\r\n  scale: number\r\n  src: string\r\n  // onChangeImage(buffer: ArrayBuffer): void\r\n  // onChangeScale(scale: number): void\r\n}\r\n\r\nconst FormImage: FunctionComponent<FormImageProps> = (\r\n  props: FormImageProps,\r\n) => {\r\n  const { patternTexture } = props\r\n  const {\r\n    src,\r\n    scale,\r\n    repetition,\r\n    setRepetition,\r\n    setScale,\r\n    setImage,\r\n  } = patternTexture\r\n\r\n  return (\r\n    <>\r\n      <Box paddingX={2} marginY={4}>\r\n        <GridInput\r\n          component='div'\r\n          before='Scale:'\r\n          after={<FileSelector src={src} onChange={setImage} />}\r\n        >\r\n          <Input\r\n            value={scale}\r\n            fullWidth\r\n            type='number'\r\n            inputProps={{ min: 0.01, step: 0.1 }}\r\n            onChange={(e) => setScale(Number(e.target.value))}\r\n          />\r\n        </GridInput>\r\n      </Box>\r\n      <Box paddingX={2} marginY={4}>\r\n        <GridInput before='Repeat:'>\r\n          <Select\r\n            value={repetition}\r\n            onChange={(e) => setRepetition(e.target.value as Repetition)}\r\n            displayEmpty\r\n            fullWidth\r\n          >\r\n            <MenuItem value='repeat'>Repeat</MenuItem>\r\n            <MenuItem value='repeat-x'>Repeat-x</MenuItem>\r\n            <MenuItem value='repeat-y'>Repeat-y</MenuItem>\r\n            <MenuItem value='no-repeat'>No Repeat</MenuItem>\r\n          </Select>\r\n        </GridInput>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FormImage\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Box from '@material-ui/core/Box'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport RadioGroup from '@material-ui/core/RadioGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport { FontStyleConfig, FillType } from 'src/store'\r\n\r\nimport FormColor from '../FormColor'\r\nimport FormGradient from '../FormGradient'\r\nimport FormImage from '../FormImage'\r\n\r\ninterface FormFillProps {\r\n  config: FontStyleConfig\r\n}\r\n\r\nconst FormFill: FunctionComponent<FormFillProps> = (props: FormFillProps) => {\r\n  const {\r\n    config: { type, color, gradient, patternTexture, setType, setColor },\r\n  } = props\r\n\r\n  return (\r\n    <>\r\n      <Box paddingX={2} marginY={4}>\r\n        <RadioGroup\r\n          row\r\n          name='type'\r\n          value={type}\r\n          onChange={(e) => setType(Number(e.target.value))}\r\n        >\r\n          <FormControlLabel\r\n            value={FillType.SOLID}\r\n            control={<Radio size='small' color='default' />}\r\n            label='Solid'\r\n          />\r\n          <FormControlLabel\r\n            value={FillType.GRADIENT}\r\n            control={<Radio size='small' color='default' />}\r\n            label='Gradient'\r\n          />\r\n          <FormControlLabel\r\n            value={FillType.IMAGE}\r\n            control={<Radio size='small' color='default' />}\r\n            label='Image'\r\n          />\r\n        </RadioGroup>\r\n      </Box>\r\n      {type === 0 ? (\r\n        <Box paddingX={2} marginY={4}>\r\n          <FormColor color={color} onChange={setColor} />\r\n        </Box>\r\n      ) : null}\r\n      {type === 1 ? <FormGradient gradient={gradient} /> : null}\r\n      {type === 2 ? (\r\n        <FormImage\r\n          patternTexture={patternTexture}\r\n          src={patternTexture.src}\r\n          scale={patternTexture.scale}\r\n          // onChangeImage={patternTexture.setImage}\r\n          // onChangeScale={patternTexture.setScale}\r\n        />\r\n      ) : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default observer(FormFill)\r\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useFill } from 'src/store/hooks'\nimport FormFill from '../../../common/FormFill'\n\nconst Fill: FunctionComponent<unknown> = () => {\n  const fill = useFill()\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <Typography>Fill</Typography>\n      </Box>\n      <FormFill config={fill} />\n    </>\n  )\n}\n\nexport default observer(Fill)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Input from '@material-ui/core/Input'\nimport Switch from '@material-ui/core/Switch'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\n\nimport { useStyle } from 'src/store/hooks'\nimport GridInput from 'src/app/components/GridInput'\n\nimport FormFill from 'src/app/layout/common/FormFill'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    disabled: {\n      opacity: 0.3,\n      pointerEvents: 'none',\n    },\n    title: {\n      flex: 1,\n    },\n  }),\n)\n\nconst Stroke: FunctionComponent<unknown> = () => {\n  const classes = useStyles()\n  const { stroke, useStroke, setUseStroke } = useStyle()\n  const { setWidth, lineJoin, setLineJoin, lineCap, setLineCap } = stroke\n\n  return (\n    <>\n      <Box\n        component='label'\n        display='flex'\n        alignItems='center'\n        paddingX={2}\n        marginY={4}\n      >\n        <Typography component='div' className={classes.title}>\n          Stroke\n        </Typography>\n        Off\n        <Switch\n          size='small'\n          checked={useStroke}\n          onChange={(e) => setUseStroke(e.target.checked)}\n        />\n        On\n      </Box>\n      <div className={useStroke ? '' : classes.disabled}>\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Width:' after='px'>\n            <Input\n              value={stroke?.width || 0}\n              fullWidth\n              type='number'\n              inputProps={{ min: 0 }}\n              onChange={(e) => setWidth(Number(e.target.value))}\n            />\n          </GridInput>\n        </Box>\n\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Line Cap:' component='div' childrenWidth={8}>\n            <ButtonGroup size='small' color='primary'>\n              <Button\n                onClick={() => setLineCap('butt')}\n                variant={lineCap === 'butt' ? 'contained' : 'outlined'}\n              >\n                Butt\n              </Button>\n              <Button\n                onClick={() => setLineCap('round')}\n                variant={lineCap === 'round' ? 'contained' : 'outlined'}\n              >\n                Round\n              </Button>\n              <Button\n                onClick={() => setLineCap('square')}\n                variant={lineCap === 'square' ? 'contained' : 'outlined'}\n              >\n                Square\n              </Button>\n            </ButtonGroup>\n          </GridInput>\n        </Box>\n\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Line Join:' component='div' childrenWidth={8}>\n            <ButtonGroup size='small' color='primary'>\n              <Button\n                onClick={() => setLineJoin('miter')}\n                variant={lineJoin === 'miter' ? 'contained' : 'outlined'}\n              >\n                Miter\n              </Button>\n              <Button\n                onClick={() => setLineJoin('round')}\n                variant={lineJoin === 'round' ? 'contained' : 'outlined'}\n              >\n                Round\n              </Button>\n              <Button\n                onClick={() => setLineJoin('bevel')}\n                variant={lineJoin === 'bevel' ? 'contained' : 'outlined'}\n              >\n                Bevel\n              </Button>\n            </ButtonGroup>\n          </GridInput>\n        </Box>\n        <FormFill config={stroke} />\n      </div>\n    </>\n  )\n}\n\nexport default observer(Stroke)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport Input from '@material-ui/core/Input'\nimport Switch from '@material-ui/core/Switch'\n\nimport { useStyle } from 'src/store/hooks'\nimport GridInput from 'src/app/components/GridInput'\nimport FormColor from '../../../common/FormColor'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    disabled: {\n      opacity: 0.3,\n      pointerEvents: 'none',\n    },\n    title: {\n      flex: 1,\n    },\n  }),\n)\n\nconst Shadow: FunctionComponent<unknown> = () => {\n  const { shadow, useShadow, setUseShadow } = useStyle()\n  const { setOffsetX, setOffsetY, setBlur, setColor } = shadow\n  const classes = useStyles()\n\n  return (\n    <>\n      <Box\n        component='label'\n        display='flex'\n        alignItems='center'\n        paddingX={2}\n        marginY={4}\n      >\n        <Typography component='div' className={classes.title}>\n          Shadow\n        </Typography>\n        Off\n        <Switch\n          size='small'\n          checked={useShadow}\n          onChange={(e) => setUseShadow(e.target.checked)}\n        />\n        On\n      </Box>\n      <div className={useShadow ? '' : classes.disabled}>\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Offset X:' after='px'>\n            <Input\n              value={shadow?.offsetX || 0}\n              fullWidth\n              type='number'\n              disabled={!useShadow}\n              onChange={(e) => setOffsetX(Number(e.target.value))}\n            />\n          </GridInput>\n        </Box>\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Offset Y:' after='px'>\n            <Input\n              value={shadow?.offsetY || 0}\n              fullWidth\n              type='number'\n              disabled={!useShadow}\n              onChange={(e) => setOffsetY(Number(e.target.value))}\n            />\n          </GridInput>\n        </Box>\n        <Box paddingX={2} marginY={4}>\n          <GridInput before='Blur:' after='px'>\n            <Input\n              value={shadow?.blur || 0}\n              fullWidth\n              type='number'\n              disabled={!useShadow}\n              inputProps={{ style: { textAlign: 'right' }, min: 0 }}\n              onChange={(e) => setBlur(Number(e.target.value))}\n            />\n          </GridInput>\n        </Box>\n        <Box paddingX={2} marginY={4}>\n          <FormColor color={shadow?.color || ''} onChange={setColor} />\n        </Box>\n      </div>\n    </>\n  )\n}\nexport default observer(Shadow)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useStyle } from 'src/store/hooks'\nimport FormColor from '../../../common/FormColor'\n\nconst BackgroundColor: FunctionComponent<unknown> = () => {\n  const { bgColor, setBgColor } = useStyle()\n\n  return (\n    <>\n      <Box\n        component='label'\n        display='flex'\n        alignItems='center'\n        paddingX={2}\n        marginY={4}\n      >\n        <Typography>Background Color</Typography>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <FormColor color={bgColor || ''} onChange={setBgColor} />\n      </Box>\n    </>\n  )\n}\n\nexport default observer(BackgroundColor)\n","import React, { FunctionComponent } from 'react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Divider from '@material-ui/core/Divider'\nimport Typography from '@material-ui/core/Typography'\n\nimport Fill from './modules/Fill'\nimport Stroke from './modules/Stroke'\nimport Shadow from './modules/Shadow'\nimport BackgroundColor from './modules/BackgroundColor'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      overflow: 'hidden',\n      width: '256px',\n    },\n  }),\n)\n\nconst RightBar: FunctionComponent<unknown> = () => {\n  const classes = useStyles()\n\n  return (\n    <Box\n      bgcolor='background.sidebar'\n      display='flex'\n      flexDirection='column'\n      overflow='hidden'\n      className={classes.root}\n    >\n      <Box bgcolor='background.sidebar' boxShadow={2} padding={2}>\n        <Typography variant='subtitle2'>Style Config</Typography>\n      </Box>\n      <Box flex={1} height={0} overflow='hidden auto'>\n        <Fill />\n        <Divider />\n        <Stroke />\n        <Divider />\n        <Shadow />\n        <Divider />\n        <BackgroundColor />\n      </Box>\n    </Box>\n  )\n}\n\nexport default RightBar\n","import { useEffect, useCallback, RefObject, DependencyList } from 'react'\r\n\r\ninterface DeltaInfo {\r\n  deltaScale: number\r\n  deltaX: number\r\n  deltaY: number\r\n}\r\n\r\ninterface WheelCallback {\r\n  (deltaInfo: DeltaInfo): void\r\n}\r\n\r\nfunction useWheel(\r\n  ref: RefObject<HTMLElement>,\r\n  onWheel: WheelCallback,\r\n  deps: DependencyList = [],\r\n): void {\r\n  const callback = useCallback(onWheel, [onWheel, deps])\r\n  const handleWheel = useCallback(\r\n    (e: WheelEvent) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n      const { ctrlKey, altKey, deltaX, deltaY } = e\r\n      if (ctrlKey) {\r\n        let d = -0.01\r\n        if (Math.abs(deltaY) > 50) d *= 0.1\r\n        callback({ deltaScale: deltaY * d, deltaX: 0, deltaY: 0 })\r\n      } else {\r\n        let x = -deltaX\r\n        let y = -deltaY\r\n        if (deltaX === 0 && altKey && Math.abs(deltaY) > 50) {\r\n          x = -deltaY\r\n          y = 0\r\n        }\r\n        callback({\r\n          deltaX: x,\r\n          deltaY: y,\r\n          deltaScale: 0,\r\n        })\r\n      }\r\n    },\r\n    [callback],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!ref.current) return undefined\r\n\r\n    const dom = ref.current\r\n\r\n    dom.addEventListener('wheel', handleWheel, {\r\n      passive: false,\r\n    })\r\n\r\n    return () => dom.removeEventListener('wheel', handleWheel)\r\n  }, [ref, handleWheel])\r\n}\r\nexport default useWheel\r\n","import {\r\n  useState,\r\n  useEffect,\r\n  useMemo,\r\n  useCallback,\r\n  DependencyList,\r\n} from 'react'\r\n\r\ninterface OffsetInfo {\r\n  offsetX: number\r\n  offsetY: number\r\n}\r\n\r\ninterface WheelCallback {\r\n  (offsetInfo: OffsetInfo): void\r\n}\r\n\r\nconst point = {\r\n  x: 0,\r\n  y: 0,\r\n}\r\n\r\nfunction useSpaceDrag<T extends HTMLElement>(\r\n  onMove: WheelCallback,\r\n  deps: DependencyList = [],\r\n): [0 | 1 | 2, (e: React.MouseEvent<T, MouseEvent>) => void] {\r\n  const [moveState, setMoveState] = useState({\r\n    ks: false,\r\n    ms: false,\r\n  })\r\n\r\n  const dragStatus = useMemo(() => {\r\n    if (moveState.ks && moveState.ms) return 2\r\n    if (moveState.ks) return 1\r\n    return 0\r\n  }, [moveState.ks, moveState.ms])\r\n\r\n  const moveCallback = useCallback(onMove, [onMove, ...deps])\r\n\r\n  const handleKeyEvent = useCallback(\r\n    (e: KeyboardEvent) => {\r\n      const state = e.keyCode === 32 && e.type === 'keydown'\r\n      if (moveState.ks === state) return\r\n      setMoveState((s) => {\r\n        return {\r\n          ...s,\r\n          ks: e.keyCode === 32 && e.type === 'keydown',\r\n        }\r\n      })\r\n    },\r\n    [moveState.ks],\r\n  )\r\n\r\n  const handleMouseDown = (e: React.MouseEvent<T, MouseEvent>) => {\r\n    if (!moveState.ks) return\r\n    const { clientX, clientY } = e\r\n    point.x = clientX\r\n    point.y = clientY\r\n    setMoveState((s) => {\r\n      return {\r\n        ...s,\r\n        ms: true,\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleMove = useCallback(\r\n    (e: MouseEvent) => {\r\n      const { clientX, clientY } = e\r\n      const { x, y } = point\r\n\r\n      if (clientX - x === 0 && clientY - y === 0) return\r\n\r\n      moveCallback({\r\n        offsetX: clientX - x,\r\n        offsetY: clientY - y,\r\n      })\r\n\r\n      point.x = clientX\r\n      point.y = clientY\r\n    },\r\n    [moveCallback],\r\n  )\r\n\r\n  const handleEnd = useCallback(() => {\r\n    setMoveState((s) => {\r\n      return {\r\n        ...s,\r\n        ms: false,\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyEvent)\r\n    window.addEventListener('keyup', handleKeyEvent)\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyEvent)\r\n      window.removeEventListener('keyup', handleKeyEvent)\r\n    }\r\n  }, [handleKeyEvent])\r\n\r\n  useEffect(() => {\r\n    if (moveState.ks && moveState.ms) {\r\n      window.addEventListener('mousemove', handleMove)\r\n      window.addEventListener('mouseup', handleEnd)\r\n    } else {\r\n      window.removeEventListener('mousemove', handleMove)\r\n      window.removeEventListener('mouseup', handleEnd)\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMove)\r\n      window.removeEventListener('mouseup', handleEnd)\r\n    }\r\n  }, [handleEnd, handleMove, moveState.ks, moveState.ms])\r\n\r\n  return [dragStatus, handleMouseDown]\r\n}\r\nexport default useSpaceDrag\r\n","import React, { useRef, useEffect, FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\n\r\nimport { useProject } from 'src/store/hooks'\r\nimport useWheel from 'src/app/hooks/useWheel'\r\nimport useSpaceDrag from 'src/app/hooks/useSpaceDrag'\r\n\r\ninterface StyleProps {\r\n  width: number\r\n  height: number\r\n  scale: number\r\n  offsetX: number\r\n  offsetY: number\r\n  dragState: number\r\n}\r\n\r\nconst useStyles = makeStyles(({ bgPixel }) =>\r\n  createStyles({\r\n    root: {\r\n      position: 'relative',\r\n      width: '100%',\r\n      height: '100%',\r\n      overflow: 'hidden',\r\n      flex: 1,\r\n      cursor: (props: StyleProps) => {\r\n        if (props.dragState === 2) return 'grabbing'\r\n        if (props.dragState === 1) return 'grab'\r\n        return 'default'\r\n      },\r\n    },\r\n    canvas: {\r\n      ...bgPixel,\r\n      transformOrigin: '50% 50%',\r\n      position: 'absolute',\r\n      left: '50%',\r\n      top: '50%',\r\n      width: (props: StyleProps) => `${props.width}px`,\r\n      height: (props: StyleProps) => `${props.height}px`,\r\n      marginLeft: (props: StyleProps) => `${props.width / -2}px`,\r\n      marginTop: (props: StyleProps) => `${props.height / -2}px`,\r\n      transform: (props: StyleProps) =>\r\n        `scale(${props.scale}) translate(${props.offsetX}px,${props.offsetY}px)`,\r\n      imageRendering: 'pixelated',\r\n    },\r\n  }),\r\n)\r\n\r\nconst PackCanvas: FunctionComponent<unknown> = () => {\r\n  const {\r\n    isPacking,\r\n    ui,\r\n    layout: { padding, auto, fixedSize, width: packWidth, height: packHeight },\r\n    glyphList,\r\n    style: { bgColor },\r\n    packCanvas,\r\n    setCanvas,\r\n  } = useProject()\r\n  const { width, height, scale, offsetX, offsetY } = ui\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const domRef = useRef<HTMLDivElement>(null)\r\n  const [dragState, handleMouseDown] = useSpaceDrag(\r\n    (offsetInfo) => {\r\n      const { offsetX: ix, offsetY: iy } = offsetInfo\r\n      const { scale: os, offsetX: ox, offsetY: oy, setTransform } = ui\r\n      setTransform({\r\n        offsetX: ox + ix / os,\r\n        offsetY: oy + iy / os,\r\n      })\r\n    },\r\n    [ui],\r\n  )\r\n\r\n  const classes = useStyles({\r\n    width,\r\n    height,\r\n    scale,\r\n    offsetX,\r\n    offsetY,\r\n    dragState,\r\n  })\r\n\r\n  useWheel(\r\n    domRef,\r\n    (info) => {\r\n      const { offsetX: ox, offsetY: oy, scale: os, setTransform } = ui\r\n      const s = os + info.deltaScale\r\n      const x = ox + info.deltaX / s\r\n      const y = oy + info.deltaY / s\r\n      setTransform({\r\n        offsetX: x,\r\n        offsetY: y,\r\n        scale: s,\r\n      })\r\n    },\r\n    [ui],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (canvasRef.current && canvasRef.current !== packCanvas)\r\n      setCanvas(canvasRef.current)\r\n  }, [canvasRef, packCanvas, setCanvas])\r\n\r\n  useEffect(() => {\r\n    if (!glyphList || isPacking || !width || !height) return\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n\r\n    canvas.width = width\r\n    canvas.height = height\r\n\r\n    const ctx = canvas.getContext('2d')\r\n    if (!ctx) return\r\n\r\n    if (bgColor) {\r\n      ctx.fillStyle = bgColor\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n\r\n    glyphList.forEach((glyph) => {\r\n      if (\r\n        glyph.source &&\r\n        glyph.source.width !== 0 &&\r\n        glyph.source.height !== 0\r\n      ) {\r\n        ctx.drawImage(\r\n          glyph.source as HTMLCanvasElement,\r\n          glyph.x + (padding || 0),\r\n          glyph.y + (padding || 0),\r\n        )\r\n      }\r\n    })\r\n  }, [\r\n    bgColor,\r\n    glyphList,\r\n    isPacking,\r\n    height,\r\n    width,\r\n    padding,\r\n    auto,\r\n    fixedSize,\r\n    packWidth,\r\n    packHeight,\r\n  ])\r\n\r\n  return (\r\n    <div\r\n      aria-hidden\r\n      ref={domRef}\r\n      className={classes.root}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      <canvas ref={canvasRef} className={classes.canvas} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(PackCanvas)\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport { useProject } from 'src/store/hooks'\r\n\r\nconst useStyles = makeStyles(({ palette }) =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      background: palette.background.paper,\r\n      textAlign: 'center',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      fontSize: 12,\r\n      padding: 2,\r\n      animationDuration: '300ms',\r\n      pointerEvents: 'none',\r\n      color: palette.text.secondary,\r\n      position: 'relative',\r\n    },\r\n    loading: {\r\n      position: 'absolute',\r\n      left: 0,\r\n      top: '100%',\r\n      width: '100%',\r\n    },\r\n  }),\r\n)\r\n\r\nconst PackSizeBar: FunctionComponent<unknown> = () => {\r\n  const { isPacking, ui } = useProject()\r\n  const { width, height } = ui\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      Packed texture size: {width} x {height}\r\n      {isPacking ? <LinearProgress className={classes.loading} /> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(PackSizeBar)\r\n","import React, { FunctionComponent } from 'react'\r\n\r\nimport PackCanvas from './PackCanvas'\r\nimport PackSizeBar from './PackSizeBar'\r\n\r\nconst PackView: FunctionComponent<unknown> = () => {\r\n  return (\r\n    <>\r\n      <PackSizeBar />\r\n      <PackCanvas />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PackView\r\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport clsx from 'clsx'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport { useProjectUi } from 'src/store/hooks'\n\nimport { PreviewObject } from './getPreviewCanvas'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    letter: {\n      position: 'absolute',\n      '&:hover,&$select': {\n        background: 'rgba(0,0,0,0.2)',\n        outline: '1px solid #000',\n      },\n    },\n    select: {\n      '& + $next': {\n        background: 'rgba(0,0,0,0.1)',\n        outline: '1px dashed #666',\n      },\n    },\n    next: {},\n  }),\n)\n\ninterface LetterListProps {\n  data: PreviewObject\n}\n\nconst LetterList: FunctionComponent<LetterListProps> = (\n  props: LetterListProps,\n) => {\n  const {\n    data: { xOffset, yOffset, list },\n  } = props\n  const classes = useStyles()\n  const ui = useProjectUi()\n  const handleSelect = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    letter: string,\n    next: string,\n  ) => {\n    // setSelectLetter\n    e.stopPropagation()\n    ui.setSelectLetter(letter, next)\n  }\n  return (\n    <>\n      {list.map((item, idx) => {\n        const key = `${item.letter}${idx}`\n        return (\n          <div\n            aria-hidden\n            className={clsx(classes.letter, {\n              [classes.select]: item.letter === ui.selectLetter,\n              [classes.next]: item.letter === ui.selectNextLetter,\n            })}\n            style={{\n              width: item.width,\n              height: item.height,\n              left: `${item.x - xOffset}px`,\n              top: `${item.y - yOffset}px`,\n            }}\n            key={key}\n            onClick={(e) => handleSelect(e, item.letter, item.next)}\n          />\n        )\n      })}\n    </>\n  )\n}\n\nexport default observer(LetterList)\n","import React, { useRef, useState, useEffect, FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport { useProject } from 'src/store/hooks'\nimport useWheel from 'src/app/hooks/useWheel'\nimport useSpaceDrag from 'src/app/hooks/useSpaceDrag'\nimport toOutputInfo, { BMFontChar } from 'src/file/toOutputInfo'\n\nimport getPreviewCanvas, { PreviewObject } from './getPreviewCanvas'\nimport LetterList from './LetterList'\n\ninterface StyleProps {\n  width: number\n  height: number\n  scale: number\n  offsetX: number\n  offsetY: number\n  dragState: number\n}\n\nconst useStyles = makeStyles(({ bgPixel }) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      flex: 1,\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      ...bgPixel,\n      cursor: (props: StyleProps) => {\n        if (props.dragState === 2) return 'grabbing'\n        if (props.dragState === 1) return 'grab'\n        return 'default'\n      },\n    },\n    wrap: {\n      transformOrigin: '50% 50%',\n      position: 'absolute',\n      left: '50%',\n      top: '50%',\n      width: (props: StyleProps) => `${props.width}px`,\n      height: (props: StyleProps) => `${props.height}px`,\n      marginLeft: (props: StyleProps) => `${props.width / -2}px`,\n      marginTop: (props: StyleProps) => `${props.height / -2}px`,\n      transform: (props: StyleProps) =>\n        `scale(${props.scale}) translate(${props.offsetX}px,${props.offsetY}px)`,\n    },\n    canvas: {\n      width: '100%',\n      height: '100%',\n      imageRendering: 'pixelated',\n    },\n  }),\n)\n\nconst PreviewCanvas: FunctionComponent<unknown> = () => {\n  const project = useProject()\n  const [data, setData] = useState<PreviewObject | null>(null)\n  const {\n    ui,\n    style: {\n      font: {\n        size,\n        lineHeight,\n        middle,\n        hanging,\n        top,\n        alphabetic,\n        ideographic,\n        bottom,\n        minBaseLine,\n        maxBaseLine,\n      },\n    },\n    isPacking,\n  } = project\n  const { previewScale, previewOffsetX, previewOffsetY } = ui\n\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const domRef = useRef<HTMLDivElement>(null)\n  const [dragState, handleMouseDown] = useSpaceDrag(\n    (offsetInfo) => {\n      const { offsetX: ix, offsetY: iy } = offsetInfo\n      const {\n        previewScale: os,\n        previewOffsetX: ox,\n        previewOffsetY: oy,\n        setPreviewTransform,\n      } = ui\n      setPreviewTransform({\n        previewOffsetX: ox + ix / os,\n        previewOffsetY: oy + iy / os,\n      })\n    },\n    [ui],\n  )\n  const classes = useStyles({\n    width: data ? data.width : 0,\n    height: data ? data.height : 0,\n    scale: previewScale,\n    offsetX: previewOffsetX,\n    offsetY: previewOffsetY,\n    dragState,\n  })\n\n  useWheel(\n    domRef,\n    (info) => {\n      const {\n        previewOffsetX: ox,\n        previewOffsetY: oy,\n        previewScale: os,\n        setPreviewTransform,\n      } = ui\n      const s = os + info.deltaScale\n      const x = ox + info.deltaX / s\n      const y = oy + info.deltaY / s\n      setPreviewTransform({\n        previewOffsetX: x,\n        previewOffsetY: y,\n        previewScale: s,\n      })\n    },\n    [ui],\n  )\n\n  useEffect(() => {\n    if (!canvasRef.current || isPacking || !data) return\n\n    const canvas = canvasRef.current\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n    const lh = size * lineHeight\n\n    canvas.width = data.width\n    canvas.height = data.height\n    data.list.forEach((item) => {\n      if (!item.source || item.source.width === 0 || item.source.height === 0)\n        return\n      ctx.drawImage(item.source, item.x - data.xOffset, item.y - data.yOffset)\n    })\n\n    for (let index = 0; index < data.lines; index += 1) {\n      ;[middle, hanging, top, alphabetic, ideographic, bottom].forEach(\n        (baseLine) => {\n          const basey = Math.round(baseLine - minBaseLine + index * lh)\n          ctx.beginPath()\n          ctx.moveTo(-data.xOffset, basey + 0.5 - data.yOffset)\n          ctx.lineTo(data.width, basey + 0.5 - data.yOffset)\n          if (baseLine === minBaseLine || baseLine === maxBaseLine) {\n            ctx.strokeStyle = 'rgba(0,0,0,1)'\n            ctx.setLineDash([])\n          } else {\n            ctx.strokeStyle = 'rgba(0,0,0,0.5)'\n            ctx.setLineDash([10, 3, 2, 3])\n          }\n          ctx.stroke()\n        },\n      )\n      ctx.beginPath()\n      ctx.moveTo(-data.xOffset + 0.5, index * lh - data.yOffset)\n      ctx.lineTo(\n        -data.xOffset + 0.5,\n        index * lh - data.yOffset + maxBaseLine - minBaseLine,\n      )\n      ctx.strokeStyle = 'rgba(0,0,0,1)'\n      ctx.setLineDash([])\n      ctx.stroke()\n    }\n  }, [\n    alphabetic,\n    bottom,\n    data,\n    hanging,\n    ideographic,\n    isPacking,\n    lineHeight,\n    maxBaseLine,\n    middle,\n    minBaseLine,\n    size,\n    top,\n  ])\n\n  useEffect(() => {\n    if (!canvasRef.current || isPacking) return\n\n    const canvas = canvasRef.current\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n\n    const { chars, kernings } = toOutputInfo(project)\n    const kerningMap: Map<number, Map<number, number>> = new Map()\n    kernings.list.forEach(({ first, second, amount }) => {\n      if (!kerningMap.has(first)) kerningMap.set(first, new Map())\n      const k = kerningMap.get(first)\n      k?.set(second, amount)\n    })\n    const charMap: Map<string, BMFontChar> = new Map()\n    chars.list.forEach((char) => {\n      charMap.set(char.letter, char)\n    })\n    const lh = size * lineHeight\n    const obj = getPreviewCanvas(\n      ui.previewText,\n      charMap,\n      kerningMap,\n      lh,\n      maxBaseLine - minBaseLine,\n    )\n    setData(() => obj)\n  }, [\n    isPacking,\n    lineHeight,\n    maxBaseLine,\n    minBaseLine,\n    project,\n    size,\n    ui.previewText,\n  ])\n\n  return (\n    <div\n      aria-hidden\n      ref={domRef}\n      className={classes.root}\n      onMouseDown={handleMouseDown}\n      onClick={() => ui.setSelectLetter('', '')}\n    >\n      <div className={classes.wrap}>\n        <canvas ref={canvasRef} className={classes.canvas} />\n        {data ? <LetterList data={data} /> : null}\n      </div>\n    </div>\n  )\n}\n\nexport default observer(PreviewCanvas)\n","import { BMFontChar } from 'src/file/toOutputInfo'\n\ninterface PreviewItem {\n  x: number\n  y: number\n  width: number\n  height: number\n  source: HTMLImageElement | HTMLCanvasElement | null\n  letter: string\n  next: string\n}\n\nexport interface PreviewObject {\n  xOffset: number\n  yOffset: number\n  width: number\n  height: number\n  list: PreviewItem[]\n  lines: number\n}\n\nexport default function getPreviewCanvas(\n  text: string,\n  chars: Map<string, BMFontChar>,\n  kernings: Map<number, Map<number, number>>,\n  lineHeight: number,\n  fontHeight: number,\n): PreviewObject {\n  // const letters = Array.from(new Set(text.replace(/\\r\\n|\\r|\\n/g, '').split('')))\n  const list: PreviewItem[] = []\n  const lines = text.split(/\\r\\n|\\r|\\n/)\n  let minX = 0\n  let minY = 0\n  let maxX = 0\n  let maxY = 0\n  let y = 0\n  let x = 0\n\n  lines.forEach((str, index) => {\n    y = lineHeight * index\n    x = 0\n    const arr = Array.from(str)\n    arr.forEach((letter, idx) => {\n      const char = chars.get(letter)\n      if (!char) return\n      const next = arr[idx + 1]\n      const lk = kernings.get(letter.charCodeAt(0))\n      let kering = 0\n      if (next && lk && lk.has(next.charCodeAt(0))) {\n        kering = lk.get(next.charCodeAt(0)) || 0\n      }\n      const obj = {\n        x: x + char.xoffset,\n        y: y + char.yoffset,\n        width: char.width || char.xadvance,\n        height: char.height || fontHeight,\n        source: char.source,\n        letter: char.letter,\n        next,\n      }\n      x += char.xadvance + kering\n      minX = Math.min(obj.x, minX)\n      minY = Math.min(obj.y, minY)\n      maxX = Math.max(obj.x + obj.width, maxX)\n      maxY = Math.max(obj.y + char.height, maxY)\n      list.push(obj)\n    })\n  })\n\n  return {\n    lines: lines.length,\n    list,\n    xOffset: minX,\n    yOffset: minY,\n    width: maxX - minX,\n    height: Math.max(maxY - minY, lines.length * lineHeight - minY),\n  }\n}\n","import React, { useState, FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\n\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useProjectUi } from 'src/store/hooks'\n\nconst Preview: FunctionComponent<unknown> = () => {\n  const { previewText, setPreviewText } = useProjectUi()\n  const [isIME, setIsIME] = useState(false)\n  const [inputText, setInputText] = useState(previewText)\n\n  const handleInput = (event: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    const { value } = event.target\n    if (isIME) {\n      setInputText(value)\n    } else {\n      setInputText(value)\n      if (value !== previewText) setPreviewText(value)\n    }\n  }\n\n  const handleCompositionEnd = (): void => {\n    setIsIME(false)\n    setInputText(inputText)\n    if (inputText !== previewText) setPreviewText(inputText)\n  }\n\n  return (\n    <Box>\n      <Box paddingX={2} marginY={4}>\n        <Typography>Glyphs</Typography>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <TextField\n          margin='none'\n          value={isIME ? inputText : previewText}\n          fullWidth\n          multiline\n          rows={7}\n          variant='outlined'\n          inputProps={{ spellCheck: false }}\n          onChange={handleInput}\n          onCompositionStart={() => setIsIME(true)}\n          onCompositionEnd={handleCompositionEnd}\n        />\n      </Box>\n    </Box>\n  )\n}\n\nexport default observer(Preview)\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useProject } from 'src/store/hooks'\n\nimport FormAdjustMetric from 'src/app/layout/common/FormAdjustMetric'\n\nconst GlobalMetric: FunctionComponent<unknown> = () => {\n  const project = useProject()\n  const { glyphList, ui } = project\n  const glyph = glyphList.find((gl) => gl.letter === ui.selectLetter)\n  if (!glyph) return null\n  const { adjustMetric, letter } = glyph\n  const {\n    xAdvance,\n    xOffset,\n    yOffset,\n    setXAdvance,\n    setXOffset,\n    setYOffset,\n  } = adjustMetric\n\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <Typography>{`\"${letter}\" Adjustment`}</Typography>\n      </Box>\n      <FormAdjustMetric\n        xAdvance={xAdvance}\n        xOffset={xOffset}\n        yOffset={yOffset}\n        setXAdvance={setXAdvance}\n        setXOffset={setXOffset}\n        setYOffset={setYOffset}\n      />\n    </>\n  )\n}\n\nexport default observer(GlobalMetric)\n","import React, { useState, useEffect, FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport { deepObserve } from 'mobx-utils'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport Input from '@material-ui/core/Input'\nimport GridInput from 'src/app/components/GridInput'\n\nimport { useProject } from 'src/store/hooks'\nimport { GlyphFont, GlyphImage } from 'src/store'\n\nconst GlobalMetric: FunctionComponent<unknown> = () => {\n  const {\n    glyphList,\n    ui,\n    style: {\n      font: { opentype, size },\n    },\n  } = useProject()\n  const [offset, setOffset] = useState(0)\n  const [glyph, setGlyph] = useState<GlyphFont | GlyphImage | undefined>()\n  const [kerning, setKerning] = useState(0)\n\n  useEffect(() => {\n    setGlyph(glyphList.find((gl) => gl.letter === ui.selectLetter))\n  }, [glyphList, ui.selectLetter])\n\n  useEffect(() => {\n    if (glyph && ui.selectNextLetter && opentype) {\n      const fontScale = (1 / opentype.unitsPerEm) * size\n      setOffset(\n        Math.round(\n          opentype.getKerningValue(\n            opentype.charToGlyphIndex(glyph.letter),\n            opentype.charToGlyphIndex(ui.selectNextLetter),\n          ) * fontScale,\n        ),\n      )\n    }\n  }, [glyph, opentype, size, ui.selectNextLetter])\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>,\n  ) => {\n    if (glyph)\n      glyph.steKerning(ui.selectNextLetter, Number(e.target.value) - offset)\n  }\n\n  useEffect(() => {\n    let disposer\n\n    if (glyph) {\n      setKerning(glyph.kerning.get(ui.selectNextLetter) || 0)\n      disposer = deepObserve(glyph.kerning, () => {\n        setKerning(glyph.kerning.get(ui.selectNextLetter) || 0)\n      })\n    }\n\n    return disposer\n  }, [glyph, ui.selectNextLetter])\n\n  if (!glyph || !ui.selectNextLetter) return null\n\n  return (\n    <>\n      <Box paddingX={2} marginY={4}>\n        <Typography>{`\"${glyph.letter}\" - \"${ui.selectNextLetter}\" Kerning`}</Typography>\n      </Box>\n      <Box paddingX={2} marginY={4}>\n        <GridInput before='Amount:' after='px'>\n          <Input\n            value={kerning + offset}\n            fullWidth\n            type='number'\n            onChange={handleChange}\n          />\n        </GridInput>\n      </Box>\n    </>\n  )\n}\n\nexport default observer(GlobalMetric)\n","import React, { FunctionComponent } from 'react'\nimport Grid from '@material-ui/core/Grid'\n\nimport PreviewCanvas from './PreviewCanvas'\nimport PreviewText from './PreviewText'\nimport PreviewMertic from './PreviewMertic'\nimport PreviewKerning from './PreviewKerning'\n\nconst Preview: FunctionComponent<unknown> = () => {\n  return (\n    <>\n      <PreviewCanvas />\n      <Grid container alignItems='flex-start'>\n        <Grid item xs={4}>\n          <PreviewText />\n        </Grid>\n        <Grid item xs={4}>\n          <PreviewMertic />\n        </Grid>\n        <Grid item xs={4}>\n          <PreviewKerning />\n        </Grid>\n      </Grid>\n    </>\n  )\n}\n\nexport default Preview\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\r\n\r\nimport { useProjectUi } from 'src/store/hooks'\r\n\r\nimport PackView from '../PackView'\r\nimport Preview from '../Preview'\r\n\r\nconst useStyles = makeStyles(({ palette }) =>\r\n  createStyles({\r\n    '@keyframes slideDown': {\r\n      from: { opacity: 0, transform: 'translate(0, -100%)' },\r\n      to: { opacity: 1, transform: 'translate(0, 0)' },\r\n    },\r\n    root: {\r\n      backgroundColor: palette.background.default,\r\n      position: 'relative',\r\n      display: 'flex',\r\n      flex: 1,\r\n      flexDirection: 'column',\r\n    },\r\n    toast: {\r\n      position: 'absolute',\r\n      left: 0,\r\n      top: 0,\r\n      width: '100%',\r\n      zIndex: 10,\r\n      background: palette.error.main,\r\n      textAlign: 'center',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      fontSize: 14,\r\n      padding: 2,\r\n      animationName: '$slideDown',\r\n      animationDuration: '300ms',\r\n      pointerEvents: 'none',\r\n    },\r\n    icon: {\r\n      marginRight: 5,\r\n    },\r\n  }),\r\n)\r\n\r\nconst MainView: FunctionComponent<unknown> = () => {\r\n  const { showPreview, packFailed } = useProjectUi()\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {packFailed ? (\r\n        <div className={classes.toast}>\r\n          <ErrorOutlineIcon className={classes.icon} fontSize='inherit' />\r\n          Packaging failed, try to increase the size of the package please.\r\n        </div>\r\n      ) : null}\r\n      {showPreview ? <Preview /> : <PackView />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(MainView)\r\n","import React, { useRef, useState, useEffect, FunctionComponent } from 'react'\n// import { observer } from 'mobx-react'\nimport clsx from 'clsx'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n// import Input from '@material-ui/core/Input'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    root: {\n      minHeight: 'auto',\n      minWidth: '80px',\n      maxWidth: 'none',\n      height: '34px',\n      lineHeight: '16px',\n      padding: '10px',\n      color: 'rgba(255,255,255,0.5)',\n      backgroundColor: 'rgb(45, 45, 45)',\n      borderRight: `1px solid ${palette.background.default}`,\n      textTransform: 'none',\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      cursor: 'pointer',\n      '&:hover': {\n        '& $icon': {\n          opacity: 1,\n        },\n      },\n      '&:last-child': {\n        borderRight: '0 none',\n      },\n    },\n    selected: {\n      background: palette.background.default,\n      color: '#fff',\n      '& $icon': {\n        opacity: 1,\n      },\n    },\n    name: {\n      whiteSpace: 'nowrap',\n      position: 'relative',\n      background: 'inherit',\n    },\n    editor: {\n      color: 'rgba(0,0,0,0)',\n    },\n    input: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      left: 0,\n      fontSize: 'inherit',\n      padding: 0,\n      border: '0 none',\n      appearance: 'none',\n      color: 'inherit',\n      background: 'inherit',\n    },\n    icon: {\n      width: '16px',\n      height: '16px',\n      marginLeft: '10px',\n      opacity: 0,\n    },\n  }),\n)\n\ninterface ProjectTabProps {\n  name: string\n  value: number\n  selected?: boolean\n  useRemove?: boolean\n  onRemove?: (\n    e: React.MouseEvent<SVGSVGElement, MouseEvent>,\n    value: number,\n  ) => void\n  onChange?: (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    value: number,\n  ) => void\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n  onRename?: (name: string, value: number) => void\n}\n\nconst ProjectTab: FunctionComponent<ProjectTabProps> = (\n  props: ProjectTabProps,\n) => {\n  const {\n    name,\n    useRemove,\n    selected,\n    value,\n    onChange,\n    onClick,\n    onRemove,\n    onRename,\n  } = props\n  const [editor, setEditor] = useState(false)\n  const [sname, setSName] = useState(name)\n  const editorRef = useRef<HTMLInputElement>(null)\n  const classes = useStyles()\n\n  const handleRemove = (e: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    e.stopPropagation()\n    if (onRemove) onRemove(e, value)\n  }\n\n  const handleSelect = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ): void => {\n    e.stopPropagation()\n    if (onChange) onChange(e, value)\n    if (onClick) onClick(e)\n  }\n\n  const handleDoubleClick = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ): void => {\n    e.stopPropagation()\n    if (editorRef.current) {\n      setEditor(true)\n    }\n  }\n\n  const handleEditorEnd = (e: { preventDefault?(): void }) => {\n    if (e.preventDefault) e.preventDefault()\n    setEditor(false)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.keyCode === 13 && editorRef.current) {\n      editorRef.current.blur()\n    }\n  }\n\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSName(e.target.value)\n  }\n\n  useEffect(() => {\n    if (editor && editorRef.current) editorRef.current.focus()\n    if (!editor && onRename) onRename(sname, value)\n  }, [editor, onRename, sname, value])\n\n  useEffect(() => {\n    setSName(name)\n  }, [name])\n\n  return (\n    <div\n      aria-hidden\n      className={clsx(classes.root, {\n        [classes.selected]: selected,\n      })}\n      onClick={handleSelect}\n      onDoubleClick={handleDoubleClick}\n      title='Double click rename'\n    >\n      <span aria-hidden className={classes.name}>\n        {editor ? sname : name}\n        <input\n          className={classes.input}\n          hidden={!editor}\n          ref={editorRef}\n          value={editor ? sname : name}\n          type='text'\n          onKeyDown={handleKeyDown}\n          onBlur={handleEditorEnd}\n          //   onInput={handleInput}\n          onChange={handleInput}\n        />\n      </span>\n      {useRemove ? (\n        <CloseIcon\n          className={classes.icon}\n          onClick={handleRemove}\n          onDoubleClick={handleRemove}\n        />\n      ) : null}\n    </div>\n  )\n}\n\nexport default ProjectTab\n","import React, { FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport { useWorkspace } from 'src/store/hooks'\nimport ProjectTab from './ProjectTab'\n\nconst useStyles = makeStyles(({ palette, shadows }) =>\n  createStyles({\n    root: {\n      minHeight: 'auto',\n      width: '100%',\n      boxShadow: shadows[2],\n      background: palette.background.sidebar,\n      position: 'relative',\n      zIndex: 1,\n    },\n  }),\n)\n\nconst ProjectTabs: FunctionComponent<unknown> = () => {\n  const classes = useStyles()\n  const workSpace = useWorkspace()\n  const {\n    addProject,\n    selectProject,\n    removeProject,\n    setProjectName,\n    namedList,\n    activeId,\n  } = workSpace\n\n  const handleChange = (e: unknown, value: number): void => {\n    selectProject(value)\n  }\n\n  const handleRemove = (\n    e: React.MouseEvent<SVGSVGElement, MouseEvent>,\n    value?: number,\n  ): void => {\n    if (typeof value !== 'undefined') removeProject(value)\n  }\n\n  const handleDoubleClick = (): void => {\n    addProject()\n  }\n\n  return (\n    <Tabs\n      classes={classes}\n      value={activeId}\n      onChange={handleChange}\n      indicatorColor='primary'\n      textColor='primary'\n      variant='scrollable'\n      scrollButtons='off'\n      selectionFollowsFocus\n      TabIndicatorProps={{ hidden: true }}\n      onDoubleClick={handleDoubleClick}\n    >\n      {namedList.map((item) => {\n        return (\n          <ProjectTab\n            useRemove={namedList.length > 1}\n            name={item.name}\n            value={item.id}\n            key={item.id}\n            onRename={setProjectName}\n            onRemove={handleRemove}\n          />\n        )\n      })}\n    </Tabs>\n  )\n}\n\nexport default observer(ProjectTabs)\n","import React, { FunctionComponent, useState, useRef } from 'react'\nimport { observer } from 'mobx-react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport Popper from '@material-ui/core/Popper'\nimport Slider from '@material-ui/core/Slider'\nimport Switch from '@material-ui/core/Switch'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport MenuList from '@material-ui/core/MenuList'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\n\nimport { useProjectUi } from 'src/store/hooks'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    slider: {\n      width: '200px',\n    },\n  }),\n)\n\nconst ControlerBar: FunctionComponent<unknown> = () => {\n  const {\n    scale,\n    setTransform,\n    previewScale,\n    setPreviewTransform,\n    showPreview,\n    setShowPreview,\n  } = useProjectUi()\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const anchorRef = useRef<HTMLButtonElement>(null)\n  const [list] = useState([0.25, 0.5, 0.75, 1, 1.25, 1.5, 5, 10])\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen)\n  }\n\n  const handleClose = (event: React.MouseEvent<EventTarget>) => {\n    if (\n      anchorRef.current &&\n      anchorRef.current.contains(event.target as HTMLElement)\n    ) {\n      return\n    }\n\n    setOpen(false)\n  }\n\n  const handleChange = (event: unknown, val: number | number[]) => {\n    if (showPreview) {\n      setPreviewTransform({ previewScale: val as number })\n    } else {\n      setTransform({ scale: val as number })\n    }\n  }\n\n  const handleSelect = (val: number) => {\n    // setTransform({ scale: val })\n    handleChange(null, val)\n    setOpen(false)\n  }\n\n  return (\n    <Box paddingX={2} display='flex' justifyContent='space-between'>\n      <Box component='label' display='flex' alignItems='center'>\n        Preview\n        <Switch\n          size='small'\n          color='primary'\n          checked={showPreview}\n          onChange={(e) => setShowPreview(e.target.checked)}\n        />\n      </Box>\n      <Slider\n        className={classes.slider}\n        value={showPreview ? previewScale : scale}\n        min={0.01}\n        max={10}\n        step={0.01}\n        onChange={handleChange}\n      />\n      <Button ref={anchorRef} onClick={handleToggle}>\n        {`${Math.round((showPreview ? previewScale : scale) * 1000) / 10}%`}\n      </Button>\n      <Popper open={open} anchorEl={anchorRef.current} placement='top-end'>\n        <Paper>\n          <ClickAwayListener onClickAway={handleClose}>\n            <MenuList>\n              {list.map((n) => (\n                <MenuItem key={n} onClick={() => handleSelect(n)}>\n                  {`${n * 100}%`}\n                </MenuItem>\n              ))}\n            </MenuList>\n          </ClickAwayListener>\n        </Paper>\n      </Popper>\n    </Box>\n  )\n}\n\nexport default observer(ControlerBar)\n","import React, { useState, FunctionComponent } from 'react'\nimport { observer } from 'mobx-react'\n\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport InputBase from '@material-ui/core/InputBase'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { GlyphImage } from 'src/store'\nimport { useProject } from 'src/store/hooks'\n\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: theme.spacing(24),\n      height: theme.spacing(24),\n      margin: theme.spacing(2),\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      position: 'relative',\n    },\n    image: {\n      maxWidth: '100%',\n      maxHeight: '100%',\n      pointerEvents: 'none',\n    },\n    actions: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      left: 0,\n      top: 0,\n    },\n    inputLabel: {\n      width: '100%',\n      height: '100%',\n      '& input': {\n        textAlign: 'center',\n      },\n    },\n  }),\n)\n\ninterface ImageGlyphProps {\n  glyph: GlyphImage\n  selected?: boolean\n}\n\nconst ImageGlyph: FunctionComponent<ImageGlyphProps> = (\n  props: ImageGlyphProps,\n) => {\n  const classes = useStyles()\n  const { removeImage } = useProject()\n  const [isIME, setIsIME] = useState(false)\n  const { glyph } = props\n  const [inputValue, setInputValue] = useState(glyph.letter)\n  const { changeSelect, selected, setGlyph } = glyph\n\n  const handleChangeGlyph = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const { value } = e.target\n    if (!isIME) {\n      setGlyph(value)\n    } else {\n      setInputValue(value.slice(0, 1))\n      setGlyph(value.slice(0, 1))\n    }\n  }\n\n  const handleCompositionEnd = (): void => {\n    setIsIME(false)\n    setInputValue((iv) => iv.slice(0, 1))\n    setGlyph(inputValue.slice(0, 1))\n  }\n\n  return (\n    <Paper variant='outlined' className={classes.root}>\n      <img className={classes.image} src={glyph.src} alt={glyph.fileName} />\n      <Grid container direction='column' className={classes.actions}>\n        <Grid item container justify='space-between' alignItems='center'>\n          <Checkbox\n            checked={selected}\n            size='small'\n            color='default'\n            onChange={(e) => changeSelect(e.target.checked)}\n          />\n          <IconButton\n            color='primary'\n            size='small'\n            onClick={() => removeImage(glyph)}\n          >\n            <DeleteIcon fontSize='small' />\n          </IconButton>\n        </Grid>\n        <Grid\n          item\n          xs\n          component='label'\n          className={classes.inputLabel}\n          container\n          alignItems='flex-end'\n        >\n          <InputBase\n            fullWidth\n            value={isIME ? inputValue : glyph.letter}\n            onFocus={(e) => e.target.select()}\n            onInput={handleChangeGlyph}\n            onCompositionEnd={handleCompositionEnd}\n            onCompositionStart={() => setIsIME(true)}\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n\nexport default observer(ImageGlyph)\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { makeStyles, createStyles } from '@material-ui/core'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nimport { useProject } from 'src/store/hooks'\r\n\r\nimport ImageGlyph from './ImageGlyph'\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n  }),\r\n)\r\n\r\nconst ImageGlyphList: FunctionComponent<unknown> = () => {\r\n  const { glyphImages } = useProject()\r\n  const classes = useStyles()\r\n  return (\r\n    <Box className={classes.root}>\r\n      {glyphImages.map((glyph) => {\r\n        return <ImageGlyph glyph={glyph} key={glyph.src} />\r\n      })}\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default observer(ImageGlyphList)\r\n","import React, { FunctionComponent, useState, useEffect } from 'react'\nimport { observer } from 'mobx-react'\nimport clsx from 'clsx'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit'\nimport IconButton from '@material-ui/core/IconButton'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary'\n\nimport { FileInfo } from 'src/store'\nimport { useProject } from 'src/store/hooks'\n\nimport readFile from 'src/utils/readFile'\n\nimport ImageGlyphList from './ImageGlyphList'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      position: 'relative',\n    },\n    fixed: {\n      position: 'fixed',\n      left: 0,\n      top: 0,\n      zIndex: 999999,\n      width: '100%',\n      height: '100%',\n      '& $panel': {\n        maxHeight: 'none',\n      },\n    },\n    panel: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      maxHeight: '305px',\n    },\n    continer: {\n      flex: 1,\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    listWrap: {\n      minHeight: '224px',\n      height: '100%',\n      width: '100%',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n  }),\n)\n\nconst LayerBox: FunctionComponent<unknown> = () => {\n  const classes = useStyles()\n  const { addImages } = useProject()\n  const [isFullscreen, setFullscreen] = useState(false)\n  const [open, setOpen] = useState(false)\n  // const [isDroping, setIsDroping] = useState(false)\n\n  const handleLoadFile = (files: FileList) => {\n    const list = Array.from(files).filter((file) => /^image\\//.test(file.type))\n    if (!list.length) return\n    Promise.all(\n      list.map((file) =>\n        readFile(file).then((buffer) => {\n          if (!buffer || typeof buffer === 'string') return null\n\n          const matched = file.name.match(/(\\S)\\.[a-zA-Z0-9]+$/i)\n          return {\n            letter: matched ? matched[1] : '',\n            fileName: file.name,\n            fileType: file.type,\n            buffer,\n          }\n        }),\n      ),\n    ).then((fileList) => {\n      addImages(fileList.filter((f) => f) as FileInfo[])\n    })\n  }\n\n  const handleDrop = (e: React.DragEvent<HTMLElement>): void => {\n    e.preventDefault()\n    handleLoadFile(e.dataTransfer.files)\n  }\n\n  const hanfleToggleFullScreen = (\n    e?: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ) => {\n    if (e) e.stopPropagation()\n    setFullscreen((f) => !f)\n  }\n\n  const handleToggleOpen = () => {\n    setOpen((o) => isFullscreen || !o)\n  }\n  const handleFilesChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    if (!e.target.files) return\n    const { files } = e.target\n    handleLoadFile(files)\n  }\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    const target = e.target as HTMLElement\n    if (e.keyCode === 27) {\n      if (!target || target.tagName !== 'INPUT') setFullscreen(false)\n      else if (target) target.blur()\n    }\n  }\n\n  useEffect(() => {\n    if (isFullscreen) window.addEventListener('keydown', handleKeyDown)\n    else window.removeEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [isFullscreen])\n\n  return (\n    <Box\n      onDragEnter={(e) => e.preventDefault()}\n      onDragOver={(e) => e.preventDefault()}\n      // onDragLeave={handleDrop}\n      onDrop={handleDrop}\n      className={clsx(classes.root, {\n        [classes.fixed]: isFullscreen,\n      })}\n    >\n      <Accordion\n        className={classes.panel}\n        expanded={isFullscreen || open}\n        onChange={handleToggleOpen}\n        TransitionProps={{\n          style:\n            isFullscreen || open\n              ? { flex: 1, overflow: 'hidden', overflowY: 'auto' }\n              : {},\n        }}\n      >\n        <AccordionSummary\n          expandIcon={isFullscreen ? undefined : <ExpandMoreIcon />}\n        >\n          <Grid container alignItems='center'>\n            <Grid item>\n              <Typography>Image Glyph List</Typography>\n            </Grid>\n            <Grid item xs container justify='center'>\n              <Button\n                component='label'\n                color='primary'\n                size='small'\n                variant='contained'\n                startIcon={<PhotoLibraryIcon />}\n              >\n                Select Images\n                <input\n                  hidden\n                  type='file'\n                  multiple\n                  accept='image/*'\n                  onChange={handleFilesChange}\n                />\n              </Button>\n            </Grid>\n            <Grid item>\n              <IconButton component='div' onClick={hanfleToggleFullScreen}>\n                {isFullscreen ? <FullscreenExitIcon /> : <FullscreenIcon />}\n              </IconButton>\n            </Grid>\n          </Grid>\n        </AccordionSummary>\n        <AccordionDetails className={classes.continer}>\n          <Box className={classes.listWrap}>\n            <ImageGlyphList />\n          </Box>\n        </AccordionDetails>\n      </Accordion>\n    </Box>\n  )\n}\nexport default observer(LayerBox)\n","import React, { FunctionComponent } from 'react'\nimport Box from '@material-ui/core/Box'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nimport MainView from './modules/MainView'\nimport ProjectTabs from './modules/ProjectTabs'\nimport ControlerBar from './modules/ControlerBar'\nimport ImageGlyphList from './modules/ImageGlyphList'\n\nconst useStyles = makeStyles(({ palette, shadows }) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      width: 0,\n    },\n    tabsRoot: {\n      minHeight: 'auto',\n      width: '100%',\n      boxShadow: shadows[2],\n      background: palette.background.sidebar,\n      position: 'relative',\n      zIndex: 1,\n    },\n    tabRoot: {\n      minHeight: 'auto',\n      minWidth: 'auto',\n      maxWidth: 'none',\n      height: '34px',\n      color: 'rgba(255,255,255,0.5)',\n      borderRight: `1px solid ${palette.background.default}`,\n      textTransform: 'none',\n    },\n    tabSelected: {\n      background: palette.background.default,\n    },\n    tabWrapper: {\n      color: '#FFF',\n    },\n  }),\n)\n\nconst WorkSpace: FunctionComponent<unknown> = () => {\n  const classes = useStyles()\n\n  return (\n    <Box className={classes.root}>\n      <ProjectTabs />\n      <MainView />\n      <ControlerBar />\n      <ImageGlyphList />\n    </Box>\n  )\n}\n\nexport default WorkSpace\n","import React from 'react'\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    close: {\r\n      padding: theme.spacing(0.5),\r\n    },\r\n  }),\r\n)\r\n\r\nexport interface SnackbarMessage {\r\n  message: string\r\n  key: number\r\n}\r\n\r\nexport interface State {\r\n  open: boolean\r\n  snackPack: SnackbarMessage[]\r\n  messageInfo?: SnackbarMessage\r\n}\r\n\r\nexport default function ConsecutiveSnackbars() {\r\n  const classes = useStyles()\r\n  const [open, setOpen] = React.useState(false)\r\n\r\n  const handleClose = (\r\n    event: React.SyntheticEvent | MouseEvent,\r\n    reason?: string,\r\n  ) => {\r\n    if (reason === 'clickaway') {\r\n      return\r\n    }\r\n    setOpen(false)\r\n  }\r\n\r\n  const updateVersion = React.useCallback((event) => {\r\n    const { detail } = event\r\n    setOpen(!!detail)\r\n  }, [])\r\n\r\n  const handleReload = () => {\r\n    window.location.reload()\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('updateVerion', updateVersion, false)\r\n    return () =>\r\n      window.removeEventListener('updateVerion', updateVersion, false)\r\n  }, [updateVersion])\r\n\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={open}\r\n      onClose={handleClose}\r\n      message='New version is available.'\r\n      action={\r\n        <React.Fragment>\r\n          <Button color='secondary' size='small' onClick={handleReload}>\r\n            Reload\r\n          </Button>\r\n          <IconButton\r\n            aria-label='close'\r\n            color='inherit'\r\n            className={classes.close}\r\n            onClick={handleClose}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </React.Fragment>\r\n      }\r\n    />\r\n  )\r\n}\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport Box from '@material-ui/core/Box'\r\nimport Backdrop from '@material-ui/core/Backdrop'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\r\n\r\nimport useStores from 'src/store/hooks'\r\n\r\nimport LeftBar from '../LeftBar'\r\nimport TitleBar from '../TitleBar'\r\nimport RightBar from '../RightBar'\r\nimport WorkSpace from '../WorkSpace'\r\nimport UpdateToast from './UpdateToast'\r\n\r\nconst useStyles = makeStyles(({ zIndex }) =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      height: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n    content: {\r\n      display: 'flex',\r\n      flex: 1,\r\n      position: 'relative',\r\n      height: '0',\r\n      overflow: 'hidden',\r\n    },\r\n    loadingBackdrop: {\r\n      zIndex: zIndex.drawer + 1,\r\n      color: '#fff',\r\n    },\r\n  }),\r\n)\r\n\r\nconst Wrap: FunctionComponent<unknown> = () => {\r\n  const classes = useStyles()\r\n  const { ui } = useStores()\r\n\r\n  return (\r\n    <Box className={classes.root}>\r\n      <TitleBar />\r\n      <UpdateToast />\r\n      <Box className={classes.content}>\r\n        <LeftBar />\r\n        <WorkSpace />\r\n        <RightBar />\r\n      </Box>\r\n      <Backdrop className={classes.loadingBackdrop} open={!!ui.globalLoader}>\r\n        <CircularProgress color='inherit' />\r\n      </Backdrop>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default observer(Wrap)\r\n","import React from 'react'\r\nimport { ThemeProvider } from '@material-ui/core/styles'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { Provider } from 'mobx-react'\r\n\r\nimport createStore from 'src/store'\r\nimport theme from './theme'\r\n\r\nimport Wrap from './layout/Wrap'\r\n\r\nfunction App(): JSX.Element {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Provider {...createStore()}>\r\n        <Wrap />\r\n      </Provider>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n    ),\r\n)\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\r\n}\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA',\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.',\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister()\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message)\r\n      })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './app/App'\r\n\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register({\r\n  onUpdate(registration) {\r\n    const worker = registration.waiting\r\n    if (!worker) return\r\n\r\n    const channel = new MessageChannel()\r\n\r\n    channel.port1.onmessage = () => {\r\n      window.dispatchEvent(new CustomEvent('updateVerion', { detail: worker }))\r\n    }\r\n\r\n    worker.postMessage({ type: 'SKIP_WAITING' }, [channel.port2])\r\n  },\r\n})\r\n"],"sourceRoot":""}