(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{173:function(e,t){},488:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Metric",(function(){return ji})),n.d(r,"GradientColor",(function(){return wi})),n.d(r,"Gradient",(function(){return mi})),n.d(r,"PatternTexture",(function(){return vi})),n.d(r,"Fill",(function(){return xi})),n.d(r,"Font",(function(){return ki})),n.d(r,"GlyphFont",(function(){return Pi})),n.d(r,"GlyphImage",(function(){return Si})),n.d(r,"Layout",(function(){return Ti})),n.d(r,"Shadow",(function(){return Mi})),n.d(r,"Style",(function(){return Ii})),n.d(r,"Ui",(function(){return Ci})),n.d(r,"Project",(function(){return Ai})),n.d(r,"default",(function(){return Oi})),n.d(r,"updateToNext",(function(){return Ni}));var o={};n.r(o),n.d(o,"Metric",(function(){return Ei})),n.d(o,"GradientColor",(function(){return Di})),n.d(o,"Gradient",(function(){return Gi})),n.d(o,"PatternTexture",(function(){return Ji})),n.d(o,"Fill",(function(){return Xi})),n.d(o,"Font",(function(){return Yi})),n.d(o,"GlyphFont",(function(){return Hi})),n.d(o,"GlyphImage",(function(){return $i})),n.d(o,"Layout",(function(){return Ri})),n.d(o,"Shadow",(function(){return Wi})),n.d(o,"Style",(function(){return Ui})),n.d(o,"Ui",(function(){return Vi})),n.d(o,"Project",(function(){return qi})),n.d(o,"default",(function(){return Li})),n.d(o,"updateToNext",(function(){return Ki}));var i={};n.r(i),n.d(i,"Metric",(function(){return tl})),n.d(i,"GradientColor",(function(){return nl})),n.d(i,"Gradient",(function(){return rl})),n.d(i,"PatternTexture",(function(){return ol})),n.d(i,"Fill",(function(){return il})),n.d(i,"Font",(function(){return ll})),n.d(i,"GlyphFont",(function(){return al})),n.d(i,"GlyphImage",(function(){return cl})),n.d(i,"Layout",(function(){return sl})),n.d(i,"Shadow",(function(){return ul})),n.d(i,"Style",(function(){return fl})),n.d(i,"Ui",(function(){return pl})),n.d(i,"Project",(function(){return dl})),n.d(i,"default",(function(){return el})),n.d(i,"updateToNext",(function(){return hl}));var l={};n.r(l),n.d(l,"Metric",(function(){return jl})),n.d(l,"GradientColor",(function(){return wl})),n.d(l,"Gradient",(function(){return ml})),n.d(l,"PatternTexture",(function(){return vl})),n.d(l,"Fill",(function(){return xl})),n.d(l,"FontResource",(function(){return kl})),n.d(l,"Font",(function(){return Pl})),n.d(l,"GlyphFont",(function(){return Sl})),n.d(l,"GlyphImage",(function(){return Tl})),n.d(l,"Layout",(function(){return Ml})),n.d(l,"Shadow",(function(){return Il})),n.d(l,"Style",(function(){return Cl})),n.d(l,"Ui",(function(){return Al})),n.d(l,"Project",(function(){return Nl})),n.d(l,"default",(function(){return Ol})),n.d(l,"updateToNext",(function(){return zl}));var a,c,s,u,f=n(0),p=n.n(f),d=n(22),h=n.n(d),y=n(564),b=n(273),g=n(15),O=n(13),j=n(84),w=n(563),m=n(562),v=n(2),x=n(10),k=n(24),P=n(25),S=n(5),T=(n(44),a=v.k.bound,c=v.k.bound,s=function(){function e(){Object(k.a)(this,e),Object(x.a)(this,"globalLoader",u,this)}return Object(P.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),u=Object(S.a)(s.prototype,"globalLoader",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(s.prototype,"showGlobalLoader",[a],Object.getOwnPropertyDescriptor(s.prototype,"showGlobalLoader"),s.prototype),Object(S.a)(s.prototype,"hideGlobalLoader",[c],Object.getOwnPropertyDescriptor(s.prototype,"hideGlobalLoader"),s.prototype),s),M=T,I=n(99),C=n(200),A=n(275);function N(){return new Worker(n.p+"static/js/AutoPacker.ea1294b4f722df64607a.worker.js")}var z,F,B,L,E,D,G,J,X,Y,H,$,R,W,U,V,q,K,Q,Z,_,ee,te={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},ne={num:function(e,t){return te.num(e)?e:t}},re=(z=v.k.bound,F=v.k.bound,B=v.k.bound,L=v.k.bound,E=v.k.bound,D=v.k.bound,G=v.k.bound,J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"scale",X,this),Object(x.a)(this,"offsetX",Y,this),Object(x.a)(this,"offsetY",H,this),Object(x.a)(this,"width",$,this),Object(x.a)(this,"height",R,this),Object(x.a)(this,"previewText",W,this),Object(x.a)(this,"selectLetter",U,this),Object(x.a)(this,"selectNextLetter",V,this),Object(x.a)(this,"showPreview",q,this),Object(x.a)(this,"previewScale",K,this),Object(x.a)(this,"previewOffsetX",Q,this),Object(x.a)(this,"previewOffsetY",Z,this),Object(x.a)(this,"packFailed",_,this),t.previewText&&(this.previewText=t.previewText)}return Object(P.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=ne.num(e.scale,this.scale),this.offsetX=ne.num(e.offsetX,this.offsetX),this.offsetY=ne.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(ne.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=ne.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=ne.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),X=Object(S.a)(J.prototype,"scale",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=Object(S.a)(J.prototype,"offsetX",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=Object(S.a)(J.prototype,"offsetY",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Object(S.a)(J.prototype,"width",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(S.a)(J.prototype,"height",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=Object(S.a)(J.prototype,"previewText",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),U=Object(S.a)(J.prototype,"selectLetter",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=Object(S.a)(J.prototype,"selectNextLetter",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=Object(S.a)(J.prototype,"showPreview",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=Object(S.a)(J.prototype,"previewScale",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=Object(S.a)(J.prototype,"previewOffsetX",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=Object(S.a)(J.prototype,"previewOffsetY",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(S.a)(J.prototype,"packFailed",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(J.prototype,"setTransform",[z],Object.getOwnPropertyDescriptor(J.prototype,"setTransform"),J.prototype),Object(S.a)(J.prototype,"setSize",[F],Object.getOwnPropertyDescriptor(J.prototype,"setSize"),J.prototype),Object(S.a)(J.prototype,"setPreviewText",[B],Object.getOwnPropertyDescriptor(J.prototype,"setPreviewText"),J.prototype),Object(S.a)(J.prototype,"setShowPreview",[L],Object.getOwnPropertyDescriptor(J.prototype,"setShowPreview"),J.prototype),Object(S.a)(J.prototype,"setPreviewTransform",[E],Object.getOwnPropertyDescriptor(J.prototype,"setPreviewTransform"),J.prototype),Object(S.a)(J.prototype,"setSelectLetter",[D],Object.getOwnPropertyDescriptor(J.prototype,"setSelectLetter"),J.prototype),Object(S.a)(J.prototype,"setPackFailed",[G],Object.getOwnPropertyDescriptor(J.prototype,"setPackFailed"),J.prototype),J),oe=re,ie={fontSize:"14px",fontFamily:"sans-serif"};function le(e){var t=Object(g.a)(Object(g.a)({},ie),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),te.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=ie.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var ae,ce,se,ue,fe,pe,de,he,ye,be,ge,Oe,je,we,me,ve,xe,ke,Pe=n(255);var Se,Te,Me,Ie,Ce,Ae,Ne,ze,Fe,Be,Le="sans-serif",Ee=(se=v.k.bound,ue=v.k.bound,fe=v.k.bound,pe=v.k.bound,de=v.k.bound,he=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"fonts",ye,this),Object(x.a)(this,"size",be,this),Object(x.a)(this,"lineHeight",ge,this),Object(x.a)(this,"middle",Oe,this),Object(x.a)(this,"hanging",je,this),Object(x.a)(this,"top",we,this),Object(x.a)(this,"alphabetic",me,this),Object(x.a)(this,"ideographic",ve,this),Object(x.a)(this,"bottom",xe,this),Object(x.a)(this,"sharp",ke,this),this.size=n.size||72,this.sharp=te.num(n.sharp)?n.sharp:80,n.fonts&&n.fonts.length?n.fonts.forEach((function(e){return t.addFont(e.font)})):this.updateBaseines()}return Object(P.a)(e,[{key:"mainFont",get:function(){return this.fonts.length>0?this.fonts[0]:null}},{key:"mainFamily",get:function(){return this.mainFont?this.mainFont.family:Le}},{key:"opentype",get:function(){return this.mainFont?this.mainFont.opentype:null}},{key:"family",get:function(){return this.fonts.map((function(e){return'"'.concat(e.family,'"')})).join(",")||Le}},{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}},{key:"updateBaseines",value:function(){var e,t;t=(null===(e=this.mainFont)||void 0===e?void 0:e.opentype)?function(e,t){var n=t/e.unitsPerEm,r=e.ascender-e.descender,o=r*n;return{middle:0,hanging:0,top:o/-2,alphabetic:e.ascender*n-o/2,ideographic:0,bottom:o/2,lineHeight:r/e.unitsPerEm}}(this.mainFont.opentype,this.size):function(e,t){ee||(ee=document.createElement("canvas"));var n=ee.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=le(t);ee.width=1,ee.height=1,n.font=r,n.textBaseline="middle";var o=n.measureText(e);n.textBaseline="hanging";var i=n.measureText(e);n.textBaseline="top";var l=n.measureText(e);n.textBaseline="alphabetic";var a=n.measureText(e);n.textBaseline="ideographic";var c=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e),u={middle:0,hanging:i.actualBoundingBoxAscent-o.actualBoundingBoxAscent,top:l.actualBoundingBoxAscent-o.actualBoundingBoxAscent,alphabetic:o.actualBoundingBoxDescent-a.actualBoundingBoxDescent,ideographic:o.actualBoundingBoxDescent-c.actualBoundingBoxDescent,bottom:o.actualBoundingBoxDescent-s.actualBoundingBoxDescent,lineHeight:1};return u.lineHeight=(Math.max(u.ideographic,u.bottom)-Math.min(u.hanging,u.top))/t.fontSize,u}("x",{fontFamily:this.family,fontSize:this.size}),this.lineHeight=t.lineHeight,this.middle=t.middle,this.hanging=t.hanging,this.top=t.top,this.alphabetic=t.alphabetic,this.ideographic=t.ideographic,this.bottom=t.bottom}},{key:"addFont",value:function(e){var t,n=this;try{t=Object(Pe.a)(e,{lowMemory:!0})}catch(l){return Promise.reject(l)}var r=t.names,o=r.postScriptName[Object.keys(r.postScriptName)[0]];if(this.fonts.find((function(e){return e.family===o})))return Promise.reject(new Error("Font already exists."));var i=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(ae)ae.appendChild(n);else{var r=document.createTextNode("A");ae=document.createElement("style"),ce=document.createElement("div"),document.head.appendChild(ae),ae.appendChild(n),ce.appendChild(r),ce.style.position="absolute",ce.style.left="-1000px",ce.style.top="-1000px",ce.style.opacity="0",ce.style.fontSize="12px",ce.style.pointerEvents="none",document.body.appendChild(ce)}return ce.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(o,i).then((function(){Object(v.F)((function(){n.fonts.push({font:e,family:o,opentype:t}),n.updateBaseines()}))}))}},{key:"removeFont",value:function(e){var t=this.fonts.indexOf(e);-1!==t&&(this.fonts.splice(t,1),0===t&&this.updateBaseines())}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}},{key:"setSharp",value:function(e){this.sharp=e}}]),e}(),ye=Object(S.a)(he.prototype,"fonts",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=Object(S.a)(he.prototype,"size",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Object(S.a)(he.prototype,"lineHeight",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Oe=Object(S.a)(he.prototype,"middle",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=Object(S.a)(he.prototype,"hanging",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=Object(S.a)(he.prototype,"top",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=Object(S.a)(he.prototype,"alphabetic",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=Object(S.a)(he.prototype,"ideographic",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=Object(S.a)(he.prototype,"bottom",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ke=Object(S.a)(he.prototype,"sharp",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Object(S.a)(he.prototype,"mainFont",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"mainFont"),he.prototype),Object(S.a)(he.prototype,"mainFamily",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"mainFamily"),he.prototype),Object(S.a)(he.prototype,"opentype",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"opentype"),he.prototype),Object(S.a)(he.prototype,"family",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"family"),he.prototype),Object(S.a)(he.prototype,"minBaseLine",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"minBaseLine"),he.prototype),Object(S.a)(he.prototype,"maxBaseLine",[v.m],Object.getOwnPropertyDescriptor(he.prototype,"maxBaseLine"),he.prototype),Object(S.a)(he.prototype,"addFont",[se],Object.getOwnPropertyDescriptor(he.prototype,"addFont"),he.prototype),Object(S.a)(he.prototype,"removeFont",[ue],Object.getOwnPropertyDescriptor(he.prototype,"removeFont"),he.prototype),Object(S.a)(he.prototype,"setSize",[fe],Object.getOwnPropertyDescriptor(he.prototype,"setSize"),he.prototype),Object(S.a)(he.prototype,"setLineHeight",[pe],Object.getOwnPropertyDescriptor(he.prototype,"setLineHeight"),he.prototype),Object(S.a)(he.prototype,"setSharp",[de],Object.getOwnPropertyDescriptor(he.prototype,"setSharp"),he.prototype),he),De=Ee,Ge=n(34);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Be||(Be={}));var Je,Xe,Ye,He,$e,Re,We,Ue,Ve,qe,Ke,Qe=(Se=v.B.shallow,Te=v.k.bound,Me=v.k.bound,Ie=v.k.bound,Ce=v.k.bound,Ae=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"type",Ne,this),Object(x.a)(this,"angle",ze,this),Object(x.a)(this,"palette",Fe,this),this.type=n.type&&Be[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(g.a)(Object(g.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"rgba(255,255,255,1)"),this.addColor(1))}return Object(P.a)(e,[{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(Ge.a)(this.ids))+1}},{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0,0,0,1)";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}}]),e}(),Ne=Object(S.a)(Ae.prototype,"type",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=Object(S.a)(Ae.prototype,"angle",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Object(S.a)(Ae.prototype,"palette",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(Ae.prototype,"ids",[v.m],Object.getOwnPropertyDescriptor(Ae.prototype,"ids"),Ae.prototype),Object(S.a)(Ae.prototype,"nextId",[v.m],Object.getOwnPropertyDescriptor(Ae.prototype,"nextId"),Ae.prototype),Object(S.a)(Ae.prototype,"setType",[Te],Object.getOwnPropertyDescriptor(Ae.prototype,"setType"),Ae.prototype),Object(S.a)(Ae.prototype,"setAngle",[Me],Object.getOwnPropertyDescriptor(Ae.prototype,"setAngle"),Ae.prototype),Object(S.a)(Ae.prototype,"addColor",[Ie],Object.getOwnPropertyDescriptor(Ae.prototype,"addColor"),Ae.prototype),Object(S.a)(Ae.prototype,"updatePalette",[Ce],Object.getOwnPropertyDescriptor(Ae.prototype,"updatePalette"),Ae.prototype),Ae),Ze=Qe;function _e(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o+=1)r[o]=t.charCodeAt(o);return r.buffer}var et,tt,nt,rt,ot,it,lt,at,ct,st,ut=(Je=v.B.ref,Xe=v.B.ref,Ye=v.k.bound,He=v.k.bound,$e=v.k.bound,Re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"buffer",We,this),Object(x.a)(this,"image",Ue,this),Object(x.a)(this,"src",Ve,this),Object(x.a)(this,"repetition",qe,this),Object(x.a)(this,"scale",Ke,this),this.scale=ne.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(P.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(v.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),We=Object(S.a)(Re.prototype,"buffer",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _e("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),Ue=Object(S.a)(Re.prototype,"image",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=Object(S.a)(Re.prototype,"src",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qe=Object(S.a)(Re.prototype,"repetition",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),Ke=Object(S.a)(Re.prototype,"scale",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(S.a)(Re.prototype,"setImage",[Ye],Object.getOwnPropertyDescriptor(Re.prototype,"setImage"),Re.prototype),Object(S.a)(Re.prototype,"setRepetition",[He],Object.getOwnPropertyDescriptor(Re.prototype,"setRepetition"),Re.prototype),Object(S.a)(Re.prototype,"setScale",[$e],Object.getOwnPropertyDescriptor(Re.prototype,"setScale"),Re.prototype),Re),ft=ut;!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(st||(st={}));var pt,dt,ht,yt,bt,gt,Ot,jt,wt,mt,vt,xt,kt,Pt,St,Tt,Mt,It,Ct,At,Nt,zt,Ft,Bt,Lt,Et,Dt,Gt,Jt,Xt,Yt,Ht,$t,Rt,Wt,Ut,Vt,qt,Kt,Qt,Zt,_t,en,tn,nn,rn,on,ln,an,cn,sn=(et=v.B.shallow,tt=v.B.shallow,nt=v.k.bound,rt=v.k.bound,ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"type",it,this),Object(x.a)(this,"color",lt,this),Object(x.a)(this,"gradient",at,this),Object(x.a)(this,"patternTexture",ct,this),this.color=t.color||"#000000",this.type=t.type&&st[t.type]?t.type:0,this.gradient=new Ze(t.gradient),this.patternTexture=new ft(t.patternTexture)}return Object(P.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),it=Object(S.a)(ot.prototype,"type",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Object(S.a)(ot.prototype,"color",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Object(S.a)(ot.prototype,"gradient",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Object(S.a)(ot.prototype,"patternTexture",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(S.a)(ot.prototype,"setType",[nt],Object.getOwnPropertyDescriptor(ot.prototype,"setType"),ot.prototype),Object(S.a)(ot.prototype,"setColor",[rt],Object.getOwnPropertyDescriptor(ot.prototype,"setColor"),ot.prototype),ot),un=sn,fn=n(53),pn=n(116),dn=n(115),hn=(pt=v.k.bound,dt=v.k.bound,ht=v.k.bound,yt=v.k.bound,bt=function(e){Object(pn.a)(n,e);var t=Object(dn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(k.a)(this,n),e=t.call(this,r),Object(x.a)(e,"width",gt,Object(fn.a)(e)),Object(x.a)(e,"lineCap",Ot,Object(fn.a)(e)),Object(x.a)(e,"lineJoin",jt,Object(fn.a)(e)),Object(x.a)(e,"strokeType",wt,Object(fn.a)(e)),e.width=ne.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e.strokeType=r.strokeType||0,e}return Object(P.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}},{key:"setStrokeType",value:function(e){this.strokeType=e}}]),n}(un),gt=Object(S.a)(bt.prototype,"width",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ot=Object(S.a)(bt.prototype,"lineCap",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Object(S.a)(bt.prototype,"lineJoin",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Object(S.a)(bt.prototype,"strokeType",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(S.a)(bt.prototype,"setWidth",[pt],Object.getOwnPropertyDescriptor(bt.prototype,"setWidth"),bt.prototype),Object(S.a)(bt.prototype,"setLineCap",[dt],Object.getOwnPropertyDescriptor(bt.prototype,"setLineCap"),bt.prototype),Object(S.a)(bt.prototype,"setLineJoin",[ht],Object.getOwnPropertyDescriptor(bt.prototype,"setLineJoin"),bt.prototype),Object(S.a)(bt.prototype,"setStrokeType",[yt],Object.getOwnPropertyDescriptor(bt.prototype,"setStrokeType"),bt.prototype),bt),yn=hn,bn=(mt=v.k.bound,vt=v.k.bound,xt=v.k.bound,kt=v.k.bound,Pt=v.k.bound,St=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"color",Tt,this),Object(x.a)(this,"blur",Mt,this),Object(x.a)(this,"offsetX",It,this),Object(x.a)(this,"offsetY",Ct,this),this.color=t.color||"#000000",this.blur=ne.num(t.blur,1),this.offsetX=ne.num(t.offsetX,1),this.offsetY=ne.num(t.offsetY,1)}return Object(P.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),Tt=Object(S.a)(St.prototype,"color",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=Object(S.a)(St.prototype,"blur",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),It=Object(S.a)(St.prototype,"offsetX",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ct=Object(S.a)(St.prototype,"offsetY",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(S.a)(St.prototype,"setColor",[mt],Object.getOwnPropertyDescriptor(St.prototype,"setColor"),St.prototype),Object(S.a)(St.prototype,"setBlur",[vt],Object.getOwnPropertyDescriptor(St.prototype,"setBlur"),St.prototype),Object(S.a)(St.prototype,"setOffsetX",[xt],Object.getOwnPropertyDescriptor(St.prototype,"setOffsetX"),St.prototype),Object(S.a)(St.prototype,"setOffsetY",[kt],Object.getOwnPropertyDescriptor(St.prototype,"setOffsetY"),St.prototype),Object(S.a)(St.prototype,"setOffset",[Pt],Object.getOwnPropertyDescriptor(St.prototype,"setOffset"),St.prototype),St),gn=bn,On=(At=v.k.bound,Nt=v.k.bound,zt=v.k.bound,Ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"font",Bt,this),Object(x.a)(this,"fill",Lt,this),Object(x.a)(this,"useStroke",Et,this),Object(x.a)(this,"stroke",Dt,this),Object(x.a)(this,"useShadow",Gt,this),Object(x.a)(this,"shadow",Jt,this),Object(x.a)(this,"bgColor",Xt,this),this.font=new De(t.font),this.fill=new un(t.fill),this.stroke=new yn(t.stroke),this.shadow=new gn(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(P.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),Bt=Object(S.a)(Ft.prototype,"font",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Object(S.a)(Ft.prototype,"fill",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Object(S.a)(Ft.prototype,"useStroke",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Object(S.a)(Ft.prototype,"stroke",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Object(S.a)(Ft.prototype,"useShadow",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=Object(S.a)(Ft.prototype,"shadow",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=Object(S.a)(Ft.prototype,"bgColor",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(S.a)(Ft.prototype,"setUseStroke",[At],Object.getOwnPropertyDescriptor(Ft.prototype,"setUseStroke"),Ft.prototype),Object(S.a)(Ft.prototype,"setUseShadow",[Nt],Object.getOwnPropertyDescriptor(Ft.prototype,"setUseShadow"),Ft.prototype),Object(S.a)(Ft.prototype,"setBgColor",[zt],Object.getOwnPropertyDescriptor(Ft.prototype,"setBgColor"),Ft.prototype),Ft),jn=On,wn=(Yt=v.k.bound,Ht=v.k.bound,$t=v.k.bound,Rt=v.k.bound,Wt=v.k.bound,Ut=v.k.bound,Vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"padding",qt,this),Object(x.a)(this,"spacing",Kt,this),Object(x.a)(this,"width",Qt,this),Object(x.a)(this,"height",Zt,this),Object(x.a)(this,"auto",_t,this),Object(x.a)(this,"fixedSize",en,this),this.padding=ne.num(t.padding,1),this.spacing=ne.num(t.spacing,1),this.width=ne.num(t.width,1024),this.height=ne.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(P.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),qt=Object(S.a)(Vt.prototype,"padding",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Kt=Object(S.a)(Vt.prototype,"spacing",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qt=Object(S.a)(Vt.prototype,"width",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Zt=Object(S.a)(Vt.prototype,"height",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),_t=Object(S.a)(Vt.prototype,"auto",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),en=Object(S.a)(Vt.prototype,"fixedSize",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(Vt.prototype,"setPadding",[Yt],Object.getOwnPropertyDescriptor(Vt.prototype,"setPadding"),Vt.prototype),Object(S.a)(Vt.prototype,"setSpacing",[Ht],Object.getOwnPropertyDescriptor(Vt.prototype,"setSpacing"),Vt.prototype),Object(S.a)(Vt.prototype,"setWidth",[$t],Object.getOwnPropertyDescriptor(Vt.prototype,"setWidth"),Vt.prototype),Object(S.a)(Vt.prototype,"setHeight",[Rt],Object.getOwnPropertyDescriptor(Vt.prototype,"setHeight"),Vt.prototype),Object(S.a)(Vt.prototype,"setAuto",[Wt],Object.getOwnPropertyDescriptor(Vt.prototype,"setAuto"),Vt.prototype),Object(S.a)(Vt.prototype,"setFixedSize",[Ut],Object.getOwnPropertyDescriptor(Vt.prototype,"setFixedSize"),Vt.prototype),Vt),mn=wn,vn=(tn=v.k.bound,nn=v.k.bound,rn=v.k.bound,on=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"xAdvance",ln,this),Object(x.a)(this,"xOffset",an,this),Object(x.a)(this,"yOffset",cn,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(P.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),ln=Object(S.a)(on.prototype,"xAdvance",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),an=Object(S.a)(on.prototype,"xOffset",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cn=Object(S.a)(on.prototype,"yOffset",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(on.prototype,"setXAdvance",[tn],Object.getOwnPropertyDescriptor(on.prototype,"setXAdvance"),on.prototype),Object(S.a)(on.prototype,"setXOffset",[nn],Object.getOwnPropertyDescriptor(on.prototype,"setXOffset"),on.prototype),Object(S.a)(on.prototype,"setYOffset",[rn],Object.getOwnPropertyDescriptor(on.prototype,"setYOffset"),on.prototype),on),xn=vn;function kn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,o=e.height,i=0,l=0,a=0,c=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(o/2),h=Math.ceil(r/2),y=0;y<d;y+=1){for(var b=0;b<r&&(s&&n[4*(y*r+b)+3]>t&&(s=!1),u&&n[4*((o-y-1)*r+b)+3]>t&&(u=!1),s||u);b+=1);if(!s&&!u)break;s&&(i+=1),u&&(l+=1)}if(i+l>=o)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*o,width:0,height:0};d=o-l;for(var g=0;g<h;g+=1){for(var O=i;O<d&&(f&&n[4*(r*O+g)+3]>t&&(f=!1),p&&n[4*(r*O+r-g-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(a+=1),p&&(c+=1)}return{trimOffsetLeft:-1*a,trimOffsetTop:-1*i,width:r-a-c,height:o-i-l}}function Pn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}var Sn,Tn,Mn,In,Cn,An,Nn,zn,Fn,Bn,Ln,En,Dn,Gn,Jn,Xn,Yn,Hn,$n,Rn=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();function Wn(e,t,n,r,o,i){if(0===i.type)return i.color;if(1===i.type){var l,a=i.gradient,c=a.type,s=a.palette,u=a.angle,f=t+r/2,p=n+o/2,d=Math.max(r,o)/2;if(0===c){var h=Pn(f,p,d,u+180),y=Pn(f,p,d,u);l=e.createLinearGradient(h.x,h.y,y.x,y.y)}else l=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){l.addColorStop(e.offset,e.color)})),l}var b=i.patternTexture,g=b.image,O=b.repetition,j=b.scale;if(!g)return"rgba(0,0,0,0)";var w=e.createPattern(g,O);return w?(w.setTransform(Rn.scale(j).translate(t,n)),w):"rgba(0,0,0,0)"}function Un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;return e*(1-n)+n*Math.round(e/t)*t}function Vn(e,t){e.beginPath();for(var n=0;n<t.length;n+=1){var r=t[n];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}}function qn(e,t){var n=t.font,r=t.stroke,o=t.shadow,i=t.fill,l=n.fonts.find((function(t){var n=t.opentype;return!!n&&!!n.charToGlyph(e).unicode}));if(!l)throw new Error("Not Find Font.");var a=l.opentype,c=a.charToGlyph(e),s=n.size/a.unitsPerEm,u=Math.ceil(a.ascender*s),f=c.getPath(0,u,n.size);!function(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:80)/100,i=0;i<e.commands.length;i++){var l=e.commands[i];"Z"!==l.type&&(l.x=Un(l.x+n,t,o)-n,l.y=Un(l.y+r,t,o)-r),"Q"!==l.type&&"C"!==l.type||(l.x1=Un(l.x1+n,t,o)-n,l.y1=Un(l.y1+r,t,o)-r),"C"===l.type&&(l.x2=Un(l.x2+n,t,o)-n,l.y2=Un(l.y2+r,t,o)-r)}}(f,n.sharp);var p=f.getBoundingBox(),d=a.getAdvanceWidth(e,n.size),h=(a.ascender-a.descender)*s,y={text:e,font:n.family,width:Math.ceil(p.x2)-Math.floor(p.x1),height:Math.ceil(p.y2)-Math.floor(p.y1),fontWidth:d,fontHeight:h,trimOffsetTop:-1*Math.round(p.y1),trimOffsetLeft:-1*Math.round(p.x1),trimOffsetRight:-1*Math.round(d-p.x1),trimOffsetBottom:-1*Math.round(h-p.y2)},b=y.width,O=y.height,j=y.trimOffsetLeft,w=y.trimOffsetTop;if(0===b||0===O)return Object(g.a)({canvas:null},y);var m=r?2*r.width:0,v=m,x=m;if(o){var k=Math.ceil(1.5*o.blur);v+=Math.abs(o.offsetX)+k,x+=Math.abs(o.offsetY)+k}var P=document.createElement("canvas"),S=P.getContext("2d");if(P.width=b+2*v,P.height=O+2*x,S.translate(v+j,x+w),Vn(S,f.commands),S.fillStyle=Wn(S,0,0,d,h,i),S.fill(),r&&m){var T=document.createElement("canvas");T.width=P.width,T.height=P.height;var M=T.getContext("2d");M.translate(v+j,x+w),M.lineCap=r.lineCap,M.lineJoin=r.lineJoin,M.strokeStyle=f.stroke=Wn(M,0,0,d,h,r),M.fillStyle="#000000",1===r.strokeType?M.lineWidth=f.strokeWidth=r.width:M.lineWidth=f.strokeWidth=m,Vn(M,f.commands),2===r.strokeType?(M.fill(),M.globalCompositeOperation="source-in",M.stroke()):1===r.strokeType?M.stroke():(M.stroke(),M.globalCompositeOperation="destination-out",M.fill()),M.globalCompositeOperation="source-over",S.setTransform(1,0,0,1,0,0),S.drawImage(T,0,0)}if(o){var I=document.createElement("canvas");I.width=b+2*v,I.height=O+2*x;var C=I.getContext("2d");C.shadowColor=o.color,C.shadowBlur=o.blur,C.shadowOffsetX=o.offsetX,C.shadowOffsetY=o.offsetY,C.drawImage(P,0,0),P=I,S=C}if(0===P.width||0===P.height)return Object(g.a)({canvas:P},y);var A=S.getImageData(0,0,P.width,P.height),N=kn(A);return P.width=y.width=N.width,P.height=y.height=N.height,S.putImageData(A,N.trimOffsetLeft,N.trimOffsetTop),y.trimOffsetLeft+=v+N.trimOffsetLeft,y.trimOffsetTop+=x+N.trimOffsetTop,y.trimOffsetBottom+=x+(O+2*x+N.trimOffsetTop-N.height),Object(g.a)({canvas:P},y)}function Kn(e,t){var n=t.font,r=t.stroke,o=t.shadow,i=t.fill,l=function(e,t){Sn||(Sn=document.createElement("canvas"));var n=Sn.getContext("2d");if(!n)throw new Error("Get context 2d failed.");Sn.width=1,Sn.height=1;var r=le(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var o,i,l=n.measureText(e);if("undefined"===typeof l.actualBoundingBoxLeft)return{text:e,font:r,width:l.width,height:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),fontWidth:l.width,fontHeight:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var a=n.measureText(e),c=Math.ceil(l.actualBoundingBoxLeft),s=Math.ceil(a.actualBoundingBoxRight),u=Math.ceil(a.actualBoundingBoxAscent),f=Math.ceil(l.actualBoundingBoxDescent);return{text:e,font:r,width:c+Math.ceil(l.actualBoundingBoxRight),height:f+Math.ceil(l.actualBoundingBoxAscent),fontWidth:Math.ceil(l.width),fontHeight:l.actualBoundingBoxAscent-a.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:c,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),a=l.width,c=l.height,s=l.trimOffsetLeft,u=l.trimOffsetTop;if(0===a||0===c)return Object(g.a)({canvas:null},l);var f=r?2*r.width:0,p=f,d=f,h=(a-n.size)/2,y=u;if(o){var b=Math.ceil(1.5*o.blur);p+=Math.abs(o.offsetX)+b,d+=Math.abs(o.offsetY)+b}h+=p,y+=d;var O=document.createElement("canvas"),j=O.getContext("2d");if(O.width=a+2*p,O.height=c+2*d,j.textAlign="left",j.textBaseline="top",j.font=le({fontSize:n.size,fontFamily:n.family}),j.fillStyle=Wn(j,h,y,n.size,n.size,i),j.fillText(e,p+s,d+u),r&&f){var w=document.createElement("canvas");w.width=O.width,w.height=O.height;var m=w.getContext("2d");m.textAlign="left",m.textBaseline="top",m.font=le({fontSize:n.size,fontFamily:n.family}),m.lineCap=r.lineCap,m.lineJoin=r.lineJoin,m.strokeStyle=Wn(m,h,y,n.size,n.size,r),m.fillStyle="#000000",1===r.strokeType?m.lineWidth=r.width:m.lineWidth=f,2===r.strokeType?(m.fillText(e,p+s,d+u),m.globalCompositeOperation="source-in",m.strokeText(e,p+s,d+u)):1===r.strokeType?m.strokeText(e,p+s,d+u):(m.strokeText(e,p+s,d+u),m.globalCompositeOperation="destination-out",m.fillText(e,p+s,d+u)),m.globalCompositeOperation="source-over",j.drawImage(w,0,0)}if(o){var v=document.createElement("canvas");v.width=a+2*p,v.height=c+2*d;var x=v.getContext("2d");x.shadowColor=o.color,x.shadowBlur=o.blur,x.shadowOffsetX=o.offsetX,x.shadowOffsetY=o.offsetY,x.drawImage(O,0,0),O=v,j=x}if(0===O.width||0===O.height)return Object(g.a)({canvas:O},l);var k=j.getImageData(0,0,O.width,O.height),P=kn(k);return O.width=P.width,O.height=P.height,l.width=P.width,l.height=P.height,j.putImageData(k,P.trimOffsetLeft,P.trimOffsetTop),l.trimOffsetLeft+=p+P.trimOffsetLeft,l.trimOffsetTop+=d+P.trimOffsetTop,l.trimOffsetBottom+=d+(c+2*d+P.trimOffsetTop-P.height),Object(g.a)({canvas:O},l)}var Qn,Zn,_n,er,tr,nr,rr,or,ir,lr,ar,cr=(Tn=v.B.ref,Mn=v.B.ref,In=v.k.bound,Cn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),this.type="text",Object(x.a)(this,"letter",An,this),Object(x.a)(this,"source",Nn,this),Object(x.a)(this,"width",zn,this),Object(x.a)(this,"height",Fn,this),Object(x.a)(this,"x",Bn,this),Object(x.a)(this,"y",Ln,this),Object(x.a)(this,"fontWidth",En,this),Object(x.a)(this,"fontHeight",Dn,this),Object(x.a)(this,"trimOffsetTop",Gn,this),Object(x.a)(this,"trimOffsetLeft",Jn,this),Object(x.a)(this,"trimOffsetRight",Xn,this),Object(x.a)(this,"trimOffsetBottom",Yn,this),Object(x.a)(this,"adjustMetric",Hn,this),Object(x.a)(this,"kerning",$n,this),this.letter=t.letter||"",this.adjustMetric=new xn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(P.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),An=Object(S.a)(Cn.prototype,"letter",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nn=Object(S.a)(Cn.prototype,"source",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn=Object(S.a)(Cn.prototype,"width",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fn=Object(S.a)(Cn.prototype,"height",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bn=Object(S.a)(Cn.prototype,"x",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ln=Object(S.a)(Cn.prototype,"y",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),En=Object(S.a)(Cn.prototype,"fontWidth",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dn=Object(S.a)(Cn.prototype,"fontHeight",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gn=Object(S.a)(Cn.prototype,"trimOffsetTop",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jn=Object(S.a)(Cn.prototype,"trimOffsetLeft",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xn=Object(S.a)(Cn.prototype,"trimOffsetRight",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yn=Object(S.a)(Cn.prototype,"trimOffsetBottom",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hn=Object(S.a)(Cn.prototype,"adjustMetric",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Object(S.a)(Cn.prototype,"kerning",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(S.a)(Cn.prototype,"steKerning",[In],Object.getOwnPropertyDescriptor(Cn.prototype,"steKerning"),Cn.prototype),Cn),sr=cr,ur=(Qn=function(e){Object(pn.a)(n,e);var t=Object(dn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return Object(k.a)(this,n),(e=t.call(this,r)).setGlyphInfo(o),e}return Object(P.a)(n,[{key:"setGlyphInfo",value:function(e){var t,n=e.font,r=e.fill,o=e.useStroke,i=e.stroke,l=e.useShadow,a=e.shadow,c={font:n,fill:r};o&&(c.stroke=i),l&&(c.shadow=a);try{t=qn(this.letter,c)}catch(s){t=Kn(this.letter,c)}this.source=t.canvas,this.width=t.width,this.height=t.height,this.fontWidth=t.fontWidth,this.fontHeight=t.fontHeight,this.trimOffsetTop=t.trimOffsetTop,this.trimOffsetLeft=t.trimOffsetLeft,this.trimOffsetRight=t.trimOffsetRight,this.trimOffsetBottom=t.trimOffsetBottom}}]),n}(sr),Object(S.a)(Qn.prototype,"setGlyphInfo",[v.k],Object.getOwnPropertyDescriptor(Qn.prototype,"setGlyphInfo"),Qn.prototype),Qn),fr=ur;var pr,dr,hr,yr,br,gr,Or,jr,wr,mr,vr,xr,kr,Pr,Sr,Tr,Mr,Ir,Cr,Ar,Nr,zr,Fr,Br,Lr,Er,Dr,Gr,Jr,Xr,Yr,Hr,$r,Rr,Wr,Ur,Vr,qr=(Zn=v.B.ref,_n=v.k.bound,er=v.k.bound,tr=v.k.bound,nr=function(e){Object(pn.a)(n,e);var t=Object(dn.a)(n);function n(e){var r;return Object(k.a)(this,n),(r=t.call(this,e)).type="image",Object(x.a)(r,"src",rr,Object(fn.a)(r)),Object(x.a)(r,"buffer",or,Object(fn.a)(r)),Object(x.a)(r,"fileName",ir,Object(fn.a)(r)),Object(x.a)(r,"fileType",lr,Object(fn.a)(r)),Object(x.a)(r,"selected",ar,Object(fn.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(P.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(v.F)("trimImage",(function(){var r=n.naturalWidth,o=n.naturalHeight;e.fontWidth=r,e.fontHeight=o;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.naturalWidth,r=e.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=r;var i=o.getContext("2d");i.drawImage(e,0,0);var l=kn(i.getImageData(0,0,n,r),t);return o.width=l.width,o.height=l.height,i.drawImage(e,l.trimOffsetLeft,l.trimOffsetTop),Object(g.a)({canvas:o},l)}(n);e.width=i.width,e.height=i.height,e.trimOffsetLeft=i.trimOffsetLeft,e.trimOffsetTop=i.trimOffsetTop,e.trimOffsetRight=i.width-i.trimOffsetLeft-r,e.trimOffsetBottom=i.height-i.trimOffsetTop-o,e.source=i.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(sr),rr=Object(S.a)(nr.prototype,"src",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),or=Object(S.a)(nr.prototype,"buffer",[Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ir=Object(S.a)(nr.prototype,"fileName",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lr=Object(S.a)(nr.prototype,"fileType",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ar=Object(S.a)(nr.prototype,"selected",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(S.a)(nr.prototype,"initImage",[_n],Object.getOwnPropertyDescriptor(nr.prototype,"initImage"),nr.prototype),Object(S.a)(nr.prototype,"setGlyph",[er],Object.getOwnPropertyDescriptor(nr.prototype,"setGlyph"),nr.prototype),Object(S.a)(nr.prototype,"changeSelect",[tr],Object.getOwnPropertyDescriptor(nr.prototype,"changeSelect"),nr.prototype),nr),Kr=qr,Qr=(pr=v.B.shallow,dr=v.B.shallow,hr=v.B.ref,yr=v.B.ref,br=v.B.ref,gr=v.B.ref,Or=v.B.ref,jr=v.k.bound,wr=v.k.bound,mr=v.k.bound,vr=v.k.bound,xr=v.k.bound,kr=v.k.bound,Pr=v.k.bound,Sr=v.k.bound,Tr=v.k.bound,Mr=v.k.bound,Ir=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k.a)(this,e),Object(x.a)(this,"name",Cr,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(x.a)(this,"isPacking",Ar,this),Object(x.a)(this,"text",Nr,this),Object(x.a)(this,"glyphs",zr,this),Object(x.a)(this,"glyphImages",Fr,this),Object(x.a)(this,"style",Br,this),Object(x.a)(this,"layout",Lr,this),Object(x.a)(this,"globalAdjustMetric",Er,this),Object(x.a)(this,"packCanvas",Dr,this),Object(x.a)(this,"ui",Gr,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new oe(r.ui),this.style=new jn(r.style),this.layout=new mn(r.layout),this.globalAdjustMetric=new xn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new fr(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new Kr(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new fr({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(P.a)(e,[{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}},{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new A.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker=new N,this.worker.addEventListener("message",Object(v.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,o=0,i=0,l=this.layout,a=l.auto,c=l.fixedSize,s=l.width,u=l.height,f=l.spacing;e.forEach((function(e){var t,l=e.letter,a=e.x,c=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==l)}))),t||(t=n.glyphs.get(l)),t&&(t.x=a||0,t.y=c||0),o=Math.max(o,a+u),i=Math.max(i,c+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,o=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==o)}))),t||(t=n.glyphs.get(o)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),a||!c?this.ui.setSize(o-f,i-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(C.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(C.request)((function(r){for(var o=r.timeRemaining(),i=Date.now();t.length&&o-(Date.now()-i)>-100;){var l=t.shift();l&&l.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(I.a)(this.glyphs,(function(){e.throttlePack()})),Object(I.a)(this.glyphImages,(function(){e.throttlePack()})),Object(I.a)(this.layout,(function(){e.throttlePack()})),Object(I.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var o=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;o.length&&o.forEach((function(t){n.includes(t)?e.glyphs.set(t,new fr({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new Kr(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}}]),e}(),Cr=Object(S.a)(Ir.prototype,"name",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),Ar=Object(S.a)(Ir.prototype,"isPacking",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=Object(S.a)(Ir.prototype,"text",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),zr=Object(S.a)(Ir.prototype,"glyphs",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Fr=Object(S.a)(Ir.prototype,"glyphImages",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Br=Object(S.a)(Ir.prototype,"style",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=Object(S.a)(Ir.prototype,"layout",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er=Object(S.a)(Ir.prototype,"globalAdjustMetric",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=Object(S.a)(Ir.prototype,"packCanvas",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gr=Object(S.a)(Ir.prototype,"ui",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new oe}}),Object(S.a)(Ir.prototype,"glyphList",[v.m],Object.getOwnPropertyDescriptor(Ir.prototype,"glyphList"),Ir.prototype),Object(S.a)(Ir.prototype,"rectangleList",[v.m],Object.getOwnPropertyDescriptor(Ir.prototype,"rectangleList"),Ir.prototype),Object(S.a)(Ir.prototype,"pack",[jr],Object.getOwnPropertyDescriptor(Ir.prototype,"pack"),Ir.prototype),Object(S.a)(Ir.prototype,"setPack",[wr],Object.getOwnPropertyDescriptor(Ir.prototype,"setPack"),Ir.prototype),Object(S.a)(Ir.prototype,"packStyle",[mr],Object.getOwnPropertyDescriptor(Ir.prototype,"packStyle"),Ir.prototype),Object(S.a)(Ir.prototype,"throttlePack",[vr],Object.getOwnPropertyDescriptor(Ir.prototype,"throttlePack"),Ir.prototype),Object(S.a)(Ir.prototype,"setText",[xr],Object.getOwnPropertyDescriptor(Ir.prototype,"setText"),Ir.prototype),Object(S.a)(Ir.prototype,"addGlyphs",[kr],Object.getOwnPropertyDescriptor(Ir.prototype,"addGlyphs"),Ir.prototype),Object(S.a)(Ir.prototype,"addImages",[Pr],Object.getOwnPropertyDescriptor(Ir.prototype,"addImages"),Ir.prototype),Object(S.a)(Ir.prototype,"removeImage",[Sr],Object.getOwnPropertyDescriptor(Ir.prototype,"removeImage"),Ir.prototype),Object(S.a)(Ir.prototype,"setCanvas",[Tr],Object.getOwnPropertyDescriptor(Ir.prototype,"setCanvas"),Ir.prototype),Object(S.a)(Ir.prototype,"setName",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"setName"),Ir.prototype),Ir),Zr=Qr,_r=(Jr=v.B.shallow,Xr=v.k.bound,Yr=v.k.bound,Hr=v.k.bound,$r=v.k.bound,Rr=function(){function e(){var t=this;Object(k.a)(this,e),Object(x.a)(this,"activeId",Wr,this),Object(x.a)(this,"projectList",Ur,this),Object(v.F)((function(){t.activeId=Date.now();var e=new Zr({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(P.a)(e,[{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}},{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))this.activeId=e.id;else{if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new Zr(e);this.projectList.set(n.id,n),this.activeId=n.id}}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}}]),e}(),Wr=Object(S.a)(Rr.prototype,"activeId",[v.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ur=Object(S.a)(Rr.prototype,"projectList",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(S.a)(Rr.prototype,"currentProject",[v.m],Object.getOwnPropertyDescriptor(Rr.prototype,"currentProject"),Rr.prototype),Object(S.a)(Rr.prototype,"namedList",[v.m],Object.getOwnPropertyDescriptor(Rr.prototype,"namedList"),Rr.prototype),Object(S.a)(Rr.prototype,"selectProject",[Xr],Object.getOwnPropertyDescriptor(Rr.prototype,"selectProject"),Rr.prototype),Object(S.a)(Rr.prototype,"removeProject",[Yr],Object.getOwnPropertyDescriptor(Rr.prototype,"removeProject"),Rr.prototype),Object(S.a)(Rr.prototype,"addProject",[Hr],Object.getOwnPropertyDescriptor(Rr.prototype,"addProject"),Rr.prototype),Object(S.a)(Rr.prototype,"setProjectName",[$r],Object.getOwnPropertyDescriptor(Rr.prototype,"setProjectName"),Rr.prototype),Rr),eo=_r;Object(v.n)({enforceActions:"always",computedRequiresReaction:!0});var to=n(274),no=n(572),ro={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},oo={MuiCssBaseline:{"@global":{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}},MuiSlider:{root:{verticalAlign:"top","&.Mui-disabled":{opacity:.2}}}},io=Object(to.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:ro,overrides:oo}),lo=Object(no.a)(io),ao=n(565),co=n(496),so=n(542),uo=n(539),fo=n(571);function po(){return Object(f.useContext)(O.a)}function ho(){return po().workspace}function yo(){return po().workspace.currentProject.layout}function bo(){return po().workspace.currentProject}function go(){return bo().style}function Oo(){return go().font}function jo(){return bo().ui}var wo=n(548),mo=n(120),vo=n(16),xo=n(49),ko=n(493),Po=n(491),So=n(492),To=n(279),Mo=n(540),Io=n(541),Co=n(257),Ao=n.n(Co),No=n(256),zo=n.n(No);var Fo=function(e,t){return e.arrayBuffer&&!t?e.arrayBuffer():new Promise((function(n){var r=new FileReader;t?r.readAsText(e):r.readAsArrayBuffer(e),r.onload=function(e){var t;n((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||null)}}))},Bo=n(1),Lo=Object(O.c)((function(){var e=Object(f.useState)(!1),t=Object(vo.a)(e,2),n=t[0],r=t[1],o=Oo(),i=o.fonts,l=o.addFont,a=o.removeFont,c=Object(j.b)().enqueueSnackbar;return Object(Bo.jsxs)("div",{children:[Object(Bo.jsx)(Po.a,{dense:!0,disablePadding:!0,children:i.map((function(e){return Object(Bo.jsxs)(So.a,{disableGutters:!0,divider:!0,dense:!0,children:[Object(Bo.jsx)(Mo.a,{primary:e.family}),Object(Bo.jsx)(Io.a,{children:Object(Bo.jsx)(To.a,{edge:"end","aria-label":"delete",onClick:function(){return a(e)},children:Object(Bo.jsx)(zo.a,{})})})]},e.family)}))}),Object(Bo.jsxs)(ko.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:n?Object(Bo.jsx)(so.a,{size:22,color:"inherit"}):Object(Bo.jsx)(Ao.a,{}),disabled:n,children:["Add Font File",Object(Bo.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(r(!0),Fo(t).then((function(t){t instanceof ArrayBuffer?(e.target.value="",l(t).then((function(){return r(!1)})).catch((function(e){r(!1),c(e.message,{variant:"error"}),xo.b(e)}))):r(!1)})))}},accept:".ttf,.otf,.woff"})]})]})})),Eo=n(544),Do=n(166),Go=n(543),Jo=["before","children","component","after","childrenWidth"],Xo=function(e){var t=e.before,n=e.children,r=e.component,o=e.after,i=e.childrenWidth,l=Object(Do.a)(e,Jo);return Object(Bo.jsxs)(Go.a,Object(g.a)(Object(g.a)({component:r||"label",container:!0,spacing:2,wrap:"nowrap",justifyContent:"center",alignItems:"center"},l),{},{children:[Object(Bo.jsx)(Go.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(Bo.jsx)(mo.a,{noWrap:!0,align:"right",children:t})}),Object(Bo.jsx)(Go.a,{item:!0,xs:i||5,children:n}),Object(Bo.jsx)(Go.a,{item:!0,xs:!0,children:"object"===typeof o?o:Object(Bo.jsx)(mo.a,{noWrap:!0,variant:"caption",children:o})})]}))},Yo=Object(O.c)((function(){var e=Oo(),t=e.size,n=e.setSize;return Object(Bo.jsx)(Xo,{before:"Font Size:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),Ho=n(575),$o=Object(O.c)((function(){var e=Oo(),t=e.sharp,n=e.setSharp,r=e.mainFont;return Object(Bo.jsx)(Xo,{style:r?void 0:{opacity:.5},before:"Sharp:",after:"".concat(t,"%"),children:Object(Bo.jsx)(Ho.a,{value:t,onChange:function(e,t){n(t)},disabled:!r})})})),Ro=function(){return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Font"})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Lo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Yo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)($o,{})})]})},Wo=n(568),Uo=Object(O.c)((function(){var e=bo(),t=e.text,n=e.setText,r=Object(f.useState)(!1),o=Object(vo.a)(r,2),i=o[0],l=o[1],a=Object(f.useState)(t),c=Object(vo.a)(a,2),s=c[0],u=c[1],p=Object(f.useCallback)((function(){u(t),l(!0)}),[t]);return Object(f.useEffect)((function(){u(t)}),[t]),Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Glyphs"})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Wo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,o=Array.from(new Set(r.split(""))).join("");i?u(r):(u(o),o!==t&&n(o))},onCompositionStart:p,onCompositionEnd:function(){l(!1);var e=Array.from(new Set(s.split(""))).join("");u(e),e!==t&&n(e)}})})]})})),Vo=Object(O.c)((function(){var e=yo(),t=e.padding,n=e.setPadding;return Object(Bo.jsx)(Xo,{before:"Padding:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),qo=Object(O.c)((function(){var e=yo(),t=e.spacing,n=e.setSpacing;return Object(Bo.jsx)(Xo,{before:"Spacing:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),Ko=n(570),Qo=Object(O.c)((function(){var e=yo(),t=e.auto,n=e.setAuto;return Object(Bo.jsx)(Xo,{before:"Auto Pack:",children:Object(Bo.jsx)(Ko.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),Zo=Object(O.c)((function(){var e=yo(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(Bo.jsx)(Xo,{before:"Fixed Size:",children:Object(Bo.jsx)(Ko.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),_o=Object(O.c)((function(){var e=yo(),t=e.width,n=e.auto,r=e.fixedSize,o=e.setWidth;return Object(Bo.jsx)(Xo,{before:r?"Width:":"Max Width:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),ei=Object(O.c)((function(){var e=yo(),t=e.height,n=e.auto,r=e.fixedSize,o=e.setHeight;return Object(Bo.jsx)(Xo,{before:r?"Height:":"Max Height:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),ti=function(){return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Layout"})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Vo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(qo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Qo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Zo,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(_o,{})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(ei,{})})]})},ni=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset,a=function(e){return function(t){return e(Number(t.target.value))}};return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"xAdvance:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",onChange:a(o)})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"xOffset:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:n,fullWidth:!0,type:"number",onChange:a(i)})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"yOffset:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:r,fullWidth:!0,type:"number",onChange:a(l)})})})]})},ri=Object(O.c)((function(){var e=bo().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Global Metric Adjustment"})}),Object(Bo.jsx)(ni,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:o,setXOffset:i,setYOffset:l})]})})),oi=Object(uo.a)((function(){return Object(fo.a)({root:{overflow:"hidden",width:"256px"}})})),ii=function(){var e=oi();return Object(Bo.jsxs)(ao.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Bo.jsx)(ao.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Bo.jsx)(mo.a,{variant:"subtitle2",children:"Font Config"})}),Object(Bo.jsxs)(ao.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Bo.jsx)(Uo,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(Ro,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(ti,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(ri,{})]})]})},li=n(260),ai=n.n(li),ci=n(60),si=Object(O.c)((function(e){var t=e.className,n=ho().addProject,r=Object(f.useCallback)((function(e){return e.preventDefault(),n(),!1}),[n]);return Object(f.useEffect)((function(){return ci.a.unbind("alt+n,control+n"),Object(ci.a)("alt+n,control+n",r),function(){ci.a.unbind("alt+n,control+n")}}),[r]),Object(Bo.jsx)(ko.a,{className:t,title:"New Project (ALT + N)",onClick:r,children:"New"})}));var ui=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(Ge.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0},fi=function(){return new Uint8Array([].concat(Object(Ge.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,1,0]))};function pi(e){if(!(e instanceof ArrayBuffer)||e.byteLength<17)return 0;var t=fi(),n=t.slice(0,t.byteLength-3),r=new Uint8Array(e).slice(0,t.byteLength),o=r.slice(r.byteLength-3),i=!0;return n.forEach((function(e,t){r[t]!==e&&(i=!1)})),i?ui(Array.from(o)):0}var di=function(e){return pi(e)>0},hi=n(12),yi=hi.Reader,bi=hi.Writer,gi=hi.util,Oi={},ji=Oi.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!gi.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!gi.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!gi.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Oi.Metric)return e;var t=new Oi.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),wi=Oi.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!gi.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!gi.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!gi.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Oi.GradientColor)return e;var t=new Oi.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),mi=Oi.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=gi.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Oi.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Oi.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!gi.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Oi.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Oi.Gradient)return e;var t=new Oi.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Oi.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Oi.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),vi=Oi.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=gi.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||gi.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!gi.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Oi.PatternTexture)return e;var t=new Oi.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?gi.base64.decode(e.buffer,t.buffer=gi.newBuffer(gi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=gi.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?gi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),xi=Oi.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Oi.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Oi.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Oi.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Oi.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!gi.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!gi.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Oi.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Oi.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!gi.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!gi.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!gi.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Oi.Fill)return e;var t=new Oi.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Oi.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Oi.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Oi.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Oi.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),ki=Oi.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=gi.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||gi.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!gi.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!gi.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!gi.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Oi.Font)return e;var t=new Oi.Font;return null!=e.font&&("string"===typeof e.font?gi.base64.decode(e.font,t.font=gi.newBuffer(gi.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=gi.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?gi.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Pi=Oi.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=gi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Oi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Oi.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Oi.Metric.decode(e,e.uint32());break;case 3:i.kerning===gi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!gi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Oi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!gi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!gi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Oi.GlyphFont)return e;var t=new Oi.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Oi.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Oi.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Si=Oi.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=gi.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=gi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Oi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Oi.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Oi.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===gi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!gi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Oi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||gi.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!gi.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!gi.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!gi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!gi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Oi.GlyphImage)return e;var t=new Oi.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Oi.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?gi.base64.decode(e.buffer,t.buffer=gi.newBuffer(gi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=gi.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Oi.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?gi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ti=Oi.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.power=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.power&&Object.hasOwnProperty.call(e,"power")&&t.uint32(24).bool(e.power),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.power=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!gi.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!gi.isInteger(e.spacing)?"spacing: integer expected":null!=e.power&&e.hasOwnProperty("power")&&"boolean"!==typeof e.power?"power: boolean expected":null},e.fromObject=function(e){if(e instanceof Oi.Layout)return e;var t=new Oi.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.power&&(t.power=Boolean(e.power)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.power=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.power&&e.hasOwnProperty("power")&&(n.power=e.power),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Mi=Oi.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!gi.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!gi.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!gi.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!gi.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Oi.Shadow)return e;var t=new Oi.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ii=Oi.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Oi.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Oi.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Oi.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Oi.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Oi.Font.decode(e,e.uint32());break;case 2:r.fill=Oi.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Oi.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Oi.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Oi.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Oi.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Oi.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Oi.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!gi.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Oi.Style)return e;var t=new Oi.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Oi.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Oi.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Oi.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Oi.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Oi.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Oi.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Oi.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Oi.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ci=Oi.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Oi.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!gi.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Oi.Ui)return e;var t=new Oi.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ai=Oi.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=gi.Long?gi.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=gi.emptyObject,e.prototype.glyphImages=gi.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Oi.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Oi.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Oi.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Oi.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Oi.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Oi.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yi||(e=yi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Oi.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===gi.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Oi.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Oi.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Oi.Style.decode(e,e.uint32());break;case 7:i.layout=Oi.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Oi.Metric.decode(e,e.uint32());break;case 9:i.ui=Oi.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yi||(e=new yi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!gi.isInteger(e.id)&&!(e.id&&gi.isInteger(e.id.low)&&gi.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!gi.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!gi.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!gi.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Oi.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Oi.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Oi.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Oi.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Oi.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Oi.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Oi.Project)return e;var t=new Oi.Project;if(null!=e.id&&(gi.Long?(t.id=gi.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new gi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Oi.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Oi.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Oi.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Oi.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Oi.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Oi.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(gi.Long){var o=new gi.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?gi.Long.prototype.toString.call(e.id):t.longs===Number?new gi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Oi.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Oi.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Oi.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Oi.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Oi.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Oi.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}();function Ni(e){var t=e;return t.layout=Object(g.a)({},e.layout),t.layout.width=1024,t.layout.height=1024,t.layout.auto=!0,t.layout.fixedSize=!1,t}var zi=hi.Reader,Fi=hi.Writer,Bi=hi.util,Li={},Ei=Li.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Bi.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Bi.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Bi.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Li.Metric)return e;var t=new Li.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Di=Li.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Bi.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!Bi.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!Bi.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Li.GradientColor)return e;var t=new Li.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Gi=Li.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Bi.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Fi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Li.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Li.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Bi.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Li.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Li.Gradient)return e;var t=new Li.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Li.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Li.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ji=Li.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Bi.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Bi.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Bi.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Li.PatternTexture)return e;var t=new Li.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Bi.base64.decode(e.buffer,t.buffer=Bi.newBuffer(Bi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Bi.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Bi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Xi=Li.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Li.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Li.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Li.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Li.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Bi.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Bi.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Li.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Li.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Bi.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Bi.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Bi.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Li.Fill)return e;var t=new Li.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Li.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Li.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Li.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Li.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Yi=Li.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Bi.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Bi.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Bi.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Bi.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Bi.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Li.Font)return e;var t=new Li.Font;return null!=e.font&&("string"===typeof e.font?Bi.base64.decode(e.font,t.font=Bi.newBuffer(Bi.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Bi.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Bi.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Hi=Li.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Bi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Fi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Li.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Li.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Li.Metric.decode(e,e.uint32());break;case 3:i.kerning===Bi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Bi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Li.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Bi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Bi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Li.GlyphFont)return e;var t=new Li.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Li.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Li.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),$i=Li.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Bi.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Bi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Fi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Li.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Li.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Li.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Bi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Bi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Li.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Bi.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Bi.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Bi.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Bi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Bi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Li.GlyphImage)return e;var t=new Li.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Li.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Bi.base64.decode(e.buffer,t.buffer=Bi.newBuffer(Bi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Bi.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Li.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Bi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ri=Li.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Bi.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Bi.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Bi.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Bi.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Li.Layout)return e;var t=new Li.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Wi=Li.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Bi.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Bi.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Bi.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Bi.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Li.Shadow)return e;var t=new Li.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ui=Li.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Li.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Li.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Li.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Li.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Li.Font.decode(e,e.uint32());break;case 2:r.fill=Li.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Li.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Li.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Li.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Li.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Li.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Li.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Bi.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Li.Style)return e;var t=new Li.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Li.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Li.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Li.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Li.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Li.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Li.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Li.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Li.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Vi=Li.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Fi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Li.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Bi.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Li.Ui)return e;var t=new Li.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),qi=Li.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Bi.Long?Bi.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Bi.emptyObject,e.prototype.glyphImages=Bi.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Fi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Li.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Li.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Li.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Li.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Li.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Li.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof zi||(e=zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Li.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Bi.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Li.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Li.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Li.Style.decode(e,e.uint32());break;case 7:i.layout=Li.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Li.Metric.decode(e,e.uint32());break;case 9:i.ui=Li.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof zi||(e=new zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Bi.isInteger(e.id)&&!(e.id&&Bi.isInteger(e.id.low)&&Bi.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Bi.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Bi.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Bi.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Li.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Li.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Li.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Li.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Li.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Li.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Li.Project)return e;var t=new Li.Project;if(null!=e.id&&(Bi.Long?(t.id=Bi.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Bi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Li.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Li.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Li.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Li.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Li.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Li.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Bi.Long){var o=new Bi.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Bi.Long.prototype.toString.call(e.id):t.longs===Number?new Bi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Li.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Li.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Li.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Li.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Li.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Li.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}();function Ki(e){var t,n,r,o,i,l;function a(e){var t=e.length-1;e.forEach((function(e,n){e.offset=1/t*n}))}return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.fill)||void 0===n||null===(r=n.gradient)||void 0===r?void 0:r.palette)&&e.style.fill.gradient.palette.length>0&&a(e.style.fill.gradient.palette),(null===e||void 0===e||null===(o=e.style)||void 0===o||null===(i=o.stroke)||void 0===i||null===(l=i.gradient)||void 0===l?void 0:l.palette)&&e.style.stroke.gradient.palette.length>0&&a(e.style.stroke.gradient.palette),e}var Qi=hi.Reader,Zi=hi.Writer,_i=hi.util,el={},tl=el.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!_i.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!_i.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!_i.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof el.Metric)return e;var t=new el.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),nl=el.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!_i.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!_i.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof el.GradientColor)return e;var t=new el.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),rl=el.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=_i.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)el.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(el.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!_i.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=el.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof el.Gradient)return e;var t=new el.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=el.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=el.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),ol=el.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=_i.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||_i.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!_i.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof el.PatternTexture)return e;var t=new el.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?_i.base64.decode(e.buffer,t.buffer=_i.newBuffer(_i.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=_i.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?_i.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),il=el.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&el.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&el.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=el.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=el.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!_i.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!_i.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=el.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=el.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!_i.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!_i.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!_i.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof el.Fill)return e;var t=new el.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=el.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=el.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=el.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=el.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),ll=el.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=_i.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||_i.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!_i.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!_i.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!_i.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof el.Font)return e;var t=new el.Font;return null!=e.font&&("string"===typeof e.font?_i.base64.decode(e.font,t.font=_i.newBuffer(_i.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=_i.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?_i.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),al=el.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=_i.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&el.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new el.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=el.Metric.decode(e,e.uint32());break;case 3:i.kerning===_i.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!_i.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=el.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!_i.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!_i.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof el.GlyphFont)return e;var t=new el.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=el.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=el.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),cl=el.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=_i.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=_i.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&el.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new el.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=el.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===_i.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!_i.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=el.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||_i.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!_i.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!_i.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!_i.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!_i.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof el.GlyphImage)return e;var t=new el.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=el.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?_i.base64.decode(e.buffer,t.buffer=_i.newBuffer(_i.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=_i.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=el.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?_i.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),sl=el.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!_i.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!_i.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!_i.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!_i.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof el.Layout)return e;var t=new el.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),ul=el.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!_i.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!_i.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!_i.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!_i.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof el.Shadow)return e;var t=new el.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),fl=el.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&el.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&el.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&el.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&el.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=el.Font.decode(e,e.uint32());break;case 2:r.fill=el.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=el.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=el.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=el.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=el.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=el.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=el.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!_i.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof el.Style)return e;var t=new el.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=el.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=el.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=el.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=el.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=el.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=el.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=el.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=el.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),pl=el.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new el.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!_i.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof el.Ui)return e;var t=new el.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),dl=el.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=_i.Long?_i.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=_i.emptyObject,e.prototype.glyphImages=_i.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),el.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)el.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&el.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&el.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&el.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&el.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Qi||(e=Qi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new el.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===_i.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=el.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(el.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=el.Style.decode(e,e.uint32());break;case 7:i.layout=el.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=el.Metric.decode(e,e.uint32());break;case 9:i.ui=el.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Qi||(e=new Qi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!_i.isInteger(e.id)&&!(e.id&&_i.isInteger(e.id.low)&&_i.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!_i.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!_i.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!_i.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=el.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=el.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=el.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=el.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=el.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=el.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof el.Project)return e;var t=new el.Project;if(null!=e.id&&(_i.Long?(t.id=_i.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new _i.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=el.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=el.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=el.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=el.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=el.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=el.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(_i.Long){var o=new _i.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?_i.Long.prototype.toString.call(e.id):t.longs===Number?new _i.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=el.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=el.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=el.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=el.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=el.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=el.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}();function hl(e){var t,n;return(null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(e.style.font.fonts=[{font:e.style.font.font}]),e}var yl=hi.Reader,bl=hi.Writer,gl=hi.util,Ol=hi.roots.default||(hi.roots.default={}),jl=Ol.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!gl.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!gl.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!gl.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Ol.Metric)return e;var t=new Ol.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),wl=Ol.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!gl.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!gl.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Ol.GradientColor)return e;var t=new Ol.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),ml=Ol.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=gl.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Ol.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Ol.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!gl.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Ol.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Ol.Gradient)return e;var t=new Ol.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Ol.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Ol.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),vl=Ol.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=gl.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||gl.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!gl.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Ol.PatternTexture)return e;var t=new Ol.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?gl.base64.decode(e.buffer,t.buffer=gl.newBuffer(gl.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=gl.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?gl.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),xl=Ol.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Ol.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Ol.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Ol.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Ol.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!gl.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!gl.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Ol.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Ol.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!gl.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!gl.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!gl.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Ol.Fill)return e;var t=new Ol.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Ol.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Ol.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Ol.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Ol.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),kl=Ol.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=gl.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.FontResource;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.font=e.bytes();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||gl.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof Ol.FontResource)return e;var t=new Ol.FontResource;return null!=e.font&&("string"===typeof e.font?gl.base64.decode(e.font,t.font=gl.newBuffer(gl.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=gl.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?gl.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Pl=Ol.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=gl.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bl.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)Ol.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(Ol.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=Ol.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!gl.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!gl.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Ol.Font)return e;var t=new Ol.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=Ol.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=Ol.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Sl=Ol.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=gl.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ol.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ol.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Ol.Metric.decode(e,e.uint32());break;case 3:i.kerning===gl.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!gl.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ol.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!gl.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!gl.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ol.GlyphFont)return e;var t=new Ol.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Ol.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ol.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Tl=Ol.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=gl.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=gl.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ol.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ol.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Ol.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===gl.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!gl.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ol.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||gl.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!gl.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!gl.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!gl.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!gl.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ol.GlyphImage)return e;var t=new Ol.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Ol.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?gl.base64.decode(e.buffer,t.buffer=gl.newBuffer(gl.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=gl.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ol.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?gl.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Ml=Ol.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!gl.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!gl.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!gl.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!gl.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Ol.Layout)return e;var t=new Ol.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Il=Ol.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!gl.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!gl.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!gl.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!gl.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Ol.Shadow)return e;var t=new Ol.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Cl=Ol.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Ol.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Ol.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Ol.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Ol.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Ol.Font.decode(e,e.uint32());break;case 2:r.fill=Ol.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Ol.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Ol.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Ol.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Ol.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Ol.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Ol.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!gl.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Ol.Style)return e;var t=new Ol.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Ol.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Ol.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Ol.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Ol.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Ol.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Ol.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Ol.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Ol.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Al=Ol.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=bl.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ol.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!gl.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Ol.Ui)return e;var t=new Ol.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),Nl=Ol.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=gl.Long?gl.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=gl.emptyObject,e.prototype.glyphImages=gl.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=bl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Ol.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Ol.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Ol.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Ol.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Ol.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Ol.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof yl||(e=yl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ol.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===gl.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Ol.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Ol.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Ol.Style.decode(e,e.uint32());break;case 7:i.layout=Ol.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Ol.Metric.decode(e,e.uint32());break;case 9:i.ui=Ol.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof yl||(e=new yl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!gl.isInteger(e.id)&&!(e.id&&gl.isInteger(e.id.low)&&gl.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!gl.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!gl.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!gl.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Ol.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Ol.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Ol.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Ol.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Ol.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Ol.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Ol.Project)return e;var t=new Ol.Project;if(null!=e.id&&(gl.Long?(t.id=gl.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new gl.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Ol.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Ol.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Ol.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Ol.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Ol.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Ol.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(gl.Long){var o=new gl.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?gl.Long.prototype.toString.call(e.id):t.longs===Number?new gl.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Ol.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Ol.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Ol.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Ol.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Ol.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Ol.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}();function zl(e){var t,n;(null===(t=e.style)||void 0===t?void 0:t.stroke)&&((null===(n=e.style)||void 0===n?void 0:n.stroke).strokeType=0);return e}var Fl=hi.Reader,Bl=hi.Writer,Ll=hi.util,El=hi.roots.default||(hi.roots.default={}),Dl=(El.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Ll.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Ll.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Ll.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof El.Metric)return e;var t=new El.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Ll.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!Ll.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof El.GradientColor)return e;var t=new El.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Ll.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)El.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(El.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ll.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=El.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof El.Gradient)return e;var t=new El.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=El.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=El.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Ll.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ll.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Ll.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof El.PatternTexture)return e;var t=new El.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Ll.base64.decode(e.buffer,t.buffer=Ll.newBuffer(Ll.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Ll.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Ll.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.prototype.strokeType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&El.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&El.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),null!=e.strokeType&&Object.hasOwnProperty.call(e,"strokeType")&&t.uint32(64).int32(e.strokeType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=El.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=El.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;case 8:r.strokeType=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ll.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Ll.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=El.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=El.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Ll.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Ll.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Ll.isString(e.lineJoin)?"lineJoin: string expected":null!=e.strokeType&&e.hasOwnProperty("strokeType")&&!Ll.isInteger(e.strokeType)?"strokeType: integer expected":null},e.fromObject=function(e){if(e instanceof El.Fill)return e;var t=new El.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=El.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=El.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),null!=e.strokeType&&(t.strokeType=0|e.strokeType),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin="",n.strokeType=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=El.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=El.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),null!=e.strokeType&&e.hasOwnProperty("strokeType")&&(n.strokeType=e.strokeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Ll.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.FontResource;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.font=e.bytes();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Ll.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof El.FontResource)return e;var t=new El.FontResource;return null!=e.font&&("string"===typeof e.font?Ll.base64.decode(e.font,t.font=Ll.newBuffer(Ll.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Ll.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Ll.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=Ll.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bl.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)El.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(El.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=El.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!Ll.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Ll.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof El.Font)return e;var t=new El.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=El.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=El.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Ll.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&El.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new El.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=El.Metric.decode(e,e.uint32());break;case 3:i.kerning===Ll.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ll.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=El.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ll.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ll.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof El.GlyphFont)return e;var t=new El.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=El.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=El.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Ll.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Ll.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&El.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new El.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=El.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Ll.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ll.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=El.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ll.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Ll.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Ll.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ll.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ll.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof El.GlyphImage)return e;var t=new El.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=El.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Ll.base64.decode(e.buffer,t.buffer=Ll.newBuffer(Ll.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Ll.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=El.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Ll.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Ll.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Ll.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Ll.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Ll.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof El.Layout)return e;var t=new El.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Ll.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Ll.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Ll.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Ll.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof El.Shadow)return e;var t=new El.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&El.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&El.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&El.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&El.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=El.Font.decode(e,e.uint32());break;case 2:r.fill=El.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=El.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=El.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=El.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=El.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=El.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=El.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Ll.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof El.Style)return e;var t=new El.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=El.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=El.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=El.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=El.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=El.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=El.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=El.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=El.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bl.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new El.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Ll.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof El.Ui)return e;var t=new El.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}(),El.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Ll.Long?Ll.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Ll.emptyObject,e.prototype.glyphImages=Ll.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),El.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)El.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&El.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&El.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&El.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&El.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fl||(e=Fl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new El.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Ll.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=El.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(El.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=El.Style.decode(e,e.uint32());break;case 7:i.layout=El.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=El.Metric.decode(e,e.uint32());break;case 9:i.ui=El.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fl||(e=new Fl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Ll.isInteger(e.id)&&!(e.id&&Ll.isInteger(e.id.low)&&Ll.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Ll.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Ll.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Ll.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=El.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=El.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=El.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=El.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=El.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=El.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof El.Project)return e;var t=new El.Project;if(null!=e.id&&(Ll.Long?(t.id=Ll.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Ll.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=El.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=El.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=El.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=El.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=El.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=El.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Ll.Long){var o=new Ll.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Ll.Long.prototype.toString.call(e.id):t.longs===Number?new Ll.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=El.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=El.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=El.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=El.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=El.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=El.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,hi.util.toJSONOptions)},e}());var Gl={1e6:r,1000001:o,1000002:i,1000003:l},Jl=Object.keys(Gl).map((function(e){return"".concat(Number(e))})).sort();var Xl=function(e,t){return Jl.forEach((function(n){t<=n&&Gl[n]&&Gl[n].updateToNext(e)})),e};function Yl(e){var t=fi(),n=function(e){return e.style.font.fonts&&e.style.font.fonts.length&&e.style.font.fonts.forEach((function(e){return e.font=new Uint8Array(e.font)})),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer)),Dl.encode(Dl.create(e)).finish()}(e),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(t,0),r.set(n,t.byteLength),r}var Hl={ext:".sbf",check:di,decode:function(e){var t;if(!(e instanceof ArrayBuffer))throw new Error("unknow file");var n=pi(e);if(0===n)throw new Error("unknow file");var r=fi(),o=new Uint8Array(e),i=o.slice(0,r.byteLength),l=((null===(t=Gl[n])||void 0===t?void 0:t.Project)||Dl).decode(o.slice(i.byteLength));return function(e){var t,n,r,o,i,l,a,c,s=e,u=new Map;return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.fonts)&&e.style.font.fonts.forEach((function(e,t){e.font&&(s.style.font.fonts[t].font=e.font.slice().buffer)})),(null===e||void 0===e?void 0:e.glyphImages)&&e.glyphImages.forEach((function(e,t){if(e.buffer&&(s.glyphImages[t].buffer=e.buffer.slice().buffer),e.kerning){var n=new Map;Object.keys(e.kerning).forEach((function(t){e&&e.kerning&&e.kerning[t]&&n.set(t,e.kerning[t]||0)})),e.kerning=n}})),(null===e||void 0===e?void 0:e.glyphs)&&(Object.keys(e.glyphs).forEach((function(t){if(e&&e.glyphs&&e.glyphs[t]){var n=e.glyphs[t],r=new Map;n&&n.kerning&&Object.keys(n.kerning).forEach((function(e){n.kerning&&r.set(e,n.kerning[e]||0)})),u.set(t,Object(g.a)(Object(g.a)({},n),{},{kerning:r}))}})),s.glyphs=u),(null===e||void 0===e||null===(r=e.style)||void 0===r||null===(o=r.fill)||void 0===o||null===(i=o.patternTexture)||void 0===i?void 0:i.buffer)&&(s.style.fill.patternTexture.buffer=e.style.fill.patternTexture.buffer.slice().buffer),(null===e||void 0===e||null===(l=e.style)||void 0===l||null===(a=l.stroke)||void 0===a||null===(c=a.patternTexture)||void 0===c?void 0:c.buffer)&&(s.style.stroke.patternTexture.buffer=e.style.stroke.patternTexture.buffer.slice().buffer),s}(Xl(l,n))}},$l=n(549),Rl=n(258),Wl={properties:{glow:{properties:{quality:{type:"float32"},colors:{elements:{type:"float32"}},glowEnabled:{type:"boolean"},alphas:{elements:{type:"float32"}},ratios:{elements:{type:"float32"}},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},strength:{type:"float32"},distance:{type:"float32"}}},fill:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},textureScale:{type:"float32"},distanceFieldEnabled:{type:"boolean"},distanceFieldColor:{type:"float32"},gradientColors:{elements:{type:"float32"}},distanceFieldDownscale:{type:"float32"},distanceFieldSpread:{type:"float32"},distanceFieldType:{enum:["Type 1","Type 2"]},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},settings:{properties:{postfixes:{type:"string"},filename:{type:"string"},scalings:{type:"string"}}},shadow:{properties:{quality:{type:"float32"},color:{type:"float32"},strength:{type:"float32"},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},shadowEnabled:{type:"boolean"},alpha:{type:"float32"},distance:{type:"float32"}}},stroke:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},pixelHinting:{type:"boolean"},textureScale:{type:"float32"},gradientColors:{elements:{type:"float32"}},strokeEnabled:{type:"boolean"},miterLimit:{type:"float32"},jointStyle:{enum:["miter","bevel","round"]},size:{type:"float32"},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},background:{properties:{color:{type:"float32"},alpha:{type:"float32"}}},bevel:{properties:{bevelEnabled:{type:"boolean"},highlightColor:{type:"float32"},highlightAlpha:{type:"float32"},quality:{type:"float32"},angle:{type:"float32"},shadowColor:{type:"float32"},shadowAlpha:{type:"float32"},blurX:{type:"float32"},blurY:{type:"float32"},type:{enum:["inner","outer","full"]},strength:{type:"float32"},distance:{type:"float32"}}},glyphs:{properties:{glyphs:{type:"string"},powerOfTwo:{type:"boolean"},canvasHeight:{type:"string"},padding:{type:"float32"},packMethod:{type:"float32"},canvasWidth:{type:"string"},roundValues:{type:"boolean"},descriptionFormat:{type:"float32"}}},font:{properties:{size:{type:"float32"},spacing:{type:"float32"}},optionalProperties:{data:{type:"string"}}}},optionalProperties:{fallbackfont:{type:"string"}}},Ul=(new(n.n(Rl).a)).compile(Wl),Vl=function(e){var t;if("string"===typeof e)try{t=JSON.parse(e)}catch(o){return!1}if("object"!==typeof t)return!1;var n,r=Ul(t);r||(null===(n=Ul.errors)||void 0===n||n.forEach((function(e){xo.a({category:"littera",message:"Littera validate error",level:$l.a.Info,data:e})})),xo.c("Littera validate error"));return r},ql=n(100),Kl=n.n(ql);function Ql(e){var t={};return"gradientFill"===e.fillType?e.gradientColors.length<2?(t.type=st.SOLID,t.color=Kl()(e.gradientColors[0]).alpha(e.gradientAlphas[0]).hex()):(t.type=st.GRADIENT,t.gradient={},t.gradient.palette=[],t.gradient.type="radial"===e.gradientType?Be.RADIAL:Be.LINEAR,e.gradientColors.forEach((function(n,r){t.gradient.palette.push({id:r+1,color:Kl()(n).alpha(e.gradientAlphas[r]).hex(),offset:e.gradientRatios[r]/255})})),t.gradient.angle=e.gradientRotation):(t.patternTexture={scale:e.textureScale},e.texture&&(t.patternTexture.buffer=_e(e.texture))),t}var Zl=function(e){if(!Vl(e))throw new Error("unknow file");"string"===typeof e&&(e=JSON.parse(e));var t=e,n={};n.text=t.glyphs.glyphs,n.glyphs=new Map,t.glyphs.glyphs.split("").forEach((function(e){var t;return null===(t=n.glyphs)||void 0===t?void 0:t.set(e,{letter:e})}));var r={};r.size=t.font.size,t.font.data&&(r.fonts=[],r.fonts.push({font:_e(t.font.data)}),t.fallbackfont&&r.fonts.push({font:_e(t.fallbackfont)}));var o=Ql(t.fill),i={};i.width=t.stroke.size,i.lineJoin=t.stroke.jointStyle,Object.assign(i,Ql(t.stroke));var l={};return l.color=Kl()(t.shadow.color).alpha(t.shadow.alpha).hex(),l.blur=t.shadow.quality+t.shadow.blurX-t.shadow.strength,l.offsetX=Math.round(Math.cos(t.shadow.angle*Math.PI/180)*t.shadow.distance),l.offsetY=Math.round(Math.sin(t.shadow.angle*Math.PI/180)*t.shadow.distance),n.style={font:r,fill:o,useStroke:t.stroke.strokeEnabled,stroke:i,useShadow:t.shadow.shadowEnabled,shadow:l},n.layout={},n.layout.padding=t.glyphs.padding,isNaN(Number(t.glyphs.canvasWidth))||(n.layout.width=Number(t.glyphs.canvasWidth)),isNaN(Number(t.glyphs.canvasHeight))||(n.layout.width=Number(t.glyphs.canvasHeight)),n.layout.width&&n.layout.height&&(n.layout.auto=!1,n.layout.fixedSize=!0),n},_l=[Hl,{ext:".ltr",check:Vl,decode:Zl}];var ea=function(e){var t=_l.find((function(t){return t.check(e)}));if(!t)throw new Error("unknow file");return t.decode(e)},ta=Object(O.c)((function(e){var t=e.className,n=Object(j.b)().enqueueSnackbar,r=ho(),o=Object(f.useRef)(null),i=r.addProject;return Object(Bo.jsxs)(ko.a,{className:t,title:"Open Project (\u2318 + O)",component:"label",ref:o,children:["Open",Object(Bo.jsx)("input",{type:"file",onChange:function(e){var t;if((null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]){var r=e.target.files[0],o=/\.ltr$/.test(r.name);Fo(r,o).then((function(t){try{var o=ea(t);o.name||(o.name=r.name),i(o)}catch(e){console.log(e),xo.b(e),n(e.toString(),{variant:"error"})}}))}},accept:".sbf,.ltr",hidden:!0})]})})),na=n(161),ra=Object(O.c)((function(e){var t=e.className,n=Object(j.b)().enqueueSnackbar,r=ho().currentProject,o=Object(f.useCallback)((function(e){e.preventDefault();try{var t=Yl(Object(v.H)(r));Object(na.saveAs)(new Blob([t]),"".concat(r.name,".sbf"))}catch(e){xo.b(e),n(e.message)}}),[n,r]);return Object(f.useEffect)((function(){return ci.a.unbind("ctrl+s"),Object(ci.a)("ctrl+s",o),function(){ci.a.unbind("ctrl+s")}}),[o]),Object(Bo.jsx)(ko.a,{className:t,title:"Save Project (\u2318 + S)",onClick:o,children:"Save"})})),oa=n(550),ia=n(567),la=n(553),aa=n(551),ca=n(552),sa=n(554);function ua(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}var fa={type:"TEXT",exts:["fnt","txt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l="";return l+=ua('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(g.a)(Object(g.a)({},t),{},{charset:t.charset||'""'})),l+=ua("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){l+=ua('page id=$id$ file="$file$"\n',e)})),l+=ua("chars count=$count$\n",o),o.list.forEach((function(e){l+=ua("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),i.count&&(l+=ua("kernings count=$count$\n",i),i.list.forEach((function(e){l+=ua("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),l}},pa={type:"XML",exts:["xml","fnt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l=new DOMParser,a=document.implementation.createDocument("","font",null),c=l.parseFromString(ua('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");a.documentElement.appendChild(c.childNodes[0]);var s=l.parseFromString(ua('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");a.documentElement.appendChild(s.childNodes[0]);var u=l.parseFromString("<pages>".concat(r.map((function(e){return ua('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");a.documentElement.appendChild(u.childNodes[0]);var f=l.parseFromString(ua('<chars count="$count$" />',o),"text/xml");if(o.list.forEach((function(e){var t=l.parseFromString(ua('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(f.childNodes[0]),i.count){var p=l.parseFromString(ua('<kernings count="$count$" />',i),"text/xml");i.list.forEach((function(e){var t=l.parseFromString(ua('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(a))}};function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.name,r=e.style,o=e.layout,i=e.globalAdjustMetric,l=e.glyphList,a=e.ui,c=a.width,s=a.height,u=r.font,f=u.opentype,p=u.size,d=1;f&&(d=1/f.unitsPerEm*p);var h={face:t||r.font.mainFamily,size:r.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(o.padding),spacing:new Array(2).fill(o.spacing)},y={lineHeight:r.font.size,base:Math.round(r.font.alphabetic-r.font.top),scaleW:c,scaleH:s,pages:1,packed:0},b=[{id:0,file:"".concat(n,".png")}],g={count:l.length,list:[]},O={count:0,list:[]};return l.forEach((function(e){var t=!(!e.width||!e.height),n={letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*o.padding:0,height:t?e.height+2*o.padding:0,xoffset:i.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0)-(t?o.padding:0),yoffset:i.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0)-(t?o.padding:0),xadvance:Math.ceil(e.fontWidth)+i.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15};g.list.push(n),f?l.forEach((function(t){var n=t.letter,r=Math.round(f.getKerningValue(f.charToGlyphIndex(e.letter),f.charToGlyphIndex(n))*d+(e.kerning.get(n)||0));r&&O.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&O.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),O.count=O.list.length,g.list.sort((function(e,t){return e.id-t.id})),{info:h,common:y,pages:b,chars:g,kernings:O}}var ha=n(259),ya=n.n(ha);var ba=[];[fa,pa].forEach((function(e){var t=e.type,n=e.exts,r=e.getString;n.forEach((function(e){ba.push({id:t+e,ext:e,type:t,getString:r})}))}));var ga=Object(O.c)((function(e){var t=e.className,n=bo(),r=n.ui.setShowPreview,o=Object(f.useState)(!1),i=Object(vo.a)(o,2),l=i[0],a=i[1],c=Object(f.useState)(ba),s=Object(vo.a)(c,1)[0],u=Object(f.useState)(0),p=Object(vo.a)(u,2),d=p[0],h=p[1],y=Object(f.useState)(n.style.font.mainFamily),b=Object(vo.a)(y,2),g=b[0],O=b[1],j=Object(f.useState)(n.name),w=Object(vo.a)(j,2),m=w[0],v=w[1],x=Object(f.useCallback)((function(){O(n.style.font.mainFamily),v(n.name),r(!1),a(!0)}),[n.name,n.style.font.mainFamily,r]),k=function(){a(!1)},P=Object(f.useCallback)((function(){!function(e,t,n,r){var o=new ya.a,i=e.packCanvas,l=e.name,a=da(e,n),c=t.getString(a),s=r||l;o.file("".concat(s,".").concat(t.ext),c),i&&i.toBlob((function(e){e&&o.file("".concat(s,".png"),e),o.generateAsync({type:"blob"}).then((function(e){return Object(na.saveAs)(e,"".concat(s,".zip"))}))}))}(n,s[d],g,m),k()}),[m,g,s,n,d]);return Object(f.useEffect)((function(){return ci.a.unbind("ctrl+shift+s,command+shift+s"),Object(ci.a)("ctrl+shift+s,command+shift+s",x),function(){ci.a.unbind("ctrl+shift+s,command+shift+s")}}),[x]),Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ko.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:x,children:"Export"}),Object(Bo.jsxs)(oa.a,{onClose:k,open:l,fullWidth:!0,maxWidth:"xs",children:[Object(Bo.jsx)(aa.a,{children:"Export Config"}),Object(Bo.jsxs)(ca.a,{dividers:!0,children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Font Name:",childrenWidth:6,children:Object(Bo.jsx)(Eo.a,{fullWidth:!0,type:"text",value:g,placeholder:n.style.font.mainFamily,onChange:function(e){O(e.target.value)}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"File Name:",after:".zip",childrenWidth:6,children:Object(Bo.jsx)(Eo.a,{fullWidth:!0,type:"text",value:m,placeholder:n.name,onChange:function(e){v(e.target.value)}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Export Type:",childrenWidth:6,children:Object(Bo.jsx)(ia.a,{displayEmpty:!0,value:d,onChange:function(e){h(e.target.value)},fullWidth:!0,children:s.map((function(e,t){return Object(Bo.jsx)(la.a,{value:t,children:"".concat(m||n.name,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})})]}),Object(Bo.jsx)(sa.a,{children:Object(Bo.jsx)(ko.a,{autoFocus:!0,onClick:P,color:"default",children:"Save"})})]})]})})),Oa=Object(uo.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(fo.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),ja=function(){var e=Oa();return Object(Bo.jsxs)(ao.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(Bo.jsxs)(mo.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(Bo.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(Bo.jsxs)(ao.a,{flex:"auto",paddingX:4,children:[Object(Bo.jsx)(si,{className:e.btn}),Object(Bo.jsx)(ta,{className:e.btn}),Object(Bo.jsx)(ra,{className:e.btn}),Object(Bo.jsx)(ga,{className:e.btn})]}),Object(Bo.jsx)(To.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(Bo.jsx)(ai.a,{})})]})},wa=n(569),ma=n(578),va=n(556),xa=n(537),ka=n(272),Pa=n(40),Sa=n(555),Ta=Object(uo.a)((function(e){var t=e.palette;return Object(fo.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),Ma=function(e){var t=e.open,n=e.anchorEl,r=e.color,o=e.onChange,i=e.placement,l=Ta(),a=function(){var e=Object(Pa.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(Bo.jsx)(Sa.a,{open:!!t,anchorEl:n,placement:i||"bottom",style:{zIndex:999999},children:Object(Bo.jsx)(ka.a,{color:r,styles:a,className:l.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;o&&o("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},Ia=Object(uo.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(fo.a)({root:{overflow:"hidden"},swatch:Object(g.a)(Object(g.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),Ca=function(e){var t=e.color,n=e.onChange,r=Ia(e),o=Object(f.useRef)(null),i=Object(f.useState)(!1),l=Object(vo.a)(i,2),a=l[0],c=l[1];return Object(Bo.jsx)(xa.a,{mouseEvent:"onMouseDown",onClickAway:function(){return c(!1)},children:Object(Bo.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:o,children:[Object(Bo.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return c(!a)}}),Object(Bo.jsx)(Ma,{open:a,anchorEl:o.current,color:t||"#000000",onChange:n})]})})},Aa=function(e){var t=e.color,n=e.onChange;return Object(Bo.jsx)(Xo,{before:"Color:",childrenWidth:3,children:Object(Bo.jsx)(Ca,{color:t,onChange:n})})},Na=n(7),za=["left","top","color","isActive","className"],Fa=Object(uo.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(fo.a)({root:Object(g.a)(Object(g.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),Ba=function(e){var t=e.left,n=e.top,r=e.color,o=e.isActive,i=e.className,l=Object(Do.a)(e,za),a=Fa({left:t,top:n,color:r,isActive:o});return Object(Bo.jsx)("div",Object(g.a)(Object(g.a)({className:Object(Na.a)(a.root,i)},l),{},{children:Object(Bo.jsx)("div",{className:a.color})}))},La=Object(uo.a)((function(){return Object(fo.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),Ea=function(e){var t=e.className,n=e.palette,r=e.activeId,o=e.onAdd,i=e.onUpdate,l=e.onSelect,a=La(e),c=Object(f.useState)(0),s=Object(vo.a)(c,2),u=s[0],p=s[1],d=Object(f.useState)({x:0,y:0,offset:0}),h=Object(vo.a)(d,2),y=h[0],b=h[1],O=Object(f.useState)(!1),j=Object(vo.a)(O,2),w=j[0],m=j[1],v=Object(f.useRef)(null);Object(f.useEffect)((function(){v.current&&p(v.current.clientWidth)}),[v]);var x=Object(f.useCallback)((function(e){if(w&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var o=Object(Ge.a)(n);if(Math.abs(e.clientY-y.y)>50)i(o[t],!0);else{var l=o[t],a=Math.min(Math.max((e.clientX-y.x)/u+y.offset,0),1);o[t]=Object(g.a)(Object(g.a)({},l),{},{offset:a}),i({offset:a})}}}else m(!1)}),[r,w,i,n,y.offset,y.x,y.y,u]),k=Object(f.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),m(!1)}),[]);return Object(f.useEffect)((function(){return w?(window.addEventListener("mousemove",x),window.addEventListener("mouseup",k)):(window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)),function(){window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)}}),[x,k,w]),Object(Bo.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(Na.a)(a.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/u;o(r),m(!0),b({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(Bo.jsx)(Ba,{left:u*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),b({x:e.clientX,y:e.clientY,offset:t.offset}),m(!0),l(t.id))}(t,e)}},e.id)}))})},Da=Object(uo.a)((function(e){var t=e.bgPixel;return{root:Object(g.a)(Object(g.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),Ga=function(e){var t=Da(e),n=e.palette,r=Object(f.useState)("palette_".concat(Math.random().toString().substr(2,9))),o=Object(vo.a)(r,1)[0],i=Object(Ge.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(Bo.jsx)("div",{className:t.root,children:Object(Bo.jsxs)("svg",{className:t.svg,children:[Object(Bo.jsx)("defs",{children:Object(Bo.jsx)("linearGradient",{id:o,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:i.map((function(e){return Object(Bo.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(Bo.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(o,")")})]})})},Ja=function(e){var t=e.children,n=e.palette,r=e.onUpdate,o=e.onAdd,i=Object(f.useRef)(null),l=Object(f.useState)(Object(Ge.a)(n)),a=Object(vo.a)(l,2),c=a[0],s=a[1],u=Object(f.useState)(0),d=Object(vo.a)(u,2),h=d[0],y=d[1],b=Object(f.useState)(""),O=Object(vo.a)(b,2),j=O[0],w=O[1],m=Object(f.useState)(!1),v=Object(vo.a)(m,2),x=v[0],k=v[1];Object(f.useEffect)((function(){if(x){var e=n.map((function(e){return e.id})),t=c.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(Ge.a)(e),Object(Ge.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&y(r[0]),k((function(){return!1}))}}),[n,x,c]),Object(f.useEffect)((function(){s(Object(Ge.a)(n))}),[n]),Object(f.useEffect)((function(){if(h){var e=n.find((function(e){return e.id===h}));e&&w(e.color)}}),[h,n]);var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h){var o=Object(Ge.a)(n),i=o.findIndex((function(e){return e.id===h}));if(t)r([].concat(Object(Ge.a)(o.slice(0,i)),Object(Ge.a)(o.slice(i+1)))),y(0);else{var l=Object(g.a)(Object(g.a)({},o[i]),e);r([].concat(Object(Ge.a)(o.slice(0,i)),[l],Object(Ge.a)(o.slice(i+1))))}}};return Object(Bo.jsx)(xa.a,{mouseEvent:"onMouseDown",onClickAway:function(){return y(0)},children:Object(Bo.jsxs)("div",{ref:i,children:[Object(Bo.jsx)(Ga,{palette:n,height:"35px"}),Object(Bo.jsx)(Ea,{palette:n,activeId:h,onAdd:function(e){var t,r,i=Object(Ge.a)(n),l={offset:e,color:"rgba(0,0,0,1)"};if(y(0),i.forEach((function(e){e.offset<l.offset&&(!t||t.offset<e.offset)?t=e:(!r||r.offset>e.offset)&&(r=e)})),t&&r){var a=(l.offset-t.offset)/(r.offset-t.offset),c=Kl()(t.color),s=Kl()(r.color),u=(s.red()-c.red())*a+c.red(),f=(s.green()-c.green())*a+c.green(),p=(s.blue()-c.blue())*a+c.blue(),d=(s.alpha()-c.alpha())*a+c.alpha();l.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(l.color=(t||r).color);o(l),k(!0)},onUpdate:P,onSelect:function(e){return y(e||0)}}),t?p.a.cloneElement(t,{open:!!h||x,anchorEl:i.current,color:j,onChange:function(e){return P({color:e})}}):null]})})},Xa=Object(uo.a)((function(){return Object(fo.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),Ya=function(e){var t=e.onChange,n=Object(f.useRef)(null),r=Object(f.useState)(!1),o=Object(vo.a)(r,2),i=o[0],l=o[1],a=Xa(e),c=Object(f.useCallback)((function(e){if(n.current){var r=e.clientX,o=e.clientY,i=n.current.getBoundingClientRect(),l=Math.atan2(o-(i.y+i.height/2),r-(i.x+i.width/2));t(Math.round(l*(180/Math.PI)))}}),[t]),s=Object(f.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),l(!1)}),[]);return Object(f.useEffect)((function(){return i?(window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)):(window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)),function(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}}),[c,s,i]),Object(Bo.jsx)("div",{"aria-hidden":!0,className:a.root,ref:n,onMouseDown:function(e){n.current&&(l(!0),c(e))},children:Object(Bo.jsx)("div",{className:a.point})})},Ha=function(e){var t=e.angle,n=e.onChange;return Object(Bo.jsx)(Xo,{before:"Angle:",after:Object(Bo.jsx)(Ya,{width:24,angle:t,onChange:n}),children:Object(Bo.jsx)(Eo.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},$a=Object(O.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,o=t.palette,i=t.addColor,l=t.updatePalette,a=t.setAngle,c=t.setType;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Ha,{angle:r,onChange:a})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Type:",component:"div",childrenWidth:8,children:Object(Bo.jsxs)(ma.a,{row:!0,name:"type",value:n,onChange:function(e){return c(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(Bo.jsx)(va.a,{value:Be.LINEAR,control:Object(Bo.jsx)(wa.a,{size:"small",color:"default"}),label:"Linear"}),Object(Bo.jsx)(va.a,{value:Be.RADIAL,control:Object(Bo.jsx)(wa.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Ja,{palette:o,onAdd:function(e){return i(e.offset,e.color)},onUpdate:l,children:Object(Bo.jsx)(Ma,{})})})]})})),Ra=Object(uo.a)((function(e){return Object(fo.a)({root:Object(g.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),Wa=function(e){var t=e.src,n=e.onChange,r=Ra();return Object(Bo.jsxs)(ao.a,{component:"label",className:r.root,children:[Object(Bo.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&Fo(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(Bo.jsx)("img",{className:r.image,src:t,alt:""})]})},Ua=function(e){var t=e.patternTexture,n=t.src,r=t.scale,o=t.repetition,i=t.setRepetition,l=t.setScale,a=t.setImage;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{component:"div",before:"Scale:",after:Object(Bo.jsx)(Wa,{src:n,onChange:a}),children:Object(Bo.jsx)(Eo.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Repeat:",children:Object(Bo.jsxs)(ia.a,{value:o,onChange:function(e){return i(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(Bo.jsx)(la.a,{value:"repeat",children:"Repeat"}),Object(Bo.jsx)(la.a,{value:"repeat-x",children:"Repeat-x"}),Object(Bo.jsx)(la.a,{value:"repeat-y",children:"Repeat-y"}),Object(Bo.jsx)(la.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},Va=Object(O.c)((function(e){var t=e.config,n=t.type,r=t.color,o=t.gradient,i=t.patternTexture,l=t.setType,a=t.setColor;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsxs)(ma.a,{row:!0,name:"type",value:n,onChange:function(e){return l(Number(e.target.value))},children:[Object(Bo.jsx)(va.a,{value:st.SOLID,control:Object(Bo.jsx)(wa.a,{size:"small",color:"default"}),label:"Solid"}),Object(Bo.jsx)(va.a,{value:st.GRADIENT,control:Object(Bo.jsx)(wa.a,{size:"small",color:"default"}),label:"Gradient"}),Object(Bo.jsx)(va.a,{value:st.IMAGE,control:Object(Bo.jsx)(wa.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Aa,{color:r,onChange:a})}):null,1===n?Object(Bo.jsx)($a,{gradient:o}):null,2===n?Object(Bo.jsx)(Ua,{patternTexture:i,src:i.src,scale:i.scale}):null]})})),qa=Object(O.c)((function(){var e=go().fill;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Fill"})}),Object(Bo.jsx)(Va,{config:e})]})})),Ka=n(557),Qa=n(558),Za=Object(uo.a)((function(){return Object(fo.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),_a=Object(O.c)((function(){var e=Za(),t=go(),n=t.stroke,r=t.useStroke,o=t.setUseStroke,i=n.setWidth,l=n.lineJoin,a=n.setLineJoin,c=n.lineCap,s=n.setLineCap,u=n.strokeType,f=n.setStrokeType;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsxs)(ao.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Bo.jsx)(mo.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(Bo.jsx)(Ka.a,{size:"small",checked:r,onChange:function(e){return o(e.target.checked)}}),"On"]}),Object(Bo.jsxs)("div",{className:r?"":e.disabled,children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Width:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return i(Number(e.target.value))}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Type:",component:"div",childrenWidth:8,children:Object(Bo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Bo.jsx)(ko.a,{onClick:function(){return f(0)},variant:0===u?"contained":"outlined",children:"Outer"}),Object(Bo.jsx)(ko.a,{onClick:function(){return f(1)},variant:1===u?"contained":"outlined",children:"Middle"}),Object(Bo.jsx)(ko.a,{onClick:function(){return f(2)},variant:2===u?"contained":"outlined",children:"Inner"})]})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(Bo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Bo.jsx)(ko.a,{onClick:function(){return s("butt")},variant:"butt"===c?"contained":"outlined",children:"Butt"}),Object(Bo.jsx)(ko.a,{onClick:function(){return s("round")},variant:"round"===c?"contained":"outlined",children:"Round"}),Object(Bo.jsx)(ko.a,{onClick:function(){return s("square")},variant:"square"===c?"contained":"outlined",children:"Square"})]})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(Bo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Bo.jsx)(ko.a,{onClick:function(){return a("miter")},variant:"miter"===l?"contained":"outlined",children:"Miter"}),Object(Bo.jsx)(ko.a,{onClick:function(){return a("round")},variant:"round"===l?"contained":"outlined",children:"Round"}),Object(Bo.jsx)(ko.a,{onClick:function(){return a("bevel")},variant:"bevel"===l?"contained":"outlined",children:"Bevel"})]})})}),Object(Bo.jsx)(Va,{config:n})]})]})})),ec=Object(uo.a)((function(){return Object(fo.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),tc=Object(O.c)((function(){var e=go(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,o=t.setOffsetX,i=t.setOffsetY,l=t.setBlur,a=t.setColor,c=ec();return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsxs)(ao.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Bo.jsx)(mo.a,{component:"div",className:c.title,children:"Shadow"}),"Off",Object(Bo.jsx)(Ka.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(Bo.jsxs)("div",{className:n?"":c.disabled,children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Offset X:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Offset Y:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Blur:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Aa,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:a})})]})]})})),nc=Object(O.c)((function(){var e=go(),t=e.bgColor,n=e.setBgColor;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Background Color"})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Aa,{color:t||"",onChange:n})})]})})),rc=Object(uo.a)((function(){return Object(fo.a)({root:{overflow:"hidden",width:"256px"}})})),oc=function(){var e=rc();return Object(Bo.jsxs)(ao.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Bo.jsx)(ao.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Bo.jsx)(mo.a,{variant:"subtitle2",children:"Style Config"})}),Object(Bo.jsxs)(ao.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Bo.jsx)(qa,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(_a,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(tc,{}),Object(Bo.jsx)(wo.a,{}),Object(Bo.jsx)(nc,{})]})]})},ic=n(266),lc=n.n(ic);var ac=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(f.useCallback)(t,[t,n]),o=Object(f.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,o=e.deltaX,i=e.deltaY;if(t){var l=-.01;Math.abs(i)>50&&(l*=.1),r({deltaScale:i*l,deltaX:0,deltaY:0})}else{var a=-o,c=-i;0===o&&n&&Math.abs(i)>50&&(a=-i,c=0),r({deltaX:a,deltaY:c,deltaScale:0})}}),[r]);Object(f.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",o,{passive:!1}),function(){return t.removeEventListener("wheel",o)}}}),[e,o])},cc={x:0,y:0};var sc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(f.useState)({ks:!1,ms:!1}),r=Object(vo.a)(n,2),o=r[0],i=r[1],l=Object(f.useMemo)((function(){return o.ks&&o.ms?2:o.ks?1:0}),[o.ks,o.ms]),a=Object(f.useCallback)(e,[e].concat(Object(Ge.a)(t))),c=Object(f.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;o.ks!==t&&i((function(t){return Object(g.a)(Object(g.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[o.ks]),s=function(e){if(o.ks){var t=e.clientX,n=e.clientY;cc.x=t,cc.y=n,i((function(e){return Object(g.a)(Object(g.a)({},e),{},{ms:!0})}))}},u=Object(f.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=cc.x,o=cc.y;t-r===0&&n-o===0||(a({offsetX:t-r,offsetY:n-o}),cc.x=t,cc.y=n)}),[a]),p=Object(f.useCallback)((function(){i((function(e){return Object(g.a)(Object(g.a)({},e),{},{ms:!1})}))}),[]);return Object(f.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",c)}}),[c]),Object(f.useEffect)((function(){return o.ks&&o.ms?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",p)):(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p)),function(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p)}}),[p,u,o.ks,o.ms]),[l,s]},uc=Object(uo.a)((function(e){var t=e.bgPixel;return Object(fo.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(g.a)(Object(g.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),fc=Object(O.c)((function(){var e=bo(),t=e.isPacking,n=e.ui,r=e.layout,o=r.padding,i=r.auto,l=r.fixedSize,a=r.width,c=r.height,s=e.glyphList,u=e.style.bgColor,p=e.packCanvas,d=e.setCanvas,h=n.width,y=n.height,b=n.scale,g=n.offsetX,O=n.offsetY,j=Object(f.useRef)(null),w=Object(f.useRef)(null),m=sc((function(e){var t=e.offsetX,r=e.offsetY,o=n.scale,i=n.offsetX,l=n.offsetY;(0,n.setTransform)({offsetX:i+t/o,offsetY:l+r/o})}),[n]),v=Object(vo.a)(m,2),x=v[0],k=v[1],P=uc({width:h,height:y,scale:b,offsetX:g,offsetY:O,dragState:x});return ac(w,(function(e){var t=n.offsetX,r=n.offsetY,o=n.scale,i=n.setTransform,l=o+e.deltaScale;i({offsetX:t+e.deltaX/l,offsetY:r+e.deltaY/l,scale:l})}),[n]),Object(f.useEffect)((function(){j.current&&j.current!==p&&d(j.current)}),[j,p,d]),Object(f.useEffect)((function(){if(s&&!t&&h&&y){var e=j.current;if(e){e.width=h,e.height=y;var n=e.getContext("2d");n&&(u&&(n.fillStyle=u,n.fillRect(0,0,e.width,e.height)),s.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(o||0),e.y+(o||0))})))}}}),[u,s,t,y,h,o,i,l,a,c]),Object(Bo.jsx)("div",{"aria-hidden":!0,ref:w,className:P.root,onMouseDown:k,children:Object(Bo.jsx)("canvas",{ref:j,className:P.canvas})})})),pc=n(559),dc=Object(uo.a)((function(e){var t=e.palette;return Object(fo.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary,position:"relative"},loading:{position:"absolute",left:0,top:"100%",width:"100%"}})})),hc=Object(O.c)((function(){var e=bo(),t=e.isPacking,n=e.ui,r=n.width,o=n.height,i=dc();return Object(Bo.jsxs)("div",{className:i.root,children:["Packed texture size: ",r," x ",o,t?Object(Bo.jsx)(pc.a,{className:i.loading}):null]})})),yc=function(){return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(hc,{}),Object(Bo.jsx)(fc,{})]})};var bc=n(74),gc=Object(uo.a)((function(){return Object(fo.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),Oc=Object(O.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,o=t.list,i=gc(),l=jo();return Object(Bo.jsx)(Bo.Fragment,{children:o.map((function(e,t){var o,a="".concat(e.letter).concat(t);return Object(Bo.jsx)("div",{"aria-hidden":!0,className:Object(Na.a)(i.letter,(o={},Object(bc.a)(o,i.select,e.letter===l.selectLetter),Object(bc.a)(o,i.next,e.letter===l.selectNextLetter),o)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),l.setSelectLetter(t,n)}(t,e.letter,e.next)}},a)}))})})),jc=Object(uo.a)((function(e){var t=e.bgPixel;return Object(fo.a)({root:Object(g.a)(Object(g.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),wc=Object(O.c)((function(){var e=bo(),t=Object(f.useState)(null),n=Object(vo.a)(t,2),r=n[0],o=n[1],i=e.ui,l=e.style.font,a=l.size,c=l.lineHeight,s=l.middle,u=l.hanging,p=l.top,d=l.alphabetic,h=l.ideographic,y=l.bottom,b=l.minBaseLine,g=l.maxBaseLine,O=e.layout.padding,j=e.isPacking,w=i.previewScale,m=i.previewOffsetX,x=i.previewOffsetY,k=Object(f.useRef)(null),P=Object(f.useRef)(null),S=sc((function(e){var t=e.offsetX,n=e.offsetY,r=i.previewScale,o=i.previewOffsetX,l=i.previewOffsetY;(0,i.setPreviewTransform)({previewOffsetX:o+t/r,previewOffsetY:l+n/r})}),[i]),T=Object(vo.a)(S,2),M=T[0],I=T[1],C=jc({width:r?r.width:0,height:r?r.height:0,scale:w,offsetX:m,offsetY:x,dragState:M});return ac(P,(function(e){var t=i.previewOffsetX,n=i.previewOffsetY,r=i.previewScale,o=i.setPreviewTransform,l=r+e.deltaScale;o({previewOffsetX:t+e.deltaX/l,previewOffsetY:n+e.deltaY/l,previewScale:l})}),[i]),Object(f.useEffect)((function(){if(k.current&&!j&&r){var e=k.current,t=e.getContext("2d");if(t){var n=a*c;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var o=function(e){[s,u,p,d,h,y].forEach((function(o){var i=Math.round(o-b+e*n);t.beginPath(),t.moveTo(-r.xOffset,i+.5-r.yOffset),t.lineTo(r.width,i+.5-r.yOffset),o===b||o===g?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+g-b),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},i=0;i<r.lines;i+=1)o(i)}}}),[d,y,r,u,h,j,c,g,s,b,a,p]),Object(f.useEffect)((function(){Object(v.l)((function(){if(k.current&&!j&&k.current.getContext("2d")){var t=da(e),n=t.chars,r=t.kernings,l=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;l.has(t)||l.set(t,new Map);var o=l.get(t);null===o||void 0===o||o.set(n,r)}));var s=new Map;n.list.forEach((function(e){s.set(e.letter,e)}));var u=a*c,f=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=[],a=e.split(/\r\n|\r|\n/),c=0,s=0,u=0,f=0,p=0,d=0;return a.forEach((function(e,a){p=r*a,d=0;var h=Array.from(e);h.forEach((function(e,r){var a=t.get(e);if(a){var y=h[r+1],b=n.get(e.charCodeAt(0)),g=0;y&&b&&b.has(y.charCodeAt(0))&&(g=b.get(y.charCodeAt(0))||0);var O={x:d+a.xoffset+(0===a.width?0:i),y:p+a.yoffset+(0===a.width?0:i),width:(a.width||a.xadvance)-(0===a.width?0:2*i),height:(a.height||o)-(0===a.width?0:2*i),source:a.source,letter:a.letter,next:y};d+=a.xadvance+g,c=Math.min(O.x,c),s=Math.min(O.y,s),u=Math.max(O.x+O.width,u),f=Math.max(O.y+O.height,f),l.push(O)}}))})),{lines:a.length,list:l,xOffset:c,yOffset:s,width:u-c,height:Math.max(f-s,a.length*r-s)+2}}(i.previewText,s,l,u,g-b,O);o((function(){return f}))}}))}),[j,c,g,b,e,a,i.previewText,O]),Object(Bo.jsx)("div",{"aria-hidden":!0,ref:P,className:C.root,onMouseDown:I,onClick:function(){return i.setSelectLetter("","")},children:Object(Bo.jsxs)("div",{className:C.wrap,children:[Object(Bo.jsx)("canvas",{ref:k,className:C.canvas}),r?Object(Bo.jsx)(Oc,{data:r}):null]})})})),mc=Object(O.c)((function(){var e=jo(),t=e.previewText,n=e.setPreviewText,r=Object(f.useState)(!1),o=Object(vo.a)(r,2),i=o[0],l=o[1],a=Object(f.useState)(t),c=Object(vo.a)(a,2),s=c[0],u=c[1];return Object(Bo.jsxs)(ao.a,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:"Glyphs"})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Wo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;i?u(r):(u(r),r!==t&&n(r))},onCompositionStart:function(){return l(!0)},onCompositionEnd:function(){l(!1),u(s),s!==t&&n(s)}})})]})})),vc=Object(O.c)((function(){var e=bo(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var o=r.adjustMetric,i=r.letter,l=o.xAdvance,a=o.xOffset,c=o.yOffset,s=o.setXAdvance,u=o.setXOffset,f=o.setYOffset;return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:'"'.concat(i,'" Adjustment')})}),Object(Bo.jsx)(ni,{xAdvance:l,xOffset:a,yOffset:c,setXAdvance:s,setXOffset:u,setYOffset:f})]})})),xc=Object(O.c)((function(){var e=bo(),t=e.glyphList,n=e.ui,r=e.style.font,o=r.opentype,i=r.size,l=Object(f.useState)(0),a=Object(vo.a)(l,2),c=a[0],s=a[1],u=Object(f.useState)(),p=Object(vo.a)(u,2),d=p[0],h=p[1],y=Object(f.useState)(0),b=Object(vo.a)(y,2),g=b[0],O=b[1];Object(f.useEffect)((function(){h(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(f.useEffect)((function(){if(d&&n.selectNextLetter&&o){var e=1/o.unitsPerEm*i;s(Math.round(o.getKerningValue(o.charToGlyphIndex(d.letter),o.charToGlyphIndex(n.selectNextLetter))*e))}}),[d,o,i,n.selectNextLetter]);return Object(f.useEffect)((function(){var e;return d&&(O(d.kerning.get(n.selectNextLetter)||0),e=Object(I.a)(d.kerning,(function(){O(d.kerning.get(n.selectNextLetter)||0)}))),e}),[d,n.selectNextLetter]),d&&n.selectNextLetter?Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(mo.a,{children:'"'.concat(d.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(Bo.jsx)(ao.a,{paddingX:2,marginY:4,children:Object(Bo.jsx)(Xo,{before:"Amount:",after:"px",children:Object(Bo.jsx)(Eo.a,{value:g+c,fullWidth:!0,type:"number",onChange:function(e){d&&d.steKerning(n.selectNextLetter,Number(e.target.value)-c)}})})})]}):null})),kc=function(){return Object(Bo.jsxs)(Bo.Fragment,{children:[Object(Bo.jsx)(wc,{}),Object(Bo.jsxs)(Go.a,{container:!0,alignItems:"flex-start",children:[Object(Bo.jsx)(Go.a,{item:!0,xs:4,children:Object(Bo.jsx)(mc,{})}),Object(Bo.jsx)(Go.a,{item:!0,xs:4,children:Object(Bo.jsx)(vc,{})}),Object(Bo.jsx)(Go.a,{item:!0,xs:4,children:Object(Bo.jsx)(xc,{})})]})]})},Pc=Object(uo.a)((function(e){var t=e.palette;return Object(fo.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),Sc=Object(O.c)((function(){var e=jo(),t=e.showPreview,n=e.packFailed,r=Pc();return Object(Bo.jsxs)("div",{className:r.root,children:[n?Object(Bo.jsxs)("div",{className:r.toast,children:[Object(Bo.jsx)(lc.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(Bo.jsx)(kc,{}):Object(Bo.jsx)(yc,{})]})})),Tc=n(566),Mc=n(164),Ic=n.n(Mc),Cc=Object(uo.a)((function(e){var t=e.palette;return Object(fo.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),Ac=function(e){var t=e.name,n=e.useRemove,r=e.selected,o=e.value,i=e.onChange,l=e.onClick,a=e.onRemove,c=e.onRename,s=Object(f.useState)(!1),u=Object(vo.a)(s,2),p=u[0],d=u[1],h=Object(f.useState)(t),y=Object(vo.a)(h,2),b=y[0],g=y[1],O=Object(f.useRef)(null),j=Cc(),w=function(e){e.stopPropagation(),a&&a(e,o)};return Object(f.useEffect)((function(){p&&O.current&&O.current.focus(),!p&&c&&c(b,o)}),[p,c,b,o]),Object(f.useEffect)((function(){g(t)}),[t]),Object(Bo.jsxs)("div",{"aria-hidden":!0,className:Object(Na.a)(j.root,Object(bc.a)({},j.selected,r)),onClick:function(e){e.stopPropagation(),i&&i(e,o),l&&l(e)},onDoubleClick:function(e){e.stopPropagation(),O.current&&d(!0)},title:"Double click rename",children:[Object(Bo.jsxs)("span",{"aria-hidden":!0,className:j.name,children:[p?b:t,Object(Bo.jsx)("input",{className:j.input,hidden:!p,ref:O,value:p?b:t,type:"text",onKeyDown:function(e){13===e.keyCode&&O.current&&O.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),d(!1)},onChange:function(e){g(e.target.value)}})]}),n?Object(Bo.jsx)(Ic.a,{className:j.icon,onClick:w,onDoubleClick:w}):null]})},Nc=Object(uo.a)((function(e){var t=e.palette,n=e.shadows;return Object(fo.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),zc=Object(O.c)((function(){var e=Nc(),t=ho(),n=t.addProject,r=t.selectProject,o=t.removeProject,i=t.setProjectName,l=t.namedList,a=t.activeId,c=function(e,t){"undefined"!==typeof t&&o(t)};return Object(Bo.jsx)(Tc.a,{classes:e,value:a,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:l.map((function(e){return Object(Bo.jsx)(Ac,{useRemove:l.length>1,name:e.name,value:e.id,onRename:i,onRemove:c},e.id)}))})})),Fc=n(495),Bc=n(547),Lc=Object(uo.a)((function(){return Object(fo.a)({slider:{width:"200px"}})})),Ec=Object(O.c)((function(){var e=jo(),t=e.scale,n=e.setTransform,r=e.previewScale,o=e.setPreviewTransform,i=e.showPreview,l=e.setShowPreview,a=Lc(),c=Object(f.useState)(!1),s=Object(vo.a)(c,2),u=s[0],p=s[1],d=Object(f.useRef)(null),h=Object(f.useState)([.25,.5,.75,1,1.25,1.5,5,10]),y=Object(vo.a)(h,1)[0],b=function(e,t){i?o({previewScale:t}):n({scale:t})};return Object(Bo.jsxs)(ao.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(Bo.jsxs)(ao.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(Bo.jsx)(Ka.a,{size:"small",color:"primary",checked:i,onChange:function(e){return l(e.target.checked)}})]}),Object(Bo.jsx)(Ho.a,{className:a.slider,value:i?r:t,min:.01,max:10,step:.01,onChange:b}),Object(Bo.jsx)(ko.a,{ref:d,onClick:function(){p((function(e){return!e}))},children:"".concat(Math.round(1e3*(i?r:t))/10,"%")}),Object(Bo.jsx)(Sa.a,{open:u,anchorEl:d.current,placement:"top-end",children:Object(Bo.jsx)(Fc.a,{children:Object(Bo.jsx)(xa.a,{onClickAway:function(e){d.current&&d.current.contains(e.target)||p(!1)},children:Object(Bo.jsx)(Bc.a,{children:y.map((function(e){return Object(Bo.jsx)(la.a,{onClick:function(){return b(0,e),void p(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),Dc=n(576),Gc=n(560),Jc=n(561),Xc=n(268),Yc=n.n(Xc),Hc=n(271),$c=n.n(Hc),Rc=n(270),Wc=n.n(Rc),Uc=n(269),Vc=n.n(Uc),qc=n(281),Kc=n(267),Qc=n.n(Kc),Zc=Object(uo.a)((function(e){return Object(fo.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),_c=Object(O.c)((function(e){var t=Zc(),n=bo().removeImage,r=Object(f.useState)(!1),o=Object(vo.a)(r,2),i=o[0],l=o[1],a=e.glyph,c=Object(f.useState)(a.letter),s=Object(vo.a)(c,2),u=s[0],p=s[1],d=a.changeSelect,h=a.selected,y=a.setGlyph;return Object(Bo.jsxs)(Fc.a,{variant:"outlined",className:t.root,children:[Object(Bo.jsx)("img",{className:t.image,src:a.src,alt:a.fileName}),Object(Bo.jsxs)(Go.a,{container:!0,direction:"column",className:t.actions,children:[Object(Bo.jsxs)(Go.a,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(Bo.jsx)(Ko.a,{checked:h,size:"small",color:"default",onChange:function(e){return d(e.target.checked)}}),Object(Bo.jsx)(To.a,{color:"primary",size:"small",onClick:function(){return n(a)},children:Object(Bo.jsx)(Qc.a,{fontSize:"small"})})]}),Object(Bo.jsx)(Go.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(Bo.jsx)(qc.a,{fullWidth:!0,value:i?u:a.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;i?(p(t.slice(0,1)),y(t.slice(0,1))):y(t)},onCompositionEnd:function(){l(!1),p((function(e){return e.slice(0,1)})),y(u.slice(0,1))},onCompositionStart:function(){return l(!0)}})})]})]})})),es=Object(uo.a)((function(){return Object(fo.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),ts=Object(O.c)((function(){var e=bo().glyphImages,t=es();return Object(Bo.jsx)(ao.a,{className:t.root,children:e.map((function(e){return Object(Bo.jsx)(_c,{glyph:e},e.src)}))})})),ns=Object(uo.a)((function(){return Object(fo.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),rs=Object(O.c)((function(){var e=ns(),t=bo().addImages,n=Object(f.useState)(!1),r=Object(vo.a)(n,2),o=r[0],i=r[1],l=Object(f.useState)(!1),a=Object(vo.a)(l,2),c=a[0],s=a[1],u=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return Fo(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},p=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():i(!1))};return Object(f.useEffect)((function(){return o?window.addEventListener("keydown",p):window.removeEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[o]),Object(Bo.jsx)(ao.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),u(e.dataTransfer.files)},className:Object(Na.a)(e.root,Object(bc.a)({},e.fixed,o)),children:Object(Bo.jsxs)(Dc.a,{className:e.panel,expanded:o||c,onChange:function(){s((function(e){return o||!e}))},TransitionProps:{style:o||c?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(Bo.jsx)(Gc.a,{expandIcon:o?void 0:Object(Bo.jsx)(Yc.a,{}),children:Object(Bo.jsxs)(Go.a,{container:!0,alignItems:"center",children:[Object(Bo.jsx)(Go.a,{item:!0,children:Object(Bo.jsx)(mo.a,{children:"Image Glyph List"})}),Object(Bo.jsx)(Go.a,{item:!0,xs:!0,container:!0,justifyContent:"center",children:Object(Bo.jsxs)(ko.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(Bo.jsx)(Vc.a,{}),children:["Select Images",Object(Bo.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;u(t)}}})]})}),Object(Bo.jsx)(Go.a,{item:!0,children:Object(Bo.jsx)(To.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),i((function(e){return!e}))},children:o?Object(Bo.jsx)(Wc.a,{}):Object(Bo.jsx)($c.a,{})})})]})}),Object(Bo.jsx)(Jc.a,{className:e.continer,children:Object(Bo.jsx)(ao.a,{className:e.listWrap,children:Object(Bo.jsx)(ts,{})})})]})})})),os=Object(uo.a)((function(e){var t=e.palette,n=e.shadows;return Object(fo.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),is=function(){var e=os();return Object(Bo.jsxs)(ao.a,{className:e.root,children:[Object(Bo.jsx)(zc,{}),Object(Bo.jsx)(Sc,{}),Object(Bo.jsx)(Ec,{}),Object(Bo.jsx)(rs,{})]})},ls=n(574),as=Object(uo.a)((function(e){return Object(fo.a)({close:{padding:e.spacing(.5)}})}));function cs(){var e=as(),t=p.a.useState(!1),n=Object(vo.a)(t,2),r=n[0],o=n[1],i=function(e,t){"clickaway"!==t&&o(!1)},l=p.a.useCallback((function(e){var t=e.detail;o(!!t)}),[]);return p.a.useEffect((function(){return window.addEventListener("updateVerion",l,!1),function(){return window.removeEventListener("updateVerion",l,!1)}}),[l]),Object(Bo.jsx)(ls.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:i,message:"New version is available.",action:Object(Bo.jsxs)(p.a.Fragment,{children:[Object(Bo.jsx)(ko.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(Bo.jsx)(To.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:i,children:Object(Bo.jsx)(Ic.a,{})})]})})}var ss=Object(uo.a)((function(e){var t=e.zIndex;return Object(fo.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),us=Object(O.c)((function(){var e=ss(),t=po().ui;return Object(Bo.jsxs)(ao.a,{className:e.root,children:[Object(Bo.jsx)(ja,{}),Object(Bo.jsx)(cs,{}),Object(Bo.jsxs)(ao.a,{className:e.content,children:[Object(Bo.jsx)(ii,{}),Object(Bo.jsx)(is,{}),Object(Bo.jsx)(oc,{})]}),Object(Bo.jsx)(co.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(Bo.jsx)(so.a,{color:"inherit"})})]})}));var fs=function(){return Object(Bo.jsxs)(m.a,{theme:lo,children:[Object(Bo.jsx)(w.a,{}),Object(Bo.jsx)(O.b,Object(g.a)(Object(g.a)({},(Vr||(Vr={ui:new M,workspace:new eo}),Vr)),{},{children:Object(Bo.jsx)(j.a,{anchorOrigin:{horizontal:"center",vertical:"top"},children:Object(Bo.jsx)(us,{})})}))]})},ps=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ds(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}y.a({dsn:"https://007c463bad354a5baf9a11d8e9d7c8a6@o501223.ingest.sentry.io/5981296",release:"0493882",integrations:[new b.a.BrowserTracing],tracesSampleRate:1,environment:"production"}),h.a.render(Object(Bo.jsx)(fs,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ps?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ds(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ds(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[488,1,2]]]);
//# sourceMappingURL=main.84a13091.chunk.js.map