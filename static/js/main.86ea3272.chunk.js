(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{120:function(e,t){},370:function(e,t,n){"use strict";n.r(t);var r,i,o,a,l=n(1),c=n(0),s=n.n(c),u=n(23),f=n.n(u),p=n(13),d=n(433),h=n(434),b=n(11),g=n(2),y=n(8),O=n(21),j=n(19),w=n(4),m=(n(33),r=g.k.bound,i=g.k.bound,o=function(){function e(){Object(O.a)(this,e),Object(y.a)(this,"globalLoader",a,this)}return Object(j.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),a=Object(w.a)(o.prototype,"globalLoader",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(w.a)(o.prototype,"showGlobalLoader",[r],Object.getOwnPropertyDescriptor(o.prototype,"showGlobalLoader"),o.prototype),Object(w.a)(o.prototype,"hideGlobalLoader",[i],Object.getOwnPropertyDescriptor(o.prototype,"hideGlobalLoader"),o.prototype),o),x=n(70),v=n(140),k=n(199);function P(){return new Worker(n.p+"static/js/AutoPacker.711f49529e2a10d50a60.worker.js")}var S,T,C,I,z,A,M,N,B,L,$,D,E,F,X,Y,G,H,J,W,R,U,K={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},V={num:function(e,t){return K.num(e)?e:t}},q=(S=g.k.bound,T=g.k.bound,C=g.k.bound,I=g.k.bound,z=g.k.bound,A=g.k.bound,M=g.k.bound,N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"scale",B,this),Object(y.a)(this,"offsetX",L,this),Object(y.a)(this,"offsetY",$,this),Object(y.a)(this,"width",D,this),Object(y.a)(this,"height",E,this),Object(y.a)(this,"previewText",F,this),Object(y.a)(this,"selectLetter",X,this),Object(y.a)(this,"selectNextLetter",Y,this),Object(y.a)(this,"showPreview",G,this),Object(y.a)(this,"previewScale",H,this),Object(y.a)(this,"previewOffsetX",J,this),Object(y.a)(this,"previewOffsetY",W,this),Object(y.a)(this,"packFailed",R,this),t.previewText&&(this.previewText=t.previewText)}return Object(j.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=V.num(e.scale,this.scale),this.offsetX=V.num(e.offsetX,this.offsetX),this.offsetY=V.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(V.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=V.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=V.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),B=Object(w.a)(N.prototype,"scale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Object(w.a)(N.prototype,"offsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Object(w.a)(N.prototype,"offsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(w.a)(N.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=Object(w.a)(N.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=Object(w.a)(N.prototype,"previewText",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),X=Object(w.a)(N.prototype,"selectLetter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=Object(w.a)(N.prototype,"selectNextLetter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=Object(w.a)(N.prototype,"showPreview",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=Object(w.a)(N.prototype,"previewScale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Object(w.a)(N.prototype,"previewOffsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=Object(w.a)(N.prototype,"previewOffsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(w.a)(N.prototype,"packFailed",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(w.a)(N.prototype,"setTransform",[S],Object.getOwnPropertyDescriptor(N.prototype,"setTransform"),N.prototype),Object(w.a)(N.prototype,"setSize",[T],Object.getOwnPropertyDescriptor(N.prototype,"setSize"),N.prototype),Object(w.a)(N.prototype,"setPreviewText",[C],Object.getOwnPropertyDescriptor(N.prototype,"setPreviewText"),N.prototype),Object(w.a)(N.prototype,"setShowPreview",[I],Object.getOwnPropertyDescriptor(N.prototype,"setShowPreview"),N.prototype),Object(w.a)(N.prototype,"setPreviewTransform",[z],Object.getOwnPropertyDescriptor(N.prototype,"setPreviewTransform"),N.prototype),Object(w.a)(N.prototype,"setSelectLetter",[A],Object.getOwnPropertyDescriptor(N.prototype,"setSelectLetter"),N.prototype),Object(w.a)(N.prototype,"setPackFailed",[M],Object.getOwnPropertyDescriptor(N.prototype,"setPackFailed"),N.prototype),N),Q={fontSize:"14px",fontFamily:"sans-serif"};function _(e){var t=Object(p.a)(Object(p.a)({},Q),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),K.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=Q.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var Z,ee,te,ne,re,ie,oe,ae,le,ce,se,ue,fe,pe,de,he,be,ge,ye,Oe,je=n(180);var we,me,xe,ve,ke,Pe,Se,Te,Ce,Ie,ze=(te=g.B.ref,ne=g.B.ref,re=g.k.bound,ie=g.k.bound,oe=g.k.bound,ae=g.k.bound,le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"font",ce,this),Object(y.a)(this,"family",se,this),Object(y.a)(this,"size",ue,this),Object(y.a)(this,"lineHeight",fe,this),Object(y.a)(this,"middle",pe,this),Object(y.a)(this,"hanging",de,this),Object(y.a)(this,"top",he,this),Object(y.a)(this,"alphabetic",be,this),Object(y.a)(this,"ideographic",ge,this),Object(y.a)(this,"bottom",ye,this),Object(y.a)(this,"opentype",Oe,this),this.size=t.size||72,this.lineHeight=t.lineHeight||1.25,t.font&&t.font.byteLength?this.setFont(t.font):this.updateBaseines()}return Object(j.a)(e,[{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}},{key:"hasFont",get:function(){return!(!this.font||!this.opentype||"sans-serif"===this.family)}}]),Object(j.a)(e,[{key:"updateBaseines",value:function(){var e=function(e,t){U||(U=document.createElement("canvas"));var n=U.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=_(t);U.width=1,U.height=1,n.font=r,n.textBaseline="middle";var i=n.measureText(e);n.textBaseline="hanging";var o=n.measureText(e);n.textBaseline="top";var a=n.measureText(e);n.textBaseline="alphabetic";var l=n.measureText(e);n.textBaseline="ideographic";var c=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e);return{middle:0,hanging:o.actualBoundingBoxAscent-i.actualBoundingBoxAscent,top:a.actualBoundingBoxAscent-i.actualBoundingBoxAscent,alphabetic:i.actualBoundingBoxDescent-l.actualBoundingBoxDescent,ideographic:i.actualBoundingBoxDescent-c.actualBoundingBoxDescent,bottom:i.actualBoundingBoxDescent-s.actualBoundingBoxDescent}}("a",{fontFamily:this.family,fontSize:this.size});this.middle=e.middle,this.hanging=e.hanging,this.top=e.top,this.alphabetic=e.alphabetic,this.ideographic=e.ideographic,this.bottom=e.bottom}},{key:"setFont",value:function(e){var t=this;try{this.opentype=Object(je.a)(e,{lowMemory:!0})}catch(o){return Promise.resolve()}var n=this.opentype.names,r=n.postScriptName[Object.keys(n.postScriptName)[0]],i=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(Z)Z.appendChild(n);else{var r=document.createTextNode("A");Z=document.createElement("style"),ee=document.createElement("div"),document.head.appendChild(Z),Z.appendChild(n),ee.appendChild(r),ee.style.position="absolute",ee.style.left="-1000px",ee.style.top="-1000px",ee.style.opacity="0",ee.style.fontSize="12px",ee.style.pointerEvents="none",document.body.appendChild(ee)}return ee.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(r,i).then((function(){Object(g.F)((function(){t.family=r,t.font=e,t.updateBaseines()}))}))}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}},{key:"clearFont",value:function(){this.font=null,this.opentype=null,this.family="sans-serif",this.updateBaseines()}}]),e}(),ce=Object(w.a)(le.prototype,"font",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=Object(w.a)(le.prototype,"family",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"sans-serif"}}),ue=Object(w.a)(le.prototype,"size",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Object(w.a)(le.prototype,"lineHeight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),pe=Object(w.a)(le.prototype,"middle",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=Object(w.a)(le.prototype,"hanging",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=Object(w.a)(le.prototype,"top",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=Object(w.a)(le.prototype,"alphabetic",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=Object(w.a)(le.prototype,"ideographic",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ye=Object(w.a)(le.prototype,"bottom",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=Object(w.a)(le.prototype,"opentype",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(w.a)(le.prototype,"minBaseLine",[g.m],Object.getOwnPropertyDescriptor(le.prototype,"minBaseLine"),le.prototype),Object(w.a)(le.prototype,"maxBaseLine",[g.m],Object.getOwnPropertyDescriptor(le.prototype,"maxBaseLine"),le.prototype),Object(w.a)(le.prototype,"hasFont",[g.m],Object.getOwnPropertyDescriptor(le.prototype,"hasFont"),le.prototype),Object(w.a)(le.prototype,"setFont",[re],Object.getOwnPropertyDescriptor(le.prototype,"setFont"),le.prototype),Object(w.a)(le.prototype,"setSize",[ie],Object.getOwnPropertyDescriptor(le.prototype,"setSize"),le.prototype),Object(w.a)(le.prototype,"setLineHeight",[oe],Object.getOwnPropertyDescriptor(le.prototype,"setLineHeight"),le.prototype),Object(w.a)(le.prototype,"clearFont",[ae],Object.getOwnPropertyDescriptor(le.prototype,"clearFont"),le.prototype),le),Ae=n(27);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Ie||(Ie={}));var Me,Ne,Be,Le,$e,De,Ee,Fe,Xe,Ye,Ge,He=(we=g.B.shallow,me=g.k.bound,xe=g.k.bound,ve=g.k.bound,ke=g.k.bound,Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"type",Se,this),Object(y.a)(this,"angle",Te,this),Object(y.a)(this,"palette",Ce,this),this.type=n.type&&Ie[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(p.a)(Object(p.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"#FFF"),this.addColor(1))}return Object(j.a)(e,[{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}},{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(Ae.a)(this.ids))+1}}]),e}(),Se=Object(w.a)(Pe.prototype,"type",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Te=Object(w.a)(Pe.prototype,"angle",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=Object(w.a)(Pe.prototype,"palette",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(w.a)(Pe.prototype,"ids",[g.m],Object.getOwnPropertyDescriptor(Pe.prototype,"ids"),Pe.prototype),Object(w.a)(Pe.prototype,"nextId",[g.m],Object.getOwnPropertyDescriptor(Pe.prototype,"nextId"),Pe.prototype),Object(w.a)(Pe.prototype,"setType",[me],Object.getOwnPropertyDescriptor(Pe.prototype,"setType"),Pe.prototype),Object(w.a)(Pe.prototype,"setAngle",[xe],Object.getOwnPropertyDescriptor(Pe.prototype,"setAngle"),Pe.prototype),Object(w.a)(Pe.prototype,"addColor",[ve],Object.getOwnPropertyDescriptor(Pe.prototype,"addColor"),Pe.prototype),Object(w.a)(Pe.prototype,"updatePalette",[ke],Object.getOwnPropertyDescriptor(Pe.prototype,"updatePalette"),Pe.prototype),Pe);var Je,We,Re,Ue,Ke,Ve,qe,Qe,_e,Ze,et=(Me=g.B.ref,Ne=g.B.ref,Be=g.k.bound,Le=g.k.bound,$e=g.k.bound,De=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"buffer",Ee,this),Object(y.a)(this,"image",Fe,this),Object(y.a)(this,"src",Xe,this),Object(y.a)(this,"repetition",Ye,this),Object(y.a)(this,"scale",Ge,this),this.scale=V.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(j.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(g.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),Ee=Object(w.a)(De.prototype,"buffer",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i+=1)r[i]=t.charCodeAt(i);return r.buffer}("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),Fe=Object(w.a)(De.prototype,"image",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=Object(w.a)(De.prototype,"src",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ye=Object(w.a)(De.prototype,"repetition",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),Ge=Object(w.a)(De.prototype,"scale",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(w.a)(De.prototype,"setImage",[Be],Object.getOwnPropertyDescriptor(De.prototype,"setImage"),De.prototype),Object(w.a)(De.prototype,"setRepetition",[Le],Object.getOwnPropertyDescriptor(De.prototype,"setRepetition"),De.prototype),Object(w.a)(De.prototype,"setScale",[$e],Object.getOwnPropertyDescriptor(De.prototype,"setScale"),De.prototype),De);!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(Ze||(Ze={}));var tt,nt,rt,it,ot,at,lt,ct,st,ut,ft,pt,dt,ht,bt,gt,yt,Ot,jt,wt,mt,xt,vt,kt,Pt,St,Tt,Ct,It,zt,At,Mt,Nt,Bt,Lt,$t,Dt,Et,Ft,Xt,Yt,Gt,Ht,Jt,Wt,Rt,Ut,Kt,Vt,qt,Qt,_t,Zt,en,tn,nn,rn,on,an,ln,cn,sn,un,fn,pn,dn,hn,bn,gn,yn=(Je=g.B.shallow,We=g.B.shallow,Re=g.k.bound,Ue=g.k.bound,Ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"type",Ve,this),Object(y.a)(this,"color",qe,this),Object(y.a)(this,"gradient",Qe,this),Object(y.a)(this,"patternTexture",_e,this),this.color=t.color||"#000000",this.type=t.type&&Ze[t.type]?t.type:0,this.gradient=new He(t.gradient),this.patternTexture=new et(t.patternTexture)}return Object(j.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),Ve=Object(w.a)(Ke.prototype,"type",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Object(w.a)(Ke.prototype,"color",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=Object(w.a)(Ke.prototype,"gradient",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Object(w.a)(Ke.prototype,"patternTexture",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(w.a)(Ke.prototype,"setType",[Re],Object.getOwnPropertyDescriptor(Ke.prototype,"setType"),Ke.prototype),Object(w.a)(Ke.prototype,"setColor",[Ue],Object.getOwnPropertyDescriptor(Ke.prototype,"setColor"),Ke.prototype),Ke),On=n(44),jn=n(77),wn=n(76),mn=(tt=g.k.bound,nt=g.k.bound,rt=g.k.bound,it=function(e){Object(jn.a)(n,e);var t=Object(wn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(O.a)(this,n),e=t.call(this,r),Object(y.a)(e,"width",ot,Object(On.a)(e)),Object(y.a)(e,"lineCap",at,Object(On.a)(e)),Object(y.a)(e,"lineJoin",lt,Object(On.a)(e)),e.width=V.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e}return Object(j.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}}]),n}(yn),ot=Object(w.a)(it.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),at=Object(w.a)(it.prototype,"lineCap",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Object(w.a)(it.prototype,"lineJoin",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(w.a)(it.prototype,"setWidth",[tt],Object.getOwnPropertyDescriptor(it.prototype,"setWidth"),it.prototype),Object(w.a)(it.prototype,"setLineCap",[nt],Object.getOwnPropertyDescriptor(it.prototype,"setLineCap"),it.prototype),Object(w.a)(it.prototype,"setLineJoin",[rt],Object.getOwnPropertyDescriptor(it.prototype,"setLineJoin"),it.prototype),it),xn=(ct=g.k.bound,st=g.k.bound,ut=g.k.bound,ft=g.k.bound,pt=g.k.bound,dt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"color",ht,this),Object(y.a)(this,"blur",bt,this),Object(y.a)(this,"offsetX",gt,this),Object(y.a)(this,"offsetY",yt,this),this.color=t.color||"#000000",this.blur=V.num(t.blur,1),this.offsetX=V.num(t.offsetX,1),this.offsetY=V.num(t.offsetY,1)}return Object(j.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),ht=Object(w.a)(dt.prototype,"color",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=Object(w.a)(dt.prototype,"blur",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gt=Object(w.a)(dt.prototype,"offsetX",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yt=Object(w.a)(dt.prototype,"offsetY",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(w.a)(dt.prototype,"setColor",[ct],Object.getOwnPropertyDescriptor(dt.prototype,"setColor"),dt.prototype),Object(w.a)(dt.prototype,"setBlur",[st],Object.getOwnPropertyDescriptor(dt.prototype,"setBlur"),dt.prototype),Object(w.a)(dt.prototype,"setOffsetX",[ut],Object.getOwnPropertyDescriptor(dt.prototype,"setOffsetX"),dt.prototype),Object(w.a)(dt.prototype,"setOffsetY",[ft],Object.getOwnPropertyDescriptor(dt.prototype,"setOffsetY"),dt.prototype),Object(w.a)(dt.prototype,"setOffset",[pt],Object.getOwnPropertyDescriptor(dt.prototype,"setOffset"),dt.prototype),dt),vn=(Ot=g.k.bound,jt=g.k.bound,wt=g.k.bound,mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"font",xt,this),Object(y.a)(this,"fill",vt,this),Object(y.a)(this,"useStroke",kt,this),Object(y.a)(this,"stroke",Pt,this),Object(y.a)(this,"useShadow",St,this),Object(y.a)(this,"shadow",Tt,this),Object(y.a)(this,"bgColor",Ct,this),this.font=new ze(t.font),this.fill=new yn(t.fill),this.stroke=new mn(t.stroke),this.shadow=new xn(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(j.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),xt=Object(w.a)(mt.prototype,"font",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Object(w.a)(mt.prototype,"fill",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Object(w.a)(mt.prototype,"useStroke",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Object(w.a)(mt.prototype,"stroke",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Object(w.a)(mt.prototype,"useShadow",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Object(w.a)(mt.prototype,"shadow",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Object(w.a)(mt.prototype,"bgColor",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(w.a)(mt.prototype,"setUseStroke",[Ot],Object.getOwnPropertyDescriptor(mt.prototype,"setUseStroke"),mt.prototype),Object(w.a)(mt.prototype,"setUseShadow",[jt],Object.getOwnPropertyDescriptor(mt.prototype,"setUseShadow"),mt.prototype),Object(w.a)(mt.prototype,"setBgColor",[wt],Object.getOwnPropertyDescriptor(mt.prototype,"setBgColor"),mt.prototype),mt),kn=(It=g.k.bound,zt=g.k.bound,At=g.k.bound,Mt=g.k.bound,Nt=g.k.bound,Bt=g.k.bound,Lt=g.k.bound,$t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"padding",Dt,this),Object(y.a)(this,"spacing",Et,this),Object(y.a)(this,"power",Ft,this),Object(y.a)(this,"width",Xt,this),Object(y.a)(this,"height",Yt,this),Object(y.a)(this,"auto",Gt,this),Object(y.a)(this,"fixedSize",Ht,this),this.padding=V.num(t.padding,1),this.spacing=V.num(t.spacing,1),this.power=!!t.power,this.width=V.num(t.width,1024),this.height=V.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(j.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setPower",value:function(e){this.power=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),Dt=Object(w.a)($t.prototype,"padding",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Et=Object(w.a)($t.prototype,"spacing",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ft=Object(w.a)($t.prototype,"power",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xt=Object(w.a)($t.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Yt=Object(w.a)($t.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),Gt=Object(w.a)($t.prototype,"auto",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ht=Object(w.a)($t.prototype,"fixedSize",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(w.a)($t.prototype,"setPadding",[It],Object.getOwnPropertyDescriptor($t.prototype,"setPadding"),$t.prototype),Object(w.a)($t.prototype,"setSpacing",[zt],Object.getOwnPropertyDescriptor($t.prototype,"setSpacing"),$t.prototype),Object(w.a)($t.prototype,"setPower",[At],Object.getOwnPropertyDescriptor($t.prototype,"setPower"),$t.prototype),Object(w.a)($t.prototype,"setWidth",[Mt],Object.getOwnPropertyDescriptor($t.prototype,"setWidth"),$t.prototype),Object(w.a)($t.prototype,"setHeight",[Nt],Object.getOwnPropertyDescriptor($t.prototype,"setHeight"),$t.prototype),Object(w.a)($t.prototype,"setAuto",[Bt],Object.getOwnPropertyDescriptor($t.prototype,"setAuto"),$t.prototype),Object(w.a)($t.prototype,"setFixedSize",[Lt],Object.getOwnPropertyDescriptor($t.prototype,"setFixedSize"),$t.prototype),$t),Pn=(Jt=g.k.bound,Wt=g.k.bound,Rt=g.k.bound,Ut=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"xAdvance",Kt,this),Object(y.a)(this,"xOffset",Vt,this),Object(y.a)(this,"yOffset",qt,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(j.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),Kt=Object(w.a)(Ut.prototype,"xAdvance",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt=Object(w.a)(Ut.prototype,"xOffset",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qt=Object(w.a)(Ut.prototype,"yOffset",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(w.a)(Ut.prototype,"setXAdvance",[Jt],Object.getOwnPropertyDescriptor(Ut.prototype,"setXAdvance"),Ut.prototype),Object(w.a)(Ut.prototype,"setXOffset",[Wt],Object.getOwnPropertyDescriptor(Ut.prototype,"setXOffset"),Ut.prototype),Object(w.a)(Ut.prototype,"setYOffset",[Rt],Object.getOwnPropertyDescriptor(Ut.prototype,"setYOffset"),Ut.prototype),Ut);function Sn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,i=e.height,o=0,a=0,l=0,c=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(i/2),h=Math.ceil(r/2),b=0;b<d;b+=1){for(var g=0;g<r&&(s&&n[4*(b*r+g)+3]>t&&(s=!1),u&&n[4*((i-b-1)*r+g)+3]>t&&(u=!1),s||u);g+=1);if(!s&&!u)break;s&&(o+=1),u&&(a+=1)}if(o+a>=i)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*i,width:0,height:0};d=i-a;for(var y=0;y<h;y+=1){for(var O=o;O<d&&(f&&n[4*(r*O+y)+3]>t&&(f=!1),p&&n[4*(r*O+r-y-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(l+=1),p&&(c+=1)}return{trimOffsetLeft:-1*l,trimOffsetTop:-1*o,width:r-l-c,height:i-o-a}}function Tn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}function Cn(e,t,n,r,i,o){if(0===o.type)return o.color;if(1===o.type){var a,l=o.gradient,c=l.type,s=l.palette,u=l.angle,f=t+r/2,p=n+i/2,d=Math.max(r,i)/2;if(0===c){var h=Tn(f,p,d,u+180),b=Tn(f,p,d,u);a=e.createLinearGradient(h.x,h.y,b.x,b.y)}else a=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){a.addColorStop(e.offset,e.color)})),a}var g=o.patternTexture,y=g.image,O=g.repetition,j=g.scale;if(!y)return"rgba(0,0,0,0)";if(1===j)return e.createPattern(y,O)||"rgba(0,0,0,0)";var w=y.naturalWidth,m=y.naturalHeight,x=document.createElement("canvas");x.width=Math.ceil(w*j),x.height=Math.ceil(m*j);var v=x.getContext("2d");return v?(v.drawImage(y,0,0,x.width,x.height),e.createPattern(x,O)||"rgba(0,0,0,0)"):"rgba(0,0,0,0)"}function In(e,t){var n=t.font,r=t.stroke,i=t.shadow,o=t.fill,a=function(e,t){Qt||(Qt=document.createElement("canvas"));var n=Qt.getContext("2d");if(!n)throw new Error("Get context 2d failed.");Qt.width=1,Qt.height=1;var r=_(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var i,o,a=n.measureText(e);if("undefined"===typeof a.actualBoundingBoxLeft)return{text:e,font:r,width:a.width,height:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),fontWidth:a.width,fontHeight:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var l=n.measureText(e),c=Math.ceil(a.actualBoundingBoxLeft),s=Math.ceil(l.actualBoundingBoxRight),u=Math.ceil(l.actualBoundingBoxAscent),f=Math.ceil(a.actualBoundingBoxDescent);return{text:e,font:r,width:c+Math.ceil(a.actualBoundingBoxRight),height:f+Math.ceil(a.actualBoundingBoxAscent),fontWidth:Math.ceil(a.width),fontHeight:a.actualBoundingBoxAscent-l.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:c,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),l=a.width,c=a.height,s=a.trimOffsetLeft,u=a.trimOffsetTop;if(0===l||0===c)return Object(p.a)({canvas:null},a);var f=r?2*r.width:0,d=f,h=f,b=(l-n.size)/2,g=(c-n.size)/2;if(i){var y=Math.ceil(1.5*i.blur);d=Math.abs(i.offsetX)+y,h=Math.abs(i.offsetY)+y}b+=d,g+=h;var O=document.createElement("canvas"),j=O.getContext("2d");if(O.width=l+2*d,O.height=c+2*h,j.textAlign="left",j.textBaseline="top",j.font=_({fontSize:n.size,fontFamily:n.family}),r&&f&&(j.lineWidth=f,j.lineCap=r.lineCap,j.lineJoin=r.lineJoin,j.strokeStyle=Cn(j,b,g,n.size,n.size,r),j.strokeText(e,d+s,h+u)),j.fillStyle=Cn(j,b,g,n.size,n.size,o),j.fillText(e,d+s,h+u),i){var w=document.createElement("canvas");w.width=l+2*d,w.height=c+2*h;var m=w.getContext("2d");m.shadowColor=i.color,m.shadowBlur=i.blur,m.shadowOffsetX=i.offsetX,m.shadowOffsetY=i.offsetY,m.drawImage(O,0,0),O=w,j=m}if(0===O.width||0===O.height)return Object(p.a)({canvas:O},a);var x=j.getImageData(0,0,O.width,O.height),v=Sn(x);return O.width=v.width,O.height=v.height,a.width=v.width,a.height=v.height,j.putImageData(x,v.trimOffsetLeft,v.trimOffsetTop),a.trimOffsetLeft+=d+v.trimOffsetLeft,a.trimOffsetTop+=h+v.trimOffsetTop,a.trimOffsetBottom+=h+(c+2*h+v.trimOffsetTop-v.height),Object(p.a)({canvas:O},a)}var zn,An,Mn,Nn,Bn,Ln,$n,Dn,En,Fn,Xn,Yn=(_t=g.B.ref,Zt=g.B.ref,en=g.k.bound,tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),this.type="text",Object(y.a)(this,"letter",nn,this),Object(y.a)(this,"source",rn,this),Object(y.a)(this,"width",on,this),Object(y.a)(this,"height",an,this),Object(y.a)(this,"x",ln,this),Object(y.a)(this,"y",cn,this),Object(y.a)(this,"fontWidth",sn,this),Object(y.a)(this,"fontHeight",un,this),Object(y.a)(this,"trimOffsetTop",fn,this),Object(y.a)(this,"trimOffsetLeft",pn,this),Object(y.a)(this,"trimOffsetRight",dn,this),Object(y.a)(this,"trimOffsetBottom",hn,this),Object(y.a)(this,"adjustMetric",bn,this),Object(y.a)(this,"kerning",gn,this),this.letter=t.letter||"",this.adjustMetric=new Pn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(j.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),nn=Object(w.a)(tn.prototype,"letter",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rn=Object(w.a)(tn.prototype,"source",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=Object(w.a)(tn.prototype,"width",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),an=Object(w.a)(tn.prototype,"height",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ln=Object(w.a)(tn.prototype,"x",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cn=Object(w.a)(tn.prototype,"y",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sn=Object(w.a)(tn.prototype,"fontWidth",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),un=Object(w.a)(tn.prototype,"fontHeight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fn=Object(w.a)(tn.prototype,"trimOffsetTop",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pn=Object(w.a)(tn.prototype,"trimOffsetLeft",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dn=Object(w.a)(tn.prototype,"trimOffsetRight",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hn=Object(w.a)(tn.prototype,"trimOffsetBottom",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bn=Object(w.a)(tn.prototype,"adjustMetric",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=Object(w.a)(tn.prototype,"kerning",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(w.a)(tn.prototype,"steKerning",[en],Object.getOwnPropertyDescriptor(tn.prototype,"steKerning"),tn.prototype),tn),Gn=(zn=function(e){Object(jn.a)(n,e);var t=Object(wn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return Object(O.a)(this,n),(e=t.call(this,r)).setGlyphInfo(i),e}return Object(j.a)(n,[{key:"setGlyphInfo",value:function(e){var t=e.font,n=e.fill,r=e.useStroke,i=e.stroke,o=e.useShadow,a=e.shadow,l={font:t,fill:n};r&&(l.stroke=i),o&&(l.shadow=a);var c=In(this.letter,l);this.source=c.canvas,this.width=c.width,this.height=c.height,this.fontWidth=c.fontWidth,this.fontHeight=c.fontHeight,this.trimOffsetTop=c.trimOffsetTop,this.trimOffsetLeft=c.trimOffsetLeft,this.trimOffsetRight=c.trimOffsetRight,this.trimOffsetBottom=c.trimOffsetBottom}}]),n}(Yn),Object(w.a)(zn.prototype,"setGlyphInfo",[g.k],Object.getOwnPropertyDescriptor(zn.prototype,"setGlyphInfo"),zn.prototype),zn);var Hn,Jn,Wn,Rn,Un,Kn,Vn,qn,Qn,_n,Zn,er,tr,nr,rr,ir,or,ar,lr,cr,sr,ur,fr,pr,dr,hr,br,gr,yr,Or,jr,wr,mr,xr,vr,kr,Pr=(An=g.B.ref,Mn=g.k.bound,Nn=g.k.bound,Bn=g.k.bound,Ln=function(e){Object(jn.a)(n,e);var t=Object(wn.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).type="image",Object(y.a)(r,"src",$n,Object(On.a)(r)),Object(y.a)(r,"buffer",Dn,Object(On.a)(r)),Object(y.a)(r,"fileName",En,Object(On.a)(r)),Object(y.a)(r,"fileType",Fn,Object(On.a)(r)),Object(y.a)(r,"selected",Xn,Object(On.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(j.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(g.F)("trimImage",(function(){var r=n.naturalWidth,i=n.naturalHeight;e.fontWidth=r,e.fontHeight=i;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");o.drawImage(e,0,0);var a=Sn(o.getImageData(0,0,n,r),t);return i.width=a.width,i.height=a.height,o.drawImage(e,a.trimOffsetLeft,a.trimOffsetTop),Object(p.a)({canvas:i},a)}(n);e.width=o.width,e.height=o.height,e.trimOffsetLeft=o.trimOffsetLeft,e.trimOffsetTop=o.trimOffsetTop,e.trimOffsetRight=o.width-o.trimOffsetLeft-r,e.trimOffsetBottom=o.height-o.trimOffsetTop-i,e.source=o.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(Yn),$n=Object(w.a)(Ln.prototype,"src",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dn=Object(w.a)(Ln.prototype,"buffer",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),En=Object(w.a)(Ln.prototype,"fileName",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fn=Object(w.a)(Ln.prototype,"fileType",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xn=Object(w.a)(Ln.prototype,"selected",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(w.a)(Ln.prototype,"initImage",[Mn],Object.getOwnPropertyDescriptor(Ln.prototype,"initImage"),Ln.prototype),Object(w.a)(Ln.prototype,"setGlyph",[Nn],Object.getOwnPropertyDescriptor(Ln.prototype,"setGlyph"),Ln.prototype),Object(w.a)(Ln.prototype,"changeSelect",[Bn],Object.getOwnPropertyDescriptor(Ln.prototype,"changeSelect"),Ln.prototype),Ln),Sr=(Hn=g.B.shallow,Jn=g.B.shallow,Wn=g.B.ref,Rn=g.B.ref,Un=g.B.ref,Kn=g.B.ref,Vn=g.B.ref,qn=g.k.bound,Qn=g.k.bound,_n=g.k.bound,Zn=g.k.bound,er=g.k.bound,tr=g.k.bound,nr=g.k.bound,rr=g.k.bound,ir=g.k.bound,or=g.k.bound,ar=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.a)(this,e),Object(y.a)(this,"name",lr,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(y.a)(this,"isPacking",cr,this),Object(y.a)(this,"text",sr,this),Object(y.a)(this,"glyphs",ur,this),Object(y.a)(this,"glyphImages",fr,this),Object(y.a)(this,"style",pr,this),Object(y.a)(this,"layout",dr,this),Object(y.a)(this,"globalAdjustMetric",hr,this),Object(y.a)(this,"packCanvas",br,this),Object(y.a)(this,"ui",gr,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new q(r.ui),this.style=new vn(r.style),this.layout=new kn(r.layout),this.globalAdjustMetric=new Pn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new Gn(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new Pr(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new Gn({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(j.a)(e,[{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new k.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker=new P,this.worker.addEventListener("message",Object(g.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,i=0,o=0,a=this.layout,l=a.auto,c=a.fixedSize,s=a.width,u=a.height,f=a.spacing;e.forEach((function(e){var t,a=e.letter,l=e.x,c=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==a)}))),t||(t=n.glyphs.get(a)),t&&(t.x=l||0,t.y=c||0),i=Math.max(i,l+u),o=Math.max(o,c+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,i=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==i)}))),t||(t=n.glyphs.get(i)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),l||!c?this.ui.setSize(i-f,o-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(v.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(v.request)((function(r){for(var i=r.timeRemaining(),o=Date.now();t.length&&i-(Date.now()-o)>-100;){var a=t.shift();a&&a.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(x.a)(this.glyphs,(function(){e.throttlePack()})),Object(x.a)(this.glyphImages,(function(){e.throttlePack()})),Object(x.a)(this.layout,(function(){e.throttlePack()})),Object(x.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var i=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;i.length&&i.forEach((function(t){n.includes(t)?e.glyphs.set(t,new Gn({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new Pr(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}},{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}}]),e}(),lr=Object(w.a)(ar.prototype,"name",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),cr=Object(w.a)(ar.prototype,"isPacking",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=Object(w.a)(ar.prototype,"text",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),ur=Object(w.a)(ar.prototype,"glyphs",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),fr=Object(w.a)(ar.prototype,"glyphImages",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pr=Object(w.a)(ar.prototype,"style",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=Object(w.a)(ar.prototype,"layout",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=Object(w.a)(ar.prototype,"globalAdjustMetric",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=Object(w.a)(ar.prototype,"packCanvas",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gr=Object(w.a)(ar.prototype,"ui",[Vn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),Object(w.a)(ar.prototype,"glyphList",[g.m],Object.getOwnPropertyDescriptor(ar.prototype,"glyphList"),ar.prototype),Object(w.a)(ar.prototype,"rectangleList",[g.m],Object.getOwnPropertyDescriptor(ar.prototype,"rectangleList"),ar.prototype),Object(w.a)(ar.prototype,"pack",[qn],Object.getOwnPropertyDescriptor(ar.prototype,"pack"),ar.prototype),Object(w.a)(ar.prototype,"setPack",[Qn],Object.getOwnPropertyDescriptor(ar.prototype,"setPack"),ar.prototype),Object(w.a)(ar.prototype,"packStyle",[_n],Object.getOwnPropertyDescriptor(ar.prototype,"packStyle"),ar.prototype),Object(w.a)(ar.prototype,"throttlePack",[Zn],Object.getOwnPropertyDescriptor(ar.prototype,"throttlePack"),ar.prototype),Object(w.a)(ar.prototype,"setText",[er],Object.getOwnPropertyDescriptor(ar.prototype,"setText"),ar.prototype),Object(w.a)(ar.prototype,"addGlyphs",[tr],Object.getOwnPropertyDescriptor(ar.prototype,"addGlyphs"),ar.prototype),Object(w.a)(ar.prototype,"addImages",[nr],Object.getOwnPropertyDescriptor(ar.prototype,"addImages"),ar.prototype),Object(w.a)(ar.prototype,"removeImage",[rr],Object.getOwnPropertyDescriptor(ar.prototype,"removeImage"),ar.prototype),Object(w.a)(ar.prototype,"setCanvas",[ir],Object.getOwnPropertyDescriptor(ar.prototype,"setCanvas"),ar.prototype),Object(w.a)(ar.prototype,"setName",[or],Object.getOwnPropertyDescriptor(ar.prototype,"setName"),ar.prototype),ar),Tr=(yr=g.B.shallow,Or=g.k.bound,jr=g.k.bound,wr=g.k.bound,mr=g.k.bound,xr=function(){function e(){var t=this;Object(O.a)(this,e),Object(y.a)(this,"activeId",vr,this),Object(y.a)(this,"projectList",kr,this),Object(g.F)((function(){t.activeId=Date.now();var e=new Sr({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(j.a)(e,[{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))this.activeId=e.id;else{if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new Sr(e);this.projectList.set(n.id,n),this.activeId=n.id}}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}},{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}}]),e}(),vr=Object(w.a)(xr.prototype,"activeId",[g.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kr=Object(w.a)(xr.prototype,"projectList",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(w.a)(xr.prototype,"currentProject",[g.m],Object.getOwnPropertyDescriptor(xr.prototype,"currentProject"),xr.prototype),Object(w.a)(xr.prototype,"namedList",[g.m],Object.getOwnPropertyDescriptor(xr.prototype,"namedList"),xr.prototype),Object(w.a)(xr.prototype,"selectProject",[Or],Object.getOwnPropertyDescriptor(xr.prototype,"selectProject"),xr.prototype),Object(w.a)(xr.prototype,"removeProject",[jr],Object.getOwnPropertyDescriptor(xr.prototype,"removeProject"),xr.prototype),Object(w.a)(xr.prototype,"addProject",[wr],Object.getOwnPropertyDescriptor(xr.prototype,"addProject"),xr.prototype),Object(w.a)(xr.prototype,"setProjectName",[mr],Object.getOwnPropertyDescriptor(xr.prototype,"setProjectName"),xr.prototype),xr);Object(g.n)({enforceActions:"always",computedRequiresReaction:!0});var Cr=n(198),Ir=n(442),zr={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},Ar={MuiCssBaseline:{"@global":{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}}},Mr=Object(Cr.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:zr,overrides:Ar}),Nr=Object(Ir.a)(Mr),Br=n(435),Lr=n(375),$r=n(416),Dr=n(412),Er=n(443);function Fr(){return Object(c.useContext)(b.a)}function Xr(){return Fr().workspace}function Yr(){return Fr().workspace.currentProject.layout}function Gr(){return Fr().workspace.currentProject}function Hr(){return Gr().style}function Jr(){return Hr().font}function Wr(){return Gr().ui}var Rr=n(420),Ur=n(202),Kr=n(14),Vr=n(372),qr=n(414),Qr=n(181),_r=n.n(Qr),Zr=n(182),ei=n.n(Zr);function ti(e){return e.arrayBuffer?e.arrayBuffer():new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var n;t((null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.result)||null)}}))}var ni=Object(Dr.a)((function(e){return Object(Er.a)({clear:{padding:e.spacing(.5),cursor:"pointer",display:"block"}})})),ri=Object(b.c)((function(){var e=ni(),t=Object(c.useState)(!1),n=Object(Kr.a)(t,2),r=n[0],i=n[1],o=Jr(),a=o.hasFont,s=o.setFont,u=o.clearFont;return Object(l.jsxs)(qr.a,{container:!0,spacing:2,alignItems:"center",children:[Object(l.jsx)(qr.a,{item:!0,xs:!0,children:Object(l.jsxs)(Vr.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:r?Object(l.jsx)($r.a,{size:22,color:"inherit"}):Object(l.jsx)(_r.a,{}),disabled:r,children:["Select Font File",Object(l.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(i(!0),ti(t).then((function(t){t instanceof ArrayBuffer?(e.target.value="",s(t).then((function(){return i(!1)})).catch((function(e){i(!1),window.alert(e.message)}))):i(!1)})))}},accept:".ttf,.otf,.woff"})]})}),a?Object(l.jsx)(qr.a,{item:!0,xs:"auto",children:Object(l.jsx)(ei.a,{className:e.clear,onClick:u})}):null]})})),ii=n(417),oi=function(e){var t=e.before,n=e.children,r=e.component,i=e.after,o=e.childrenWidth;return Object(l.jsxs)(qr.a,{component:r||"label",container:!0,spacing:2,wrap:"nowrap",justify:"center",alignItems:"center",children:[Object(l.jsx)(qr.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(l.jsx)(Ur.a,{noWrap:!0,align:"right",children:t})}),Object(l.jsx)(qr.a,{item:!0,xs:o||5,children:n}),Object(l.jsx)(qr.a,{item:!0,xs:!0,children:"object"===typeof i?i:Object(l.jsx)(Ur.a,{noWrap:!0,variant:"caption",children:i})})]})},ai=Object(b.c)((function(){var e=Jr(),t=e.size,n=e.setSize;return Object(l.jsx)(oi,{before:"Font Size:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),li=Object(b.c)((function(){var e=Jr(),t=e.lineHeight,n=e.setLineHeight;return Object(l.jsx)(oi,{before:"Line Height:",after:"multiple",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:.5,step:.1},onChange:function(e){n(Number(e.target.value))}})})})),ci=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Font"})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(ri,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(ai,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(li,{})})]})},si=n(438),ui=Object(b.c)((function(){var e=Gr(),t=e.text,n=e.setText,r=Object(c.useState)(!1),i=Object(Kr.a)(r,2),o=i[0],a=i[1],s=Object(c.useState)(t),u=Object(Kr.a)(s,2),f=u[0],p=u[1],d=Object(c.useCallback)((function(){p(t),a(!0)}),[t]);return Object(c.useEffect)((function(){p(t)}),[t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Glyphs"})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(si.a,{margin:"none",value:o?f:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,i=Array.from(new Set(r.split(""))).join("");o?p(r):(p(i),i!==t&&n(i))},onCompositionStart:d,onCompositionEnd:function(){a(!1);var e=Array.from(new Set(f.split(""))).join("");p(e),e!==t&&n(e)}})})]})})),fi=Object(b.c)((function(){var e=Yr(),t=e.padding,n=e.setPadding;return Object(l.jsx)(oi,{before:"Padding:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),pi=Object(b.c)((function(){var e=Yr(),t=e.spacing,n=e.setSpacing;return Object(l.jsx)(oi,{before:"Spacing:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),di=n(440),hi=Object(b.c)((function(){var e=Yr(),t=e.auto,n=e.setAuto;return Object(l.jsx)(oi,{before:"Auto Pack:",children:Object(l.jsx)(di.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),bi=Object(b.c)((function(){var e=Yr(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(l.jsx)(oi,{before:"Fixed Size:",children:Object(l.jsx)(di.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),gi=Object(b.c)((function(){var e=Yr(),t=e.width,n=e.auto,r=e.fixedSize,i=e.setWidth;return Object(l.jsx)(oi,{before:r?"Width:":"Max Width:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),yi=Object(b.c)((function(){var e=Yr(),t=e.height,n=e.auto,r=e.fixedSize,i=e.setHeight;return Object(l.jsx)(oi,{before:r?"Height:":"Max Height:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){i(Number(e.target.value))},disabled:n})})})),Oi=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Layout"})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(fi,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(pi,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(hi,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(bi,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(gi,{})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(yi,{})})]})},ji=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,a=e.setYOffset,c=function(e){return function(t){return e(Number(t.target.value))}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"xAdvance:",after:"px",children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",onChange:c(i)})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"xOffset:",after:"px",children:Object(l.jsx)(ii.a,{value:n,fullWidth:!0,type:"number",onChange:c(o)})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"yOffset:",after:"px",children:Object(l.jsx)(ii.a,{value:r,fullWidth:!0,type:"number",onChange:c(a)})})})]})},wi=Object(b.c)((function(){var e=Gr().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,i=e.setXAdvance,o=e.setXOffset,a=e.setYOffset;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Global Metric Adjustment"})}),Object(l.jsx)(ji,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:i,setXOffset:o,setYOffset:a})]})})),mi=Object(Dr.a)((function(){return Object(Er.a)({root:{overflow:"hidden",width:"256px"}})})),xi=function(){var e=mi();return Object(l.jsxs)(Br.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(l.jsx)(Br.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(l.jsx)(Ur.a,{variant:"subtitle2",children:"Font Config"})}),Object(l.jsxs)(Br.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(l.jsx)(ui,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(ci,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(Oi,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(wi,{})]})]})},vi=n(36),ki=n(203),Pi=n(185),Si=n.n(Pi),Ti=n(184),Ci=n.n(Ti),Ii=n(445),zi=n(183),Ai=n.n(zi),Mi=n(110);function Ni(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}function Bi(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a=new DOMParser,l=document.implementation.createDocument("","font",null),c=a.parseFromString(Ni('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");l.documentElement.appendChild(c.childNodes[0]);var s=a.parseFromString(Ni('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");l.documentElement.appendChild(s.childNodes[0]);var u=a.parseFromString("<pages>".concat(r.map((function(e){return Ni('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");l.documentElement.appendChild(u.childNodes[0]);var f=a.parseFromString(Ni('<chars count="$count$" />',i),"text/xml");if(i.list.forEach((function(e){var t=a.parseFromString(Ni('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),l.documentElement.appendChild(f.childNodes[0]),o.count){var p=a.parseFromString(Ni('<kernings count="$count$" />',o),"text/xml");o.list.forEach((function(e){var t=a.parseFromString(Ni('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),l.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(l))}function Li(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a="";return a+=Ni('Font.info = {\n\tface = "$face$",\n\tfile = "$file$",\n\tsize = $size$,\n\tbold = $bold$,\n\titalic = $italic$,\n\tcharset = $charset$\n\tunicode = $unicode$,\n\tstretchH = $stretchH$,\n\tsmooth = $smooth$,\n\taa = $aa$,\n\tpadding = {$padding$},\n\tspacing = $spacing$,\n\tcharsCount = $charsCount$,\n\tkerningsCounts = $kerningsCounts$\n}\n\n',Object(p.a)(Object(p.a)({},t),{},{charset:t.charset||'""',charsCount:i.count,kerningsCounts:o.count,file:r[0].file})),a+=Ni("Font.common = {\n\tlineHeight = $lineHeight$,\n\tbase = $base$,\n\tscaleW = $scaleW$,\n\tscaleH = $scaleH$,\n\tpages = $pages$,\n\tpacked = $packed$\n}\n\n",n),a+="Font.pages = {\n",a+=r.map((function(e){return Ni('\t{ id=$id$, file="$file$" }',e)})).join(",\n"),a+="\n}\n\n",a+="Font.chars = {\n",a+=i.list.map((function(e){return Ni("\t{\n\t\tid = $id$,\n\t\tx = $x$,\n\t\ty = $y$,\n\t\twidth = $width$,\n\t\theight = $height$,\n\t\txoffset = $xoffset$,\n\t\tyoffset = $yoffset$,\n\t\txadvance = $xadvance$,\n\t\tpage = 0,\n\t\tchnl = 15\n\t}",e)})).join(",\n"),a+="\n}\n\n",a+="Font.kerning = {\n",a+=o.list.map((function(e){return Ni("\t{first = $first$, second = $second$, amount = $amount$}",e)})).join(",\n"),"local Font = {}\n\n".concat((a+="\n}").replace(/\t/g,"    "),"\n\nreturn Font\n")}function $i(e){var t=e.info,n=e.common,r=e.pages,i=e.chars,o=e.kernings,a="";return a+=Ni('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(p.a)(Object(p.a)({},t),{},{charset:t.charset||'""'})),a+=Ni("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){a+=Ni('page id=$id$ file="$file$"\n',e)})),a+=Ni("chars count=$count$\n",i),i.list.forEach((function(e){a+=Ni("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),o.count&&(a+=Ni("kernings count=$count$\n",o),o.list.forEach((function(e){a+=Ni("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),a}function Di(e){var t=e.name,n=e.style,r=e.layout,i=e.globalAdjustMetric,o=e.glyphList,a=e.ui,l=a.width,c=a.height,s=n.font,u=s.opentype,f=s.size,p=1;u&&(p=1/u.unitsPerEm*f);var d={face:n.font.family,size:n.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(r.padding),spacing:new Array(2).fill(r.spacing)},h={lineHeight:n.font.size,base:n.font.size,scaleW:l,scaleH:c,pages:1,packed:0},b=[{id:0,file:"".concat(t,".png")}],g={count:o.length,list:[]},y={count:0,list:[]};return o.forEach((function(e){var t=!(!e.width||!e.height);g.list.push({letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*r.padding:0,height:t?e.height+2*r.padding:0,xoffset:i.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0),yoffset:i.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0),xadvance:Math.ceil(e.fontWidth)+i.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15}),u?o.forEach((function(t){var n=t.letter,r=Math.round(u.getKerningValue(u.charToGlyphIndex(e.letter),u.charToGlyphIndex(n))*p+(e.kerning.get(n)||0));r&&y.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&y.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),y.count=y.list.length,g.list.sort((function(e,t){return e.id-t.id})),{info:d,common:h,pages:b,chars:g,kernings:y}}var Ei=n(18),Fi=Ei.Reader,Xi=Ei.Writer,Yi=Ei.util,Gi=Ei.roots.default||(Ei.roots.default={}),Hi=(Gi.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Yi.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Yi.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Yi.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Gi.Metric)return e;var t=new Gi.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Yi.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Gi.GradientColor)return e;var t=new Gi.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Yi.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Xi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Gi.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Gi.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Yi.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Gi.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Gi.Gradient)return e;var t=new Gi.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Gi.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Gi.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Yi.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Yi.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Yi.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Gi.PatternTexture)return e;var t=new Gi.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Yi.base64.decode(e.buffer,t.buffer=Yi.newBuffer(Yi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Yi.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Yi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Gi.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Gi.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Gi.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Gi.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Yi.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Gi.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Gi.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Yi.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Yi.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Yi.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Gi.Fill)return e;var t=new Gi.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Gi.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Gi.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Gi.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Gi.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Yi.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Yi.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Yi.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Yi.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Yi.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Gi.Font)return e;var t=new Gi.Font;return null!=e.font&&("string"===typeof e.font?Yi.base64.decode(e.font,t.font=Yi.newBuffer(Yi.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Yi.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Yi.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Yi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Xi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Gi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Gi.GlyphFont;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Gi.Metric.decode(e,e.uint32());break;case 3:o.kerning===Yi.emptyObject&&(o.kerning={});var l=e.uint32()+e.pos;for(n="",r=0;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Yi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Gi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Yi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Yi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Gi.GlyphFont)return e;var t=new Gi.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Gi.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Gi.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Yi.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Yi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Xi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Gi.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Gi.GlyphImage;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Gi.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===Yi.emptyObject&&(o.kerning={});var l=e.uint32()+e.pos;for(n="",r=0;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Yi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Gi.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Yi.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Yi.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Yi.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Yi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Yi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Gi.GlyphImage)return e;var t=new Gi.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Gi.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Yi.base64.decode(e.buffer,t.buffer=Yi.newBuffer(Yi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Yi.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Gi.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Yi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Yi.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Yi.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Yi.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Yi.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Gi.Layout)return e;var t=new Gi.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Yi.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Yi.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Yi.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Yi.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Gi.Shadow)return e;var t=new Gi.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Gi.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Gi.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Gi.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Gi.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=Gi.Font.decode(e,e.uint32());break;case 2:r.fill=Gi.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Gi.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Gi.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Gi.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Gi.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Gi.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=Gi.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Yi.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Gi.Style)return e;var t=new Gi.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Gi.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Gi.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Gi.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Gi.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Gi.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Gi.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Gi.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Gi.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Xi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Gi.Ui;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.previewText=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Yi.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Gi.Ui)return e;var t=new Gi.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Gi.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Yi.Long?Yi.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Yi.emptyObject,e.prototype.glyphImages=Yi.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Xi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Gi.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)Gi.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Gi.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Gi.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Gi.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Gi.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Gi.Project;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===Yi.emptyObject&&(o.glyphs={});var l=e.uint32()+e.pos;for(n="",r=null;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Gi.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(Gi.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=Gi.Style.decode(e,e.uint32());break;case 7:o.layout=Gi.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=Gi.Metric.decode(e,e.uint32());break;case 9:o.ui=Gi.Ui.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Yi.isInteger(e.id)&&!(e.id&&Yi.isInteger(e.id.low)&&Yi.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Yi.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Yi.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Yi.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Gi.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=Gi.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var a=Gi.Style.verify(e.style);if(a)return"style."+a}if(null!=e.layout&&e.hasOwnProperty("layout")){var l=Gi.Layout.verify(e.layout);if(l)return"layout."+l}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Gi.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Gi.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Gi.Project)return e;var t=new Gi.Project;if(null!=e.id&&(Yi.Long?(t.id=Yi.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Yi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Gi.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=Gi.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Gi.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Gi.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Gi.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Gi.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Yi.Long){var i=new Yi.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Yi.Long.prototype.toString.call(e.id):t.longs===Number?new Yi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=Gi.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var a=0;a<e.glyphImages.length;++a)r.glyphImages[a]=Gi.GlyphImage.toObject(e.glyphImages[a],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Gi.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Gi.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Gi.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Gi.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}()),Ji=function(){return new Uint8Array([].concat(Object(Ae.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,0,2]))};var Wi=Ei.Reader,Ri=Ei.Writer,Ui=Ei.util,Ki={},Vi=(Ki.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Metric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Ui.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Ui.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Ui.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Ki.Metric)return e;var t=new Ki.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.GradientColor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Ui.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!Ui.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!Ui.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Ki.GradientColor)return e;var t=new Ki.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Ui.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ri.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Ki.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Gradient;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Ki.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ui.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Ki.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Ki.Gradient)return e;var t=new Ki.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Ki.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Ki.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Ui.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.PatternTexture;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ui.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Ui.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Ki.PatternTexture)return e;var t=new Ki.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Ui.base64.decode(e.buffer,t.buffer=Ui.newBuffer(Ui.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Ui.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Ui.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Ki.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Ki.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Fill;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Ki.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Ki.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ui.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Ui.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Ki.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Ki.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Ui.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Ui.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Ui.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Ki.Fill)return e;var t=new Ki.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Ki.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Ki.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Ki.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Ki.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Ui.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Font;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Ui.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Ui.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Ui.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Ui.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Ki.Font)return e;var t=new Ki.Font;return null!=e.font&&("string"===typeof e.font?Ui.base64.decode(e.font,t.font=Ui.newBuffer(Ui.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Ui.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Ui.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Ui.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ri.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ki.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Ki.GlyphFont;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Ki.Metric.decode(e,e.uint32());break;case 3:o.kerning===Ui.emptyObject&&(o.kerning={});var l=e.uint32()+e.pos;for(n="",r=0;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ui.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ki.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ui.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ui.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ki.GlyphFont)return e;var t=new Ki.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Ki.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ki.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Ui.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Ui.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ri.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ki.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Ki.GlyphImage;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.letter=e.string();break;case 2:o.adjustMetric=Ki.Metric.decode(e,e.uint32());break;case 3:o.buffer=e.bytes();break;case 4:o.fileName=e.string();break;case 5:o.fileType=e.string();break;case 6:o.selected=e.bool();break;case 7:o.kerning===Ui.emptyObject&&(o.kerning={});var l=e.uint32()+e.pos;for(n="",r=0;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}o.kerning[n]=r;break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ui.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ki.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ui.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Ui.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Ui.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ui.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ui.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ki.GlyphImage)return e;var t=new Ki.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Ki.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Ui.base64.decode(e.buffer,t.buffer=Ui.newBuffer(Ui.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Ui.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ki.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Ui.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var i=0;i<n.length;++i)r.kerning[n[i]]=e.kerning[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Layout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Ui.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Ui.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Ui.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Ui.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Ki.Layout)return e;var t=new Ki.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Shadow;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Ui.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Ui.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Ui.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Ui.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Ki.Shadow)return e;var t=new Ki.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Ki.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Ki.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Ki.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Ki.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Style;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.font=Ki.Font.decode(e,e.uint32());break;case 2:r.fill=Ki.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Ki.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Ki.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Ki.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Ki.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Ki.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var i=Ki.Shadow.verify(e.shadow);if(i)return"shadow."+i}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Ui.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Ki.Style)return e;var t=new Ki.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Ki.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Ki.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Ki.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Ki.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Ki.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Ki.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Ki.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Ki.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ri.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ki.Ui;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.previewText=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Ui.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Ki.Ui)return e;var t=new Ki.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}(),Ki.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Ui.Long?Ui.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Ui.emptyObject,e.prototype.glyphImages=Ui.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ri.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Ki.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var i=0;i<e.glyphImages.length;++i)Ki.GlyphImage.encode(e.glyphImages[i],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Ki.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Ki.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Ki.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Ki.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Wi||(e=Wi.create(e));for(var n,r,i=void 0===t?e.len:e.pos+t,o=new Ki.Project;e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:o.id=e.int64();break;case 2:o.name=e.string();break;case 3:o.text=e.string();break;case 4:o.glyphs===Ui.emptyObject&&(o.glyphs={});var l=e.uint32()+e.pos;for(n="",r=null;e.pos<l;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Ki.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}o.glyphs[n]=r;break;case 5:o.glyphImages&&o.glyphImages.length||(o.glyphImages=[]),o.glyphImages.push(Ki.GlyphImage.decode(e,e.uint32()));break;case 6:o.style=Ki.Style.decode(e,e.uint32());break;case 7:o.layout=Ki.Layout.decode(e,e.uint32());break;case 8:o.globalAdjustMetric=Ki.Metric.decode(e,e.uint32());break;case 9:o.ui=Ki.Ui.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof Wi||(e=new Wi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Ui.isInteger(e.id)&&!(e.id&&Ui.isInteger(e.id.low)&&Ui.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Ui.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Ui.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Ui.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Ki.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var i=0;i<e.glyphImages.length;++i){var o=Ki.GlyphImage.verify(e.glyphImages[i]);if(o)return"glyphImages."+o}}if(null!=e.style&&e.hasOwnProperty("style")){var a=Ki.Style.verify(e.style);if(a)return"style."+a}if(null!=e.layout&&e.hasOwnProperty("layout")){var l=Ki.Layout.verify(e.layout);if(l)return"layout."+l}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Ki.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Ki.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Ki.Project)return e;var t=new Ki.Project;if(null!=e.id&&(Ui.Long?(t.id=Ui.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Ui.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Ki.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var i=0;i<e.glyphImages.length;++i){if("object"!==typeof e.glyphImages[i])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[i]=Ki.GlyphImage.fromObject(e.glyphImages[i])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Ki.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Ki.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Ki.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Ki.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Ui.Long){var i=new Ui.Long(0,0,!1);r.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Ui.Long.prototype.toString.call(e.id):t.longs===Number?new Ui.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var o=0;o<n.length;++o)r.glyphs[n[o]]=Ki.GlyphFont.toObject(e.glyphs[n[o]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var a=0;a<e.glyphImages.length;++a)r.glyphImages[a]=Ki.GlyphImage.toObject(e.glyphImages[a],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Ki.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Ki.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Ki.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Ki.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ei.util.toJSONOptions)},e}());var qi=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(Ae.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0};var Qi={1e6:function(e){return e.layout=Object(p.a)({},e.layout),e.layout.width=1024,e.layout.height=1024,e.layout.auto=!0,e.layout.fixedSize=!1,e},1000001:function(e){var t,n,r,i,o,a;function l(e){var t=e.length-1;e.forEach((function(e,n){e.offset=1/t*n}))}return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.fill)||void 0===n||null===(r=n.gradient)||void 0===r?void 0:r.palette)&&e.style.fill.gradient.palette.length>0&&l(e.style.fill.gradient.palette),(null===e||void 0===e||null===(i=e.style)||void 0===i||null===(o=i.stroke)||void 0===o||null===(a=o.gradient)||void 0===a?void 0:a.palette)&&e.style.stroke.gradient.palette.length>0&&l(e.style.stroke.gradient.palette),e}},_i=Object.keys(Qi).map((function(e){return Number(e)})).sort();var Zi=function(e,t){return _i.forEach((function(n){t<=n&&Qi[n]&&Qi[n](e)})),e},eo={1000001:Vi};function to(e){if(e.byteLength<17)throw new Error("error");var t=Ji(),n=t.slice(0,t.byteLength-3),r=new Uint8Array(e),i=r.slice(0,t.byteLength),o=i.slice(i.byteLength-3),a=!0;if(n.forEach((function(e,t){i[t]!==e&&(a=!1)})),!a)throw new Error("unknow file");var l=qi(Array.from(o)),c=(eo[l]||Hi).decode(r.slice(i.byteLength));return function(e){var t,n,r,i,o,a,l,c,s=Object(p.a)({},e),u=new Map;return(null===s||void 0===s||null===(t=s.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(s.style.font=Object(p.a)(Object(p.a)({},s.style.font),{},{font:s.style.font.font.slice().buffer})),(null===s||void 0===s?void 0:s.glyphImages)&&s.glyphImages.forEach((function(e){if(e.buffer&&(e.buffer=e.buffer.slice().buffer),e.kerning){var t=new Map;Object.keys(e.kerning).forEach((function(n){e&&e.kerning&&e.kerning[n]&&t.set(n,e.kerning[n]||0)}))}})),(null===s||void 0===s?void 0:s.glyphs)&&Object.keys(s.glyphs).forEach((function(e){if(s&&s.glyphs&&s.glyphs[e]){var t=s.glyphs[e],n=new Map;t&&t.kerning&&Object.keys(t.kerning).forEach((function(e){t.kerning&&n.set(e,t.kerning[e]||0)})),u.set(e,Object(p.a)(Object(p.a)({},t),{},{kerning:n}))}})),(null===s||void 0===s||null===(r=s.style)||void 0===r||null===(i=r.fill)||void 0===i||null===(o=i.patternTexture)||void 0===o?void 0:o.buffer)&&(s.style.fill.patternTexture.buffer=s.style.fill.patternTexture.buffer.slice().buffer),(null===s||void 0===s||null===(a=s.style)||void 0===a||null===(l=a.stroke)||void 0===l||null===(c=l.patternTexture)||void 0===c?void 0:c.buffer)&&(s.style.stroke.patternTexture.buffer=s.style.stroke.patternTexture.buffer.slice().buffer),Object(p.a)(Object(p.a)({},s),{},{glyphs:u,glyphImages:s.glyphImages||[]})}(Zi(c,l))}var no=n(421),ro=n(422),io=n(423),oo=n(424),ao=n(437),lo=n(446),co=function(e){var t=e.className,n=e.onSave,r=Gr().name,i=Object(c.useState)(!1),o=Object(Kr.a)(i,2),a=o[0],s=o[1],u=Object(c.useState)(0),f=Object(Kr.a)(u,2),p=f[0],d=f[1],h=Object(c.useState)([{id:0,ext:"fnt",type:"xml"},{id:1,ext:"xml",type:"xml"},{id:2,ext:"fnt",type:"text"},{id:3,ext:"text",type:"text"}]),b=Object(Kr.a)(h,1)[0],g=function(){s(!0)},y=function(){s(!1)};return Object(c.useEffect)((function(){return vi.a.unbind("ctrl+shift+s,command+shift+s"),Object(vi.a)("ctrl+shift+s,command+shift+s",g),function(){vi.a.unbind("ctrl+shift+s,command+shift+s")}}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Vr.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:g,children:"Export"}),Object(l.jsxs)(no.a,{onClose:y,open:a,fullWidth:!0,maxWidth:"xs",children:[Object(l.jsx)(ro.a,{children:"Export Config"}),Object(l.jsx)(io.a,{dividers:!0,children:Object(l.jsx)(oi,{before:"Export Type:",childrenWidth:8,children:Object(l.jsx)(ao.a,{displayEmpty:!0,value:p,onChange:function(e){d(e.target.value)},children:b.map((function(e){return Object(l.jsx)(lo.a,{value:e.id,children:"".concat(r,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})}),Object(l.jsx)(oo.a,{children:Object(l.jsx)(Vr.a,{autoFocus:!0,onClick:function(){n&&n({ext:b[p].ext,type:b[p].type}),y()},color:"default",children:"Save"})})]})]})},so=Object(Dr.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(Er.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),uo=Object(b.c)((function(){var e=so(),t=Object(c.useState)({open:!1,component:null}),n=Object(Kr.a)(t,2),r=n[0],i=n[1],o=Xr(),a=Object(c.useRef)(null),s=o.addProject,u=o.currentProject,f=Object(c.useCallback)((function(e){return e.preventDefault(),s(),!1}),[s]),d=Object(c.useCallback)((function(e){return e.preventDefault(),function(e){e.style.font.font&&(e.style.font.font=new Uint8Array(e.style.font.font)),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer));var t=Hi.create(e),n=Hi.encode(t).finish(),r=Ji(),i=new Uint8Array(r.byteLength+n.byteLength);i.set(r,0),i.set(n,r.byteLength),Object(Mi.saveAs)(new Blob([i]),"".concat(e.name,".sbf"))}(Object(g.H)(u)),!1}),[u]),h=Object(c.useCallback)((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"xml",ext:"fnt"},n=new Ai.a,r=e.packCanvas,i=e.name,o=Di(e),a="";switch(t.type){case"text":a=$i(o);break;case"lua":a=Li(o);break;default:a=Bi(o)}n.file("".concat(i,".").concat(t.ext),a),r&&r.toBlob((function(e){e&&n.file("".concat(i,".png"),e),n.generateAsync({type:"blob"}).then((function(e){return Object(Mi.saveAs)(e,"".concat(i,".zip"))}))}))}(u,e)}),[u]),b=Object(c.useCallback)((function(e){return e.preventDefault(),a.current&&a.current.click(),!1}),[]);return Object(c.useEffect)((function(){return vi.a.unbind("alt+n,control+n"),vi.a.unbind("ctrl+s"),vi.a.unbind("ctrl+o,command+o"),Object(vi.a)("alt+n,control+n",f),Object(vi.a)("ctrl+s",d),Object(vi.a)("ctrl+o,command+o",b),function(){vi.a.unbind("alt+n,control+n"),vi.a.unbind("ctrl+s"),vi.a.unbind("ctrl+o,command+o")}}),[f,b,d]),Object(l.jsxs)(Br.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(l.jsxs)(Ur.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(l.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(l.jsxs)(Br.a,{flex:"auto",paddingX:4,children:[Object(l.jsx)(Vr.a,{className:e.btn,title:"New Project (ALT + N)",onClick:f,children:"New"}),Object(l.jsxs)(Vr.a,{className:e.btn,title:"Open Project (\u2318 + O)",component:"label",ref:a,children:["Open",Object(l.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]&&ti(e.target.files[0]).then((function(e){try{e instanceof ArrayBuffer&&s(to(e))}catch(t){i({open:!0,component:Object(l.jsxs)(Br.a,{display:"flex",alignItems:"center",children:[Object(l.jsx)(Ci.a,{}),"".concat(t.toString())]})})}}))},accept:".sbf",hidden:!0})]}),Object(l.jsx)(Vr.a,{className:e.btn,title:"Save Project (\u2318 + S)",onClick:d,children:"Save"}),Object(l.jsx)(co,{className:e.btn,onSave:h})]}),Object(l.jsx)(ki.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(l.jsx)(Si.a,{})}),Object(l.jsx)(Ii.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r.open,onClose:function(){i((function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!1})}))},message:r.component})]})})),fo=n(439),po=n(450),ho=n(427),bo=n(425),go=n(197),yo=n(32),Oo=n(426),jo=Object(Dr.a)((function(e){var t=e.palette;return Object(Er.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),wo=function(e){var t=e.open,n=e.anchorEl,r=e.color,i=e.onChange,o=e.placement,a=jo(),c=function(){var e=Object(yo.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(l.jsx)(Oo.a,{open:!!t,anchorEl:n,placement:o||"bottom",style:{zIndex:999999},children:Object(l.jsx)(go.a,{color:r,styles:c,className:a.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;i&&i("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},mo=Object(Dr.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(Er.a)({root:{overflow:"hidden"},swatch:Object(p.a)(Object(p.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),xo=function(e){var t=e.color,n=e.onChange,r=mo(e),i=Object(c.useRef)(null),o=Object(c.useState)(!1),a=Object(Kr.a)(o,2),s=a[0],u=a[1];return Object(l.jsx)(bo.a,{mouseEvent:"onMouseDown",onClickAway:function(){return u(!1)},children:Object(l.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:i,children:[Object(l.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return u(!s)}}),Object(l.jsx)(wo,{open:s,anchorEl:i.current,color:t||"#000000",onChange:n})]})})},vo=function(e){var t=e.color,n=e.onChange;return Object(l.jsx)(oi,{before:"Color:",childrenWidth:3,children:Object(l.jsx)(xo,{color:t,onChange:n})})},ko=n(142),Po=n.n(ko),So=n(6),To=n(200),Co=Object(Dr.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(Er.a)({root:Object(p.a)(Object(p.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),Io=function(e){var t=e.left,n=e.top,r=e.color,i=e.isActive,o=e.className,a=Object(To.a)(e,["left","top","color","isActive","className"]),c=Co({left:t,top:n,color:r,isActive:i});return Object(l.jsx)("div",Object(p.a)(Object(p.a)({className:Object(So.a)(c.root,o)},a),{},{children:Object(l.jsx)("div",{className:c.color})}))},zo=Object(Dr.a)((function(){return Object(Er.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),Ao=function(e){var t=e.className,n=e.palette,r=e.activeId,i=e.onAdd,o=e.onUpdate,a=e.onSelect,s=zo(e),u=Object(c.useState)(0),f=Object(Kr.a)(u,2),d=f[0],h=f[1],b=Object(c.useState)({x:0,y:0,offset:0}),g=Object(Kr.a)(b,2),y=g[0],O=g[1],j=Object(c.useState)(!1),w=Object(Kr.a)(j,2),m=w[0],x=w[1],v=Object(c.useRef)(null);Object(c.useEffect)((function(){v.current&&h(v.current.clientWidth)}),[v]);var k=Object(c.useCallback)((function(e){if(m&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var i=Object(Ae.a)(n);if(Math.abs(e.clientY-y.y)>50)o(i[t],!0);else{var a=i[t],l=Math.min(Math.max((e.clientX-y.x)/d+y.offset,0),1);i[t]=Object(p.a)(Object(p.a)({},a),{},{offset:l}),o({offset:l})}}}else x(!1)}),[r,m,o,n,y.offset,y.x,y.y,d]),P=Object(c.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),x(!1)}),[]);return Object(c.useEffect)((function(){return m?(window.addEventListener("mousemove",k),window.addEventListener("mouseup",P)):(window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",P)),function(){window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",P)}}),[k,P,m]),Object(l.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(So.a)(s.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/d;i(r),x(!0),O({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(l.jsx)(Io,{left:d*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),O({x:e.clientX,y:e.clientY,offset:t.offset}),x(!0),a(t.id))}(t,e)}},e.id)}))})},Mo=Object(Dr.a)((function(e){var t=e.bgPixel;return{root:Object(p.a)(Object(p.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),No=function(e){var t=Mo(e),n=e.palette,r=Object(c.useState)("palette_".concat(Math.random().toString().substr(2,9))),i=Object(Kr.a)(r,1)[0],o=Object(Ae.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(l.jsx)("div",{className:t.root,children:Object(l.jsxs)("svg",{className:t.svg,children:[Object(l.jsx)("defs",{children:Object(l.jsx)("linearGradient",{id:i,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:o.map((function(e){return Object(l.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(i,")")})]})})},Bo=function(e){var t=e.children,n=e.palette,r=e.onUpdate,i=e.onAdd,o=Object(c.useRef)(null),a=Object(c.useState)(Object(Ae.a)(n)),u=Object(Kr.a)(a,2),f=u[0],d=u[1],h=Object(c.useState)(0),b=Object(Kr.a)(h,2),g=b[0],y=b[1],O=Object(c.useState)(""),j=Object(Kr.a)(O,2),w=j[0],m=j[1],x=Object(c.useState)(!1),v=Object(Kr.a)(x,2),k=v[0],P=v[1];Object(c.useEffect)((function(){if(k){var e=n.map((function(e){return e.id})),t=f.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(Ae.a)(e),Object(Ae.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&y(r[0]),P((function(){return!1}))}}),[n,k,f]),Object(c.useEffect)((function(){d(Object(Ae.a)(n))}),[n]),Object(c.useEffect)((function(){if(g){var e=n.find((function(e){return e.id===g}));e&&m(e.color)}}),[g,n]);var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g){var i=Object(Ae.a)(n),o=i.findIndex((function(e){return e.id===g}));if(t)r([].concat(Object(Ae.a)(i.slice(0,o)),Object(Ae.a)(i.slice(o+1)))),y(0);else{var a=Object(p.a)(Object(p.a)({},i[o]),e);r([].concat(Object(Ae.a)(i.slice(0,o)),[a],Object(Ae.a)(i.slice(o+1))))}}};return Object(l.jsx)(bo.a,{mouseEvent:"onMouseDown",onClickAway:function(){return y(0)},children:Object(l.jsxs)("div",{ref:o,children:[Object(l.jsx)(No,{palette:n,height:"35px"}),Object(l.jsx)(Ao,{palette:n,activeId:g,onAdd:function(e){var t,r,o=Object(Ae.a)(n),a={offset:e,color:"#000"};if(y(0),o.forEach((function(e){e.offset<a.offset&&(!t||t.offset<e.offset)?t=e:(!r||r.offset>e.offset)&&(r=e)})),t&&r){var l=(a.offset-t.offset)/(r.offset-t.offset),c=Po()(t.color),s=Po()(r.color),u=(s.red()-c.red())*l+c.red(),f=(s.green()-c.green())*l+c.green(),p=(s.blue()-c.blue())*l+c.blue(),d=(s.alpha()-c.alpha())*l+c.alpha();a.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(a.color=(t||r).color);i(a),P(!0)},onUpdate:S,onSelect:function(e){return y(e||0)}}),t?s.a.cloneElement(t,{open:!!g||k,anchorEl:o.current,color:w,onChange:function(e){return S({color:e})}}):null]})})},Lo=Object(Dr.a)((function(){return Object(Er.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),$o=function(e){var t=e.onChange,n=Object(c.useRef)(null),r=Object(c.useState)(!1),i=Object(Kr.a)(r,2),o=i[0],a=i[1],s=Lo(e),u=Object(c.useCallback)((function(e){if(n.current){var r=e.clientX,i=e.clientY,o=n.current.getBoundingClientRect(),a=Math.atan2(i-(o.y+o.height/2),r-(o.x+o.width/2));t(Math.round(a*(180/Math.PI)))}}),[t]),f=Object(c.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),a(!1)}),[]);return Object(c.useEffect)((function(){return o?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",f)):(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f)),function(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f)}}),[u,f,o]),Object(l.jsx)("div",{"aria-hidden":!0,className:s.root,ref:n,onMouseDown:function(e){n.current&&(a(!0),u(e))},children:Object(l.jsx)("div",{className:s.point})})},Do=function(e){var t=e.angle,n=e.onChange;return Object(l.jsx)(oi,{before:"Angle:",after:Object(l.jsx)($o,{width:24,angle:t,onChange:n}),children:Object(l.jsx)(ii.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},Eo=Object(b.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,i=t.palette,o=t.addColor,a=t.updatePalette,c=t.setAngle,s=t.setType;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Do,{angle:r,onChange:c})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Type:",component:"div",childrenWidth:8,children:Object(l.jsxs)(po.a,{row:!0,name:"type",value:n,onChange:function(e){return s(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(l.jsx)(ho.a,{value:Ie.LINEAR,control:Object(l.jsx)(fo.a,{size:"small",color:"default"}),label:"Linear"}),Object(l.jsx)(ho.a,{value:Ie.RADIAL,control:Object(l.jsx)(fo.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Bo,{palette:i,onAdd:function(e){return o(e.offset,e.color)},onUpdate:a,children:Object(l.jsx)(wo,{})})})]})})),Fo=Object(Dr.a)((function(e){return Object(Er.a)({root:Object(p.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),Xo=function(e){var t=e.src,n=e.onChange,r=Fo();return Object(l.jsxs)(Br.a,{component:"label",className:r.root,children:[Object(l.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&ti(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(l.jsx)("img",{className:r.image,src:t,alt:""})]})},Yo=function(e){var t=e.patternTexture,n=t.src,r=t.scale,i=t.repetition,o=t.setRepetition,a=t.setScale,c=t.setImage;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{component:"div",before:"Scale:",after:Object(l.jsx)(Xo,{src:n,onChange:c}),children:Object(l.jsx)(ii.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return a(Number(e.target.value))}})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Repeat:",children:Object(l.jsxs)(ao.a,{value:i,onChange:function(e){return o(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(l.jsx)(lo.a,{value:"repeat",children:"Repeat"}),Object(l.jsx)(lo.a,{value:"repeat-x",children:"Repeat-x"}),Object(l.jsx)(lo.a,{value:"repeat-y",children:"Repeat-y"}),Object(l.jsx)(lo.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},Go=Object(b.c)((function(e){var t=e.config,n=t.type,r=t.color,i=t.gradient,o=t.patternTexture,a=t.setType,c=t.setColor;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsxs)(po.a,{row:!0,name:"type",value:n,onChange:function(e){return a(Number(e.target.value))},children:[Object(l.jsx)(ho.a,{value:Ze.SOLID,control:Object(l.jsx)(fo.a,{size:"small",color:"default"}),label:"Solid"}),Object(l.jsx)(ho.a,{value:Ze.GRADIENT,control:Object(l.jsx)(fo.a,{size:"small",color:"default"}),label:"Gradient"}),Object(l.jsx)(ho.a,{value:Ze.IMAGE,control:Object(l.jsx)(fo.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(vo,{color:r,onChange:c})}):null,1===n?Object(l.jsx)(Eo,{gradient:i}):null,2===n?Object(l.jsx)(Yo,{patternTexture:o,src:o.src,scale:o.scale}):null]})})),Ho=Object(b.c)((function(){var e=Hr().fill;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Fill"})}),Object(l.jsx)(Go,{config:e})]})})),Jo=n(428),Wo=n(429),Ro=Object(Dr.a)((function(){return Object(Er.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Uo=Object(b.c)((function(){var e=Ro(),t=Hr(),n=t.stroke,r=t.useStroke,i=t.setUseStroke,o=n.setWidth,a=n.lineJoin,c=n.setLineJoin,s=n.lineCap,u=n.setLineCap;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(Br.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(l.jsx)(Ur.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(l.jsx)(Jo.a,{size:"small",checked:r,onChange:function(e){return i(e.target.checked)}}),"On"]}),Object(l.jsxs)("div",{className:r?"":e.disabled,children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Width:",after:"px",children:Object(l.jsx)(ii.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return o(Number(e.target.value))}})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(l.jsxs)(Wo.a,{size:"small",color:"primary",children:[Object(l.jsx)(Vr.a,{onClick:function(){return u("butt")},variant:"butt"===s?"contained":"outlined",children:"Butt"}),Object(l.jsx)(Vr.a,{onClick:function(){return u("round")},variant:"round"===s?"contained":"outlined",children:"Round"}),Object(l.jsx)(Vr.a,{onClick:function(){return u("square")},variant:"square"===s?"contained":"outlined",children:"Square"})]})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(l.jsxs)(Wo.a,{size:"small",color:"primary",children:[Object(l.jsx)(Vr.a,{onClick:function(){return c("miter")},variant:"miter"===a?"contained":"outlined",children:"Miter"}),Object(l.jsx)(Vr.a,{onClick:function(){return c("round")},variant:"round"===a?"contained":"outlined",children:"Round"}),Object(l.jsx)(Vr.a,{onClick:function(){return c("bevel")},variant:"bevel"===a?"contained":"outlined",children:"Bevel"})]})})}),Object(l.jsx)(Go,{config:n})]})]})})),Ko=Object(Dr.a)((function(){return Object(Er.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),Vo=Object(b.c)((function(){var e=Hr(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,i=t.setOffsetX,o=t.setOffsetY,a=t.setBlur,c=t.setColor,s=Ko();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(Br.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(l.jsx)(Ur.a,{component:"div",className:s.title,children:"Shadow"}),"Off",Object(l.jsx)(Jo.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(l.jsxs)("div",{className:n?"":s.disabled,children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Offset X:",after:"px",children:Object(l.jsx)(ii.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Offset Y:",after:"px",children:Object(l.jsx)(ii.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Blur:",after:"px",children:Object(l.jsx)(ii.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return a(Number(e.target.value))}})})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(vo,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:c})})]})]})})),qo=Object(b.c)((function(){var e=Hr(),t=e.bgColor,n=e.setBgColor;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Background Color"})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(vo,{color:t||"",onChange:n})})]})})),Qo=Object(Dr.a)((function(){return Object(Er.a)({root:{overflow:"hidden",width:"256px"}})})),_o=function(){var e=Qo();return Object(l.jsxs)(Br.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(l.jsx)(Br.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(l.jsx)(Ur.a,{variant:"subtitle2",children:"Style Config"})}),Object(l.jsxs)(Br.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(l.jsx)(Ho,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(Uo,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(Vo,{}),Object(l.jsx)(Rr.a,{}),Object(l.jsx)(qo,{})]})]})},Zo=n(191),ea=n.n(Zo);var ta=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(c.useCallback)(t,[t,n]),i=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,i=e.deltaX,o=e.deltaY;if(t){var a=-.01;Math.abs(o)>50&&(a*=.1),r({deltaScale:o*a,deltaX:0,deltaY:0})}else{var l=-i,c=-o;0===i&&n&&Math.abs(o)>50&&(l=-o,c=0),r({deltaX:l,deltaY:c,deltaScale:0})}}),[r]);Object(c.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",i,{passive:!1}),function(){return t.removeEventListener("wheel",i)}}}),[e,i])},na={x:0,y:0};var ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.useState)({ks:!1,ms:!1}),r=Object(Kr.a)(n,2),i=r[0],o=r[1],a=Object(c.useMemo)((function(){return i.ks&&i.ms?2:i.ks?1:0}),[i.ks,i.ms]),l=Object(c.useCallback)(e,[e].concat(Object(Ae.a)(t))),s=Object(c.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;i.ks!==t&&o((function(t){return Object(p.a)(Object(p.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[i.ks]),u=function(e){if(i.ks){var t=e.clientX,n=e.clientY;na.x=t,na.y=n,o((function(e){return Object(p.a)(Object(p.a)({},e),{},{ms:!0})}))}},f=Object(c.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=na.x,i=na.y;t-r===0&&n-i===0||(l({offsetX:t-r,offsetY:n-i}),na.x=t,na.y=n)}),[l]),d=Object(c.useCallback)((function(){o((function(e){return Object(p.a)(Object(p.a)({},e),{},{ms:!1})}))}),[]);return Object(c.useEffect)((function(){return window.addEventListener("keydown",s),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",s),window.removeEventListener("keyup",s)}}),[s]),Object(c.useEffect)((function(){return i.ks&&i.ms?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",d)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)),function(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)}}),[d,f,i.ks,i.ms]),[a,u]},ia=Object(Dr.a)((function(e){var t=e.bgPixel;return Object(Er.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(p.a)(Object(p.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),oa=Object(b.c)((function(){var e=Gr(),t=e.isPacking,n=e.ui,r=e.layout,i=r.padding,o=r.auto,a=r.fixedSize,s=r.width,u=r.height,f=e.glyphList,p=e.style.bgColor,d=e.packCanvas,h=e.setCanvas,b=n.width,g=n.height,y=n.scale,O=n.offsetX,j=n.offsetY,w=Object(c.useRef)(null),m=Object(c.useRef)(null),x=ra((function(e){var t=e.offsetX,r=e.offsetY,i=n.scale,o=n.offsetX,a=n.offsetY;(0,n.setTransform)({offsetX:o+t/i,offsetY:a+r/i})}),[n]),v=Object(Kr.a)(x,2),k=v[0],P=v[1],S=ia({width:b,height:g,scale:y,offsetX:O,offsetY:j,dragState:k});return ta(m,(function(e){var t=n.offsetX,r=n.offsetY,i=n.scale,o=n.setTransform,a=i+e.deltaScale;o({offsetX:t+e.deltaX/a,offsetY:r+e.deltaY/a,scale:a})}),[n]),Object(c.useEffect)((function(){w.current&&w.current!==d&&h(w.current)}),[w,d,h]),Object(c.useEffect)((function(){if(f&&!t&&b&&g){var e=w.current;if(e){e.width=b,e.height=g;var n=e.getContext("2d");n&&(p&&(n.fillStyle=p,n.fillRect(0,0,e.width,e.height)),f.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(i||0),e.y+(i||0))})))}}}),[p,f,t,g,b,i,o,a,s,u]),Object(l.jsx)("div",{"aria-hidden":!0,ref:m,className:S.root,onMouseDown:P,children:Object(l.jsx)("canvas",{ref:w,className:S.canvas})})})),aa=n(430),la=Object(Dr.a)((function(e){var t=e.palette;return Object(Er.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary,position:"relative"},loading:{position:"absolute",left:0,top:"100%",width:"100%"}})})),ca=Object(b.c)((function(){var e=Gr(),t=e.isPacking,n=e.ui,r=n.width,i=n.height,o=la();return Object(l.jsxs)("div",{className:o.root,children:["Packed texture size: ",r," x ",i,t?Object(l.jsx)(aa.a,{className:o.loading}):null]})})),sa=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ca,{}),Object(l.jsx)(oa,{})]})};var ua=n(54),fa=Object(Dr.a)((function(){return Object(Er.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),pa=Object(b.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,i=t.list,o=fa(),a=Wr();return Object(l.jsx)(l.Fragment,{children:i.map((function(e,t){var i,c="".concat(e.letter).concat(t);return Object(l.jsx)("div",{"aria-hidden":!0,className:Object(So.a)(o.letter,(i={},Object(ua.a)(i,o.select,e.letter===a.selectLetter),Object(ua.a)(i,o.next,e.letter===a.selectNextLetter),i)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),a.setSelectLetter(t,n)}(t,e.letter,e.next)}},c)}))})})),da=Object(Dr.a)((function(e){var t=e.bgPixel;return Object(Er.a)({root:Object(p.a)(Object(p.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),ha=Object(b.c)((function(){var e=Gr(),t=Object(c.useState)(null),n=Object(Kr.a)(t,2),r=n[0],i=n[1],o=e.ui,a=e.style.font,s=a.size,u=a.lineHeight,f=a.middle,p=a.hanging,d=a.top,h=a.alphabetic,b=a.ideographic,g=a.bottom,y=a.minBaseLine,O=a.maxBaseLine,j=e.isPacking,w=o.previewScale,m=o.previewOffsetX,x=o.previewOffsetY,v=Object(c.useRef)(null),k=Object(c.useRef)(null),P=ra((function(e){var t=e.offsetX,n=e.offsetY,r=o.previewScale,i=o.previewOffsetX,a=o.previewOffsetY;(0,o.setPreviewTransform)({previewOffsetX:i+t/r,previewOffsetY:a+n/r})}),[o]),S=Object(Kr.a)(P,2),T=S[0],C=S[1],I=da({width:r?r.width:0,height:r?r.height:0,scale:w,offsetX:m,offsetY:x,dragState:T});return ta(k,(function(e){var t=o.previewOffsetX,n=o.previewOffsetY,r=o.previewScale,i=o.setPreviewTransform,a=r+e.deltaScale;i({previewOffsetX:t+e.deltaX/a,previewOffsetY:n+e.deltaY/a,previewScale:a})}),[o]),Object(c.useEffect)((function(){if(v.current&&!j&&r){var e=v.current,t=e.getContext("2d");if(t){var n=s*u;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var i=function(e){[f,p,d,h,b,g].forEach((function(i){var o=Math.round(i-y+e*n);t.beginPath(),t.moveTo(-r.xOffset,o+.5-r.yOffset),t.lineTo(r.width,o+.5-r.yOffset),i===y||i===O?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+O-y),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},o=0;o<r.lines;o+=1)i(o)}}}),[h,g,r,p,b,j,u,O,f,y,s,d]),Object(c.useEffect)((function(){if(v.current&&!j&&v.current.getContext("2d")){var t=Di(e),n=t.chars,r=t.kernings,a=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;a.has(t)||a.set(t,new Map);var i=a.get(t);null===i||void 0===i||i.set(n,r)}));var l=new Map;n.list.forEach((function(e){l.set(e.letter,e)}));var c=s*u,f=function(e,t,n,r,i){var o=[],a=e.split(/\r\n|\r|\n/),l=0,c=0,s=0,u=0,f=0,p=0;return a.forEach((function(e,a){f=r*a,p=0;var d=Array.from(e);d.forEach((function(e,r){var a=t.get(e);if(a){var h=d[r+1],b=n.get(e.charCodeAt(0)),g=0;h&&b&&b.has(h.charCodeAt(0))&&(g=b.get(h.charCodeAt(0))||0);var y={x:p+a.xoffset,y:f+a.yoffset,width:a.width||a.xadvance,height:a.height||i,source:a.source,letter:a.letter,next:h};p+=a.xadvance+g,l=Math.min(y.x,l),c=Math.min(y.y,c),s=Math.max(y.x+y.width,s),u=Math.max(y.y+a.height,u),o.push(y)}}))})),{lines:a.length,list:o,xOffset:l,yOffset:c,width:s-l,height:Math.max(u-c,a.length*r-c)}}(o.previewText,l,a,c,O-y);i((function(){return f}))}}),[j,u,O,y,e,s,o.previewText]),Object(l.jsx)("div",{"aria-hidden":!0,ref:k,className:I.root,onMouseDown:C,onClick:function(){return o.setSelectLetter("","")},children:Object(l.jsxs)("div",{className:I.wrap,children:[Object(l.jsx)("canvas",{ref:v,className:I.canvas}),r?Object(l.jsx)(pa,{data:r}):null]})})})),ba=Object(b.c)((function(){var e=Wr(),t=e.previewText,n=e.setPreviewText,r=Object(c.useState)(!1),i=Object(Kr.a)(r,2),o=i[0],a=i[1],s=Object(c.useState)(t),u=Object(Kr.a)(s,2),f=u[0],p=u[1];return Object(l.jsxs)(Br.a,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:"Glyphs"})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(si.a,{margin:"none",value:o?f:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;o?p(r):(p(r),r!==t&&n(r))},onCompositionStart:function(){return a(!0)},onCompositionEnd:function(){a(!1),p(f),f!==t&&n(f)}})})]})})),ga=Object(b.c)((function(){var e=Gr(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var i=r.adjustMetric,o=r.letter,a=i.xAdvance,c=i.xOffset,s=i.yOffset,u=i.setXAdvance,f=i.setXOffset,p=i.setYOffset;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:'"'.concat(o,'" Adjustment')})}),Object(l.jsx)(ji,{xAdvance:a,xOffset:c,yOffset:s,setXAdvance:u,setXOffset:f,setYOffset:p})]})})),ya=Object(b.c)((function(){var e=Gr(),t=e.glyphList,n=e.ui,r=e.style.font,i=r.opentype,o=r.size,a=Object(c.useState)(0),s=Object(Kr.a)(a,2),u=s[0],f=s[1],p=Object(c.useState)(),d=Object(Kr.a)(p,2),h=d[0],b=d[1],g=Object(c.useState)(0),y=Object(Kr.a)(g,2),O=y[0],j=y[1];Object(c.useEffect)((function(){b(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(c.useEffect)((function(){if(h&&n.selectNextLetter&&i){var e=1/i.unitsPerEm*o;f(Math.round(i.getKerningValue(i.charToGlyphIndex(h.letter),i.charToGlyphIndex(n.selectNextLetter))*e))}}),[h,i,o,n.selectNextLetter]);return Object(c.useEffect)((function(){var e;return h&&(j(h.kerning.get(n.selectNextLetter)||0),e=Object(x.a)(h.kerning,(function(){j(h.kerning.get(n.selectNextLetter)||0)}))),e}),[h,n.selectNextLetter]),h&&n.selectNextLetter?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(Ur.a,{children:'"'.concat(h.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(l.jsx)(Br.a,{paddingX:2,marginY:4,children:Object(l.jsx)(oi,{before:"Amount:",after:"px",children:Object(l.jsx)(ii.a,{value:O+u,fullWidth:!0,type:"number",onChange:function(e){h&&h.steKerning(n.selectNextLetter,Number(e.target.value)-u)}})})})]}):null})),Oa=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ha,{}),Object(l.jsxs)(qr.a,{container:!0,alignItems:"flex-start",children:[Object(l.jsx)(qr.a,{item:!0,xs:4,children:Object(l.jsx)(ba,{})}),Object(l.jsx)(qr.a,{item:!0,xs:4,children:Object(l.jsx)(ga,{})}),Object(l.jsx)(qr.a,{item:!0,xs:4,children:Object(l.jsx)(ya,{})})]})]})},ja=Object(Dr.a)((function(e){var t=e.palette;return Object(Er.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),wa=Object(b.c)((function(){var e=Wr(),t=e.showPreview,n=e.packFailed,r=ja();return Object(l.jsxs)("div",{className:r.root,children:[n?Object(l.jsxs)("div",{className:r.toast,children:[Object(l.jsx)(ea.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(l.jsx)(Oa,{}):Object(l.jsx)(sa,{})]})})),ma=n(436),xa=n(113),va=n.n(xa),ka=Object(Dr.a)((function(e){var t=e.palette;return Object(Er.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),Pa=function(e){var t=e.name,n=e.useRemove,r=e.selected,i=e.value,o=e.onChange,a=e.onClick,s=e.onRemove,u=e.onRename,f=Object(c.useState)(!1),p=Object(Kr.a)(f,2),d=p[0],h=p[1],b=Object(c.useState)(t),g=Object(Kr.a)(b,2),y=g[0],O=g[1],j=Object(c.useRef)(null),w=ka(),m=function(e){e.stopPropagation(),s&&s(e,i)};return Object(c.useEffect)((function(){d&&j.current&&j.current.focus(),!d&&u&&u(y,i)}),[d,u,y,i]),Object(c.useEffect)((function(){O(t)}),[t]),Object(l.jsxs)("div",{"aria-hidden":!0,className:Object(So.a)(w.root,Object(ua.a)({},w.selected,r)),onClick:function(e){e.stopPropagation(),o&&o(e,i),a&&a(e)},onDoubleClick:function(e){e.stopPropagation(),j.current&&h(!0)},title:"Double click rename",children:[Object(l.jsxs)("span",{"aria-hidden":!0,className:w.name,children:[d?y:t,Object(l.jsx)("input",{className:w.input,hidden:!d,ref:j,value:d?y:t,type:"text",onKeyDown:function(e){13===e.keyCode&&j.current&&j.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),h(!1)},onChange:function(e){O(e.target.value)}})]}),n?Object(l.jsx)(va.a,{className:w.icon,onClick:m,onDoubleClick:m}):null]})},Sa=Object(Dr.a)((function(e){var t=e.palette,n=e.shadows;return Object(Er.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),Ta=Object(b.c)((function(){var e=Sa(),t=Xr(),n=t.addProject,r=t.selectProject,i=t.removeProject,o=t.setProjectName,a=t.namedList,c=t.activeId,s=function(e,t){"undefined"!==typeof t&&i(t)};return Object(l.jsx)(ma.a,{classes:e,value:c,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:a.map((function(e){return Object(l.jsx)(Pa,{useRemove:a.length>1,name:e.name,value:e.id,onRename:o,onRemove:s},e.id)}))})})),Ca=n(374),Ia=n(448),za=n(447),Aa=Object(Dr.a)((function(){return Object(Er.a)({slider:{width:"200px"}})})),Ma=Object(b.c)((function(){var e=Wr(),t=e.scale,n=e.setTransform,r=e.previewScale,i=e.setPreviewTransform,o=e.showPreview,a=e.setShowPreview,s=Aa(),u=Object(c.useState)(!1),f=Object(Kr.a)(u,2),p=f[0],d=f[1],h=Object(c.useRef)(null),b=Object(c.useState)([.25,.5,.75,1,1.25,1.5,5,10]),g=Object(Kr.a)(b,1)[0],y=function(e,t){o?i({previewScale:t}):n({scale:t})};return Object(l.jsxs)(Br.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(l.jsxs)(Br.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(l.jsx)(Jo.a,{size:"small",color:"primary",checked:o,onChange:function(e){return a(e.target.checked)}})]}),Object(l.jsx)(Ia.a,{className:s.slider,value:o?r:t,min:.01,max:10,step:.01,onChange:y}),Object(l.jsx)(Vr.a,{ref:h,onClick:function(){d((function(e){return!e}))},children:"".concat(Math.round(1e3*(o?r:t))/10,"%")}),Object(l.jsx)(Oo.a,{open:p,anchorEl:h.current,placement:"top-end",children:Object(l.jsx)(Ca.a,{children:Object(l.jsx)(bo.a,{onClickAway:function(e){h.current&&h.current.contains(e.target)||d(!1)},children:Object(l.jsx)(za.a,{children:g.map((function(e){return Object(l.jsx)(lo.a,{onClick:function(){return y(0,e),void d(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),Na=n(441),Ba=n(431),La=n(432),$a=n(193),Da=n.n($a),Ea=n(196),Fa=n.n(Ea),Xa=n(195),Ya=n.n(Xa),Ga=n(194),Ha=n.n(Ga),Ja=n(206),Wa=n(192),Ra=n.n(Wa),Ua=Object(Dr.a)((function(e){return Object(Er.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),Ka=Object(b.c)((function(e){var t=Ua(),n=Gr().removeImage,r=Object(c.useState)(!1),i=Object(Kr.a)(r,2),o=i[0],a=i[1],s=e.glyph,u=Object(c.useState)(s.letter),f=Object(Kr.a)(u,2),p=f[0],d=f[1],h=s.changeSelect,b=s.selected,g=s.setGlyph;return Object(l.jsxs)(Ca.a,{variant:"outlined",className:t.root,children:[Object(l.jsx)("img",{className:t.image,src:s.src,alt:s.fileName}),Object(l.jsxs)(qr.a,{container:!0,direction:"column",className:t.actions,children:[Object(l.jsxs)(qr.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",children:[Object(l.jsx)(di.a,{checked:b,size:"small",color:"default",onChange:function(e){return h(e.target.checked)}}),Object(l.jsx)(ki.a,{color:"primary",size:"small",onClick:function(){return n(s)},children:Object(l.jsx)(Ra.a,{fontSize:"small"})})]}),Object(l.jsx)(qr.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(l.jsx)(Ja.a,{fullWidth:!0,value:o?p:s.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;o?(d(t.slice(0,1)),g(t.slice(0,1))):g(t)},onCompositionEnd:function(){a(!1),d((function(e){return e.slice(0,1)})),g(p.slice(0,1))},onCompositionStart:function(){return a(!0)}})})]})]})})),Va=Object(Dr.a)((function(){return Object(Er.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),qa=Object(b.c)((function(){var e=Gr().glyphImages,t=Va();return Object(l.jsx)(Br.a,{className:t.root,children:e.map((function(e){return Object(l.jsx)(Ka,{glyph:e},e.src)}))})})),Qa=Object(Dr.a)((function(){return Object(Er.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),_a=Object(b.c)((function(){var e=Qa(),t=Gr().addImages,n=Object(c.useState)(!1),r=Object(Kr.a)(n,2),i=r[0],o=r[1],a=Object(c.useState)(!1),s=Object(Kr.a)(a,2),u=s[0],f=s[1],p=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return ti(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},d=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():o(!1))};return Object(c.useEffect)((function(){return i?window.addEventListener("keydown",d):window.removeEventListener("keydown",d),function(){return window.removeEventListener("keydown",d)}}),[i]),Object(l.jsx)(Br.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),p(e.dataTransfer.files)},className:Object(So.a)(e.root,Object(ua.a)({},e.fixed,i)),children:Object(l.jsxs)(Na.a,{className:e.panel,expanded:i||u,onChange:function(){f((function(e){return i||!e}))},TransitionProps:{style:i||u?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(l.jsx)(Ba.a,{expandIcon:i?void 0:Object(l.jsx)(Da.a,{}),children:Object(l.jsxs)(qr.a,{container:!0,alignItems:"center",children:[Object(l.jsx)(qr.a,{item:!0,children:Object(l.jsx)(Ur.a,{children:"Image Glyph List"})}),Object(l.jsx)(qr.a,{item:!0,xs:!0,container:!0,justify:"center",children:Object(l.jsxs)(Vr.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(l.jsx)(Ha.a,{}),children:["Select Images",Object(l.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;p(t)}}})]})}),Object(l.jsx)(qr.a,{item:!0,children:Object(l.jsx)(ki.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),o((function(e){return!e}))},children:i?Object(l.jsx)(Ya.a,{}):Object(l.jsx)(Fa.a,{})})})]})}),Object(l.jsx)(La.a,{className:e.continer,children:Object(l.jsx)(Br.a,{className:e.listWrap,children:Object(l.jsx)(qa,{})})})]})})})),Za=Object(Dr.a)((function(e){var t=e.palette,n=e.shadows;return Object(Er.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),el=function(){var e=Za();return Object(l.jsxs)(Br.a,{className:e.root,children:[Object(l.jsx)(Ta,{}),Object(l.jsx)(wa,{}),Object(l.jsx)(Ma,{}),Object(l.jsx)(_a,{})]})},tl=Object(Dr.a)((function(e){return Object(Er.a)({close:{padding:e.spacing(.5)}})}));function nl(){var e=tl(),t=s.a.useState(!1),n=Object(Kr.a)(t,2),r=n[0],i=n[1],o=function(e,t){"clickaway"!==t&&i(!1)},a=s.a.useCallback((function(e){var t=e.detail;i(!!t)}),[]);return s.a.useEffect((function(){return window.addEventListener("updateVerion",a,!1),function(){return window.removeEventListener("updateVerion",a,!1)}}),[a]),Object(l.jsx)(Ii.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:o,message:"New version is available.",action:Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsx)(Vr.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(l.jsx)(ki.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:o,children:Object(l.jsx)(va.a,{})})]})})}var rl=Object(Dr.a)((function(e){var t=e.zIndex;return Object(Er.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),il=Object(b.c)((function(){var e=rl(),t=Fr().ui;return Object(l.jsxs)(Br.a,{className:e.root,children:[Object(l.jsx)(uo,{}),Object(l.jsx)(nl,{}),Object(l.jsxs)(Br.a,{className:e.content,children:[Object(l.jsx)(xi,{}),Object(l.jsx)(el,{}),Object(l.jsx)(_o,{})]}),Object(l.jsx)(Lr.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(l.jsx)($r.a,{color:"inherit"})})]})}));var ol=function(){return Object(l.jsxs)(d.a,{theme:Nr,children:[Object(l.jsx)(h.a,{}),Object(l.jsx)(b.b,Object(p.a)(Object(p.a)({},{ui:new m,workspace:new Tr}),{},{children:Object(l.jsx)(il,{})}))]})},al=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ll(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}f.a.render(Object(l.jsx)(ol,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");al?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ll(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ll(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[370,1,2]]]);
//# sourceMappingURL=main.86ea3272.chunk.js.map