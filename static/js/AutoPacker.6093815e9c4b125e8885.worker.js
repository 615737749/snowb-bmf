!function(e){var t={};function i(r){if(t[r])return t[r].exports;var h=t[r]={i:r,l:!1,exports:{}};return e[r].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var h in e)i.d(r,h,function(t){return e[t]}.bind(null,h));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=0)}([function(e,t,i){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function h(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i.r(t);var s;!function(e){e[e.DO_PLACING=0]="DO_PLACING",e[e.DEC_WIDTH=1]="DEC_WIDTH",e[e.INC_HEIGHT=2]="INC_HEIGHT",e[e.STOP=3]="STOP"}(s||(s={}));var n,a,c=function(){function e(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=i,this.height=r}return e.IsContainedIn=function(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height},e}();!function(e){e[e.RectBestAreaFit=0]="RectBestAreaFit",e[e.RectBestShortSideFit=1]="RectBestShortSideFit",e[e.RectBestLongSideFit=2]="RectBestLongSideFit",e[e.RectWorstAreaFit=3]="RectWorstAreaFit",e[e.RectWorstShortSideFit=4]="RectWorstShortSideFit",e[e.RectWorstLongSideFit=5]="RectWorstLongSideFit"}(n||(n={})),function(e){e[e.SplitShorterLeftoverAxis=0]="SplitShorterLeftoverAxis",e[e.SplitLongerLeftoverAxis=1]="SplitLongerLeftoverAxis",e[e.SplitMinimizeArea=2]="SplitMinimizeArea",e[e.SplitMaximizeArea=3]="SplitMaximizeArea",e[e.SplitShorterAxis=4]="SplitShorterAxis",e[e.SplitLongerAxis=5]="SplitLongerAxis"}(a||(a={}));var o=function(){function e(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),this.binWidth=e,this.binHeight=t,this.allowFlip=i,this.usedRectangles=[],this.freeRectangles=[],this.binWidth&&this.binHeight&&this.freeRectangles.push(new c(0,0,this.binWidth,this.binHeight))}return e.prototype.InsertSizes=function(e,t,i,r){for(var h,s=0,n=0,a=!1;e.length>0;){for(var o=Number.MAX_VALUE,g=0;g<this.freeRectangles.length;++g)for(var l=0;l<e.length;++l){if(e[l].width===this.freeRectangles[g].width&&e[l].height===this.freeRectangles[g].height){s=g,n=l,a=!1,o=Number.MIN_VALUE,g=this.freeRectangles.length;break}if(this.allowFlip&&e[l].height===this.freeRectangles[g].width&&e[l].width===this.freeRectangles[g].height){s=g,n=l,a=!0,o=Number.MIN_VALUE,g=this.freeRectangles.length;break}if(e[l].width<=this.freeRectangles[g].width&&e[l].height<=this.freeRectangles[g].height)(f=this.ScoreByHeuristic(e[l].width,e[l].height,this.freeRectangles[g],i))<o&&(s=g,n=l,a=!1,o=f);else if(this.allowFlip&&e[l].height<=this.freeRectangles[g].width&&e[l].width<=this.freeRectangles[g].height){var f;(f=this.ScoreByHeuristic(e[l].height,e[l].width,this.freeRectangles[g],i))<o&&(s=g,n=l,a=!0,o=f)}}if(o===Number.MAX_VALUE)return;var u=e.splice(n,1)[0];u.x=this.freeRectangles[s].x,u.y=this.freeRectangles[s].y;var d=new c(this.freeRectangles[s].x,this.freeRectangles[s].y,u.width,u.height);a&&(h=[d.height,d.width],d.width=h[0],d.height=h[1]),this.SplitFreeRectByHeuristic(this.freeRectangles[s],d,r),this.freeRectangles.splice(s,1),t&&this.MergeFreeList(),this.usedRectangles.push(u)}},e.prototype.Fits=function(e,t){return e.width<=t.width&&e.height<=t.height||e.height<=t.width&&e.width<=t.height},e.prototype.FitsPerfectly=function(e,t){return e.width===t.width&&e.height===t.height||e.height===t.width&&e.width===t.height},e.prototype.Occupancy=function(){for(var e=0,t=0;t<this.usedRectangles.length;++t)e+=this.usedRectangles[t].width*this.usedRectangles[t].height;return e/(this.binWidth*this.binHeight)},e.prototype.ScoreByHeuristic=function(e,t,i,r){switch(r){case n.RectBestAreaFit:return this.ScoreBestAreaFit(e,t,i);case n.RectBestShortSideFit:return this.ScoreBestShortSideFit(e,t,i);case n.RectBestLongSideFit:return this.ScoreBestLongSideFit(e,t,i);case n.RectWorstAreaFit:return this.ScoreWorstAreaFit(e,t,i);case n.RectWorstShortSideFit:return this.ScoreWorstShortSideFit(e,t,i);case n.RectWorstLongSideFit:return this.ScoreWorstLongSideFit(e,t,i);default:return Number.MAX_VALUE}},e.prototype.ScoreBestAreaFit=function(e,t,i){return i.width*i.height-e*t},e.prototype.ScoreBestShortSideFit=function(e,t,i){var r=Math.abs(i.width-e),h=Math.abs(i.height-t);return Math.min(r,h)},e.prototype.ScoreBestLongSideFit=function(e,t,i){var r=Math.abs(i.width-e),h=Math.abs(i.height-t);return Math.max(r,h)},e.prototype.ScoreWorstAreaFit=function(e,t,i){return-this.ScoreBestAreaFit(e,t,i)},e.prototype.ScoreWorstShortSideFit=function(e,t,i){return-this.ScoreBestShortSideFit(e,t,i)},e.prototype.ScoreWorstLongSideFit=function(e,t,i){return-this.ScoreBestLongSideFit(e,t,i)},e.prototype.FindPositionForNewNode=function(e,t,i,r){for(var h=new c,s=Number.MAX_VALUE,n=0;n<this.freeRectangles.length;++n){if(e===this.freeRectangles[n].width&&t===this.freeRectangles[n].height){h.x=this.freeRectangles[n].x,h.y=this.freeRectangles[n].y,h.width=e,h.height=t,s=Number.MIN_VALUE,r.value=n;break}if(t===this.freeRectangles[n].width&&e===this.freeRectangles[n].height){h.x=this.freeRectangles[n].x,h.y=this.freeRectangles[n].y,h.width=t,h.height=e,s=Number.MIN_VALUE,r.value=n;break}if(e<=this.freeRectangles[n].width&&t<=this.freeRectangles[n].height)(a=this.ScoreByHeuristic(e,t,this.freeRectangles[n],i))<s&&(h.x=this.freeRectangles[n].x,h.y=this.freeRectangles[n].y,h.width=e,h.height=t,s=a,r.value=n);else if(t<=this.freeRectangles[n].width&&e<=this.freeRectangles[n].height){var a;(a=this.ScoreByHeuristic(t,e,this.freeRectangles[n],i))<s&&(h.x=this.freeRectangles[n].x,h.y=this.freeRectangles[n].y,h.width=t,h.height=e,s=a,r.value=n)}}return h},e.prototype.SplitFreeRectByHeuristic=function(e,t,i){var r,h=e.width-t.width,s=e.height-t.height;switch(i){case a.SplitShorterLeftoverAxis:r=h<=s;break;case a.SplitLongerLeftoverAxis:r=h>s;break;case a.SplitMinimizeArea:r=t.width*s>h*t.height;break;case a.SplitMaximizeArea:r=t.width*s<=h*t.height;break;case a.SplitShorterAxis:r=e.width<=e.height;break;case a.SplitLongerAxis:r=e.width>e.height;break;default:r=!0}this.SplitFreeRectAlongAxis(e,t,r)},e.prototype.SplitFreeRectAlongAxis=function(e,t,i){var r=new c(e.x,e.y+t.height,0,e.height-t.height),h=new c(e.x+t.width,e.y,e.width-t.width,0);i?(r.width=e.width,h.height=t.height):(r.width=t.width,h.height=e.height),r.width>0&&r.height>0&&this.freeRectangles.push(r),h.width>0&&h.height>0&&this.freeRectangles.push(h)},e.prototype.MergeFreeList=function(){for(var e=0;e<this.freeRectangles.length;++e)for(var t=e+1;t<this.freeRectangles.length;++t)this.freeRectangles[e].width===this.freeRectangles[t].width&&this.freeRectangles[e].x===this.freeRectangles[t].x?this.freeRectangles[e].y===this.freeRectangles[t].y+this.freeRectangles[t].height?(this.freeRectangles[e].y-=this.freeRectangles[t].height,this.freeRectangles[e].height+=this.freeRectangles[t].height,this.freeRectangles.splice(t,1),--t):this.freeRectangles[e].y+this.freeRectangles[e].height===this.freeRectangles[t].y&&(this.freeRectangles[e].height+=this.freeRectangles[t].height,this.freeRectangles.splice(t,1),--t):this.freeRectangles[e].height===this.freeRectangles[t].height&&this.freeRectangles[e].y===this.freeRectangles[t].y&&(this.freeRectangles[e].x===this.freeRectangles[t].x+this.freeRectangles[t].width?(this.freeRectangles[e].x-=this.freeRectangles[t].width,this.freeRectangles[e].width+=this.freeRectangles[t].width,this.freeRectangles.splice(t,1),--t):this.freeRectangles[e].x+this.freeRectangles[e].width===this.freeRectangles[t].x&&(this.freeRectangles[e].width+=this.freeRectangles[t].width,this.freeRectangles.splice(t,1),--t))},e.FreeRectChoiceHeuristic=n,e.GuillotineSplitHeuristic=a,e}();function g(e){for(var t=function(e){var t=e.map((function(e){return e.width})),i=e.map((function(e){return e.height}));return{minWidth:Math.min.apply(null,t),minHeight:Math.min.apply(null,i),maxWidth:t.reduce((function(e,t){return e+t}),0),maxHeight:i.reduce((function(e,t){return e+t}),0)}}(e),i=Math.max(t.minWidth,t.minHeight),r=Math.max(t.maxWidth,t.maxHeight),s=1,n=[];s;)switch(s){case 1:var a=new o(i+Math.ceil((r-i)/2),i+Math.ceil((r-i)/2));a.InsertSizes(h(e),!0,1,1),r-i<2?s=0:e.length>a.usedRectangles.length?s=2:(n=a.usedRectangles,s=3);break;case 2:i+=Math.ceil((r-i)/2),s=1;break;case 3:r-=Math.floor((r-i)/2),s=1}return n}var l=self;l.addEventListener("message",(function(e){var t=g(e.data);l.postMessage(t)}),!1)}]);
//# sourceMappingURL=AutoPacker.6093815e9c4b125e8885.worker.js.map