(this["webpackJsonpsnowb-bmf"]=this["webpackJsonpsnowb-bmf"]||[]).push([[0],{188:function(e,t){},511:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Metric",(function(){return wi})),n.d(r,"GradientColor",(function(){return mi})),n.d(r,"Gradient",(function(){return vi})),n.d(r,"PatternTexture",(function(){return xi})),n.d(r,"Fill",(function(){return ki})),n.d(r,"Font",(function(){return Pi})),n.d(r,"GlyphFont",(function(){return Si})),n.d(r,"GlyphImage",(function(){return Ti})),n.d(r,"Layout",(function(){return Mi})),n.d(r,"Shadow",(function(){return Ii})),n.d(r,"Style",(function(){return Ci})),n.d(r,"Ui",(function(){return Ai})),n.d(r,"Project",(function(){return Ni})),n.d(r,"default",(function(){return ji})),n.d(r,"updateToNext",(function(){return zi}));var o={};n.r(o),n.d(o,"Metric",(function(){return Di})),n.d(o,"GradientColor",(function(){return Gi})),n.d(o,"Gradient",(function(){return Ji})),n.d(o,"PatternTexture",(function(){return Xi})),n.d(o,"Fill",(function(){return Yi})),n.d(o,"Font",(function(){return Hi})),n.d(o,"GlyphFont",(function(){return $i})),n.d(o,"GlyphImage",(function(){return Ri})),n.d(o,"Layout",(function(){return Wi})),n.d(o,"Shadow",(function(){return Ui})),n.d(o,"Style",(function(){return Vi})),n.d(o,"Ui",(function(){return qi})),n.d(o,"Project",(function(){return Ki})),n.d(o,"default",(function(){return Ei})),n.d(o,"updateToNext",(function(){return Qi}));var i={};n.r(i),n.d(i,"Metric",(function(){return nl})),n.d(i,"GradientColor",(function(){return rl})),n.d(i,"Gradient",(function(){return ol})),n.d(i,"PatternTexture",(function(){return il})),n.d(i,"Fill",(function(){return ll})),n.d(i,"Font",(function(){return al})),n.d(i,"GlyphFont",(function(){return cl})),n.d(i,"GlyphImage",(function(){return sl})),n.d(i,"Layout",(function(){return ul})),n.d(i,"Shadow",(function(){return fl})),n.d(i,"Style",(function(){return pl})),n.d(i,"Ui",(function(){return dl})),n.d(i,"Project",(function(){return hl})),n.d(i,"default",(function(){return tl})),n.d(i,"updateToNext",(function(){return yl}));var l={};n.r(l),n.d(l,"Metric",(function(){return wl})),n.d(l,"GradientColor",(function(){return ml})),n.d(l,"Gradient",(function(){return vl})),n.d(l,"PatternTexture",(function(){return xl})),n.d(l,"Fill",(function(){return kl})),n.d(l,"FontResource",(function(){return Pl})),n.d(l,"Font",(function(){return Sl})),n.d(l,"GlyphFont",(function(){return Tl})),n.d(l,"GlyphImage",(function(){return Ml})),n.d(l,"Layout",(function(){return Il})),n.d(l,"Shadow",(function(){return Cl})),n.d(l,"Style",(function(){return Al})),n.d(l,"Ui",(function(){return Nl})),n.d(l,"Project",(function(){return zl})),n.d(l,"default",(function(){return jl})),n.d(l,"updateToNext",(function(){return Fl}));var a,c,s,u,f=n(0),p=n.n(f),d=n(26),h=n.n(d),y=n(585),b=n(584),g=n(583),O=n(4),j=n(17),w=n(95),m=n(582),v=n(581),x=n(2),k=n(10),P=n(14),S=n(15),T=n(5),M=(n(53),a=x.k.bound,c=x.k.bound,s=function(){function e(){Object(P.a)(this,e),Object(k.a)(this,"globalLoader",u,this)}return Object(S.a)(e,[{key:"showGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.globalLoader+=e}},{key:"hideGlobalLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.globalLoader+=e}}]),e}(),u=Object(T.a)(s.prototype,"globalLoader",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(T.a)(s.prototype,"showGlobalLoader",[a],Object.getOwnPropertyDescriptor(s.prototype,"showGlobalLoader"),s.prototype),Object(T.a)(s.prototype,"hideGlobalLoader",[c],Object.getOwnPropertyDescriptor(s.prototype,"hideGlobalLoader"),s.prototype),s),I=M,C=n(108),A=n(214),N=n(295);function z(){return new Worker(n.p+"static/js/AutoPacker.ea1294b4f722df64607a.worker.js")}var F,B,L,E,D,G,J,X,Y,H,$,R,W,U,V,q,K,Q,Z,_,ee,te,ne={num:function(e){return"number"===typeof e&&!Number.isNaN(e)}},re={num:function(e,t){return ne.num(e)?e:t}},oe=(F=x.k.bound,B=x.k.bound,L=x.k.bound,E=x.k.bound,D=x.k.bound,G=x.k.bound,J=x.k.bound,X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"scale",Y,this),Object(k.a)(this,"offsetX",H,this),Object(k.a)(this,"offsetY",$,this),Object(k.a)(this,"width",R,this),Object(k.a)(this,"height",W,this),Object(k.a)(this,"previewText",U,this),Object(k.a)(this,"selectLetter",V,this),Object(k.a)(this,"selectNextLetter",q,this),Object(k.a)(this,"showPreview",K,this),Object(k.a)(this,"previewScale",Q,this),Object(k.a)(this,"previewOffsetX",Z,this),Object(k.a)(this,"previewOffsetY",_,this),Object(k.a)(this,"packFailed",ee,this),t.previewText&&(this.previewText=t.previewText)}return Object(S.a)(e,[{key:"reOffset",value:function(){this.offsetX=Math.min(Math.max(this.width/-2,this.offsetX),this.width/2),this.offsetY=Math.min(Math.max(this.height/-2,this.offsetY),this.height/2),this.scale=Math.max(this.scale,.01)}},{key:"setTransform",value:function(e){this.scale=re.num(e.scale,this.scale),this.offsetX=re.num(e.offsetX,this.offsetX),this.offsetY=re.num(e.offsetY,this.offsetY),this.reOffset()}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.reOffset()}},{key:"setPreviewText",value:function(e){this.previewText=e}},{key:"setShowPreview",value:function(e){this.showPreview=e}},{key:"setPreviewTransform",value:function(e){this.previewScale=Math.max(re.num(e.previewScale,this.previewScale),.01),this.previewOffsetX=re.num(e.previewOffsetX,this.previewOffsetX),this.previewOffsetY=re.num(e.previewOffsetY,this.previewOffsetY)}},{key:"setSelectLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selectLetter=e,this.selectNextLetter=t}},{key:"setPackFailed",value:function(e){this.packFailed=e}}]),e}(),Y=Object(T.a)(X.prototype,"scale",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=Object(T.a)(X.prototype,"offsetX",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Object(T.a)(X.prototype,"offsetY",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(T.a)(X.prototype,"width",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=Object(T.a)(X.prototype,"height",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=Object(T.a)(X.prototype,"previewText",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!\nHello Snow Bamboo!"}}),V=Object(T.a)(X.prototype,"selectLetter",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=Object(T.a)(X.prototype,"selectNextLetter",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=Object(T.a)(X.prototype,"showPreview",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(T.a)(X.prototype,"previewScale",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=Object(T.a)(X.prototype,"previewOffsetX",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(T.a)(X.prototype,"previewOffsetY",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=Object(T.a)(X.prototype,"packFailed",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(T.a)(X.prototype,"setTransform",[F],Object.getOwnPropertyDescriptor(X.prototype,"setTransform"),X.prototype),Object(T.a)(X.prototype,"setSize",[B],Object.getOwnPropertyDescriptor(X.prototype,"setSize"),X.prototype),Object(T.a)(X.prototype,"setPreviewText",[L],Object.getOwnPropertyDescriptor(X.prototype,"setPreviewText"),X.prototype),Object(T.a)(X.prototype,"setShowPreview",[E],Object.getOwnPropertyDescriptor(X.prototype,"setShowPreview"),X.prototype),Object(T.a)(X.prototype,"setPreviewTransform",[D],Object.getOwnPropertyDescriptor(X.prototype,"setPreviewTransform"),X.prototype),Object(T.a)(X.prototype,"setSelectLetter",[G],Object.getOwnPropertyDescriptor(X.prototype,"setSelectLetter"),X.prototype),Object(T.a)(X.prototype,"setPackFailed",[J],Object.getOwnPropertyDescriptor(X.prototype,"setPackFailed"),X.prototype),X),ie=oe,le={fontSize:"14px",fontFamily:"sans-serif"};function ae(e){var t=Object(O.a)(Object(O.a)({},le),e),n=[];return t.fontStyle&&n.push(t.fontStyle),t.fontVariant&&n.push(t.fontVariant),t.fontWeight&&n.push(t.fontWeight),ne.num(t.fontSize)?t.fontSize="".concat(t.fontSize,"px"):t.fontSize=le.fontSize,t.lineHeight?n.push("".concat(t.fontSize,"/").concat(t.lineHeight)):n.push(t.fontSize),n.push(t.fontFamily),n.join(" ")}var ce,se,ue,fe,pe,de,he,ye,be,ge,Oe,je,we,me,ve,xe,ke,Pe,Se=n(272);var Te,Me,Ie,Ce,Ae,Ne,ze,Fe,Be,Le,Ee="sans-serif",De=(ue=x.k.bound,fe=x.k.bound,pe=x.k.bound,de=x.k.bound,he=x.k.bound,ye=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"fonts",be,this),Object(k.a)(this,"size",ge,this),Object(k.a)(this,"lineHeight",Oe,this),Object(k.a)(this,"middle",je,this),Object(k.a)(this,"hanging",we,this),Object(k.a)(this,"top",me,this),Object(k.a)(this,"alphabetic",ve,this),Object(k.a)(this,"ideographic",xe,this),Object(k.a)(this,"bottom",ke,this),Object(k.a)(this,"sharp",Pe,this),this.size=n.size||72,this.sharp=ne.num(n.sharp)?n.sharp:80,n.fonts&&n.fonts.length?n.fonts.forEach((function(e){return t.addFont(e.font)})):this.updateBaseines()}return Object(S.a)(e,[{key:"mainFont",get:function(){return this.fonts.length>0?this.fonts[0]:null}},{key:"mainFamily",get:function(){return this.mainFont?this.mainFont.family:Ee}},{key:"opentype",get:function(){return this.mainFont?this.mainFont.opentype:null}},{key:"family",get:function(){return this.fonts.map((function(e){return'"'.concat(e.family,'"')})).join(",")||Ee}},{key:"minBaseLine",get:function(){var e=Math.min(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?0:e}},{key:"maxBaseLine",get:function(){var e=Math.max(this.middle,this.hanging,this.top,this.alphabetic,this.ideographic,this.bottom);return Number.isNaN(Number(e))?this.size:e}},{key:"updateBaseines",value:function(){var e,t;t=(null===(e=this.mainFont)||void 0===e?void 0:e.opentype)?function(e,t){var n=t/e.unitsPerEm,r=e.ascender-e.descender,o=r*n;return{middle:0,hanging:0,top:o/-2,alphabetic:e.ascender*n-o/2,ideographic:0,bottom:o/2,lineHeight:r/e.unitsPerEm}}(this.mainFont.opentype,this.size):function(e,t){te||(te=document.createElement("canvas"));var n=te.getContext("2d");if(!n)throw new Error("Get context 2d failed.");var r=ae(t);te.width=1,te.height=1,n.font=r,n.textBaseline="middle";var o=n.measureText(e);n.textBaseline="hanging";var i=n.measureText(e);n.textBaseline="top";var l=n.measureText(e);n.textBaseline="alphabetic";var a=n.measureText(e);n.textBaseline="ideographic";var c=n.measureText(e);n.textBaseline="bottom";var s=n.measureText(e),u={middle:0,hanging:i.actualBoundingBoxAscent-o.actualBoundingBoxAscent,top:l.actualBoundingBoxAscent-o.actualBoundingBoxAscent,alphabetic:o.actualBoundingBoxDescent-a.actualBoundingBoxDescent,ideographic:o.actualBoundingBoxDescent-c.actualBoundingBoxDescent,bottom:o.actualBoundingBoxDescent-s.actualBoundingBoxDescent,lineHeight:1};return u.lineHeight=(Math.max(u.ideographic,u.bottom)-Math.min(u.hanging,u.top))/t.fontSize,u}("x",{fontFamily:this.family,fontSize:this.size}),this.lineHeight=t.lineHeight,this.middle=t.middle,this.hanging=t.hanging,this.top=t.top,this.alphabetic=t.alphabetic,this.ideographic=t.ideographic,this.bottom=t.bottom}},{key:"addFont",value:function(e){var t,n=this;try{t=Object(Se.a)(e,{lowMemory:!0})}catch(l){return Promise.reject(l)}var r=t.names,o=r.postScriptName[Object.keys(r.postScriptName)[0]];if(this.fonts.find((function(e){return e.family===o})))return Promise.reject(new Error("Font already exists."));var i=URL.createObjectURL(new Blob([e]));return function(e,t){var n=document.createTextNode('\n    @font-face {\n        font-family: "'.concat(e,'";\n        src: url("').concat(t,"\") format('truetype');\n    }"));if(ce)ce.appendChild(n);else{var r=document.createTextNode("A");ce=document.createElement("style"),se=document.createElement("div"),document.head.appendChild(ce),ce.appendChild(n),se.appendChild(r),se.style.position="absolute",se.style.left="-1000px",se.style.top="-1000px",se.style.opacity="0",se.style.fontSize="12px",se.style.pointerEvents="none",document.body.appendChild(se)}return se.style.fontFamily=e,new Promise((function(e){return setTimeout(e,200)}))}(o,i).then((function(){Object(x.F)((function(){n.fonts.push({font:e,family:o,opentype:t}),n.updateBaseines()}))}))}},{key:"removeFont",value:function(e){var t=this.fonts.indexOf(e);-1!==t&&(this.fonts.splice(t,1),0===t&&this.updateBaseines())}},{key:"setSize",value:function(e){this.size=e,this.updateBaseines()}},{key:"setLineHeight",value:function(e){this.lineHeight=e}},{key:"setSharp",value:function(e){this.sharp=e}}]),e}(),be=Object(T.a)(ye.prototype,"fonts",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=Object(T.a)(ye.prototype,"size",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Object(T.a)(ye.prototype,"lineHeight",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),je=Object(T.a)(ye.prototype,"middle",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=Object(T.a)(ye.prototype,"hanging",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=Object(T.a)(ye.prototype,"top",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=Object(T.a)(ye.prototype,"alphabetic",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=Object(T.a)(ye.prototype,"ideographic",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ke=Object(T.a)(ye.prototype,"bottom",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=Object(T.a)(ye.prototype,"sharp",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Object(T.a)(ye.prototype,"mainFont",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"mainFont"),ye.prototype),Object(T.a)(ye.prototype,"mainFamily",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"mainFamily"),ye.prototype),Object(T.a)(ye.prototype,"opentype",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"opentype"),ye.prototype),Object(T.a)(ye.prototype,"family",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"family"),ye.prototype),Object(T.a)(ye.prototype,"minBaseLine",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"minBaseLine"),ye.prototype),Object(T.a)(ye.prototype,"maxBaseLine",[x.m],Object.getOwnPropertyDescriptor(ye.prototype,"maxBaseLine"),ye.prototype),Object(T.a)(ye.prototype,"addFont",[ue],Object.getOwnPropertyDescriptor(ye.prototype,"addFont"),ye.prototype),Object(T.a)(ye.prototype,"removeFont",[fe],Object.getOwnPropertyDescriptor(ye.prototype,"removeFont"),ye.prototype),Object(T.a)(ye.prototype,"setSize",[pe],Object.getOwnPropertyDescriptor(ye.prototype,"setSize"),ye.prototype),Object(T.a)(ye.prototype,"setLineHeight",[de],Object.getOwnPropertyDescriptor(ye.prototype,"setLineHeight"),ye.prototype),Object(T.a)(ye.prototype,"setSharp",[he],Object.getOwnPropertyDescriptor(ye.prototype,"setSharp"),ye.prototype),ye),Ge=De,Je=n(16);!function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(Le||(Le={}));var Xe,Ye,He,$e,Re,We,Ue,Ve,qe,Ke,Qe,Ze=(Te=x.B.shallow,Me=x.k.bound,Ie=x.k.bound,Ce=x.k.bound,Ae=x.k.bound,Ne=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"type",ze,this),Object(k.a)(this,"angle",Fe,this),Object(k.a)(this,"palette",Be,this),this.type=n.type&&Le[n.type]?n.type:0,this.angle=n.angle||0,n.palette?n.palette.forEach((function(e){t.palette.push(Object(O.a)(Object(O.a)({},e),{},{id:e.id||t.nextId}))})):(this.addColor(0,"rgba(255,255,255,1)"),this.addColor(1))}return Object(S.a)(e,[{key:"ids",get:function(){return this.palette.map((function(e){return e.id}))}},{key:"nextId",get:function(){return 0===this.ids.length?1:Math.max.apply(Math,Object(Je.a)(this.ids))+1}},{key:"setType",value:function(e){this.type=e}},{key:"setAngle",value:function(e){this.angle=e}},{key:"addColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0,0,0,1)";this.palette.push({offset:e,color:t,id:this.nextId})}},{key:"updatePalette",value:function(e){this.palette=e}}]),e}(),ze=Object(T.a)(Ne.prototype,"type",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fe=Object(T.a)(Ne.prototype,"angle",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Object(T.a)(Ne.prototype,"palette",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(T.a)(Ne.prototype,"ids",[x.m],Object.getOwnPropertyDescriptor(Ne.prototype,"ids"),Ne.prototype),Object(T.a)(Ne.prototype,"nextId",[x.m],Object.getOwnPropertyDescriptor(Ne.prototype,"nextId"),Ne.prototype),Object(T.a)(Ne.prototype,"setType",[Me],Object.getOwnPropertyDescriptor(Ne.prototype,"setType"),Ne.prototype),Object(T.a)(Ne.prototype,"setAngle",[Ie],Object.getOwnPropertyDescriptor(Ne.prototype,"setAngle"),Ne.prototype),Object(T.a)(Ne.prototype,"addColor",[Ce],Object.getOwnPropertyDescriptor(Ne.prototype,"addColor"),Ne.prototype),Object(T.a)(Ne.prototype,"updatePalette",[Ae],Object.getOwnPropertyDescriptor(Ne.prototype,"updatePalette"),Ne.prototype),Ne),_e=Ze;function et(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o+=1)r[o]=t.charCodeAt(o);return r.buffer}var tt,nt,rt,ot,it,lt,at,ct,st,ut,ft=(Xe=x.B.ref,Ye=x.B.ref,He=x.k.bound,$e=x.k.bound,Re=x.k.bound,We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"buffer",Ue,this),Object(k.a)(this,"image",Ve,this),Object(k.a)(this,"src",qe,this),Object(k.a)(this,"repetition",Ke,this),Object(k.a)(this,"scale",Qe,this),this.scale=re.num(t.scale,1),this.repetition=t.repetition||"repeat",this.setImage(t.buffer||this.buffer)}return Object(S.a)(e,[{key:"setImage",value:function(e){var t=this,n=URL.createObjectURL(new Blob([e])),r=new Image;r.onload=function(){Object(x.F)("setPatternTextureImage",(function(){t.buffer=e,t.image=r,t.src=n,r.onload=null}))},r.src=n}},{key:"setRepetition",value:function(e){this.repetition=e}},{key:"setScale",value:function(e){this.scale=e}}]),e}(),Ue=Object(T.a)(We.prototype,"buffer",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et("iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX////MzMw46qqDAAAADklEQVQI12Pgh8IPEAgAEeAD/Xk4HBcAAAAASUVORK5CYII=")}}),Ve=Object(T.a)(We.prototype,"image",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=Object(T.a)(We.prototype,"src",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ke=Object(T.a)(We.prototype,"repetition",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"repeat"}}),Qe=Object(T.a)(We.prototype,"scale",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(T.a)(We.prototype,"setImage",[He],Object.getOwnPropertyDescriptor(We.prototype,"setImage"),We.prototype),Object(T.a)(We.prototype,"setRepetition",[$e],Object.getOwnPropertyDescriptor(We.prototype,"setRepetition"),We.prototype),Object(T.a)(We.prototype,"setScale",[Re],Object.getOwnPropertyDescriptor(We.prototype,"setScale"),We.prototype),We),pt=ft;!function(e){e[e.SOLID=0]="SOLID",e[e.GRADIENT=1]="GRADIENT",e[e.IMAGE=2]="IMAGE"}(ut||(ut={}));var dt,ht,yt,bt,gt,Ot,jt,wt,mt,vt,xt,kt,Pt,St,Tt,Mt,It,Ct,At,Nt,zt,Ft,Bt,Lt,Et,Dt,Gt,Jt,Xt,Yt,Ht,$t,Rt,Wt,Ut,Vt,qt,Kt,Qt,Zt,_t,en,tn,nn,rn,on,ln,an,cn,sn,un=(tt=x.B.shallow,nt=x.B.shallow,rt=x.k.bound,ot=x.k.bound,it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"type",lt,this),Object(k.a)(this,"color",at,this),Object(k.a)(this,"gradient",ct,this),Object(k.a)(this,"patternTexture",st,this),this.color=t.color||"#000000",this.type=t.type&&ut[t.type]?t.type:0,this.gradient=new _e(t.gradient),this.patternTexture=new pt(t.patternTexture)}return Object(S.a)(e,[{key:"setType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=e}},{key:"setColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.color=e}}]),e}(),lt=Object(T.a)(it.prototype,"type",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Object(T.a)(it.prototype,"color",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Object(T.a)(it.prototype,"gradient",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=Object(T.a)(it.prototype,"patternTexture",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(T.a)(it.prototype,"setType",[rt],Object.getOwnPropertyDescriptor(it.prototype,"setType"),it.prototype),Object(T.a)(it.prototype,"setColor",[ot],Object.getOwnPropertyDescriptor(it.prototype,"setColor"),it.prototype),it),fn=un,pn=n(30),dn=n(48),hn=n(49),yn=(dt=x.k.bound,ht=x.k.bound,yt=x.k.bound,bt=x.k.bound,gt=function(e){Object(dn.a)(n,e);var t=Object(hn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(P.a)(this,n),e=t.call(this,r),Object(k.a)(e,"width",Ot,Object(pn.a)(e)),Object(k.a)(e,"lineCap",jt,Object(pn.a)(e)),Object(k.a)(e,"lineJoin",wt,Object(pn.a)(e)),Object(k.a)(e,"strokeType",mt,Object(pn.a)(e)),e.width=re.num(r.width,1),e.lineCap=r.lineCap||"round",e.lineJoin=r.lineJoin||"round",e.strokeType=r.strokeType||0,e}return Object(S.a)(n,[{key:"setWidth",value:function(e){this.width=e}},{key:"setLineCap",value:function(e){this.lineCap=e}},{key:"setLineJoin",value:function(e){this.lineJoin=e}},{key:"setStrokeType",value:function(e){this.strokeType=e}}]),n}(fn),Ot=Object(T.a)(gt.prototype,"width",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jt=Object(T.a)(gt.prototype,"lineCap",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Object(T.a)(gt.prototype,"lineJoin",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=Object(T.a)(gt.prototype,"strokeType",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(T.a)(gt.prototype,"setWidth",[dt],Object.getOwnPropertyDescriptor(gt.prototype,"setWidth"),gt.prototype),Object(T.a)(gt.prototype,"setLineCap",[ht],Object.getOwnPropertyDescriptor(gt.prototype,"setLineCap"),gt.prototype),Object(T.a)(gt.prototype,"setLineJoin",[yt],Object.getOwnPropertyDescriptor(gt.prototype,"setLineJoin"),gt.prototype),Object(T.a)(gt.prototype,"setStrokeType",[bt],Object.getOwnPropertyDescriptor(gt.prototype,"setStrokeType"),gt.prototype),gt),bn=yn,gn=(vt=x.k.bound,xt=x.k.bound,kt=x.k.bound,Pt=x.k.bound,St=x.k.bound,Tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"color",Mt,this),Object(k.a)(this,"blur",It,this),Object(k.a)(this,"offsetX",Ct,this),Object(k.a)(this,"offsetY",At,this),this.color=t.color||"#000000",this.blur=re.num(t.blur,1),this.offsetX=re.num(t.offsetX,1),this.offsetY=re.num(t.offsetY,1)}return Object(S.a)(e,[{key:"setColor",value:function(e){this.color=e}},{key:"setBlur",value:function(e){this.blur=e}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"setOffset",value:function(e,t){this.offsetX=e,this.offsetY=t}}]),e}(),Mt=Object(T.a)(Tt.prototype,"color",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Object(T.a)(Tt.prototype,"blur",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ct=Object(T.a)(Tt.prototype,"offsetX",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),At=Object(T.a)(Tt.prototype,"offsetY",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(T.a)(Tt.prototype,"setColor",[vt],Object.getOwnPropertyDescriptor(Tt.prototype,"setColor"),Tt.prototype),Object(T.a)(Tt.prototype,"setBlur",[xt],Object.getOwnPropertyDescriptor(Tt.prototype,"setBlur"),Tt.prototype),Object(T.a)(Tt.prototype,"setOffsetX",[kt],Object.getOwnPropertyDescriptor(Tt.prototype,"setOffsetX"),Tt.prototype),Object(T.a)(Tt.prototype,"setOffsetY",[Pt],Object.getOwnPropertyDescriptor(Tt.prototype,"setOffsetY"),Tt.prototype),Object(T.a)(Tt.prototype,"setOffset",[St],Object.getOwnPropertyDescriptor(Tt.prototype,"setOffset"),Tt.prototype),Tt),On=gn,jn=(Nt=x.k.bound,zt=x.k.bound,Ft=x.k.bound,Bt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"font",Lt,this),Object(k.a)(this,"fill",Et,this),Object(k.a)(this,"useStroke",Dt,this),Object(k.a)(this,"stroke",Gt,this),Object(k.a)(this,"useShadow",Jt,this),Object(k.a)(this,"shadow",Xt,this),Object(k.a)(this,"bgColor",Yt,this),this.font=new Ge(t.font),this.fill=new fn(t.fill),this.stroke=new bn(t.stroke),this.shadow=new On(t.shadow),this.useShadow=!!t.useShadow,this.useStroke=!!t.useStroke}return Object(S.a)(e,[{key:"setUseStroke",value:function(e){this.useStroke=e}},{key:"setUseShadow",value:function(e){this.useShadow=e}},{key:"setBgColor",value:function(e){this.bgColor=e}}]),e}(),Lt=Object(T.a)(Bt.prototype,"font",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Object(T.a)(Bt.prototype,"fill",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Object(T.a)(Bt.prototype,"useStroke",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Object(T.a)(Bt.prototype,"stroke",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=Object(T.a)(Bt.prototype,"useShadow",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=Object(T.a)(Bt.prototype,"shadow",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Object(T.a)(Bt.prototype,"bgColor",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,0)"}}),Object(T.a)(Bt.prototype,"setUseStroke",[Nt],Object.getOwnPropertyDescriptor(Bt.prototype,"setUseStroke"),Bt.prototype),Object(T.a)(Bt.prototype,"setUseShadow",[zt],Object.getOwnPropertyDescriptor(Bt.prototype,"setUseShadow"),Bt.prototype),Object(T.a)(Bt.prototype,"setBgColor",[Ft],Object.getOwnPropertyDescriptor(Bt.prototype,"setBgColor"),Bt.prototype),Bt),wn=jn,mn=(Ht=x.k.bound,$t=x.k.bound,Rt=x.k.bound,Wt=x.k.bound,Ut=x.k.bound,Vt=x.k.bound,qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"padding",Kt,this),Object(k.a)(this,"spacing",Qt,this),Object(k.a)(this,"width",Zt,this),Object(k.a)(this,"height",_t,this),Object(k.a)(this,"auto",en,this),Object(k.a)(this,"fixedSize",tn,this),this.padding=re.num(t.padding,1),this.spacing=re.num(t.spacing,1),this.width=re.num(t.width,1024),this.height=re.num(t.height,1024),this.auto=!1!==t.auto,this.fixedSize=!!t.fixedSize}return Object(S.a)(e,[{key:"setPadding",value:function(e){this.padding=e}},{key:"setSpacing",value:function(e){this.spacing=e}},{key:"setWidth",value:function(e){this.width=e}},{key:"setHeight",value:function(e){this.height=e}},{key:"setAuto",value:function(e){this.auto=e}},{key:"setFixedSize",value:function(e){this.fixedSize=e}}]),e}(),Kt=Object(T.a)(qt.prototype,"padding",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qt=Object(T.a)(qt.prototype,"spacing",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zt=Object(T.a)(qt.prototype,"width",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),_t=Object(T.a)(qt.prototype,"height",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),en=Object(T.a)(qt.prototype,"auto",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tn=Object(T.a)(qt.prototype,"fixedSize",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(T.a)(qt.prototype,"setPadding",[Ht],Object.getOwnPropertyDescriptor(qt.prototype,"setPadding"),qt.prototype),Object(T.a)(qt.prototype,"setSpacing",[$t],Object.getOwnPropertyDescriptor(qt.prototype,"setSpacing"),qt.prototype),Object(T.a)(qt.prototype,"setWidth",[Rt],Object.getOwnPropertyDescriptor(qt.prototype,"setWidth"),qt.prototype),Object(T.a)(qt.prototype,"setHeight",[Wt],Object.getOwnPropertyDescriptor(qt.prototype,"setHeight"),qt.prototype),Object(T.a)(qt.prototype,"setAuto",[Ut],Object.getOwnPropertyDescriptor(qt.prototype,"setAuto"),qt.prototype),Object(T.a)(qt.prototype,"setFixedSize",[Vt],Object.getOwnPropertyDescriptor(qt.prototype,"setFixedSize"),qt.prototype),qt),vn=mn,xn=(nn=x.k.bound,rn=x.k.bound,on=x.k.bound,ln=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"xAdvance",an,this),Object(k.a)(this,"xOffset",cn,this),Object(k.a)(this,"yOffset",sn,this),this.xAdvance=t.xAdvance||0,this.xOffset=t.xOffset||0,this.yOffset=t.yOffset||0}return Object(S.a)(e,[{key:"setXAdvance",value:function(e){this.xAdvance=e}},{key:"setXOffset",value:function(e){this.xOffset=e}},{key:"setYOffset",value:function(e){this.yOffset=e}}]),e}(),an=Object(T.a)(ln.prototype,"xAdvance",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cn=Object(T.a)(ln.prototype,"xOffset",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sn=Object(T.a)(ln.prototype,"yOffset",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(T.a)(ln.prototype,"setXAdvance",[nn],Object.getOwnPropertyDescriptor(ln.prototype,"setXAdvance"),ln.prototype),Object(T.a)(ln.prototype,"setXOffset",[rn],Object.getOwnPropertyDescriptor(ln.prototype,"setXOffset"),ln.prototype),Object(T.a)(ln.prototype,"setYOffset",[on],Object.getOwnPropertyDescriptor(ln.prototype,"setYOffset"),ln.prototype),ln),kn=xn;function Pn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,r=e.width,o=e.height,i=0,l=0,a=0,c=0,s=!0,u=!0,f=!0,p=!0,d=Math.ceil(o/2),h=Math.ceil(r/2),y=0;y<d;y+=1){for(var b=0;b<r&&(s&&n[4*(y*r+b)+3]>t&&(s=!1),u&&n[4*((o-y-1)*r+b)+3]>t&&(u=!1),s||u);b+=1);if(!s&&!u)break;s&&(i+=1),u&&(l+=1)}if(i+l>=o)return{trimOffsetLeft:-1*r,trimOffsetTop:-1*o,width:0,height:0};d=o-l;for(var g=0;g<h;g+=1){for(var O=i;O<d&&(f&&n[4*(r*O+g)+3]>t&&(f=!1),p&&n[4*(r*O+r-g-1)+3]>t&&(p=!1),f||p);O+=1);if(!f&&!p)break;f&&(a+=1),p&&(c+=1)}return{trimOffsetLeft:-1*a,trimOffsetTop:-1*i,width:r-a-c,height:o-i-l}}function Sn(e,t,n,r){return{x:e+n*Math.cos(Math.PI/180*r),y:t+n*Math.sin(Math.PI/180*r)}}var Tn,Mn,In,Cn,An,Nn,zn,Fn,Bn,Ln,En,Dn,Gn,Jn,Xn,Yn,Hn,$n,Rn,Wn=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();function Un(e,t,n,r,o,i){if(0===i.type)return i.color;if(1===i.type){var l,a=i.gradient,c=a.type,s=a.palette,u=a.angle,f=t+r/2,p=n+o/2,d=Math.max(r,o)/2;if(0===c){var h=Sn(f,p,d,u+180),y=Sn(f,p,d,u);l=e.createLinearGradient(h.x,h.y,y.x,y.y)}else l=e.createRadialGradient(f,p,0,f,p,d);return s.forEach((function(e){l.addColorStop(e.offset,e.color)})),l}var b=i.patternTexture,g=b.image,O=b.repetition,j=b.scale;if(!g)return"rgba(0,0,0,0)";var w=e.createPattern(g,O);return w?(w.setTransform(Wn.scale(j).translate(t,n)),w):"rgba(0,0,0,0)"}function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;return e*(1-n)+n*Math.round(e/t)*t}function qn(e,t){e.beginPath();for(var n=0;n<t.length;n+=1){var r=t[n];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}}function Kn(e,t){var n=t.font,r=t.stroke,o=t.shadow,i=t.fill,l=n.fonts.find((function(t){var n=t.opentype;return!!n&&!!n.charToGlyph(e).unicode}));if(!l)throw new Error("Not Find Font.");var a=l.opentype,c=a.charToGlyph(e),s=n.size/a.unitsPerEm,u=Math.ceil(a.ascender*s),f=c.getPath(0,u,n.size);!function(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:80)/100,i=0;i<e.commands.length;i++){var l=e.commands[i];"Z"!==l.type&&(l.x=Vn(l.x+n,t,o)-n,l.y=Vn(l.y+r,t,o)-r),"Q"!==l.type&&"C"!==l.type||(l.x1=Vn(l.x1+n,t,o)-n,l.y1=Vn(l.y1+r,t,o)-r),"C"===l.type&&(l.x2=Vn(l.x2+n,t,o)-n,l.y2=Vn(l.y2+r,t,o)-r)}}(f,n.sharp);var p=f.getBoundingBox(),d=a.getAdvanceWidth(e,n.size),h=(a.ascender-a.descender)*s,y={text:e,font:n.family,width:Math.ceil(p.x2)-Math.floor(p.x1),height:Math.ceil(p.y2)-Math.floor(p.y1),fontWidth:d,fontHeight:h,trimOffsetTop:-1*Math.round(p.y1),trimOffsetLeft:-1*Math.round(p.x1),trimOffsetRight:-1*Math.round(d-p.x1),trimOffsetBottom:-1*Math.round(h-p.y2)},b=y.width,g=y.height,j=y.trimOffsetLeft,w=y.trimOffsetTop;if(0===b||0===g)return Object(O.a)({canvas:null},y);var m=r?2*r.width:0,v=m,x=m;if(o){var k=Math.ceil(1.5*o.blur);v+=Math.abs(o.offsetX)+k,x+=Math.abs(o.offsetY)+k}var P=document.createElement("canvas"),S=P.getContext("2d");if(P.width=b+2*v,P.height=g+2*x,S.translate(v+j,x+w),qn(S,f.commands),S.fillStyle=Un(S,0,0,d,h,i),S.fill(),r&&m){var T=document.createElement("canvas");T.width=P.width,T.height=P.height;var M=T.getContext("2d");M.translate(v+j,x+w),M.lineCap=r.lineCap,M.lineJoin=r.lineJoin,M.strokeStyle=f.stroke=Un(M,0,0,d,h,r),M.fillStyle="#000000",1===r.strokeType?M.lineWidth=f.strokeWidth=r.width:M.lineWidth=f.strokeWidth=m,qn(M,f.commands),2===r.strokeType?(M.fill(),M.globalCompositeOperation="source-in",M.stroke()):1===r.strokeType?M.stroke():(M.stroke(),M.globalCompositeOperation="destination-out",M.fill()),M.globalCompositeOperation="source-over",S.setTransform(1,0,0,1,0,0),S.drawImage(T,0,0)}if(o){var I=document.createElement("canvas");I.width=b+2*v,I.height=g+2*x;var C=I.getContext("2d");C.shadowColor=o.color,C.shadowBlur=o.blur,C.shadowOffsetX=o.offsetX,C.shadowOffsetY=o.offsetY,C.drawImage(P,0,0),P=I,S=C}if(0===P.width||0===P.height)return Object(O.a)({canvas:P},y);var A=S.getImageData(0,0,P.width,P.height),N=Pn(A);return P.width=y.width=N.width,P.height=y.height=N.height,S.putImageData(A,N.trimOffsetLeft,N.trimOffsetTop),y.trimOffsetLeft+=v+N.trimOffsetLeft,y.trimOffsetTop+=x+N.trimOffsetTop,y.trimOffsetBottom+=x+(g+2*x+N.trimOffsetTop-N.height),Object(O.a)({canvas:P},y)}function Qn(e,t){var n=t.font,r=t.stroke,o=t.shadow,i=t.fill,l=function(e,t){Tn||(Tn=document.createElement("canvas"));var n=Tn.getContext("2d");if(!n)throw new Error("Get context 2d failed.");Tn.width=1,Tn.height=1;var r=ae(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var o,i,l=n.measureText(e);if("undefined"===typeof l.actualBoundingBoxLeft)return{text:e,font:r,width:l.width,height:parseInt("".concat(null!==(o=t.fontSize)&&void 0!==o?o:"14"),10),fontWidth:l.width,fontHeight:parseInt("".concat(null!==(i=t.fontSize)&&void 0!==i?i:"14"),10),trimOffsetTop:0,trimOffsetLeft:0,trimOffsetRight:0,trimOffsetBottom:0};n.textAlign="right",n.textBaseline="top";var a=n.measureText(e),c=Math.ceil(l.actualBoundingBoxLeft),s=Math.ceil(a.actualBoundingBoxRight),u=Math.ceil(a.actualBoundingBoxAscent),f=Math.ceil(l.actualBoundingBoxDescent);return{text:e,font:r,width:c+Math.ceil(l.actualBoundingBoxRight),height:f+Math.ceil(l.actualBoundingBoxAscent),fontWidth:Math.ceil(l.width),fontHeight:l.actualBoundingBoxAscent-a.actualBoundingBoxAscent,trimOffsetTop:u,trimOffsetLeft:c,trimOffsetRight:s,trimOffsetBottom:f}}(e,{fontSize:n.size,fontFamily:n.family}),a=l.width,c=l.height,s=l.trimOffsetLeft,u=l.trimOffsetTop;if(0===a||0===c)return Object(O.a)({canvas:null},l);var f=r?2*r.width:0,p=f,d=f,h=(a-n.size)/2,y=u;if(o){var b=Math.ceil(1.5*o.blur);p+=Math.abs(o.offsetX)+b,d+=Math.abs(o.offsetY)+b}h+=p,y+=d;var g=document.createElement("canvas"),j=g.getContext("2d");if(g.width=a+2*p,g.height=c+2*d,j.textAlign="left",j.textBaseline="top",j.font=ae({fontSize:n.size,fontFamily:n.family}),j.fillStyle=Un(j,h,y,n.size,n.size,i),j.fillText(e,p+s,d+u),r&&f){var w=document.createElement("canvas");w.width=g.width,w.height=g.height;var m=w.getContext("2d");m.textAlign="left",m.textBaseline="top",m.font=ae({fontSize:n.size,fontFamily:n.family}),m.lineCap=r.lineCap,m.lineJoin=r.lineJoin,m.strokeStyle=Un(m,h,y,n.size,n.size,r),m.fillStyle="#000000",1===r.strokeType?m.lineWidth=r.width:m.lineWidth=f,2===r.strokeType?(m.fillText(e,p+s,d+u),m.globalCompositeOperation="source-in",m.strokeText(e,p+s,d+u)):1===r.strokeType?m.strokeText(e,p+s,d+u):(m.strokeText(e,p+s,d+u),m.globalCompositeOperation="destination-out",m.fillText(e,p+s,d+u)),m.globalCompositeOperation="source-over",j.drawImage(w,0,0)}if(o){var v=document.createElement("canvas");v.width=a+2*p,v.height=c+2*d;var x=v.getContext("2d");x.shadowColor=o.color,x.shadowBlur=o.blur,x.shadowOffsetX=o.offsetX,x.shadowOffsetY=o.offsetY,x.drawImage(g,0,0),g=v,j=x}if(0===g.width||0===g.height)return Object(O.a)({canvas:g},l);var k=j.getImageData(0,0,g.width,g.height),P=Pn(k);return g.width=P.width,g.height=P.height,l.width=P.width,l.height=P.height,j.putImageData(k,P.trimOffsetLeft,P.trimOffsetTop),l.trimOffsetLeft+=p+P.trimOffsetLeft,l.trimOffsetTop+=d+P.trimOffsetTop,l.trimOffsetBottom+=d+(c+2*d+P.trimOffsetTop-P.height),Object(O.a)({canvas:g},l)}var Zn,_n,er,tr,nr,rr,or,ir,lr,ar,cr,sr=(Mn=x.B.ref,In=x.B.ref,Cn=x.k.bound,An=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),this.type="text",Object(k.a)(this,"letter",Nn,this),Object(k.a)(this,"source",zn,this),Object(k.a)(this,"width",Fn,this),Object(k.a)(this,"height",Bn,this),Object(k.a)(this,"x",Ln,this),Object(k.a)(this,"y",En,this),Object(k.a)(this,"fontWidth",Dn,this),Object(k.a)(this,"fontHeight",Gn,this),Object(k.a)(this,"trimOffsetTop",Jn,this),Object(k.a)(this,"trimOffsetLeft",Xn,this),Object(k.a)(this,"trimOffsetRight",Yn,this),Object(k.a)(this,"trimOffsetBottom",Hn,this),Object(k.a)(this,"adjustMetric",$n,this),Object(k.a)(this,"kerning",Rn,this),this.letter=t.letter||"",this.adjustMetric=new kn(t.adjustMetric),t.kerning&&(this.kerning=t.kerning)}return Object(S.a)(e,[{key:"steKerning",value:function(e,t){this.kerning.set(e,t)}}]),e}(),Nn=Object(T.a)(An.prototype,"letter",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zn=Object(T.a)(An.prototype,"source",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fn=Object(T.a)(An.prototype,"width",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bn=Object(T.a)(An.prototype,"height",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ln=Object(T.a)(An.prototype,"x",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),En=Object(T.a)(An.prototype,"y",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dn=Object(T.a)(An.prototype,"fontWidth",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gn=Object(T.a)(An.prototype,"fontHeight",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jn=Object(T.a)(An.prototype,"trimOffsetTop",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xn=Object(T.a)(An.prototype,"trimOffsetLeft",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yn=Object(T.a)(An.prototype,"trimOffsetRight",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hn=Object(T.a)(An.prototype,"trimOffsetBottom",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$n=Object(T.a)(An.prototype,"adjustMetric",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=Object(T.a)(An.prototype,"kerning",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(T.a)(An.prototype,"steKerning",[Cn],Object.getOwnPropertyDescriptor(An.prototype,"steKerning"),An.prototype),An),ur=sr,fr=(Zn=function(e){Object(dn.a)(n,e);var t=Object(hn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return Object(P.a)(this,n),(e=t.call(this,r)).setGlyphInfo(o),e}return Object(S.a)(n,[{key:"setGlyphInfo",value:function(e){var t,n=e.font,r=e.fill,o=e.useStroke,i=e.stroke,l=e.useShadow,a=e.shadow,c={font:n,fill:r};o&&(c.stroke=i),l&&(c.shadow=a);try{t=Kn(this.letter,c)}catch(s){t=Qn(this.letter,c)}this.source=t.canvas,this.width=t.width,this.height=t.height,this.fontWidth=t.fontWidth,this.fontHeight=t.fontHeight,this.trimOffsetTop=t.trimOffsetTop,this.trimOffsetLeft=t.trimOffsetLeft,this.trimOffsetRight=t.trimOffsetRight,this.trimOffsetBottom=t.trimOffsetBottom}}]),n}(ur),Object(T.a)(Zn.prototype,"setGlyphInfo",[x.k],Object.getOwnPropertyDescriptor(Zn.prototype,"setGlyphInfo"),Zn.prototype),Zn),pr=fr;var dr,hr,yr,br,gr,Or,jr,wr,mr,vr,xr,kr,Pr,Sr,Tr,Mr,Ir,Cr,Ar,Nr,zr,Fr,Br,Lr,Er,Dr,Gr,Jr,Xr,Yr,Hr,$r,Rr,Wr,Ur,Vr,qr,Kr=(_n=x.B.ref,er=x.k.bound,tr=x.k.bound,nr=x.k.bound,rr=function(e){Object(dn.a)(n,e);var t=Object(hn.a)(n);function n(e){var r;return Object(P.a)(this,n),(r=t.call(this,e)).type="image",Object(k.a)(r,"src",or,Object(pn.a)(r)),Object(k.a)(r,"buffer",ir,Object(pn.a)(r)),Object(k.a)(r,"fileName",lr,Object(pn.a)(r)),Object(k.a)(r,"fileType",ar,Object(pn.a)(r)),Object(k.a)(r,"selected",cr,Object(pn.a)(r)),r.letter=e.letter||"",r.fileName=e.fileName||"",r.fileType=e.fileType||"",r.buffer=e.buffer||null,e.buffer&&(r.src=URL.createObjectURL(new Blob([e.buffer])),r.initImage()),r}return Object(S.a)(n,[{key:"initImage",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){Object(x.F)("trimImage",(function(){var r=n.naturalWidth,o=n.naturalHeight;e.fontWidth=r,e.fontHeight=o;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.naturalWidth,r=e.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=r;var i=o.getContext("2d");i.drawImage(e,0,0);var l=Pn(i.getImageData(0,0,n,r),t);return o.width=l.width,o.height=l.height,i.drawImage(e,l.trimOffsetLeft,l.trimOffsetTop),Object(O.a)({canvas:o},l)}(n);e.width=i.width,e.height=i.height,e.trimOffsetLeft=i.trimOffsetLeft,e.trimOffsetTop=i.trimOffsetTop,e.trimOffsetRight=i.width-i.trimOffsetLeft-r,e.trimOffsetBottom=i.height-i.trimOffsetTop-o,e.source=i.canvas,t()}))},n.src=e.src}))}},{key:"setGlyph",value:function(e){this.letter=e[0]||""}},{key:"changeSelect",value:function(e){this.selected=e}}]),n}(ur),or=Object(T.a)(rr.prototype,"src",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ir=Object(T.a)(rr.prototype,"buffer",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lr=Object(T.a)(rr.prototype,"fileName",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ar=Object(T.a)(rr.prototype,"fileType",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cr=Object(T.a)(rr.prototype,"selected",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(T.a)(rr.prototype,"initImage",[er],Object.getOwnPropertyDescriptor(rr.prototype,"initImage"),rr.prototype),Object(T.a)(rr.prototype,"setGlyph",[tr],Object.getOwnPropertyDescriptor(rr.prototype,"setGlyph"),rr.prototype),Object(T.a)(rr.prototype,"changeSelect",[nr],Object.getOwnPropertyDescriptor(rr.prototype,"changeSelect"),rr.prototype),rr),Qr=Kr,Zr=(dr=x.B.shallow,hr=x.B.shallow,yr=x.B.ref,br=x.B.ref,gr=x.B.ref,Or=x.B.ref,jr=x.B.ref,wr=x.k.bound,mr=x.k.bound,vr=x.k.bound,xr=x.k.bound,kr=x.k.bound,Pr=x.k.bound,Sr=x.k.bound,Tr=x.k.bound,Mr=x.k.bound,Ir=x.k.bound,Cr=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(P.a)(this,e),Object(k.a)(this,"name",Ar,this),this.id=void 0,this.worker=null,this.packStart=0,this.packTimer=0,this.idleId=0,Object(k.a)(this,"isPacking",Nr,this),Object(k.a)(this,"text",zr,this),Object(k.a)(this,"glyphs",Fr,this),Object(k.a)(this,"glyphImages",Br,this),Object(k.a)(this,"style",Lr,this),Object(k.a)(this,"layout",Er,this),Object(k.a)(this,"globalAdjustMetric",Dr,this),Object(k.a)(this,"packCanvas",Gr,this),Object(k.a)(this,"ui",Jr,this),this.id=r.id||Date.now(),this.name=r.name||"Unnamed",this.text=r.text||this.text,this.ui=new ie(r.ui),this.style=new wn(r.style),this.layout=new vn(r.layout),this.globalAdjustMetric=new kn(r.globalAdjustMetric),r.glyphs&&r.glyphs.forEach((function(e,t){n.glyphs.set(t,new pr(e,n.style))})),null===(t=r.glyphImages)||void 0===t||t.forEach((function(e){n.glyphImages.push(new Qr(e))})),this.glyphs.has(" ")||this.glyphs.set(" ",new pr({letter:" "},this.style)),this.addGlyphs(r.text||""),this.addAutoRun(),this.pack()}return Object(S.a)(e,[{key:"glyphList",get:function(){var e=this,t={};return this.glyphImages.forEach((function(e){e.letter&&e.selected&&(t[e.letter]=e)}))," ".concat(this.text).split("").map((function(n){return t[n]?t[n]:e.glyphs.get(n)}))}},{key:"rectangleList",get:function(){var e=this.layout,t=e.padding,n=e.spacing;return this.glyphList.map((function(e){var r=!(!e.width||!e.height);return{letter:e.letter,type:e.type,width:r?e.width+2*t+n:0,height:r?e.height+2*t+n:0,x:0,y:0}}))}},{key:"pack",value:function(){var e=this;if(!this.idleId){this.worker&&this.worker.terminate(),this.isPacking=!0;var t=this.rectangleList.sort((function(e,t){return t.height-e.height}));if(!this.layout.auto){var n=new N.a(this.layout.width+this.layout.spacing,this.layout.height+this.layout.spacing),r=t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)}));return n.InsertSizes(r,!0,1,1),this.setPack(n.usedRectangles,r),void(this.isPacking=!1)}this.worker=new z,this.worker.addEventListener("message",Object(x.k)("PackerWorkerCallback",(function(t){var n,r=t.data;e.setPack(r),e.isPacking=!1,null===(n=e.worker)||void 0===n||n.terminate(),e.worker=null})),!1),this.worker.postMessage(t.filter((function(e){var t=e.width,n=e.height;return!(!t||!n)})))}}},{key:"setPack",value:function(e,t){var n=this,r=this.glyphImages,o=0,i=0,l=this.layout,a=l.auto,c=l.fixedSize,s=l.width,u=l.height,f=l.spacing;e.forEach((function(e){var t,l=e.letter,a=e.x,c=e.y,s=e.type,u=e.width,f=e.height;"image"===s&&(t=r.find((function(e){return!(!e||e.letter!==l)}))),t||(t=n.glyphs.get(l)),t&&(t.x=a||0,t.y=c||0),o=Math.max(o,a+u),i=Math.max(i,c+f)})),(null===t||void 0===t?void 0:t.length)?(t.forEach((function(e){var t,o=e.letter;"image"===e.type&&(t=r.find((function(e){return!(!e||e.letter!==o)}))),t||(t=n.glyphs.get(o)),t&&(t.x=0,t.y=0)})),this.ui.setPackFailed(!0)):this.ui.setPackFailed(!1),a||!c?this.ui.setSize(o-f,i-f):this.ui.setSize(s,u)}},{key:"packStyle",value:function(){var e=this;this.isPacking=!0,this.worker&&(this.worker.terminate(),this.worker=null),Object(A.cancel)(this.idleId);var t=[];this.glyphs.forEach((function(e){t.push(e)}));!function n(){e.idleId=Object(A.request)((function(r){for(var o=r.timeRemaining(),i=Date.now();t.length&&o-(Date.now()-i)>-100;){var l=t.shift();l&&l.setGlyphInfo(e.style)}t.length?n():(e.idleId=0,e.pack())}))}()}},{key:"throttlePack",value:function(){var e=this;this.idleId||(window.clearTimeout(this.packTimer),Date.now()-this.packStart>500?Promise.resolve().then(this.pack):this.packTimer=window.setTimeout((function(){e.pack()}),500),this.packStart=Date.now())}},{key:"addAutoRun",value:function(){var e=this,t=function(e,t){return!(!e.name||e.name!==t)};Object(C.a)(this.glyphs,(function(){e.throttlePack()})),Object(C.a)(this.glyphImages,(function(){e.throttlePack()})),Object(C.a)(this.layout,(function(){e.throttlePack()})),Object(C.a)(this.style,(function(n){t(n,"bgColor")||t(n,"lineHeight")||e.packStyle()}))}},{key:"setText",value:function(e){var t=this.text;this.text=e.replace(/\s/gm,""),this.addGlyphs(t)}},{key:"addGlyphs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Array.from(new Set(this.text.split(""))),r=Array.from(new Set(t.split("")));this.text=n.join("");var o=t?Array.from(new Set(n.concat(r))).filter((function(e){return!(n.includes(e)&&r.includes(e))})):n;o.length&&o.forEach((function(t){n.includes(t)?e.glyphs.set(t,new pr({letter:t},e.style)):e.glyphs.delete(t)}))}},{key:"addImages",value:function(e){var t=this;Promise.all(e.map((function(e){var n=new Qr(e);return t.glyphImages.push(n),n.initImage()}))).then(this.pack)}},{key:"removeImage",value:function(e){var t=this.glyphImages.indexOf(e);t>-1&&this.glyphImages.splice(t,1)}},{key:"setCanvas",value:function(e){this.packCanvas=e}},{key:"setName",value:function(e){this.name=e||this.name}}]),e}(),Ar=Object(T.a)(Cr.prototype,"name",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Unnamed"}}),Nr=Object(T.a)(Cr.prototype,"isPacking",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zr=Object(T.a)(Cr.prototype,"text",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\u2116;%:?*()_+-=.,/|\"'@#$^&{}[]"}}),Fr=Object(T.a)(Cr.prototype,"glyphs",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Br=Object(T.a)(Cr.prototype,"glyphImages",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lr=Object(T.a)(Cr.prototype,"style",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er=Object(T.a)(Cr.prototype,"layout",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=Object(T.a)(Cr.prototype,"globalAdjustMetric",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=Object(T.a)(Cr.prototype,"packCanvas",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jr=Object(T.a)(Cr.prototype,"ui",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ie}}),Object(T.a)(Cr.prototype,"glyphList",[x.m],Object.getOwnPropertyDescriptor(Cr.prototype,"glyphList"),Cr.prototype),Object(T.a)(Cr.prototype,"rectangleList",[x.m],Object.getOwnPropertyDescriptor(Cr.prototype,"rectangleList"),Cr.prototype),Object(T.a)(Cr.prototype,"pack",[wr],Object.getOwnPropertyDescriptor(Cr.prototype,"pack"),Cr.prototype),Object(T.a)(Cr.prototype,"setPack",[mr],Object.getOwnPropertyDescriptor(Cr.prototype,"setPack"),Cr.prototype),Object(T.a)(Cr.prototype,"packStyle",[vr],Object.getOwnPropertyDescriptor(Cr.prototype,"packStyle"),Cr.prototype),Object(T.a)(Cr.prototype,"throttlePack",[xr],Object.getOwnPropertyDescriptor(Cr.prototype,"throttlePack"),Cr.prototype),Object(T.a)(Cr.prototype,"setText",[kr],Object.getOwnPropertyDescriptor(Cr.prototype,"setText"),Cr.prototype),Object(T.a)(Cr.prototype,"addGlyphs",[Pr],Object.getOwnPropertyDescriptor(Cr.prototype,"addGlyphs"),Cr.prototype),Object(T.a)(Cr.prototype,"addImages",[Sr],Object.getOwnPropertyDescriptor(Cr.prototype,"addImages"),Cr.prototype),Object(T.a)(Cr.prototype,"removeImage",[Tr],Object.getOwnPropertyDescriptor(Cr.prototype,"removeImage"),Cr.prototype),Object(T.a)(Cr.prototype,"setCanvas",[Mr],Object.getOwnPropertyDescriptor(Cr.prototype,"setCanvas"),Cr.prototype),Object(T.a)(Cr.prototype,"setName",[Ir],Object.getOwnPropertyDescriptor(Cr.prototype,"setName"),Cr.prototype),Cr),_r=Zr,eo=(Xr=x.B.shallow,Yr=x.k.bound,Hr=x.k.bound,$r=x.k.bound,Rr=x.k.bound,Wr=function(){function e(){var t=this;Object(P.a)(this,e),Object(k.a)(this,"activeId",Ur,this),Object(k.a)(this,"projectList",Vr,this),Object(x.F)((function(){t.activeId=Date.now();var e=new _r({id:t.activeId});t.projectList.set(e.id,e)}))}return Object(S.a)(e,[{key:"currentProject",get:function(){return this.projectList.get(this.activeId)}},{key:"namedList",get:function(){var e=[];return this.projectList.forEach((function(t){e.push({id:t.id,name:t.name})})),e}},{key:"selectProject",value:function(e){this.projectList.has(e)&&(this.activeId=e)}},{key:"removeProject",value:function(e){var t=this.namedList.filter((function(t){return t.id!==e}));0!==t.length&&(this.activeId=t[0].id,this.projectList.delete(e))}},{key:"addProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.id&&this.projectList.has(e.id))return this.activeId=e.id,1;if(!e.name){e.name="Unnamed";var t=[];this.projectList.forEach((function(e){var n=e.name.match(/^Unnamed-?(\d+)?$/);n&&t.push(Number(n[1])||0)})),t.length>0&&(e.name+="-".concat(Math.max.apply(Math,t)+1))}var n=new _r(e);return this.projectList.set(n.id,n),this.activeId=n.id,0}},{key:"setProjectName",value:function(e,t){var n=this.projectList.get(t);n&&n.setName(e)}}]),e}(),Ur=Object(T.a)(Wr.prototype,"activeId",[x.B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vr=Object(T.a)(Wr.prototype,"projectList",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(T.a)(Wr.prototype,"currentProject",[x.m],Object.getOwnPropertyDescriptor(Wr.prototype,"currentProject"),Wr.prototype),Object(T.a)(Wr.prototype,"namedList",[x.m],Object.getOwnPropertyDescriptor(Wr.prototype,"namedList"),Wr.prototype),Object(T.a)(Wr.prototype,"selectProject",[Yr],Object.getOwnPropertyDescriptor(Wr.prototype,"selectProject"),Wr.prototype),Object(T.a)(Wr.prototype,"removeProject",[Hr],Object.getOwnPropertyDescriptor(Wr.prototype,"removeProject"),Wr.prototype),Object(T.a)(Wr.prototype,"addProject",[$r],Object.getOwnPropertyDescriptor(Wr.prototype,"addProject"),Wr.prototype),Object(T.a)(Wr.prototype,"setProjectName",[Rr],Object.getOwnPropertyDescriptor(Wr.prototype,"setProjectName"),Wr.prototype),Wr),to=eo;Object(x.n)({enforceActions:"always",computedRequiresReaction:!0});var no=n(294),ro=n(593),oo={MuiButton:{size:"small"},MuiButtonBase:{disableRipple:!0},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},io={MuiCssBaseline:{"@global":{"html,body,#root":{width:"100%",height:"100%"},html:{fontSize:"14px"},body:{margin:0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",userSelect:"none"},"#root":{minWidth:900},"input::-webkit-inner-spin-button":{marginLeft:"10px"},"input:enabled:read-write:-webkit-any(:focus,:hover)::-webkit-inner-spin-button":{opacity:.3},"::-webkit-scrollbar":{width:"4px",height:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)"},"::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"}}},MuiInputBase:{input:{"&[type=number]":{textAlign:"right"}}},MuiSlider:{root:{verticalAlign:"top","&.Mui-disabled":{opacity:.2}}}},lo=Object(no.a)({palette:{type:"dark",primary:{main:"#444"},secondary:{main:"#424242"},background:{paper:"rgb(37, 37, 37)",default:"rgb(30, 30, 30)",activityBar:"rgb(51, 51, 51)",titleBar:"rgb(50, 50, 50)",sidebar:"rgb(37, 37, 37)"},common:{black:"rgb(30,30,30)",white:"rgb(204,204,204)"},action:{hover:"rgba(255, 255, 255, 0.1)"}},bgPixel:{backgroundColor:"#fff",backgroundImage:"\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0),\n    linear-gradient(45deg, #ccc 25%, transparent 0, transparent 75%, #ccc 0)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px",backgroundRepeat:"repeat"},spacing:4,typography:{fontSize:13},transitions:{create:function(){return"none"}},shape:{borderRadius:0},props:oo,overrides:io}),ao=Object(ro.a)(lo),co=n(586),so=n(518),uo=n(562),fo=n(559),po=n(592);function ho(){return Object(f.useContext)(j.a)}function yo(){return ho().workspace}function bo(){return ho().workspace.currentProject.layout}function go(){return ho().workspace.currentProject}function Oo(){return go().style}function jo(){return Oo().font}function wo(){return go().ui}var mo=n(568),vo=n(126),xo=n(11),ko=n(41),Po=n(515),So=n(513),To=n(514),Mo=n(298),Io=n(560),Co=n(561),Ao=n(275),No=n.n(Ao),zo=n(274),Fo=n.n(zo);var Bo=function(e,t){return e.arrayBuffer&&!t?e.arrayBuffer():new Promise((function(n){var r=new FileReader;t?r.readAsText(e):r.readAsArrayBuffer(e),r.onload=function(e){var t;n((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||null)}}))},Lo=n(1),Eo=Object(j.c)((function(){var e=Object(f.useState)(!1),t=Object(xo.a)(e,2),n=t[0],r=t[1],o=jo(),i=o.fonts,l=o.addFont,a=o.removeFont,c=Object(w.b)().enqueueSnackbar;return Object(Lo.jsxs)("div",{children:[Object(Lo.jsx)(So.a,{dense:!0,disablePadding:!0,children:i.map((function(e){return Object(Lo.jsxs)(To.a,{disableGutters:!0,divider:!0,dense:!0,children:[Object(Lo.jsx)(Io.a,{primary:e.family}),Object(Lo.jsx)(Co.a,{children:Object(Lo.jsx)(Mo.a,{edge:"end","aria-label":"delete",onClick:function(){return a(e)},children:Object(Lo.jsx)(Fo.a,{})})})]},e.family)}))}),Object(Lo.jsxs)(Po.a,{component:"label",variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:n?Object(Lo.jsx)(uo.a,{size:22,color:"inherit"}):Object(Lo.jsx)(No.a,{}),disabled:n,children:["Add Font File",Object(Lo.jsx)("input",{hidden:!0,type:"file",onChange:function(e){if(e&&e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];t.name.match(/\.([A-Z0-9]+)$/i)&&(r(!0),Bo(t).then((function(t){t instanceof ArrayBuffer?(e.target.value="",l(t).then((function(){return r(!1)})).catch((function(e){r(!1),c(e.message,{variant:"error"}),ko.b(e)}))):r(!1)})))}},accept:".ttf,.otf,.woff"})]})]})})),Do=n(564),Go=n(96),Jo=n(563),Xo=["before","children","component","after","childrenWidth"],Yo=function(e){var t=e.before,n=e.children,r=e.component,o=e.after,i=e.childrenWidth,l=Object(Go.a)(e,Xo);return Object(Lo.jsxs)(Jo.a,Object(O.a)(Object(O.a)({component:r||"label",container:!0,spacing:2,wrap:"nowrap",justifyContent:"center",alignItems:"center"},l),{},{children:[Object(Lo.jsx)(Jo.a,{item:!0,xs:4,children:"object"===typeof t?t:Object(Lo.jsx)(vo.a,{noWrap:!0,align:"right",children:t})}),Object(Lo.jsx)(Jo.a,{item:!0,xs:i||5,children:n}),Object(Lo.jsx)(Jo.a,{item:!0,xs:!0,children:"object"===typeof o?o:Object(Lo.jsx)(vo.a,{noWrap:!0,variant:"caption",children:o})})]}))},Ho=Object(j.c)((function(){var e=jo(),t=e.size,n=e.setSize;return Object(Lo.jsx)(Yo,{before:"Font Size:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:1},onChange:function(e){n(Number(e.target.value))}})})})),$o=n(596),Ro=Object(j.c)((function(){var e=jo(),t=e.sharp,n=e.setSharp,r=e.mainFont;return Object(Lo.jsx)(Yo,{style:r?void 0:{opacity:.5},before:"Sharp:",after:"".concat(t,"%"),children:Object(Lo.jsx)($o.a,{value:t,onChange:function(e,t){n(t)},disabled:!r})})})),Wo=function(){return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Font"})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Eo,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Ho,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Ro,{})})]})},Uo=n(589),Vo=Object(j.c)((function(){var e=go(),t=e.text,n=e.setText,r=Object(f.useState)(!1),o=Object(xo.a)(r,2),i=o[0],l=o[1],a=Object(f.useState)(t),c=Object(xo.a)(a,2),s=c[0],u=c[1],p=Object(f.useCallback)((function(){u(t),l(!0)}),[t]);return Object(f.useEffect)((function(){u(t)}),[t]),Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Glyphs"})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Uo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value,o=Array.from(new Set(r.split(""))).join("");i?u(r):(u(o),o!==t&&n(o))},onCompositionStart:p,onCompositionEnd:function(){l(!1);var e=Array.from(new Set(s.split(""))).join("");u(e),e!==t&&n(e)}})})]})})),qo=Object(j.c)((function(){var e=bo(),t=e.padding,n=e.setPadding;return Object(Lo.jsx)(Yo,{before:"Padding:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){n(Number(e.target.value))}})})})),Ko=Object(j.c)((function(){var e=bo(),t=e.spacing,n=e.setSpacing;return Object(Lo.jsx)(Yo,{before:"Spacing:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return n(Number(e.target.value))}})})})),Qo=n(591),Zo=Object(j.c)((function(){var e=bo(),t=e.auto,n=e.setAuto;return Object(Lo.jsx)(Yo,{before:"Auto Pack:",children:Object(Lo.jsx)(Qo.a,{checked:t,size:"small",color:"default",onChange:function(e){return n(e.target.checked)}})})})),_o=Object(j.c)((function(){var e=bo(),t=e.auto,n=e.fixedSize,r=e.setFixedSize;return Object(Lo.jsx)(Yo,{before:"Fixed Size:",children:Object(Lo.jsx)(Qo.a,{checked:n,size:"small",color:"default",onChange:function(e){return r(e.target.checked)},disabled:t})})})),ei=Object(j.c)((function(){var e=bo(),t=e.width,n=e.auto,r=e.fixedSize,o=e.setWidth;return Object(Lo.jsx)(Yo,{before:r?"Width:":"Max Width:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),ti=Object(j.c)((function(){var e=bo(),t=e.height,n=e.auto,r=e.fixedSize,o=e.setHeight;return Object(Lo.jsx)(Yo,{before:r?"Height:":"Max Height:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){o(Number(e.target.value))},disabled:n})})})),ni=function(){return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Layout"})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(qo,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Ko,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Zo,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(_o,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(ei,{})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(ti,{})})]})},ri=function(e){var t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset,a=function(e){return function(t){return e(Number(t.target.value))}};return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"xAdvance:",after:"px",children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",onChange:a(o)})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"xOffset:",after:"px",children:Object(Lo.jsx)(Do.a,{value:n,fullWidth:!0,type:"number",onChange:a(i)})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"yOffset:",after:"px",children:Object(Lo.jsx)(Do.a,{value:r,fullWidth:!0,type:"number",onChange:a(l)})})})]})},oi=Object(j.c)((function(){var e=go().globalAdjustMetric,t=e.xAdvance,n=e.xOffset,r=e.yOffset,o=e.setXAdvance,i=e.setXOffset,l=e.setYOffset;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Global Metric Adjustment"})}),Object(Lo.jsx)(ri,{xAdvance:t,xOffset:n,yOffset:r,setXAdvance:o,setXOffset:i,setYOffset:l})]})})),ii=Object(fo.a)((function(){return Object(po.a)({root:{overflow:"hidden",width:"256px"}})})),li=function(){var e=ii();return Object(Lo.jsxs)(co.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Lo.jsx)(co.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Lo.jsx)(vo.a,{variant:"subtitle2",children:"Font Config"})}),Object(Lo.jsxs)(co.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Lo.jsx)(Vo,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(Wo,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(ni,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(oi,{})]})]})},ai=n(278),ci=n.n(ai),si=n(68),ui=Object(j.c)((function(e){var t=e.className,n=yo().addProject,r=Object(f.useCallback)((function(e){return e.preventDefault(),n(),!1}),[n]);return Object(f.useEffect)((function(){return si.a.unbind("alt+n,control+n"),Object(si.a)("alt+n,control+n",r),function(){si.a.unbind("alt+n,control+n")}}),[r]),Object(Lo.jsx)(Po.a,{className:t,title:"New Project (ALT + N)",onClick:r,children:"New"})}));var fi=function(e){return"string"===typeof e&&(e=e.split(".")),Array.isArray(e)?(e=Object(Je.a)(e)).reverse().reduce((function(e,t,n){return e+Number(t)*Math.pow(1e3,n)}),0):0},pi=function(){return new Uint8Array([].concat(Object(Je.a)("SnowBambooBMF".split("").map((function(e){return e.charCodeAt(0)}))),[1,1,0]))};function di(e){if(!(e instanceof ArrayBuffer)||e.byteLength<17)return 0;var t=pi(),n=t.slice(0,t.byteLength-3),r=new Uint8Array(e).slice(0,t.byteLength),o=r.slice(r.byteLength-3),i=!0;return n.forEach((function(e,t){r[t]!==e&&(i=!1)})),i?fi(Array.from(o)):0}var hi=function(e){return di(e)>0},yi=n(13),bi=yi.Reader,gi=yi.Writer,Oi=yi.util,ji={},wi=ji.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Oi.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Oi.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Oi.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof ji.Metric)return e;var t=new ji.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),mi=ji.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Oi.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!Oi.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!Oi.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof ji.GradientColor)return e;var t=new ji.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),vi=ji.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Oi.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)ji.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(ji.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Oi.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=ji.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof ji.Gradient)return e;var t=new ji.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=ji.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=ji.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),xi=ji.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Oi.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Oi.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Oi.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof ji.PatternTexture)return e;var t=new ji.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Oi.base64.decode(e.buffer,t.buffer=Oi.newBuffer(Oi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Oi.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Oi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),ki=ji.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&ji.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&ji.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=ji.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=ji.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Oi.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Oi.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=ji.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=ji.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Oi.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Oi.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Oi.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof ji.Fill)return e;var t=new ji.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=ji.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=ji.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=ji.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=ji.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Pi=ji.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Oi.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Oi.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Oi.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Oi.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Oi.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof ji.Font)return e;var t=new ji.Font;return null!=e.font&&("string"===typeof e.font?Oi.base64.decode(e.font,t.font=Oi.newBuffer(Oi.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Oi.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Oi.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Si=ji.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Oi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&ji.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ji.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=ji.Metric.decode(e,e.uint32());break;case 3:i.kerning===Oi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Oi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=ji.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Oi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Oi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof ji.GlyphFont)return e;var t=new ji.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=ji.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=ji.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ti=ji.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Oi.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Oi.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&ji.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ji.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=ji.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Oi.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Oi.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=ji.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Oi.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Oi.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Oi.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Oi.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Oi.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof ji.GlyphImage)return e;var t=new ji.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=ji.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Oi.base64.decode(e.buffer,t.buffer=Oi.newBuffer(Oi.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Oi.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=ji.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Oi.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Mi=ji.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.power=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.power&&Object.hasOwnProperty.call(e,"power")&&t.uint32(24).bool(e.power),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.power=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Oi.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Oi.isInteger(e.spacing)?"spacing: integer expected":null!=e.power&&e.hasOwnProperty("power")&&"boolean"!==typeof e.power?"power: boolean expected":null},e.fromObject=function(e){if(e instanceof ji.Layout)return e;var t=new ji.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.power&&(t.power=Boolean(e.power)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.power=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.power&&e.hasOwnProperty("power")&&(n.power=e.power),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ii=ji.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Oi.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Oi.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Oi.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Oi.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof ji.Shadow)return e;var t=new ji.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ci=ji.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&ji.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&ji.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&ji.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&ji.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=ji.Font.decode(e,e.uint32());break;case 2:r.fill=ji.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=ji.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=ji.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=ji.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=ji.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=ji.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=ji.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Oi.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof ji.Style)return e;var t=new ji.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=ji.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=ji.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=ji.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=ji.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=ji.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=ji.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=ji.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=ji.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ai=ji.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new ji.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Oi.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof ji.Ui)return e;var t=new ji.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ni=ji.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Oi.Long?Oi.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Oi.emptyObject,e.prototype.glyphImages=Oi.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),ji.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)ji.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&ji.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&ji.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&ji.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&ji.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bi||(e=bi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new ji.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Oi.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=ji.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(ji.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=ji.Style.decode(e,e.uint32());break;case 7:i.layout=ji.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=ji.Metric.decode(e,e.uint32());break;case 9:i.ui=ji.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bi||(e=new bi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Oi.isInteger(e.id)&&!(e.id&&Oi.isInteger(e.id.low)&&Oi.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Oi.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Oi.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Oi.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=ji.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=ji.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=ji.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=ji.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=ji.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=ji.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof ji.Project)return e;var t=new ji.Project;if(null!=e.id&&(Oi.Long?(t.id=Oi.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Oi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=ji.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=ji.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=ji.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=ji.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=ji.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=ji.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Oi.Long){var o=new Oi.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Oi.Long.prototype.toString.call(e.id):t.longs===Number?new Oi.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=ji.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=ji.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=ji.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=ji.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=ji.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=ji.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}();function zi(e){var t=e;return t.layout=Object(O.a)({},e.layout),t.layout.width=1024,t.layout.height=1024,t.layout.auto=!0,t.layout.fixedSize=!1,t}var Fi=yi.Reader,Bi=yi.Writer,Li=yi.util,Ei={},Di=Ei.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Li.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Li.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Li.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Ei.Metric)return e;var t=new Ei.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Gi=Ei.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).sint32(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.sint32();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Li.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&!Li.isInteger(e.offset)?"offset: integer expected":null!=e.color&&e.hasOwnProperty("color")&&!Li.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Ei.GradientColor)return e;var t=new Ei.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=0|e.offset),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ji=Ei.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Li.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Ei.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Ei.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Li.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Ei.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Ei.Gradient)return e;var t=new Ei.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Ei.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Ei.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Xi=Ei.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Li.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Li.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Li.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Ei.PatternTexture)return e;var t=new Ei.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Li.base64.decode(e.buffer,t.buffer=Li.newBuffer(Li.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Li.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Li.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Yi=Ei.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Ei.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Ei.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Ei.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Ei.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Li.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Li.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Ei.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Ei.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Li.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Li.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Li.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof Ei.Fill)return e;var t=new Ei.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Ei.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Ei.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Ei.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Ei.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Hi=Ei.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Li.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Li.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!Li.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!Li.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Li.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Ei.Font)return e;var t=new Ei.Font;return null!=e.font&&("string"===typeof e.font?Li.base64.decode(e.font,t.font=Li.newBuffer(Li.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Li.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Li.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),$i=Ei.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Li.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ei.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ei.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Ei.Metric.decode(e,e.uint32());break;case 3:i.kerning===Li.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Li.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ei.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Li.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Li.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ei.GlyphFont)return e;var t=new Ei.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Ei.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ei.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ri=Ei.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Li.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Li.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bi.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Ei.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ei.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Ei.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Li.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Li.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Ei.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Li.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Li.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Li.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Li.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Li.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Ei.GlyphImage)return e;var t=new Ei.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Ei.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Li.base64.decode(e.buffer,t.buffer=Li.newBuffer(Li.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Li.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Ei.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Li.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Wi=Ei.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Li.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Li.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Li.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Li.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Ei.Layout)return e;var t=new Ei.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ui=Ei.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Li.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Li.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Li.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Li.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Ei.Shadow)return e;var t=new Ei.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Vi=Ei.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Ei.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Ei.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Ei.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Ei.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Ei.Font.decode(e,e.uint32());break;case 2:r.fill=Ei.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Ei.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Ei.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Ei.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Ei.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Ei.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Ei.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Li.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Ei.Style)return e;var t=new Ei.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Ei.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Ei.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Ei.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Ei.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Ei.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Ei.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Ei.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Ei.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),qi=Ei.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Bi.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Ei.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Li.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Ei.Ui)return e;var t=new Ei.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ki=Ei.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Li.Long?Li.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Li.emptyObject,e.prototype.glyphImages=Li.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Bi.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Ei.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Ei.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Ei.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Ei.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Ei.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Ei.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Fi||(e=Fi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Ei.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Li.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Ei.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Ei.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Ei.Style.decode(e,e.uint32());break;case 7:i.layout=Ei.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Ei.Metric.decode(e,e.uint32());break;case 9:i.ui=Ei.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Fi||(e=new Fi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Li.isInteger(e.id)&&!(e.id&&Li.isInteger(e.id.low)&&Li.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Li.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Li.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Li.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Ei.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Ei.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Ei.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Ei.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Ei.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Ei.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Ei.Project)return e;var t=new Ei.Project;if(null!=e.id&&(Li.Long?(t.id=Li.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Li.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Ei.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Ei.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Ei.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Ei.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Ei.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Ei.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Li.Long){var o=new Li.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Li.Long.prototype.toString.call(e.id):t.longs===Number?new Li.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Ei.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Ei.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Ei.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Ei.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Ei.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Ei.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}();function Qi(e){var t,n,r,o,i,l;function a(e){var t=e.length-1;e.forEach((function(e,n){e.offset=1/t*n}))}return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.fill)||void 0===n||null===(r=n.gradient)||void 0===r?void 0:r.palette)&&e.style.fill.gradient.palette.length>0&&a(e.style.fill.gradient.palette),(null===e||void 0===e||null===(o=e.style)||void 0===o||null===(i=o.stroke)||void 0===i||null===(l=i.gradient)||void 0===l?void 0:l.palette)&&e.style.stroke.gradient.palette.length>0&&a(e.style.stroke.gradient.palette),e}var Zi=yi.Reader,_i=yi.Writer,el=yi.util,tl={},nl=tl.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!el.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!el.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!el.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof tl.Metric)return e;var t=new tl.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),rl=tl.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!el.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!el.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof tl.GradientColor)return e;var t=new tl.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),ol=tl.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=el.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=_i.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)tl.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(tl.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!el.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=tl.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof tl.Gradient)return e;var t=new tl.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=tl.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=tl.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),il=tl.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=el.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||el.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!el.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof tl.PatternTexture)return e;var t=new tl.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?el.base64.decode(e.buffer,t.buffer=el.newBuffer(el.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=el.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?el.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),ll=tl.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&tl.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&tl.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=tl.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=tl.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!el.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!el.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=tl.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=tl.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!el.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!el.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!el.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof tl.Fill)return e;var t=new tl.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=tl.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=tl.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=tl.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=tl.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),al=tl.Font=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=el.newBuffer([]),e.prototype.family="",e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),null!=e.family&&Object.hasOwnProperty.call(e,"family")&&t.uint32(18).string(e.family),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(32).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=e.bytes();break;case 2:r.family=e.string();break;case 3:r.size=e.int32();break;case 4:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||el.isString(e.font))?"font: buffer expected":null!=e.family&&e.hasOwnProperty("family")&&!el.isString(e.family)?"family: string expected":null!=e.size&&e.hasOwnProperty("size")&&!el.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!el.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof tl.Font)return e;var t=new tl.Font;return null!=e.font&&("string"===typeof e.font?el.base64.decode(e.font,t.font=el.newBuffer(el.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),null!=e.family&&(t.family=String(e.family)),null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=el.newBuffer(n.font))),n.family="",n.size=0,n.lineHeight=0),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?el.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),null!=e.family&&e.hasOwnProperty("family")&&(n.family=e.family),null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),cl=tl.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=el.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=_i.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&tl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new tl.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=tl.Metric.decode(e,e.uint32());break;case 3:i.kerning===el.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!el.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=tl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!el.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!el.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof tl.GlyphFont)return e;var t=new tl.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=tl.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=tl.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),sl=tl.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=el.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=el.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=_i.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&tl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new tl.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=tl.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===el.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!el.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=tl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||el.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!el.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!el.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!el.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!el.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof tl.GlyphImage)return e;var t=new tl.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=tl.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?el.base64.decode(e.buffer,t.buffer=el.newBuffer(el.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=el.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=tl.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?el.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),ul=tl.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!el.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!el.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!el.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!el.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof tl.Layout)return e;var t=new tl.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),fl=tl.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!el.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!el.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!el.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!el.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof tl.Shadow)return e;var t=new tl.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),pl=tl.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&tl.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&tl.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&tl.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&tl.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=tl.Font.decode(e,e.uint32());break;case 2:r.fill=tl.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=tl.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=tl.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=tl.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=tl.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=tl.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=tl.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!el.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof tl.Style)return e;var t=new tl.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=tl.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=tl.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=tl.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=tl.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=tl.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=tl.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=tl.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=tl.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),dl=tl.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=_i.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new tl.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!el.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof tl.Ui)return e;var t=new tl.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),hl=tl.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=el.Long?el.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=el.emptyObject,e.prototype.glyphImages=el.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=_i.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),tl.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)tl.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&tl.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&tl.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&tl.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&tl.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Zi||(e=Zi.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new tl.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===el.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=tl.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(tl.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=tl.Style.decode(e,e.uint32());break;case 7:i.layout=tl.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=tl.Metric.decode(e,e.uint32());break;case 9:i.ui=tl.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Zi||(e=new Zi(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!el.isInteger(e.id)&&!(e.id&&el.isInteger(e.id.low)&&el.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!el.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!el.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!el.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=tl.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=tl.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=tl.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=tl.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=tl.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=tl.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof tl.Project)return e;var t=new tl.Project;if(null!=e.id&&(el.Long?(t.id=el.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new el.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=tl.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=tl.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=tl.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=tl.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=tl.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=tl.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(el.Long){var o=new el.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?el.Long.prototype.toString.call(e.id):t.longs===Number?new el.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=tl.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=tl.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=tl.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=tl.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=tl.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=tl.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}();function yl(e){var t,n;return(null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.font)&&(e.style.font.fonts=[{font:e.style.font.font}]),e}var bl=yi.Reader,gl=yi.Writer,Ol=yi.util,jl=yi.roots.default||(yi.roots.default={}),wl=jl.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!Ol.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!Ol.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!Ol.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof jl.Metric)return e;var t=new jl.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),ml=jl.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!Ol.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!Ol.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof jl.GradientColor)return e;var t=new jl.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),vl=jl.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=Ol.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)jl.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(jl.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ol.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=jl.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof jl.Gradient)return e;var t=new jl.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=jl.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=jl.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),xl=jl.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=Ol.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ol.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!Ol.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof jl.PatternTexture)return e;var t=new jl.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?Ol.base64.decode(e.buffer,t.buffer=Ol.newBuffer(Ol.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=Ol.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?Ol.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),kl=jl.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&jl.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&jl.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=jl.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=jl.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!Ol.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Ol.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=jl.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=jl.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!Ol.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!Ol.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!Ol.isString(e.lineJoin)?"lineJoin: string expected":null},e.fromObject=function(e){if(e instanceof jl.Fill)return e;var t=new jl.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=jl.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=jl.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=jl.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=jl.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Pl=jl.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=Ol.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.FontResource;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.font=e.bytes();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||Ol.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof jl.FontResource)return e;var t=new jl.FontResource;return null!=e.font&&("string"===typeof e.font?Ol.base64.decode(e.font,t.font=Ol.newBuffer(Ol.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=Ol.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?Ol.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Sl=jl.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=Ol.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gl.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)jl.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(jl.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=jl.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!Ol.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!Ol.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof jl.Font)return e;var t=new jl.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=jl.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=jl.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Tl=jl.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=Ol.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&jl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new jl.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=jl.Metric.decode(e,e.uint32());break;case 3:i.kerning===Ol.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ol.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=jl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ol.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ol.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof jl.GlyphFont)return e;var t=new jl.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=jl.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=jl.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Ml=jl.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=Ol.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=Ol.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gl.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&jl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new jl.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=jl.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===Ol.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!Ol.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=jl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||Ol.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!Ol.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!Ol.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!Ol.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!Ol.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof jl.GlyphImage)return e;var t=new jl.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=jl.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?Ol.base64.decode(e.buffer,t.buffer=Ol.newBuffer(Ol.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=Ol.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=jl.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?Ol.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Il=jl.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!Ol.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!Ol.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Ol.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Ol.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof jl.Layout)return e;var t=new jl.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Cl=jl.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!Ol.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!Ol.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!Ol.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!Ol.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof jl.Shadow)return e;var t=new jl.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Al=jl.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&jl.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&jl.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&jl.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&jl.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=jl.Font.decode(e,e.uint32());break;case 2:r.fill=jl.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=jl.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=jl.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=jl.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=jl.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=jl.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=jl.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!Ol.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof jl.Style)return e;var t=new jl.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=jl.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=jl.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=jl.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=jl.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=jl.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=jl.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=jl.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=jl.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Nl=jl.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=gl.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new jl.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!Ol.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof jl.Ui)return e;var t=new jl.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),zl=jl.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=Ol.Long?Ol.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=Ol.emptyObject,e.prototype.glyphImages=Ol.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=gl.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),jl.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)jl.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&jl.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&jl.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&jl.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&jl.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof bl||(e=bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new jl.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===Ol.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=jl.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(jl.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=jl.Style.decode(e,e.uint32());break;case 7:i.layout=jl.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=jl.Metric.decode(e,e.uint32());break;case 9:i.ui=jl.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof bl||(e=new bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!Ol.isInteger(e.id)&&!(e.id&&Ol.isInteger(e.id.low)&&Ol.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!Ol.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Ol.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!Ol.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=jl.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=jl.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=jl.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=jl.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=jl.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=jl.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof jl.Project)return e;var t=new jl.Project;if(null!=e.id&&(Ol.Long?(t.id=Ol.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new Ol.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=jl.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=jl.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=jl.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=jl.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=jl.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=jl.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(Ol.Long){var o=new Ol.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Ol.Long.prototype.toString.call(e.id):t.longs===Number?new Ol.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=jl.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=jl.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=jl.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=jl.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=jl.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=jl.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}();function Fl(e){var t,n;(null===(t=e.style)||void 0===t?void 0:t.stroke)&&((null===(n=e.style)||void 0===n?void 0:n.stroke).strokeType=0);return e}var Bl=yi.Reader,Ll=yi.Writer,El=yi.util,Dl=yi.roots.default||(yi.roots.default={}),Gl=(Dl.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xAdvance=0,e.prototype.xOffset=0,e.prototype.yOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.xAdvance&&Object.hasOwnProperty.call(e,"xAdvance")&&t.uint32(8).sint32(e.xAdvance),null!=e.xOffset&&Object.hasOwnProperty.call(e,"xOffset")&&t.uint32(16).sint32(e.xOffset),null!=e.yOffset&&Object.hasOwnProperty.call(e,"yOffset")&&t.uint32(24).sint32(e.yOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Metric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.xAdvance=e.sint32();break;case 2:r.xOffset=e.sint32();break;case 3:r.yOffset=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&!El.isInteger(e.xAdvance)?"xAdvance: integer expected":null!=e.xOffset&&e.hasOwnProperty("xOffset")&&!El.isInteger(e.xOffset)?"xOffset: integer expected":null!=e.yOffset&&e.hasOwnProperty("yOffset")&&!El.isInteger(e.yOffset)?"yOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Dl.Metric)return e;var t=new Dl.Metric;return null!=e.xAdvance&&(t.xAdvance=0|e.xAdvance),null!=e.xOffset&&(t.xOffset=0|e.xOffset),null!=e.yOffset&&(t.yOffset=0|e.yOffset),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xAdvance=0,n.xOffset=0,n.yOffset=0),null!=e.xAdvance&&e.hasOwnProperty("xAdvance")&&(n.xAdvance=e.xAdvance),null!=e.xOffset&&e.hasOwnProperty("xOffset")&&(n.xOffset=e.xOffset),null!=e.yOffset&&e.hasOwnProperty("yOffset")&&(n.yOffset=e.yOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.GradientColor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.offset=0,e.prototype.color="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(21).float(e.offset),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.GradientColor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int32();break;case 2:r.offset=e.float();break;case 3:r.color=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!El.isInteger(e.id)?"id: integer expected":null!=e.offset&&e.hasOwnProperty("offset")&&"number"!==typeof e.offset?"offset: number expected":null!=e.color&&e.hasOwnProperty("color")&&!El.isString(e.color)?"color: string expected":null},e.fromObject=function(e){if(e instanceof Dl.GradientColor)return e;var t=new Dl.GradientColor;return null!=e.id&&(t.id=0|e.id),null!=e.offset&&(t.offset=Number(e.offset)),null!=e.color&&(t.color=String(e.color)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.offset=0,n.color=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=t.json&&!isFinite(e.offset)?String(e.offset):e.offset),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Gradient=function(){function e(e){if(this.palette=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.angle=0,e.prototype.palette=El.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ll.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.angle&&Object.hasOwnProperty.call(e,"angle")&&t.uint32(21).float(e.angle),null!=e.palette&&e.palette.length)for(var n=0;n<e.palette.length;++n)Dl.GradientColor.encode(e.palette[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Gradient;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.angle=e.float();break;case 3:r.palette&&r.palette.length||(r.palette=[]),r.palette.push(Dl.GradientColor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!El.isInteger(e.type))return"type: integer expected";if(null!=e.angle&&e.hasOwnProperty("angle")&&"number"!==typeof e.angle)return"angle: number expected";if(null!=e.palette&&e.hasOwnProperty("palette")){if(!Array.isArray(e.palette))return"palette: array expected";for(var t=0;t<e.palette.length;++t){var n=Dl.GradientColor.verify(e.palette[t]);if(n)return"palette."+n}}return null},e.fromObject=function(e){if(e instanceof Dl.Gradient)return e;var t=new Dl.Gradient;if(null!=e.type&&(t.type=0|e.type),null!=e.angle&&(t.angle=Number(e.angle)),e.palette){if(!Array.isArray(e.palette))throw TypeError(".Gradient.palette: array expected");t.palette=[];for(var n=0;n<e.palette.length;++n){if("object"!==typeof e.palette[n])throw TypeError(".Gradient.palette: object expected");t.palette[n]=Dl.GradientColor.fromObject(e.palette[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.palette=[]),t.defaults&&(n.type=0,n.angle=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=t.json&&!isFinite(e.angle)?String(e.angle):e.angle),e.palette&&e.palette.length){n.palette=[];for(var r=0;r<e.palette.length;++r)n.palette[r]=Dl.GradientColor.toObject(e.palette[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.PatternTexture=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.buffer=El.newBuffer([]),e.prototype.scale=0,e.prototype.repetition="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(10).bytes(e.buffer),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(17).double(e.scale),null!=e.repetition&&Object.hasOwnProperty.call(e,"repetition")&&t.uint32(26).string(e.repetition),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.PatternTexture;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.buffer=e.bytes();break;case 2:r.scale=e.double();break;case 3:r.repetition=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||El.isString(e.buffer))?"buffer: buffer expected":null!=e.scale&&e.hasOwnProperty("scale")&&"number"!==typeof e.scale?"scale: number expected":null!=e.repetition&&e.hasOwnProperty("repetition")&&!El.isString(e.repetition)?"repetition: string expected":null},e.fromObject=function(e){if(e instanceof Dl.PatternTexture)return e;var t=new Dl.PatternTexture;return null!=e.buffer&&("string"===typeof e.buffer?El.base64.decode(e.buffer,t.buffer=El.newBuffer(El.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.scale&&(t.scale=Number(e.scale)),null!=e.repetition&&(t.repetition=String(e.repetition)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.buffer="":(n.buffer=[],t.bytes!==Array&&(n.buffer=El.newBuffer(n.buffer))),n.scale=0,n.repetition=""),null!=e.buffer&&e.hasOwnProperty("buffer")&&(n.buffer=t.bytes===String?El.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.scale&&e.hasOwnProperty("scale")&&(n.scale=t.json&&!isFinite(e.scale)?String(e.scale):e.scale),null!=e.repetition&&e.hasOwnProperty("repetition")&&(n.repetition=e.repetition),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Fill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.color="",e.prototype.gradient=null,e.prototype.patternTexture=null,e.prototype.width=0,e.prototype.lineCap="",e.prototype.lineJoin="",e.prototype.strokeType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(18).string(e.color),null!=e.gradient&&Object.hasOwnProperty.call(e,"gradient")&&Dl.Gradient.encode(e.gradient,t.uint32(26).fork()).ldelim(),null!=e.patternTexture&&Object.hasOwnProperty.call(e,"patternTexture")&&Dl.PatternTexture.encode(e.patternTexture,t.uint32(34).fork()).ldelim(),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(40).int32(e.width),null!=e.lineCap&&Object.hasOwnProperty.call(e,"lineCap")&&t.uint32(50).string(e.lineCap),null!=e.lineJoin&&Object.hasOwnProperty.call(e,"lineJoin")&&t.uint32(58).string(e.lineJoin),null!=e.strokeType&&Object.hasOwnProperty.call(e,"strokeType")&&t.uint32(64).int32(e.strokeType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Fill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.color=e.string();break;case 3:r.gradient=Dl.Gradient.decode(e,e.uint32());break;case 4:r.patternTexture=Dl.PatternTexture.decode(e,e.uint32());break;case 5:r.width=e.int32();break;case 6:r.lineCap=e.string();break;case 7:r.lineJoin=e.string();break;case 8:r.strokeType=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!El.isInteger(e.type))return"type: integer expected";if(null!=e.color&&e.hasOwnProperty("color")&&!El.isString(e.color))return"color: string expected";if(null!=e.gradient&&e.hasOwnProperty("gradient")){var t=Dl.Gradient.verify(e.gradient);if(t)return"gradient."+t}if(null!=e.patternTexture&&e.hasOwnProperty("patternTexture")){var n=Dl.PatternTexture.verify(e.patternTexture);if(n)return"patternTexture."+n}return null!=e.width&&e.hasOwnProperty("width")&&!El.isInteger(e.width)?"width: integer expected":null!=e.lineCap&&e.hasOwnProperty("lineCap")&&!El.isString(e.lineCap)?"lineCap: string expected":null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&!El.isString(e.lineJoin)?"lineJoin: string expected":null!=e.strokeType&&e.hasOwnProperty("strokeType")&&!El.isInteger(e.strokeType)?"strokeType: integer expected":null},e.fromObject=function(e){if(e instanceof Dl.Fill)return e;var t=new Dl.Fill;if(null!=e.type&&(t.type=0|e.type),null!=e.color&&(t.color=String(e.color)),null!=e.gradient){if("object"!==typeof e.gradient)throw TypeError(".Fill.gradient: object expected");t.gradient=Dl.Gradient.fromObject(e.gradient)}if(null!=e.patternTexture){if("object"!==typeof e.patternTexture)throw TypeError(".Fill.patternTexture: object expected");t.patternTexture=Dl.PatternTexture.fromObject(e.patternTexture)}return null!=e.width&&(t.width=0|e.width),null!=e.lineCap&&(t.lineCap=String(e.lineCap)),null!=e.lineJoin&&(t.lineJoin=String(e.lineJoin)),null!=e.strokeType&&(t.strokeType=0|e.strokeType),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.color="",n.gradient=null,n.patternTexture=null,n.width=0,n.lineCap="",n.lineJoin="",n.strokeType=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.gradient&&e.hasOwnProperty("gradient")&&(n.gradient=Dl.Gradient.toObject(e.gradient,t)),null!=e.patternTexture&&e.hasOwnProperty("patternTexture")&&(n.patternTexture=Dl.PatternTexture.toObject(e.patternTexture,t)),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.lineCap&&e.hasOwnProperty("lineCap")&&(n.lineCap=e.lineCap),null!=e.lineJoin&&e.hasOwnProperty("lineJoin")&&(n.lineJoin=e.lineJoin),null!=e.strokeType&&e.hasOwnProperty("strokeType")&&(n.strokeType=e.strokeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.FontResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=El.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(10).bytes(e.font),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.FontResource;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.font=e.bytes();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.font&&e.hasOwnProperty("font")&&!(e.font&&"number"===typeof e.font.length||El.isString(e.font))?"font: buffer expected":null},e.fromObject=function(e){if(e instanceof Dl.FontResource)return e;var t=new Dl.FontResource;return null!=e.font&&("string"===typeof e.font?El.base64.decode(e.font,t.font=El.newBuffer(El.base64.length(e.font)),0):e.font.length&&(t.font=e.font)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.font="":(n.font=[],t.bytes!==Array&&(n.font=El.newBuffer(n.font)))),null!=e.font&&e.hasOwnProperty("font")&&(n.font=t.bytes===String?El.base64.encode(e.font,0,e.font.length):t.bytes===Array?Array.prototype.slice.call(e.font):e.font),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Font=function(){function e(e){if(this.fonts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fonts=El.emptyArray,e.prototype.size=0,e.prototype.lineHeight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ll.create()),null!=e.fonts&&e.fonts.length)for(var n=0;n<e.fonts.length;++n)Dl.FontResource.encode(e.fonts[n],t.uint32(10).fork()).ldelim();return null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).int32(e.size),null!=e.lineHeight&&Object.hasOwnProperty.call(e,"lineHeight")&&t.uint32(24).int32(e.lineHeight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Font;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.fonts&&r.fonts.length||(r.fonts=[]),r.fonts.push(Dl.FontResource.decode(e,e.uint32()));break;case 2:r.size=e.int32();break;case 3:r.lineHeight=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.fonts&&e.hasOwnProperty("fonts")){if(!Array.isArray(e.fonts))return"fonts: array expected";for(var t=0;t<e.fonts.length;++t){var n=Dl.FontResource.verify(e.fonts[t]);if(n)return"fonts."+n}}return null!=e.size&&e.hasOwnProperty("size")&&!El.isInteger(e.size)?"size: integer expected":null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&!El.isInteger(e.lineHeight)?"lineHeight: integer expected":null},e.fromObject=function(e){if(e instanceof Dl.Font)return e;var t=new Dl.Font;if(e.fonts){if(!Array.isArray(e.fonts))throw TypeError(".Font.fonts: array expected");t.fonts=[];for(var n=0;n<e.fonts.length;++n){if("object"!==typeof e.fonts[n])throw TypeError(".Font.fonts: object expected");t.fonts[n]=Dl.FontResource.fromObject(e.fonts[n])}}return null!=e.size&&(t.size=0|e.size),null!=e.lineHeight&&(t.lineHeight=0|e.lineHeight),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fonts=[]),t.defaults&&(n.size=0,n.lineHeight=0),e.fonts&&e.fonts.length){n.fonts=[];for(var r=0;r<e.fonts.length;++r)n.fonts[r]=Dl.FontResource.toObject(e.fonts[r],t)}return null!=e.size&&e.hasOwnProperty("size")&&(n.size=e.size),null!=e.lineHeight&&e.hasOwnProperty("lineHeight")&&(n.lineHeight=e.lineHeight),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.GlyphFont=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.kerning=El.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ll.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Dl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Dl.GlyphFont;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Dl.Metric.decode(e,e.uint32());break;case 3:i.kerning===El.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!El.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Dl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!El.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!El.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Dl.GlyphFont)return e;var t=new Dl.GlyphFont;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphFont.adjustMetric: object expected");t.adjustMetric=Dl.Metric.fromObject(e.adjustMetric)}if(e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphFont.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Dl.Metric.toObject(e.adjustMetric,t)),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.GlyphImage=function(){function e(e){if(this.kerning={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.letter="",e.prototype.adjustMetric=null,e.prototype.buffer=El.newBuffer([]),e.prototype.fileName="",e.prototype.fileType="",e.prototype.selected=!1,e.prototype.kerning=El.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ll.create()),null!=e.letter&&Object.hasOwnProperty.call(e,"letter")&&t.uint32(10).string(e.letter),null!=e.adjustMetric&&Object.hasOwnProperty.call(e,"adjustMetric")&&Dl.Metric.encode(e.adjustMetric,t.uint32(18).fork()).ldelim(),null!=e.buffer&&Object.hasOwnProperty.call(e,"buffer")&&t.uint32(26).bytes(e.buffer),null!=e.fileName&&Object.hasOwnProperty.call(e,"fileName")&&t.uint32(34).string(e.fileName),null!=e.fileType&&Object.hasOwnProperty.call(e,"fileType")&&t.uint32(42).string(e.fileType),null!=e.selected&&Object.hasOwnProperty.call(e,"selected")&&t.uint32(48).bool(e.selected),null!=e.kerning&&Object.hasOwnProperty.call(e,"kerning"))for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.uint32(58).fork().uint32(10).string(n[r]).uint32(16).int32(e.kerning[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Dl.GlyphImage;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.letter=e.string();break;case 2:i.adjustMetric=Dl.Metric.decode(e,e.uint32());break;case 3:i.buffer=e.bytes();break;case 4:i.fileName=e.string();break;case 5:i.fileType=e.string();break;case 6:i.selected=e.bool();break;case 7:i.kerning===El.emptyObject&&(i.kerning={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=e.int32();break;default:e.skipType(7&c)}}i.kerning[n]=r;break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.letter&&e.hasOwnProperty("letter")&&!El.isString(e.letter))return"letter: string expected";if(null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")){var t=Dl.Metric.verify(e.adjustMetric);if(t)return"adjustMetric."+t}if(null!=e.buffer&&e.hasOwnProperty("buffer")&&!(e.buffer&&"number"===typeof e.buffer.length||El.isString(e.buffer)))return"buffer: buffer expected";if(null!=e.fileName&&e.hasOwnProperty("fileName")&&!El.isString(e.fileName))return"fileName: string expected";if(null!=e.fileType&&e.hasOwnProperty("fileType")&&!El.isString(e.fileType))return"fileType: string expected";if(null!=e.selected&&e.hasOwnProperty("selected")&&"boolean"!==typeof e.selected)return"selected: boolean expected";if(null!=e.kerning&&e.hasOwnProperty("kerning")){if(!El.isObject(e.kerning))return"kerning: object expected";for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)if(!El.isInteger(e.kerning[n[r]]))return"kerning: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof Dl.GlyphImage)return e;var t=new Dl.GlyphImage;if(null!=e.letter&&(t.letter=String(e.letter)),null!=e.adjustMetric){if("object"!==typeof e.adjustMetric)throw TypeError(".GlyphImage.adjustMetric: object expected");t.adjustMetric=Dl.Metric.fromObject(e.adjustMetric)}if(null!=e.buffer&&("string"===typeof e.buffer?El.base64.decode(e.buffer,t.buffer=El.newBuffer(El.base64.length(e.buffer)),0):e.buffer.length&&(t.buffer=e.buffer)),null!=e.fileName&&(t.fileName=String(e.fileName)),null!=e.fileType&&(t.fileType=String(e.fileType)),null!=e.selected&&(t.selected=Boolean(e.selected)),e.kerning){if("object"!==typeof e.kerning)throw TypeError(".GlyphImage.kerning: object expected");t.kerning={};for(var n=Object.keys(e.kerning),r=0;r<n.length;++r)t.kerning[n[r]]=0|e.kerning[n[r]]}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.kerning={}),t.defaults&&(r.letter="",r.adjustMetric=null,t.bytes===String?r.buffer="":(r.buffer=[],t.bytes!==Array&&(r.buffer=El.newBuffer(r.buffer))),r.fileName="",r.fileType="",r.selected=!1),null!=e.letter&&e.hasOwnProperty("letter")&&(r.letter=e.letter),null!=e.adjustMetric&&e.hasOwnProperty("adjustMetric")&&(r.adjustMetric=Dl.Metric.toObject(e.adjustMetric,t)),null!=e.buffer&&e.hasOwnProperty("buffer")&&(r.buffer=t.bytes===String?El.base64.encode(e.buffer,0,e.buffer.length):t.bytes===Array?Array.prototype.slice.call(e.buffer):e.buffer),null!=e.fileName&&e.hasOwnProperty("fileName")&&(r.fileName=e.fileName),null!=e.fileType&&e.hasOwnProperty("fileType")&&(r.fileType=e.fileType),null!=e.selected&&e.hasOwnProperty("selected")&&(r.selected=e.selected),e.kerning&&(n=Object.keys(e.kerning)).length){r.kerning={};for(var o=0;o<n.length;++o)r.kerning[n[o]]=e.kerning[n[o]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Layout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.padding=0,e.prototype.spacing=0,e.prototype.width=0,e.prototype.height=0,e.prototype.auto=!1,e.prototype.fixedSize=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.padding&&Object.hasOwnProperty.call(e,"padding")&&t.uint32(8).int32(e.padding),null!=e.spacing&&Object.hasOwnProperty.call(e,"spacing")&&t.uint32(16).int32(e.spacing),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.auto&&Object.hasOwnProperty.call(e,"auto")&&t.uint32(40).bool(e.auto),null!=e.fixedSize&&Object.hasOwnProperty.call(e,"fixedSize")&&t.uint32(48).bool(e.fixedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Layout;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.padding=e.int32();break;case 2:r.spacing=e.int32();break;case 3:r.width=e.int32();break;case 4:r.height=e.int32();break;case 5:r.auto=e.bool();break;case 6:r.fixedSize=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.padding&&e.hasOwnProperty("padding")&&!El.isInteger(e.padding)?"padding: integer expected":null!=e.spacing&&e.hasOwnProperty("spacing")&&!El.isInteger(e.spacing)?"spacing: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!El.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!El.isInteger(e.height)?"height: integer expected":null!=e.auto&&e.hasOwnProperty("auto")&&"boolean"!==typeof e.auto?"auto: boolean expected":null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&"boolean"!==typeof e.fixedSize?"fixedSize: boolean expected":null},e.fromObject=function(e){if(e instanceof Dl.Layout)return e;var t=new Dl.Layout;return null!=e.padding&&(t.padding=0|e.padding),null!=e.spacing&&(t.spacing=0|e.spacing),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.auto&&(t.auto=Boolean(e.auto)),null!=e.fixedSize&&(t.fixedSize=Boolean(e.fixedSize)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.padding=0,n.spacing=0,n.width=0,n.height=0,n.auto=!1,n.fixedSize=!1),null!=e.padding&&e.hasOwnProperty("padding")&&(n.padding=e.padding),null!=e.spacing&&e.hasOwnProperty("spacing")&&(n.spacing=e.spacing),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.auto&&e.hasOwnProperty("auto")&&(n.auto=e.auto),null!=e.fixedSize&&e.hasOwnProperty("fixedSize")&&(n.fixedSize=e.fixedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Shadow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color="",e.prototype.blur=0,e.prototype.offsetX=0,e.prototype.offsetY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(10).string(e.color),null!=e.blur&&Object.hasOwnProperty.call(e,"blur")&&t.uint32(16).int32(e.blur),null!=e.offsetX&&Object.hasOwnProperty.call(e,"offsetX")&&t.uint32(24).sint32(e.offsetX),null!=e.offsetY&&Object.hasOwnProperty.call(e,"offsetY")&&t.uint32(32).sint32(e.offsetY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Shadow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.color=e.string();break;case 2:r.blur=e.int32();break;case 3:r.offsetX=e.sint32();break;case 4:r.offsetY=e.sint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!El.isString(e.color)?"color: string expected":null!=e.blur&&e.hasOwnProperty("blur")&&!El.isInteger(e.blur)?"blur: integer expected":null!=e.offsetX&&e.hasOwnProperty("offsetX")&&!El.isInteger(e.offsetX)?"offsetX: integer expected":null!=e.offsetY&&e.hasOwnProperty("offsetY")&&!El.isInteger(e.offsetY)?"offsetY: integer expected":null},e.fromObject=function(e){if(e instanceof Dl.Shadow)return e;var t=new Dl.Shadow;return null!=e.color&&(t.color=String(e.color)),null!=e.blur&&(t.blur=0|e.blur),null!=e.offsetX&&(t.offsetX=0|e.offsetX),null!=e.offsetY&&(t.offsetY=0|e.offsetY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.color="",n.blur=0,n.offsetX=0,n.offsetY=0),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.blur&&e.hasOwnProperty("blur")&&(n.blur=e.blur),null!=e.offsetX&&e.hasOwnProperty("offsetX")&&(n.offsetX=e.offsetX),null!=e.offsetY&&e.hasOwnProperty("offsetY")&&(n.offsetY=e.offsetY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Style=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.font=null,e.prototype.fill=null,e.prototype.useStroke=!1,e.prototype.stroke=null,e.prototype.useShadow=!1,e.prototype.shadow=null,e.prototype.bgColor="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&Dl.Font.encode(e.font,t.uint32(10).fork()).ldelim(),null!=e.fill&&Object.hasOwnProperty.call(e,"fill")&&Dl.Fill.encode(e.fill,t.uint32(18).fork()).ldelim(),null!=e.useStroke&&Object.hasOwnProperty.call(e,"useStroke")&&t.uint32(24).bool(e.useStroke),null!=e.stroke&&Object.hasOwnProperty.call(e,"stroke")&&Dl.Fill.encode(e.stroke,t.uint32(34).fork()).ldelim(),null!=e.useShadow&&Object.hasOwnProperty.call(e,"useShadow")&&t.uint32(40).bool(e.useShadow),null!=e.shadow&&Object.hasOwnProperty.call(e,"shadow")&&Dl.Shadow.encode(e.shadow,t.uint32(50).fork()).ldelim(),null!=e.bgColor&&Object.hasOwnProperty.call(e,"bgColor")&&t.uint32(58).string(e.bgColor),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Style;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.font=Dl.Font.decode(e,e.uint32());break;case 2:r.fill=Dl.Fill.decode(e,e.uint32());break;case 3:r.useStroke=e.bool();break;case 4:r.stroke=Dl.Fill.decode(e,e.uint32());break;case 5:r.useShadow=e.bool();break;case 6:r.shadow=Dl.Shadow.decode(e,e.uint32());break;case 7:r.bgColor=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.font&&e.hasOwnProperty("font")){var t=Dl.Font.verify(e.font);if(t)return"font."+t}if(null!=e.fill&&e.hasOwnProperty("fill")){var n=Dl.Fill.verify(e.fill);if(n)return"fill."+n}if(null!=e.useStroke&&e.hasOwnProperty("useStroke")&&"boolean"!==typeof e.useStroke)return"useStroke: boolean expected";if(null!=e.stroke&&e.hasOwnProperty("stroke")){var r=Dl.Fill.verify(e.stroke);if(r)return"stroke."+r}if(null!=e.useShadow&&e.hasOwnProperty("useShadow")&&"boolean"!==typeof e.useShadow)return"useShadow: boolean expected";if(null!=e.shadow&&e.hasOwnProperty("shadow")){var o=Dl.Shadow.verify(e.shadow);if(o)return"shadow."+o}return null!=e.bgColor&&e.hasOwnProperty("bgColor")&&!El.isString(e.bgColor)?"bgColor: string expected":null},e.fromObject=function(e){if(e instanceof Dl.Style)return e;var t=new Dl.Style;if(null!=e.font){if("object"!==typeof e.font)throw TypeError(".Style.font: object expected");t.font=Dl.Font.fromObject(e.font)}if(null!=e.fill){if("object"!==typeof e.fill)throw TypeError(".Style.fill: object expected");t.fill=Dl.Fill.fromObject(e.fill)}if(null!=e.useStroke&&(t.useStroke=Boolean(e.useStroke)),null!=e.stroke){if("object"!==typeof e.stroke)throw TypeError(".Style.stroke: object expected");t.stroke=Dl.Fill.fromObject(e.stroke)}if(null!=e.useShadow&&(t.useShadow=Boolean(e.useShadow)),null!=e.shadow){if("object"!==typeof e.shadow)throw TypeError(".Style.shadow: object expected");t.shadow=Dl.Shadow.fromObject(e.shadow)}return null!=e.bgColor&&(t.bgColor=String(e.bgColor)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.font=null,n.fill=null,n.useStroke=!1,n.stroke=null,n.useShadow=!1,n.shadow=null,n.bgColor=""),null!=e.font&&e.hasOwnProperty("font")&&(n.font=Dl.Font.toObject(e.font,t)),null!=e.fill&&e.hasOwnProperty("fill")&&(n.fill=Dl.Fill.toObject(e.fill,t)),null!=e.useStroke&&e.hasOwnProperty("useStroke")&&(n.useStroke=e.useStroke),null!=e.stroke&&e.hasOwnProperty("stroke")&&(n.stroke=Dl.Fill.toObject(e.stroke,t)),null!=e.useShadow&&e.hasOwnProperty("useShadow")&&(n.useShadow=e.useShadow),null!=e.shadow&&e.hasOwnProperty("shadow")&&(n.shadow=Dl.Shadow.toObject(e.shadow,t)),null!=e.bgColor&&e.hasOwnProperty("bgColor")&&(n.bgColor=e.bgColor),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Ui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.previewText="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ll.create()),null!=e.previewText&&Object.hasOwnProperty.call(e,"previewText")&&t.uint32(10).string(e.previewText),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Dl.Ui;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.previewText=e.string();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.previewText&&e.hasOwnProperty("previewText")&&!El.isString(e.previewText)?"previewText: string expected":null},e.fromObject=function(e){if(e instanceof Dl.Ui)return e;var t=new Dl.Ui;return null!=e.previewText&&(t.previewText=String(e.previewText)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.previewText=""),null!=e.previewText&&e.hasOwnProperty("previewText")&&(n.previewText=e.previewText),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}(),Dl.Project=function(){function e(e){if(this.glyphs={},this.glyphImages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=El.Long?El.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.text="",e.prototype.glyphs=El.emptyObject,e.prototype.glyphImages=El.emptyArray,e.prototype.style=null,e.prototype.layout=null,e.prototype.globalAdjustMetric=null,e.prototype.ui=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ll.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(26).string(e.text),null!=e.glyphs&&Object.hasOwnProperty.call(e,"glyphs"))for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r)t.uint32(34).fork().uint32(10).string(n[r]),Dl.GlyphFont.encode(e.glyphs[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.glyphImages&&e.glyphImages.length)for(var o=0;o<e.glyphImages.length;++o)Dl.GlyphImage.encode(e.glyphImages[o],t.uint32(42).fork()).ldelim();return null!=e.style&&Object.hasOwnProperty.call(e,"style")&&Dl.Style.encode(e.style,t.uint32(50).fork()).ldelim(),null!=e.layout&&Object.hasOwnProperty.call(e,"layout")&&Dl.Layout.encode(e.layout,t.uint32(58).fork()).ldelim(),null!=e.globalAdjustMetric&&Object.hasOwnProperty.call(e,"globalAdjustMetric")&&Dl.Metric.encode(e.globalAdjustMetric,t.uint32(66).fork()).ldelim(),null!=e.ui&&Object.hasOwnProperty.call(e,"ui")&&Dl.Ui.encode(e.ui,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Bl||(e=Bl.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new Dl.Project;e.pos<o;){var l=e.uint32();switch(l>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.text=e.string();break;case 4:i.glyphs===El.emptyObject&&(i.glyphs={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var c=e.uint32();switch(c>>>3){case 1:n=e.string();break;case 2:r=Dl.GlyphFont.decode(e,e.uint32());break;default:e.skipType(7&c)}}i.glyphs[n]=r;break;case 5:i.glyphImages&&i.glyphImages.length||(i.glyphImages=[]),i.glyphImages.push(Dl.GlyphImage.decode(e,e.uint32()));break;case 6:i.style=Dl.Style.decode(e,e.uint32());break;case 7:i.layout=Dl.Layout.decode(e,e.uint32());break;case 8:i.globalAdjustMetric=Dl.Metric.decode(e,e.uint32());break;case 9:i.ui=Dl.Ui.decode(e,e.uint32());break;default:e.skipType(7&l)}}return i},e.decodeDelimited=function(e){return e instanceof Bl||(e=new Bl(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!El.isInteger(e.id)&&!(e.id&&El.isInteger(e.id.low)&&El.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!El.isString(e.name))return"name: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!El.isString(e.text))return"text: string expected";if(null!=e.glyphs&&e.hasOwnProperty("glyphs")){if(!El.isObject(e.glyphs))return"glyphs: object expected";for(var t=Object.keys(e.glyphs),n=0;n<t.length;++n){var r=Dl.GlyphFont.verify(e.glyphs[t[n]]);if(r)return"glyphs."+r}}if(null!=e.glyphImages&&e.hasOwnProperty("glyphImages")){if(!Array.isArray(e.glyphImages))return"glyphImages: array expected";for(var o=0;o<e.glyphImages.length;++o){var i=Dl.GlyphImage.verify(e.glyphImages[o]);if(i)return"glyphImages."+i}}if(null!=e.style&&e.hasOwnProperty("style")){var l=Dl.Style.verify(e.style);if(l)return"style."+l}if(null!=e.layout&&e.hasOwnProperty("layout")){var a=Dl.Layout.verify(e.layout);if(a)return"layout."+a}if(null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")){var c=Dl.Metric.verify(e.globalAdjustMetric);if(c)return"globalAdjustMetric."+c}if(null!=e.ui&&e.hasOwnProperty("ui")){var s=Dl.Ui.verify(e.ui);if(s)return"ui."+s}return null},e.fromObject=function(e){if(e instanceof Dl.Project)return e;var t=new Dl.Project;if(null!=e.id&&(El.Long?(t.id=El.Long.fromValue(e.id)).unsigned=!1:"string"===typeof e.id?t.id=parseInt(e.id,10):"number"===typeof e.id?t.id=e.id:"object"===typeof e.id&&(t.id=new El.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.text&&(t.text=String(e.text)),e.glyphs){if("object"!==typeof e.glyphs)throw TypeError(".Project.glyphs: object expected");t.glyphs={};for(var n=Object.keys(e.glyphs),r=0;r<n.length;++r){if("object"!==typeof e.glyphs[n[r]])throw TypeError(".Project.glyphs: object expected");t.glyphs[n[r]]=Dl.GlyphFont.fromObject(e.glyphs[n[r]])}}if(e.glyphImages){if(!Array.isArray(e.glyphImages))throw TypeError(".Project.glyphImages: array expected");t.glyphImages=[];for(var o=0;o<e.glyphImages.length;++o){if("object"!==typeof e.glyphImages[o])throw TypeError(".Project.glyphImages: object expected");t.glyphImages[o]=Dl.GlyphImage.fromObject(e.glyphImages[o])}}if(null!=e.style){if("object"!==typeof e.style)throw TypeError(".Project.style: object expected");t.style=Dl.Style.fromObject(e.style)}if(null!=e.layout){if("object"!==typeof e.layout)throw TypeError(".Project.layout: object expected");t.layout=Dl.Layout.fromObject(e.layout)}if(null!=e.globalAdjustMetric){if("object"!==typeof e.globalAdjustMetric)throw TypeError(".Project.globalAdjustMetric: object expected");t.globalAdjustMetric=Dl.Metric.fromObject(e.globalAdjustMetric)}if(null!=e.ui){if("object"!==typeof e.ui)throw TypeError(".Project.ui: object expected");t.ui=Dl.Ui.fromObject(e.ui)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.glyphImages=[]),(t.objects||t.defaults)&&(r.glyphs={}),t.defaults){if(El.Long){var o=new El.Long(0,0,!1);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.name="",r.text="",r.style=null,r.layout=null,r.globalAdjustMetric=null,r.ui=null}if(null!=e.id&&e.hasOwnProperty("id")&&("number"===typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?El.Long.prototype.toString.call(e.id):t.longs===Number?new El.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),e.glyphs&&(n=Object.keys(e.glyphs)).length){r.glyphs={};for(var i=0;i<n.length;++i)r.glyphs[n[i]]=Dl.GlyphFont.toObject(e.glyphs[n[i]],t)}if(e.glyphImages&&e.glyphImages.length){r.glyphImages=[];for(var l=0;l<e.glyphImages.length;++l)r.glyphImages[l]=Dl.GlyphImage.toObject(e.glyphImages[l],t)}return null!=e.style&&e.hasOwnProperty("style")&&(r.style=Dl.Style.toObject(e.style,t)),null!=e.layout&&e.hasOwnProperty("layout")&&(r.layout=Dl.Layout.toObject(e.layout,t)),null!=e.globalAdjustMetric&&e.hasOwnProperty("globalAdjustMetric")&&(r.globalAdjustMetric=Dl.Metric.toObject(e.globalAdjustMetric,t)),null!=e.ui&&e.hasOwnProperty("ui")&&(r.ui=Dl.Ui.toObject(e.ui,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,yi.util.toJSONOptions)},e}());var Jl={1e6:r,1000001:o,1000002:i,1000003:l},Xl=Object.keys(Jl).map((function(e){return"".concat(Number(e))})).sort();var Yl=function(e,t){return Xl.forEach((function(n){t<=n&&Jl[n]&&Jl[n].updateToNext(e)})),e};function Hl(e){var t=pi(),n=function(e){return e.style.font.fonts&&e.style.font.fonts.length&&e.style.font.fonts.forEach((function(e){return e.font=new Uint8Array(e.font)})),e.glyphImages.forEach((function(e){e.buffer&&(e.buffer=new Uint8Array(e.buffer))})),e.style.fill.patternTexture.buffer&&(e.style.fill.patternTexture.buffer=new Uint8Array(e.style.fill.patternTexture.buffer)),e.style.stroke.patternTexture.buffer&&(e.style.stroke.patternTexture.buffer=new Uint8Array(e.style.stroke.patternTexture.buffer)),Gl.encode(Gl.create(e)).finish()}(e),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(t,0),r.set(n,t.byteLength),r}var $l={ext:".sbf",check:hi,decode:function(e){var t;if(!(e instanceof ArrayBuffer))throw new Error("unknow file");var n=di(e);if(0===n)throw new Error("unknow file");var r=pi(),o=new Uint8Array(e),i=o.slice(0,r.byteLength),l=((null===(t=Jl[n])||void 0===t?void 0:t.Project)||Gl).decode(o.slice(i.byteLength));return function(e){var t,n,r,o,i,l,a,c,s=e,u=new Map;return(null===e||void 0===e||null===(t=e.style)||void 0===t||null===(n=t.font)||void 0===n?void 0:n.fonts)&&e.style.font.fonts.forEach((function(e,t){e.font&&(s.style.font.fonts[t].font=e.font.slice().buffer)})),(null===e||void 0===e?void 0:e.glyphImages)&&e.glyphImages.forEach((function(e,t){if(e.buffer&&(s.glyphImages[t].buffer=e.buffer.slice().buffer),e.kerning){var n=new Map;Object.keys(e.kerning).forEach((function(t){e&&e.kerning&&e.kerning[t]&&n.set(t,e.kerning[t]||0)})),e.kerning=n}})),(null===e||void 0===e?void 0:e.glyphs)&&(Object.keys(e.glyphs).forEach((function(t){if(e&&e.glyphs&&e.glyphs[t]){var n=e.glyphs[t],r=new Map;n&&n.kerning&&Object.keys(n.kerning).forEach((function(e){n.kerning&&r.set(e,n.kerning[e]||0)})),u.set(t,Object(O.a)(Object(O.a)({},n),{},{kerning:r}))}})),s.glyphs=u),(null===e||void 0===e||null===(r=e.style)||void 0===r||null===(o=r.fill)||void 0===o||null===(i=o.patternTexture)||void 0===i?void 0:i.buffer)&&(s.style.fill.patternTexture.buffer=e.style.fill.patternTexture.buffer.slice().buffer),(null===e||void 0===e||null===(l=e.style)||void 0===l||null===(a=l.stroke)||void 0===a||null===(c=a.patternTexture)||void 0===c?void 0:c.buffer)&&(s.style.stroke.patternTexture.buffer=e.style.stroke.patternTexture.buffer.slice().buffer),s}(Yl(l,n))}},Rl=n(276),Wl={properties:{glow:{properties:{quality:{type:"float32"},colors:{elements:{type:"float32"}},glowEnabled:{type:"boolean"},alphas:{elements:{type:"float32"}},ratios:{elements:{type:"float32"}},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},strength:{type:"float32"},distance:{type:"float32"}}},fill:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},textureScale:{type:"float32"},distanceFieldEnabled:{type:"boolean"},distanceFieldColor:{type:"float32"},gradientColors:{elements:{type:"float32"}},distanceFieldDownscale:{type:"float32"},distanceFieldSpread:{type:"float32"},distanceFieldType:{enum:["Type 1","Type 2"]},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},settings:{properties:{postfixes:{type:"string"},filename:{type:"string"},scalings:{type:"string"}}},shadow:{properties:{quality:{type:"float32"},color:{type:"float32"},strength:{type:"float32"},blurX:{type:"float32"},angle:{type:"float32"},blurY:{type:"float32"},shadowEnabled:{type:"boolean"},alpha:{type:"float32"},distance:{type:"float32"}}},stroke:{properties:{gradientAlphas:{elements:{type:"float32"}},yOffset:{type:"float32"},gradientType:{enum:["linear","radial"]},gradientRotation:{type:"float32"},fillType:{enum:["gradientFill","textureFill"]},pixelHinting:{type:"boolean"},textureScale:{type:"float32"},gradientColors:{elements:{type:"float32"}},strokeEnabled:{type:"boolean"},miterLimit:{type:"float32"},jointStyle:{enum:["miter","bevel","round"]},size:{type:"float32"},gradientRatios:{elements:{type:"float32"}},xOffset:{type:"float32"}},optionalProperties:{texture:{type:"string"}}},background:{properties:{color:{type:"float32"},alpha:{type:"float32"}}},bevel:{properties:{bevelEnabled:{type:"boolean"},highlightColor:{type:"float32"},highlightAlpha:{type:"float32"},quality:{type:"float32"},angle:{type:"float32"},shadowColor:{type:"float32"},shadowAlpha:{type:"float32"},blurX:{type:"float32"},blurY:{type:"float32"},type:{enum:["inner","outer","full"]},strength:{type:"float32"},distance:{type:"float32"}}},glyphs:{properties:{glyphs:{type:"string"},powerOfTwo:{type:"boolean"},canvasHeight:{type:"string"},padding:{type:"float32"},packMethod:{type:"float32"},canvasWidth:{type:"string"},roundValues:{type:"boolean"},descriptionFormat:{type:"float32"}}},font:{properties:{size:{type:"float32"},spacing:{type:"float32"}},optionalProperties:{data:{type:"string"}}}},optionalProperties:{fallbackfont:{type:"string"}}},Ul=(new(n.n(Rl).a)).compile(Wl),Vl=function(e){var t;if("string"===typeof e)try{t=JSON.parse(e)}catch(o){return!1}if("object"!==typeof t)return!1;var n,r=Ul(t);r||(null===(n=Ul.errors)||void 0===n||n.forEach((function(e){ko.a({category:"littera",message:"Littera validate error",level:"info",data:e})})),ko.c("Littera validate error"));return r},ql=n(109),Kl=n.n(ql);function Ql(e){var t={};return"gradientFill"===e.fillType?e.gradientColors.length<2?(t.type=ut.SOLID,t.color=Kl()(e.gradientColors[0]).alpha(e.gradientAlphas[0]).hex()):(t.type=ut.GRADIENT,t.gradient={},t.gradient.palette=[],t.gradient.type="radial"===e.gradientType?Le.RADIAL:Le.LINEAR,e.gradientColors.forEach((function(n,r){t.gradient.palette.push({id:r+1,color:Kl()(n).alpha(e.gradientAlphas[r]).hex(),offset:e.gradientRatios[r]/255})})),t.gradient.angle=e.gradientRotation):(t.patternTexture={scale:e.textureScale},e.texture&&(t.patternTexture.buffer=et(e.texture))),t}var Zl=function(e){if(!Vl(e))throw new Error("unknow file");"string"===typeof e&&(e=JSON.parse(e));var t=e,n={};n.text=t.glyphs.glyphs,n.glyphs=new Map,t.glyphs.glyphs.split("").forEach((function(e){var t;return null===(t=n.glyphs)||void 0===t?void 0:t.set(e,{letter:e})}));var r={};r.size=t.font.size,t.font.data&&(r.fonts=[],r.fonts.push({font:et(t.font.data)}),t.fallbackfont&&r.fonts.push({font:et(t.fallbackfont)}));var o=Ql(t.fill),i={};i.width=t.stroke.size,i.lineJoin=t.stroke.jointStyle,Object.assign(i,Ql(t.stroke));var l={};return l.color=Kl()(t.shadow.color).alpha(t.shadow.alpha).hex(),l.blur=t.shadow.quality+t.shadow.blurX-t.shadow.strength,l.offsetX=Math.round(Math.cos(t.shadow.angle*Math.PI/180)*t.shadow.distance),l.offsetY=Math.round(Math.sin(t.shadow.angle*Math.PI/180)*t.shadow.distance),n.style={font:r,fill:o,useStroke:t.stroke.strokeEnabled,stroke:i,useShadow:t.shadow.shadowEnabled,shadow:l},n.layout={},n.layout.padding=t.glyphs.padding,isNaN(Number(t.glyphs.canvasWidth))||(n.layout.width=Number(t.glyphs.canvasWidth)),isNaN(Number(t.glyphs.canvasHeight))||(n.layout.width=Number(t.glyphs.canvasHeight)),n.layout.width&&n.layout.height&&(n.layout.auto=!1,n.layout.fixedSize=!0),n},_l=[$l,{ext:".ltr",check:Vl,decode:Zl}];var ea=function(e){var t=_l.find((function(t){return t.check(e)}));if(!t)throw new Error("unknow file");return t.decode(e)},ta=Object(j.c)((function(e){var t=e.className,n=Object(w.b)().enqueueSnackbar,r=yo(),o=Object(f.useRef)(null),i=Object(f.useState)(Date.now()),l=Object(xo.a)(i,2),a=l[0],c=l[1],s=r.addProject;return Object(Lo.jsxs)(Po.a,{className:t,title:"Open Project (\u2318 + O)",component:"label",ref:o,children:["Open",Object(Lo.jsx)("input",{type:"file",onChange:function(e){var t;if((null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]){var r=e.target.files[0],o=/\.ltr$/.test(r.name);Bo(r,o).then((function(t){try{var o=ea(t);o.name||(o.name=r.name),s(o)&&n("The project already exists and has been switched to the current tab.",{variant:"success"})}catch(e){console.log(e),ko.b(e),n(e.toString(),{variant:"error"})}c(Date.now())}))}},accept:".sbf,.ltr",hidden:!0},a)]})})),na=n(174),ra=Object(j.c)((function(e){var t=e.className,n=Object(w.b)().enqueueSnackbar,r=yo().currentProject,o=Object(f.useCallback)((function(e){e.preventDefault();try{var t=Hl(Object(x.H)(r));Object(na.saveAs)(new Blob([t]),"".concat(r.name,".sbf"))}catch(e){ko.b(e),n(e.message)}}),[n,r]);return Object(f.useEffect)((function(){return si.a.unbind("ctrl+s"),Object(si.a)("ctrl+s",o),function(){si.a.unbind("ctrl+s")}}),[o]),Object(Lo.jsx)(Po.a,{className:t,title:"Save Project (\u2318 + S)",onClick:o,children:"Save"})})),oa=n(569),ia=n(588),la=n(572),aa=n(570),ca=n(571),sa=n(573);function ua(e,t){return e.replace(/\$\w+\$/gi,(function(e){var n=t[e.replace(/\$/g,"")];return"undefined"==="".concat(n)?"":"".concat(n)}))}var fa={type:"TEXT",exts:["fnt","txt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l="";return l+=ua('info face="$face$" size=$size$ bold=$bold$ italic=$italic$ charset=$charset$ unicode=$unicode$ stretchH=$stretchH$ smooth=$smooth$ aa=$aa$ padding=$padding$ spacing=$spacing$\n',Object(O.a)(Object(O.a)({},t),{},{charset:t.charset||'""'})),l+=ua("common lineHeight=$lineHeight$ base=$base$ scaleW=$scaleW$ scaleH=$scaleH$ pages=$pages$ packed=$packed$\n",n),r.forEach((function(e){l+=ua('page id=$id$ file="$file$"\n',e)})),l+=ua("chars count=$count$\n",o),o.list.forEach((function(e){l+=ua("char id=$id$ x=$x$ y=$y$ width=$width$ height=$height$ xoffset=$xoffset$ yoffset=$yoffset$ xadvance=$xadvance$ page=$page$ chnl=$chnl$\n",e)})),i.count&&(l+=ua("kernings count=$count$\n",i),i.list.forEach((function(e){l+=ua("kerning first=$first$ second=$second$ amount=$amount$\n",e)}))),l}},pa={type:"XML",exts:["xml","fnt"],getString:function(e){var t=e.info,n=e.common,r=e.pages,o=e.chars,i=e.kernings,l=new DOMParser,a=document.implementation.createDocument("","font",null),c=l.parseFromString(ua('<info face="$face$" size="$size$" bold="$bold$" italic="$italic$" charset="$charset$" unicode="$unicode$" stretchH="$stretchH$" smooth="$smooth$" aa="$aa$" padding="$padding$" spacing="$spacing$" />',t),"text/xml");a.documentElement.appendChild(c.childNodes[0]);var s=l.parseFromString(ua('<common lineHeight="$lineHeight$" base="$base$" scaleW="$scaleW$" scaleH="$scaleH$" pages="$pages$" packed="$packed$" />',n),"text/xml");a.documentElement.appendChild(s.childNodes[0]);var u=l.parseFromString("<pages>".concat(r.map((function(e){return ua('<page id="$id$" file="$file$" />',e)})),"</pages>"),"text/xml");a.documentElement.appendChild(u.childNodes[0]);var f=l.parseFromString(ua('<chars count="$count$" />',o),"text/xml");if(o.list.forEach((function(e){var t=l.parseFromString(ua('<char id="$id$" x="$x$" y="$y$" width="$width$" height="$height$" xoffset="$xoffset$" yoffset="$yoffset$" xadvance="$xadvance$" page="$page$" chnl="$chnl$" />',e),"text/xml");f.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(f.childNodes[0]),i.count){var p=l.parseFromString(ua('<kernings count="$count$" />',i),"text/xml");i.list.forEach((function(e){var t=l.parseFromString(ua('<kerning first="$first$" second="$second$" amount="$amount$" />',e),"text/xml");p.childNodes[0].appendChild(t.childNodes[0])})),a.documentElement.appendChild(p.childNodes[0])}return'<?xml version="1.0" encoding="UTF-8"?>'.concat((new XMLSerializer).serializeToString(a))}};function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.name,r=e.style,o=e.layout,i=e.globalAdjustMetric,l=e.glyphList,a=e.ui,c=a.width,s=a.height,u=r.font,f=u.opentype,p=u.size,d=1;f&&(d=1/f.unitsPerEm*p);var h={face:t||r.font.mainFamily,size:r.font.size,bold:0,italic:0,charset:"",unicode:1,stretchH:100,smooth:1,aa:1,padding:new Array(4).fill(o.padding),spacing:new Array(2).fill(o.spacing)},y={lineHeight:r.font.size,base:Math.round(r.font.alphabetic-r.font.top),scaleW:c,scaleH:s,pages:1,packed:0},b=[{id:0,file:"".concat(n,".png")}],g={count:l.length,list:[]},O={count:0,list:[]};return l.forEach((function(e){var t=!(!e.width||!e.height),n={letter:e.letter,id:e.letter.charCodeAt(0),source:e.source,x:e.x,y:e.y,width:t?e.width+2*o.padding:0,height:t?e.height+2*o.padding:0,xoffset:i.xOffset+e.adjustMetric.xOffset-(t?e.trimOffsetLeft:0)-(t?o.padding:0),yoffset:i.yOffset+e.adjustMetric.yOffset-(t?e.trimOffsetTop:0)-(t?o.padding:0),xadvance:Math.ceil(e.fontWidth)+i.xAdvance+e.adjustMetric.xAdvance,page:0,chnl:15};g.list.push(n),f?l.forEach((function(t){var n=t.letter,r=Math.round(f.getKerningValue(f.charToGlyphIndex(e.letter),f.charToGlyphIndex(n))*d+(e.kerning.get(n)||0));r&&O.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:r})})):e.kerning.forEach((function(t,n){t&&O.list.push({first:e.letter.charCodeAt(0),second:n.charCodeAt(0),amount:t})}))})),O.count=O.list.length,g.list.sort((function(e,t){return e.id-t.id})),{info:h,common:y,pages:b,chars:g,kernings:O}}var ha=n(277),ya=n.n(ha);var ba=[];[fa,pa].forEach((function(e){var t=e.type,n=e.exts,r=e.getString;n.forEach((function(e){ba.push({id:t+e,ext:e,type:t,getString:r})}))}));var ga=Object(j.c)((function(e){var t=e.className,n=go(),r=n.ui.setShowPreview,o=Object(f.useState)(!1),i=Object(xo.a)(o,2),l=i[0],a=i[1],c=Object(f.useState)(ba),s=Object(xo.a)(c,1)[0],u=Object(f.useState)(0),p=Object(xo.a)(u,2),d=p[0],h=p[1],y=Object(f.useState)(n.style.font.mainFamily),b=Object(xo.a)(y,2),g=b[0],O=b[1],j=Object(f.useState)(n.name),w=Object(xo.a)(j,2),m=w[0],v=w[1],x=Object(f.useCallback)((function(){O(n.style.font.mainFamily),v(n.name),r(!1),a(!0)}),[n.name,n.style.font.mainFamily,r]),k=function(){a(!1)},P=Object(f.useCallback)((function(){!function(e,t,n,r){var o=new ya.a,i=e.packCanvas,l=e.name,a=da(e,n),c=t.getString(a),s=r||l;o.file("".concat(s,".").concat(t.ext),c),i&&i.toBlob((function(e){e&&o.file("".concat(s,".png"),e),o.generateAsync({type:"blob"}).then((function(e){return Object(na.saveAs)(e,"".concat(s,".zip"))}))}))}(n,s[d],g,m),k()}),[m,g,s,n,d]);return Object(f.useEffect)((function(){return si.a.unbind("ctrl+shift+s,command+shift+s"),Object(si.a)("ctrl+shift+s,command+shift+s",x),function(){si.a.unbind("ctrl+shift+s,command+shift+s")}}),[x]),Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(Po.a,{className:t,title:"Export BitmapFont (\u2318\u21e7 + S)",onClick:x,children:"Export"}),Object(Lo.jsxs)(oa.a,{onClose:k,open:l,fullWidth:!0,maxWidth:"xs",children:[Object(Lo.jsx)(aa.a,{children:"Export Config"}),Object(Lo.jsxs)(ca.a,{dividers:!0,children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Font Name:",childrenWidth:6,children:Object(Lo.jsx)(Do.a,{fullWidth:!0,type:"text",value:g,placeholder:n.style.font.mainFamily,onChange:function(e){O(e.target.value)}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"File Name:",after:".zip",childrenWidth:6,children:Object(Lo.jsx)(Do.a,{fullWidth:!0,type:"text",value:m,placeholder:n.name,onChange:function(e){v(e.target.value)}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Export Type:",childrenWidth:6,children:Object(Lo.jsx)(ia.a,{displayEmpty:!0,value:d,onChange:function(e){h(e.target.value)},fullWidth:!0,children:s.map((function(e,t){return Object(Lo.jsx)(la.a,{value:t,children:"".concat(m||n.name,".").concat(e.ext," (BMFont ").concat(e.type.toUpperCase(),")")},e.id)}))})})})]}),Object(Lo.jsx)(sa.a,{children:Object(Lo.jsx)(Po.a,{autoFocus:!0,onClick:P,color:"default",children:"Save"})})]})]})})),Oa=Object(fo.a)((function(e){var t=e.zIndex,n=e.spacing;return Object(po.a)({root:{position:"relative",zIndex:t.appBar},appName:{fontSize:"1.25rem",fontWeight:"bolder",marginRight:n(4)},appNameSup:{fontWeight:"lighter",fontSize:"0.5em",marginLeft:"0.5rem"},btn:{textTransform:"none"}})})),ja=function(){var e=Oa();return Object(Lo.jsxs)(co.a,{className:e.root,bgcolor:"background.titleBar",paddingX:4,display:"flex",alignItems:"center",children:[Object(Lo.jsxs)(vo.a,{variant:"h1",className:e.appName,children:["SnowB BMF",Object(Lo.jsx)("sup",{className:e.appNameSup,children:"BETA"})]}),Object(Lo.jsxs)(co.a,{flex:"auto",paddingX:4,children:[Object(Lo.jsx)(ui,{className:e.btn}),Object(Lo.jsx)(ta,{className:e.btn}),Object(Lo.jsx)(ra,{className:e.btn}),Object(Lo.jsx)(ga,{className:e.btn})]}),Object(Lo.jsx)(Mo.a,{size:"small",component:"a",href:"https://github.com/SilenceLeo/snowb-bmf",target:"_blank",title:"GitHub",children:Object(Lo.jsx)(ci.a,{})})]})},wa=n(590),ma=n(599),va=n(575),xa=n(557),ka=n(293),Pa=n(44),Sa=n(574),Ta=Object(fo.a)((function(e){var t=e.palette;return Object(po.a)({picker:{"& *":{color:"".concat(t.text.primary," !important"),borderColor:"".concat(t.divider," !important")},"& input":{background:"none",color:"".concat(t.text.primary," !important"),boxShadow:"none !important",border:"1px solid ".concat(t.divider," !important")}}})})),Ma=function(e){var t=e.open,n=e.anchorEl,r=e.color,o=e.onChange,i=e.placement,l=Ta(),a=function(){var e=Object(Pa.a)(),t=e.palette;return"light"===t.type?{}:{default:{picker:{background:t.background.titleBar,shadow:e.shadows[24]},alpha:{background:"#fff"},color:{background:"#fff"}}}}();return Object(Lo.jsx)(Sa.a,{open:!!t,anchorEl:n,placement:i||"bottom",style:{zIndex:999999},children:Object(Lo.jsx)(ka.a,{color:r,styles:a,className:l.picker,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.rgb;o&&o("rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat("undefined"===typeof t.a?1:t.a,")"))}))})})},Ia=Object(fo.a)((function(e){var t=e.palette,n=e.bgPixel;return Object(po.a)({root:{overflow:"hidden"},swatch:Object(O.a)(Object(O.a)({},n),{},{display:"inline-block",cursor:"pointer"}),color:{width:"46px",height:"24px",border:"5px solid ".concat(t.primary.main),backgroundColor:function(e){return e.color||""}}})})),Ca=function(e){var t=e.color,n=e.onChange,r=Ia(e),o=Object(f.useRef)(null),i=Object(f.useState)(!1),l=Object(xo.a)(i,2),a=l[0],c=l[1];return Object(Lo.jsx)(xa.a,{mouseEvent:"onMouseDown",onClickAway:function(){return c(!1)},children:Object(Lo.jsxs)("div",{"aria-hidden":!0,className:r.swatch,ref:o,children:[Object(Lo.jsx)("div",{"aria-hidden":!0,className:r.color,onClick:function(){return c(!a)}}),Object(Lo.jsx)(Ma,{open:a,anchorEl:o.current,color:t||"#000000",onChange:n})]})})},Aa=function(e){var t=e.color,n=e.onChange;return Object(Lo.jsx)(Yo,{before:"Color:",childrenWidth:3,children:Object(Lo.jsx)(Ca,{color:t,onChange:n})})},Na=n(7),za=["left","top","color","isActive","className"],Fa=Object(fo.a)((function(e){var t=e.bgPixel,n=e.palette;return Object(po.a)({root:Object(O.a)(Object(O.a)({},t),{},{width:"12px",height:"12px",border:"solid ".concat(n.primary.main),borderWidth:"0 1px 1px",position:"absolute",cursor:"pointer",marginLeft:"-6px",left:function(e){return e.left||0},zIndex:function(e){return e.isActive?2:1},"&:before,&:after":{position:"absolute",content:'""',width:0,height:0,borderStyle:"solid",left:"0"},"&:before":{top:"-6px",left:"-1px",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent ".concat(n.primary.dark," transparent")},"&:after":{top:"-5px",borderWidth:"0 5px 5px 5px",borderColor:function(e){var t="dark"===n.type?n.common.white:n.common.black;return"transparent transparent ".concat(e.isActive?t:n.grey[600]," transparent")}}}),color:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:function(e){return e.color||"transparent"}}})})),Ba=function(e){var t=e.left,n=e.top,r=e.color,o=e.isActive,i=e.className,l=Object(Go.a)(e,za),a=Fa({left:t,top:n,color:r,isActive:o});return Object(Lo.jsx)("div",Object(O.a)(Object(O.a)({className:Object(Na.a)(a.root,i)},l),{},{children:Object(Lo.jsx)("div",{className:a.color})}))},La=Object(fo.a)((function(){return Object(po.a)({root:{width:"100%",height:"17px",position:"relative",cursor:"crosshair"}})})),Ea=function(e){var t=e.className,n=e.palette,r=e.activeId,o=e.onAdd,i=e.onUpdate,l=e.onSelect,a=La(e),c=Object(f.useState)(0),s=Object(xo.a)(c,2),u=s[0],p=s[1],d=Object(f.useState)({x:0,y:0,offset:0}),h=Object(xo.a)(d,2),y=h[0],b=h[1],g=Object(f.useState)(!1),j=Object(xo.a)(g,2),w=j[0],m=j[1],v=Object(f.useRef)(null);Object(f.useEffect)((function(){v.current&&p(v.current.clientWidth)}),[v]);var x=Object(f.useCallback)((function(e){if(w&&r)if(1===e.buttons){var t=n.findIndex((function(e){return e.id===r}));if(!(t<0)){var o=Object(Je.a)(n);if(Math.abs(e.clientY-y.y)>50)i(o[t],!0);else{var l=o[t],a=Math.min(Math.max((e.clientX-y.x)/u+y.offset,0),1);o[t]=Object(O.a)(Object(O.a)({},l),{},{offset:a}),i({offset:a})}}}else m(!1)}),[r,w,i,n,y.offset,y.x,y.y,u]),k=Object(f.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),m(!1)}),[]);return Object(f.useEffect)((function(){return w?(window.addEventListener("mousemove",x),window.addEventListener("mouseup",k)):(window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)),function(){window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",k)}}),[x,k,w]),Object(Lo.jsx)("div",{"aria-hidden":!0,ref:v,className:Object(Na.a)(a.root,t),onMouseDown:function(e){var t=v.current;if(t&&1===e.buttons){var n=t.getBoundingClientRect().left,r=(e.clientX-n)/u;o(r),m(!0),b({x:e.clientX,y:e.clientY,offset:r})}},children:n.map((function(e){return Object(Lo.jsx)(Ba,{left:u*e.offset,color:e.color,isActive:e.id===r,onMouseDown:function(t){return function(e,t){1===e.buttons&&(e.preventDefault(),e.stopPropagation(),b({x:e.clientX,y:e.clientY,offset:t.offset}),m(!0),l(t.id))}(t,e)}},e.id)}))})},Da=Object(fo.a)((function(e){var t=e.bgPixel;return{root:Object(O.a)(Object(O.a)({},t),{},{width:function(e){return e.width||"100%"},height:function(e){return e.height||"100%"},border:"1px solid #ccc"}),svg:{width:"100%",height:"100%",verticalAlign:"top"}}})),Ga=function(e){var t=Da(e),n=e.palette,r=Object(f.useState)("palette_".concat(Math.random().toString().substr(2,9))),o=Object(xo.a)(r,1)[0],i=Object(Je.a)(n).sort((function(e,t){return e.offset-t.offset}));return Object(Lo.jsx)("div",{className:t.root,children:Object(Lo.jsxs)("svg",{className:t.svg,children:[Object(Lo.jsx)("defs",{children:Object(Lo.jsx)("linearGradient",{id:o,x1:"0",y1:"0.5",x2:"1",y2:"0.5",children:i.map((function(e){return Object(Lo.jsx)("stop",{offset:e.offset,style:{stopColor:e.color}},e.id)}))})}),Object(Lo.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(o,")")})]})})},Ja=function(e){var t=e.children,n=e.palette,r=e.onUpdate,o=e.onAdd,i=Object(f.useRef)(null),l=Object(f.useState)(Object(Je.a)(n)),a=Object(xo.a)(l,2),c=a[0],s=a[1],u=Object(f.useState)(0),d=Object(xo.a)(u,2),h=d[0],y=d[1],b=Object(f.useState)(""),g=Object(xo.a)(b,2),j=g[0],w=g[1],m=Object(f.useState)(!1),v=Object(xo.a)(m,2),x=v[0],k=v[1];Object(f.useEffect)((function(){if(x){var e=n.map((function(e){return e.id})),t=c.map((function(e){return e.id})),r=Array.from(new Set([].concat(Object(Je.a)(e),Object(Je.a)(t)))).filter((function(e){return!t.includes(e)}));r.length>0&&y(r[0]),k((function(){return!1}))}}),[n,x,c]),Object(f.useEffect)((function(){s(Object(Je.a)(n))}),[n]),Object(f.useEffect)((function(){if(h){var e=n.find((function(e){return e.id===h}));e&&w(e.color)}}),[h,n]);var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h){var o=Object(Je.a)(n),i=o.findIndex((function(e){return e.id===h}));if(t)r([].concat(Object(Je.a)(o.slice(0,i)),Object(Je.a)(o.slice(i+1)))),y(0);else{var l=Object(O.a)(Object(O.a)({},o[i]),e);r([].concat(Object(Je.a)(o.slice(0,i)),[l],Object(Je.a)(o.slice(i+1))))}}};return Object(Lo.jsx)(xa.a,{mouseEvent:"onMouseDown",onClickAway:function(){return y(0)},children:Object(Lo.jsxs)("div",{ref:i,children:[Object(Lo.jsx)(Ga,{palette:n,height:"35px"}),Object(Lo.jsx)(Ea,{palette:n,activeId:h,onAdd:function(e){var t,r,i=Object(Je.a)(n),l={offset:e,color:"rgba(0,0,0,1)"};if(y(0),i.forEach((function(e){e.offset<l.offset&&(!t||t.offset<e.offset)?t=e:e.offset>l.offset&&(!r||r.offset>e.offset)&&(r=e)})),t&&r){var a=(l.offset-t.offset)/(r.offset-t.offset),c=Kl()(t.color),s=Kl()(r.color),u=(s.red()-c.red())*a+c.red(),f=(s.green()-c.green())*a+c.green(),p=(s.blue()-c.blue())*a+c.blue(),d=(s.alpha()-c.alpha())*a+c.alpha();l.color="rgba(".concat(Math.round(u),",").concat(Math.round(f),",").concat(Math.round(p),",").concat(Math.round(d),")")}else(t||r)&&(l.color=(t||r).color);o(l),k(!0)},onUpdate:P,onSelect:function(e){return y(e||0)}}),t?p.a.cloneElement(t,{open:!!h||x,anchorEl:i.current,color:j,onChange:function(e){return P({color:e})}}):null]})})},Xa=Object(fo.a)((function(){return Object(po.a)({root:{width:function(e){return e.width?"".concat(e.width,"px"):"36px"},height:function(e){return e.width?"".concat(e.width,"px"):"36px"},position:"relative",cursor:"crosshair",overflow:"hidden",borderRadius:"100%",background:"#FFF"},point:{width:"6px",height:"6px",borderRadius:"100%",position:"relative",left:"50%",top:"50%",marginTop:"-2px",background:"#000",pointerEvents:"none",transformOrigin:"0 50%",transform:function(e){return"rotate(".concat(e.angle||0,"deg) translate(").concat((e.width||36)/2-8,"px, 0)")}}})})),Ya=function(e){var t=e.onChange,n=Object(f.useRef)(null),r=Object(f.useState)(!1),o=Object(xo.a)(r,2),i=o[0],l=o[1],a=Xa(e),c=Object(f.useCallback)((function(e){if(n.current){var r=e.clientX,o=e.clientY,i=n.current.getBoundingClientRect(),l=Math.atan2(o-(i.y+i.height/2),r-(i.x+i.width/2));t(Math.round(l*(180/Math.PI)))}}),[t]),s=Object(f.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),l(!1)}),[]);return Object(f.useEffect)((function(){return i?(window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)):(window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)),function(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}}),[c,s,i]),Object(Lo.jsx)("div",{"aria-hidden":!0,className:a.root,ref:n,onMouseDown:function(e){n.current&&(l(!0),c(e))},children:Object(Lo.jsx)("div",{className:a.point})})},Ha=function(e){var t=e.angle,n=e.onChange;return Object(Lo.jsx)(Yo,{before:"Angle:",after:Object(Lo.jsx)(Ya,{width:24,angle:t,onChange:n}),children:Object(Lo.jsx)(Do.a,{value:t,fullWidth:!0,type:"number",onChange:function(e){return n(Number(e.target.value))}})})},$a=Object(j.c)((function(e){var t=e.gradient,n=t.type,r=t.angle,o=t.palette,i=t.addColor,l=t.updatePalette,a=t.setAngle,c=t.setType;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Ha,{angle:r,onChange:a})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Type:",component:"div",childrenWidth:8,children:Object(Lo.jsxs)(ma.a,{row:!0,name:"type",value:n,onChange:function(e){return c(Number(e.target.value))},style:{flexWrap:"nowrap"},children:[Object(Lo.jsx)(va.a,{value:Le.LINEAR,control:Object(Lo.jsx)(wa.a,{size:"small",color:"default"}),label:"Linear"}),Object(Lo.jsx)(va.a,{value:Le.RADIAL,control:Object(Lo.jsx)(wa.a,{size:"small",color:"default"}),label:"Radial"})]})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Ja,{palette:o,onAdd:function(e){return i(e.offset,e.color)},onUpdate:l,children:Object(Lo.jsx)(Ma,{})})})]})})),Ra=Object(fo.a)((function(e){return Object(po.a)({root:Object(O.a)({width:e.spacing(12),height:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid ".concat(e.palette.primary.main),cursor:"pointer"},e.bgPixel),image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})})),Wa=function(e){var t=e.src,n=e.onChange,r=Ra();return Object(Lo.jsxs)(co.a,{component:"label",className:r.root,children:[Object(Lo.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&Bo(e.target.files[0]).then((function(e){e instanceof ArrayBuffer&&n(e)}))}}),Object(Lo.jsx)("img",{className:r.image,src:t,alt:""})]})},Ua=function(e){var t=e.patternTexture,n=t.src,r=t.scale,o=t.repetition,i=t.setRepetition,l=t.setScale,a=t.setImage;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{component:"div",before:"Scale:",after:Object(Lo.jsx)(Wa,{src:n,onChange:a}),children:Object(Lo.jsx)(Do.a,{value:r,fullWidth:!0,type:"number",inputProps:{min:.01,step:.1},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Repeat:",children:Object(Lo.jsxs)(ia.a,{value:o,onChange:function(e){return i(e.target.value)},displayEmpty:!0,fullWidth:!0,children:[Object(Lo.jsx)(la.a,{value:"repeat",children:"Repeat"}),Object(Lo.jsx)(la.a,{value:"repeat-x",children:"Repeat-x"}),Object(Lo.jsx)(la.a,{value:"repeat-y",children:"Repeat-y"}),Object(Lo.jsx)(la.a,{value:"no-repeat",children:"No Repeat"})]})})})]})},Va=Object(j.c)((function(e){var t=e.config,n=t.type,r=t.color,o=t.gradient,i=t.patternTexture,l=t.setType,a=t.setColor;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsxs)(ma.a,{row:!0,name:"type",value:n,onChange:function(e){return l(Number(e.target.value))},children:[Object(Lo.jsx)(va.a,{value:ut.SOLID,control:Object(Lo.jsx)(wa.a,{size:"small",color:"default"}),label:"Solid"}),Object(Lo.jsx)(va.a,{value:ut.GRADIENT,control:Object(Lo.jsx)(wa.a,{size:"small",color:"default"}),label:"Gradient"}),Object(Lo.jsx)(va.a,{value:ut.IMAGE,control:Object(Lo.jsx)(wa.a,{size:"small",color:"default"}),label:"Image"})]})}),0===n?Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Aa,{color:r,onChange:a})}):null,1===n?Object(Lo.jsx)($a,{gradient:o}):null,2===n?Object(Lo.jsx)(Ua,{patternTexture:i,src:i.src,scale:i.scale}):null]})})),qa=Object(j.c)((function(){var e=Oo().fill;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Fill"})}),Object(Lo.jsx)(Va,{config:e})]})})),Ka=n(576),Qa=n(577),Za=Object(fo.a)((function(){return Object(po.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),_a=Object(j.c)((function(){var e=Za(),t=Oo(),n=t.stroke,r=t.useStroke,o=t.setUseStroke,i=n.setWidth,l=n.lineJoin,a=n.setLineJoin,c=n.lineCap,s=n.setLineCap,u=n.strokeType,f=n.setStrokeType;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsxs)(co.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Lo.jsx)(vo.a,{component:"div",className:e.title,children:"Stroke"}),"Off",Object(Lo.jsx)(Ka.a,{size:"small",checked:r,onChange:function(e){return o(e.target.checked)}}),"On"]}),Object(Lo.jsxs)("div",{className:r?"":e.disabled,children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Width:",after:"px",children:Object(Lo.jsx)(Do.a,{value:(null===n||void 0===n?void 0:n.width)||0,fullWidth:!0,type:"number",inputProps:{min:0},onChange:function(e){return i(Number(e.target.value))}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Type:",component:"div",childrenWidth:8,children:Object(Lo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Lo.jsx)(Po.a,{onClick:function(){return f(0)},variant:0===u?"contained":"outlined",children:"Outer"}),Object(Lo.jsx)(Po.a,{onClick:function(){return f(1)},variant:1===u?"contained":"outlined",children:"Middle"}),Object(Lo.jsx)(Po.a,{onClick:function(){return f(2)},variant:2===u?"contained":"outlined",children:"Inner"})]})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Line Cap:",component:"div",childrenWidth:8,children:Object(Lo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Lo.jsx)(Po.a,{onClick:function(){return s("butt")},variant:"butt"===c?"contained":"outlined",children:"Butt"}),Object(Lo.jsx)(Po.a,{onClick:function(){return s("round")},variant:"round"===c?"contained":"outlined",children:"Round"}),Object(Lo.jsx)(Po.a,{onClick:function(){return s("square")},variant:"square"===c?"contained":"outlined",children:"Square"})]})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Line Join:",component:"div",childrenWidth:8,children:Object(Lo.jsxs)(Qa.a,{size:"small",color:"primary",children:[Object(Lo.jsx)(Po.a,{onClick:function(){return a("miter")},variant:"miter"===l?"contained":"outlined",children:"Miter"}),Object(Lo.jsx)(Po.a,{onClick:function(){return a("round")},variant:"round"===l?"contained":"outlined",children:"Round"}),Object(Lo.jsx)(Po.a,{onClick:function(){return a("bevel")},variant:"bevel"===l?"contained":"outlined",children:"Bevel"})]})})}),Object(Lo.jsx)(Va,{config:n})]})]})})),ec=Object(fo.a)((function(){return Object(po.a)({disabled:{opacity:.3,pointerEvents:"none"},title:{flex:1}})})),tc=Object(j.c)((function(){var e=Oo(),t=e.shadow,n=e.useShadow,r=e.setUseShadow,o=t.setOffsetX,i=t.setOffsetY,l=t.setBlur,a=t.setColor,c=ec();return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsxs)(co.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:[Object(Lo.jsx)(vo.a,{component:"div",className:c.title,children:"Shadow"}),"Off",Object(Lo.jsx)(Ka.a,{size:"small",checked:n,onChange:function(e){return r(e.target.checked)}}),"On"]}),Object(Lo.jsxs)("div",{className:n?"":c.disabled,children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Offset X:",after:"px",children:Object(Lo.jsx)(Do.a,{value:(null===t||void 0===t?void 0:t.offsetX)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return o(Number(e.target.value))}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Offset Y:",after:"px",children:Object(Lo.jsx)(Do.a,{value:(null===t||void 0===t?void 0:t.offsetY)||0,fullWidth:!0,type:"number",disabled:!n,onChange:function(e){return i(Number(e.target.value))}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Blur:",after:"px",children:Object(Lo.jsx)(Do.a,{value:(null===t||void 0===t?void 0:t.blur)||0,fullWidth:!0,type:"number",disabled:!n,inputProps:{style:{textAlign:"right"},min:0},onChange:function(e){return l(Number(e.target.value))}})})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Aa,{color:(null===t||void 0===t?void 0:t.color)||"",onChange:a})})]})]})})),nc=Object(j.c)((function(){var e=Oo(),t=e.bgColor,n=e.setBgColor;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{component:"label",display:"flex",alignItems:"center",paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Background Color"})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Aa,{color:t||"",onChange:n})})]})})),rc=Object(fo.a)((function(){return Object(po.a)({root:{overflow:"hidden",width:"256px"}})})),oc=function(){var e=rc();return Object(Lo.jsxs)(co.a,{bgcolor:"background.sidebar",display:"flex",flexDirection:"column",overflow:"hidden",className:e.root,children:[Object(Lo.jsx)(co.a,{bgcolor:"background.sidebar",boxShadow:2,padding:2,children:Object(Lo.jsx)(vo.a,{variant:"subtitle2",children:"Style Config"})}),Object(Lo.jsxs)(co.a,{flex:1,height:0,overflow:"hidden auto",children:[Object(Lo.jsx)(qa,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(_a,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(tc,{}),Object(Lo.jsx)(mo.a,{}),Object(Lo.jsx)(nc,{})]})]})},ic=n(284),lc=n.n(ic);var ac=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(f.useCallback)(t,[t,n]),o=Object(f.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.ctrlKey,n=e.altKey,o=e.deltaX,i=e.deltaY;if(t){var l=-.01;Math.abs(i)>50&&(l*=.1),r({deltaScale:i*l,deltaX:0,deltaY:0})}else{var a=-o,c=-i;0===o&&n&&Math.abs(i)>50&&(a=-i,c=0),r({deltaX:a,deltaY:c,deltaScale:0})}}),[r]);Object(f.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("wheel",o,{passive:!1}),function(){return t.removeEventListener("wheel",o)}}}),[e,o])},cc={x:0,y:0};var sc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(f.useState)({ks:!1,ms:!1}),r=Object(xo.a)(n,2),o=r[0],i=r[1],l=Object(f.useMemo)((function(){return o.ks&&o.ms?2:o.ks?1:0}),[o.ks,o.ms]),a=Object(f.useCallback)(e,[e].concat(Object(Je.a)(t))),c=Object(f.useCallback)((function(e){var t=32===e.keyCode&&"keydown"===e.type;o.ks!==t&&i((function(t){return Object(O.a)(Object(O.a)({},t),{},{ks:32===e.keyCode&&"keydown"===e.type})}))}),[o.ks]),s=function(e){if(o.ks){var t=e.clientX,n=e.clientY;cc.x=t,cc.y=n,i((function(e){return Object(O.a)(Object(O.a)({},e),{},{ms:!0})}))}},u=Object(f.useCallback)((function(e){var t=e.clientX,n=e.clientY,r=cc.x,o=cc.y;t-r===0&&n-o===0||(a({offsetX:t-r,offsetY:n-o}),cc.x=t,cc.y=n)}),[a]),p=Object(f.useCallback)((function(){i((function(e){return Object(O.a)(Object(O.a)({},e),{},{ms:!1})}))}),[]);return Object(f.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",c)}}),[c]),Object(f.useEffect)((function(){return o.ks&&o.ms?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",p)):(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p)),function(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p)}}),[p,u,o.ks,o.ms]),[l,s]},uc=Object(fo.a)((function(e){var t=e.bgPixel;return Object(po.a)({root:{position:"relative",width:"100%",height:"100%",overflow:"hidden",flex:1,cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}},canvas:Object(O.a)(Object(O.a)({},t),{},{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")},imageRendering:"pixelated"})})})),fc=Object(j.c)((function(){var e=go(),t=e.isPacking,n=e.ui,r=e.layout,o=r.padding,i=r.auto,l=r.fixedSize,a=r.width,c=r.height,s=e.glyphList,u=e.style.bgColor,p=e.packCanvas,d=e.setCanvas,h=n.width,y=n.height,b=n.scale,g=n.offsetX,O=n.offsetY,j=Object(f.useRef)(null),w=Object(f.useRef)(null),m=sc((function(e){var t=e.offsetX,r=e.offsetY,o=n.scale,i=n.offsetX,l=n.offsetY;(0,n.setTransform)({offsetX:i+t/o,offsetY:l+r/o})}),[n]),v=Object(xo.a)(m,2),x=v[0],k=v[1],P=uc({width:h,height:y,scale:b,offsetX:g,offsetY:O,dragState:x});return ac(w,(function(e){var t=n.offsetX,r=n.offsetY,o=n.scale,i=n.setTransform,l=o+e.deltaScale;i({offsetX:t+e.deltaX/l,offsetY:r+e.deltaY/l,scale:l})}),[n]),Object(f.useEffect)((function(){j.current&&j.current!==p&&d(j.current)}),[j,p,d]),Object(f.useEffect)((function(){if(s&&!t&&h&&y){var e=j.current;if(e){e.width=h,e.height=y;var n=e.getContext("2d");n&&(u&&(n.fillStyle=u,n.fillRect(0,0,e.width,e.height)),s.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&n.drawImage(e.source,e.x+(o||0),e.y+(o||0))})))}}}),[u,s,t,y,h,o,i,l,a,c]),Object(Lo.jsx)("div",{"aria-hidden":!0,ref:w,className:P.root,onMouseDown:k,children:Object(Lo.jsx)("canvas",{ref:j,className:P.canvas})})})),pc=n(578),dc=Object(fo.a)((function(e){var t=e.palette;return Object(po.a)({root:{width:"100%",background:t.background.paper,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,padding:2,animationDuration:"300ms",pointerEvents:"none",color:t.text.secondary,position:"relative"},loading:{position:"absolute",left:0,top:"100%",width:"100%"}})})),hc=Object(j.c)((function(){var e=go(),t=e.isPacking,n=e.ui,r=n.width,o=n.height,i=dc();return Object(Lo.jsxs)("div",{className:i.root,children:["Packed texture size: ",r," x ",o,t?Object(Lo.jsx)(pc.a,{className:i.loading}):null]})})),yc=function(){return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(hc,{}),Object(Lo.jsx)(fc,{})]})};var bc=n(50),gc=Object(fo.a)((function(){return Object(po.a)({letter:{position:"absolute","&:hover,&$select":{background:"rgba(0,0,0,0.2)",outline:"1px solid #000"}},select:{"& + $next":{background:"rgba(0,0,0,0.1)",outline:"1px dashed #666"}},next:{}})})),Oc=Object(j.c)((function(e){var t=e.data,n=t.xOffset,r=t.yOffset,o=t.list,i=gc(),l=wo();return Object(Lo.jsx)(Lo.Fragment,{children:o.map((function(e,t){var o,a="".concat(e.letter).concat(t);return Object(Lo.jsx)("div",{"aria-hidden":!0,className:Object(Na.a)(i.letter,(o={},Object(bc.a)(o,i.select,e.letter===l.selectLetter),Object(bc.a)(o,i.next,e.letter===l.selectNextLetter),o)),style:{width:e.width,height:e.height,left:"".concat(e.x-n,"px"),top:"".concat(e.y-r,"px")},onClick:function(t){return function(e,t,n){e.stopPropagation(),l.setSelectLetter(t,n)}(t,e.letter,e.next)}},a)}))})})),jc=Object(fo.a)((function(e){var t=e.bgPixel;return Object(po.a)({root:Object(O.a)(Object(O.a)({position:"relative",flex:1,width:"100%",height:"100%",overflow:"hidden"},t),{},{cursor:function(e){return 2===e.dragState?"grabbing":1===e.dragState?"grab":"default"}}),wrap:{transformOrigin:"50% 50%",position:"absolute",left:"50%",top:"50%",width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},marginLeft:function(e){return"".concat(e.width/-2,"px")},marginTop:function(e){return"".concat(e.height/-2,"px")},transform:function(e){return"scale(".concat(e.scale,") translate(").concat(e.offsetX,"px,").concat(e.offsetY,"px)")}},canvas:{width:"100%",height:"100%",imageRendering:"pixelated"}})})),wc=Object(j.c)((function(){var e=go(),t=Object(f.useState)(null),n=Object(xo.a)(t,2),r=n[0],o=n[1],i=e.ui,l=e.style.font,a=l.size,c=l.lineHeight,s=l.middle,u=l.hanging,p=l.top,d=l.alphabetic,h=l.ideographic,y=l.bottom,b=l.minBaseLine,g=l.maxBaseLine,O=e.layout.padding,j=e.isPacking,w=i.previewScale,m=i.previewOffsetX,v=i.previewOffsetY,k=Object(f.useRef)(null),P=Object(f.useRef)(null),S=sc((function(e){var t=e.offsetX,n=e.offsetY,r=i.previewScale,o=i.previewOffsetX,l=i.previewOffsetY;(0,i.setPreviewTransform)({previewOffsetX:o+t/r,previewOffsetY:l+n/r})}),[i]),T=Object(xo.a)(S,2),M=T[0],I=T[1],C=jc({width:r?r.width:0,height:r?r.height:0,scale:w,offsetX:m,offsetY:v,dragState:M});return ac(P,(function(e){var t=i.previewOffsetX,n=i.previewOffsetY,r=i.previewScale,o=i.setPreviewTransform,l=r+e.deltaScale;o({previewOffsetX:t+e.deltaX/l,previewOffsetY:n+e.deltaY/l,previewScale:l})}),[i]),Object(f.useEffect)((function(){if(k.current&&!j&&r){var e=k.current,t=e.getContext("2d");if(t){var n=a*c;e.width=r.width,e.height=r.height,r.list.forEach((function(e){e.source&&0!==e.source.width&&0!==e.source.height&&t.drawImage(e.source,e.x-r.xOffset,e.y-r.yOffset)}));for(var o=function(e){[s,u,p,d,h,y].forEach((function(o){var i=Math.round(o-b+e*n);t.beginPath(),t.moveTo(-r.xOffset,i+.5-r.yOffset),t.lineTo(r.width,i+.5-r.yOffset),o===b||o===g?(t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([])):(t.strokeStyle="rgba(0,0,0,0.5)",t.setLineDash([10,3,2,3])),t.stroke()})),t.beginPath(),t.moveTo(.5-r.xOffset,e*n-r.yOffset),t.lineTo(.5-r.xOffset,e*n-r.yOffset+g-b),t.strokeStyle="rgba(0,0,0,1)",t.setLineDash([]),t.stroke()},i=0;i<r.lines;i+=1)o(i)}}}),[d,y,r,u,h,j,c,g,s,b,a,p]),Object(f.useEffect)((function(){Object(x.l)((function(){if(k.current&&!j&&k.current.getContext("2d")){var t=da(e),n=t.chars,r=t.kernings,l=new Map;r.list.forEach((function(e){var t=e.first,n=e.second,r=e.amount;l.has(t)||l.set(t,new Map);var o=l.get(t);null===o||void 0===o||o.set(n,r)}));var s=new Map;n.list.forEach((function(e){s.set(e.letter,e)}));var u=a*c,f=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=[],a=e.split(/\r\n|\r|\n/),c=0,s=0,u=0,f=0,p=0,d=0;return a.forEach((function(e,a){p=r*a,d=0;var h=Array.from(e);h.forEach((function(e,r){var a=t.get(e);if(a){var y=h[r+1],b=n.get(e.charCodeAt(0)),g=0;y&&b&&b.has(y.charCodeAt(0))&&(g=b.get(y.charCodeAt(0))||0);var O={x:d+a.xoffset+(0===a.width?0:i),y:p+a.yoffset+(0===a.width?0:i),width:(a.width||a.xadvance)-(0===a.width?0:2*i),height:(a.height||o)-(0===a.width?0:2*i),source:a.source,letter:a.letter,next:y};d+=a.xadvance+g,c=Math.min(O.x,c),s=Math.min(O.y,s),u=Math.max(O.x+O.width,u),f=Math.max(O.y+O.height,f),l.push(O)}}))})),{lines:a.length,list:l,xOffset:c,yOffset:s,width:u-c,height:Math.max(f-s,a.length*r-s)+2}}(i.previewText,s,l,u,g-b,O);o((function(){return f}))}}))}),[j,c,g,b,e,a,i.previewText,O]),Object(Lo.jsx)("div",{"aria-hidden":!0,ref:P,className:C.root,onMouseDown:I,onClick:function(){return i.setSelectLetter("","")},children:Object(Lo.jsxs)("div",{className:C.wrap,children:[Object(Lo.jsx)("canvas",{ref:k,className:C.canvas}),r?Object(Lo.jsx)(Oc,{data:r}):null]})})})),mc=Object(j.c)((function(){var e=wo(),t=e.previewText,n=e.setPreviewText,r=Object(f.useState)(!1),o=Object(xo.a)(r,2),i=o[0],l=o[1],a=Object(f.useState)(t),c=Object(xo.a)(a,2),s=c[0],u=c[1];return Object(Lo.jsxs)(co.a,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:"Glyphs"})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Uo.a,{margin:"none",value:i?s:t,fullWidth:!0,multiline:!0,rows:7,variant:"outlined",inputProps:{spellCheck:!1},onChange:function(e){var r=e.target.value;i?u(r):(u(r),r!==t&&n(r))},onCompositionStart:function(){return l(!0)},onCompositionEnd:function(){l(!1),u(s),s!==t&&n(s)}})})]})})),vc=Object(j.c)((function(){var e=go(),t=e.glyphList,n=e.ui,r=t.find((function(e){return e.letter===n.selectLetter}));if(!r)return null;var o=r.adjustMetric,i=r.letter,l=o.xAdvance,a=o.xOffset,c=o.yOffset,s=o.setXAdvance,u=o.setXOffset,f=o.setYOffset;return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:'"'.concat(i,'" Adjustment')})}),Object(Lo.jsx)(ri,{xAdvance:l,xOffset:a,yOffset:c,setXAdvance:s,setXOffset:u,setYOffset:f})]})})),xc=Object(j.c)((function(){var e=go(),t=e.glyphList,n=e.ui,r=e.style.font,o=r.opentype,i=r.size,l=Object(f.useState)(0),a=Object(xo.a)(l,2),c=a[0],s=a[1],u=Object(f.useState)(),p=Object(xo.a)(u,2),d=p[0],h=p[1],y=Object(f.useState)(0),b=Object(xo.a)(y,2),g=b[0],O=b[1];Object(f.useEffect)((function(){h(t.find((function(e){return e.letter===n.selectLetter})))}),[t,n.selectLetter]),Object(f.useEffect)((function(){if(d&&n.selectNextLetter&&o){var e=1/o.unitsPerEm*i;s(Math.round(o.getKerningValue(o.charToGlyphIndex(d.letter),o.charToGlyphIndex(n.selectNextLetter))*e))}}),[d,o,i,n.selectNextLetter]);return Object(f.useEffect)((function(){var e;return d&&(O(d.kerning.get(n.selectNextLetter)||0),e=Object(C.a)(d.kerning,(function(){O(d.kerning.get(n.selectNextLetter)||0)}))),e}),[d,n.selectNextLetter]),d&&n.selectNextLetter?Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(vo.a,{children:'"'.concat(d.letter,'" - "').concat(n.selectNextLetter,'" Kerning')})}),Object(Lo.jsx)(co.a,{paddingX:2,marginY:4,children:Object(Lo.jsx)(Yo,{before:"Amount:",after:"px",children:Object(Lo.jsx)(Do.a,{value:g+c,fullWidth:!0,type:"number",onChange:function(e){d&&d.steKerning(n.selectNextLetter,Number(e.target.value)-c)}})})})]}):null})),kc=function(){return Object(Lo.jsxs)(Lo.Fragment,{children:[Object(Lo.jsx)(wc,{}),Object(Lo.jsxs)(Jo.a,{container:!0,alignItems:"flex-start",children:[Object(Lo.jsx)(Jo.a,{item:!0,xs:4,children:Object(Lo.jsx)(mc,{})}),Object(Lo.jsx)(Jo.a,{item:!0,xs:4,children:Object(Lo.jsx)(vc,{})}),Object(Lo.jsx)(Jo.a,{item:!0,xs:4,children:Object(Lo.jsx)(xc,{})})]})]})},Pc=Object(fo.a)((function(e){var t=e.palette;return Object(po.a)({"@keyframes slideDown":{from:{opacity:0,transform:"translate(0, -100%)"},to:{opacity:1,transform:"translate(0, 0)"}},root:{backgroundColor:t.background.default,position:"relative",display:"flex",flex:1,flexDirection:"column"},toast:{position:"absolute",left:0,top:0,width:"100%",zIndex:10,background:t.error.main,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,padding:2,animationName:"$slideDown",animationDuration:"300ms",pointerEvents:"none"},icon:{marginRight:5}})})),Sc=Object(j.c)((function(){var e=wo(),t=e.showPreview,n=e.packFailed,r=Pc();return Object(Lo.jsxs)("div",{className:r.root,children:[n?Object(Lo.jsxs)("div",{className:r.toast,children:[Object(Lo.jsx)(lc.a,{className:r.icon,fontSize:"inherit"}),"Packaging failed, try to increase the size of the package please."]}):null,t?Object(Lo.jsx)(kc,{}):Object(Lo.jsx)(yc,{})]})})),Tc=n(587),Mc=n(177),Ic=n.n(Mc),Cc=Object(fo.a)((function(e){var t=e.palette;return Object(po.a)({root:{minHeight:"auto",minWidth:"80px",maxWidth:"none",height:"34px",lineHeight:"16px",padding:"10px",color:"rgba(255,255,255,0.5)",backgroundColor:"rgb(45, 45, 45)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none",display:"inline-flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{"& $icon":{opacity:1}},"&:last-child":{borderRight:"0 none"}},selected:{background:t.background.default,color:"#fff","& $icon":{opacity:1}},name:{whiteSpace:"nowrap",position:"relative",background:"inherit"},editor:{color:"rgba(0,0,0,0)"},input:{position:"absolute",width:"100%",height:"100%",left:0,fontSize:"inherit",padding:0,border:"0 none",appearance:"none",color:"inherit",background:"inherit"},icon:{width:"16px",height:"16px",marginLeft:"10px",opacity:0}})})),Ac=function(e){var t=e.name,n=e.useRemove,r=e.selected,o=e.value,i=e.onChange,l=e.onClick,a=e.onRemove,c=e.onRename,s=Object(f.useState)(!1),u=Object(xo.a)(s,2),p=u[0],d=u[1],h=Object(f.useState)(t),y=Object(xo.a)(h,2),b=y[0],g=y[1],O=Object(f.useRef)(null),j=Cc(),w=function(e){e.stopPropagation(),a&&a(e,o)};return Object(f.useEffect)((function(){p&&O.current&&O.current.focus(),!p&&c&&c(b,o)}),[p,c,b,o]),Object(f.useEffect)((function(){g(t)}),[t]),Object(Lo.jsxs)("div",{"aria-hidden":!0,className:Object(Na.a)(j.root,Object(bc.a)({},j.selected,r)),onClick:function(e){e.stopPropagation(),i&&i(e,o),l&&l(e)},onDoubleClick:function(e){e.stopPropagation(),O.current&&d(!0)},title:"Double click rename",children:[Object(Lo.jsxs)("span",{"aria-hidden":!0,className:j.name,children:[p?b:t,Object(Lo.jsx)("input",{className:j.input,hidden:!p,ref:O,value:p?b:t,type:"text",onKeyDown:function(e){13===e.keyCode&&O.current&&O.current.blur()},onBlur:function(e){e.preventDefault&&e.preventDefault(),d(!1)},onChange:function(e){g(e.target.value)}})]}),n?Object(Lo.jsx)(Ic.a,{className:j.icon,onClick:w,onDoubleClick:w}):null]})},Nc=Object(fo.a)((function(e){var t=e.palette,n=e.shadows;return Object(po.a)({root:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1}})})),zc=Object(j.c)((function(){var e=Nc(),t=yo(),n=t.addProject,r=t.selectProject,o=t.removeProject,i=t.setProjectName,l=t.namedList,a=t.activeId,c=function(e,t){"undefined"!==typeof t&&o(t)};return Object(Lo.jsx)(Tc.a,{classes:e,value:a,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"off",selectionFollowsFocus:!0,TabIndicatorProps:{hidden:!0},onDoubleClick:function(){n()},children:l.map((function(e){return Object(Lo.jsx)(Ac,{useRemove:l.length>1,name:e.name,value:e.id,onRename:i,onRemove:c},e.id)}))})})),Fc=n(517),Bc=n(567),Lc=Object(fo.a)((function(){return Object(po.a)({slider:{width:"200px"}})})),Ec=Object(j.c)((function(){var e=wo(),t=e.scale,n=e.setTransform,r=e.previewScale,o=e.setPreviewTransform,i=e.showPreview,l=e.setShowPreview,a=Lc(),c=Object(f.useState)(!1),s=Object(xo.a)(c,2),u=s[0],p=s[1],d=Object(f.useRef)(null),h=Object(f.useState)([.25,.5,.75,1,1.25,1.5,5,10]),y=Object(xo.a)(h,1)[0],b=function(e,t){i?o({previewScale:t}):n({scale:t})};return Object(Lo.jsxs)(co.a,{paddingX:2,display:"flex",justifyContent:"space-between",children:[Object(Lo.jsxs)(co.a,{component:"label",display:"flex",alignItems:"center",children:["Preview",Object(Lo.jsx)(Ka.a,{size:"small",color:"primary",checked:i,onChange:function(e){return l(e.target.checked)}})]}),Object(Lo.jsx)($o.a,{className:a.slider,value:i?r:t,min:.01,max:10,step:.01,onChange:b}),Object(Lo.jsx)(Po.a,{ref:d,onClick:function(){p((function(e){return!e}))},children:"".concat(Math.round(1e3*(i?r:t))/10,"%")}),Object(Lo.jsx)(Sa.a,{open:u,anchorEl:d.current,placement:"top-end",children:Object(Lo.jsx)(Fc.a,{children:Object(Lo.jsx)(xa.a,{onClickAway:function(e){d.current&&d.current.contains(e.target)||p(!1)},children:Object(Lo.jsx)(Bc.a,{children:y.map((function(e){return Object(Lo.jsx)(la.a,{onClick:function(){return b(0,e),void p(!1)},children:"".concat(100*e,"%")},e)}))})})})})]})})),Dc=n(597),Gc=n(579),Jc=n(580),Xc=n(286),Yc=n.n(Xc),Hc=n(289),$c=n.n(Hc),Rc=n(288),Wc=n.n(Rc),Uc=n(287),Vc=n.n(Uc),qc=n(300),Kc=n(285),Qc=n.n(Kc),Zc=Object(fo.a)((function(e){return Object(po.a)({root:{width:e.spacing(24),height:e.spacing(24),margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},image:{maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},actions:{width:"100%",height:"100%",position:"absolute",left:0,top:0},inputLabel:{width:"100%",height:"100%","& input":{textAlign:"center"}}})})),_c=Object(j.c)((function(e){var t=Zc(),n=go().removeImage,r=Object(f.useState)(!1),o=Object(xo.a)(r,2),i=o[0],l=o[1],a=e.glyph,c=Object(f.useState)(a.letter),s=Object(xo.a)(c,2),u=s[0],p=s[1],d=a.changeSelect,h=a.selected,y=a.setGlyph;return Object(Lo.jsxs)(Fc.a,{variant:"outlined",className:t.root,children:[Object(Lo.jsx)("img",{className:t.image,src:a.src,alt:a.fileName}),Object(Lo.jsxs)(Jo.a,{container:!0,direction:"column",className:t.actions,children:[Object(Lo.jsxs)(Jo.a,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(Lo.jsx)(Qo.a,{checked:h,size:"small",color:"default",onChange:function(e){return d(e.target.checked)}}),Object(Lo.jsx)(Mo.a,{color:"primary",size:"small",onClick:function(){return n(a)},children:Object(Lo.jsx)(Qc.a,{fontSize:"small"})})]}),Object(Lo.jsx)(Jo.a,{item:!0,xs:!0,component:"label",className:t.inputLabel,container:!0,alignItems:"flex-end",children:Object(Lo.jsx)(qc.a,{fullWidth:!0,value:i?u:a.letter,onFocus:function(e){return e.target.select()},onInput:function(e){var t=e.target.value;i?(p(t.slice(0,1)),y(t.slice(0,1))):y(t)},onCompositionEnd:function(){l(!1),p((function(e){return e.slice(0,1)})),y(u.slice(0,1))},onCompositionStart:function(){return l(!0)}})})]})]})})),es=Object(fo.a)((function(){return Object(po.a)({root:{width:"100%",display:"flex",flexWrap:"wrap"}})})),ts=Object(j.c)((function(){var e=go().glyphImages,t=es();return Object(Lo.jsx)(co.a,{className:t.root,children:e.map((function(e){return Object(Lo.jsx)(_c,{glyph:e},e.src)}))})})),ns=Object(fo.a)((function(){return Object(po.a)({root:{display:"flex",position:"relative"},fixed:{position:"fixed",left:0,top:0,zIndex:999999,width:"100%",height:"100%","& $panel":{maxHeight:"none"}},panel:{width:"100%",display:"flex",flexDirection:"column",maxHeight:"305px"},continer:{flex:1,overflow:"hidden",overflowY:"auto"},listWrap:{minHeight:"224px",height:"100%",width:"100%",overflow:"hidden",overflowY:"auto"}})})),rs=Object(j.c)((function(){var e=ns(),t=go().addImages,n=Object(f.useState)(!1),r=Object(xo.a)(n,2),o=r[0],i=r[1],l=Object(f.useState)(!1),a=Object(xo.a)(l,2),c=a[0],s=a[1],u=function(e){var n=Array.from(e).filter((function(e){return/^image\//.test(e.type)}));n.length&&Promise.all(n.map((function(e){return Bo(e).then((function(t){if(!t||"string"===typeof t)return null;var n=e.name.match(/(\S)\.[a-zA-Z0-9]+$/i);return{letter:n?n[1]:"",fileName:e.name,fileType:e.type,buffer:t}}))}))).then((function(e){t(e.filter((function(e){return e})))}))},p=function(e){var t=e.target;27===e.keyCode&&(t&&"INPUT"===t.tagName?t&&t.blur():i(!1))};return Object(f.useEffect)((function(){return o?window.addEventListener("keydown",p):window.removeEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[o]),Object(Lo.jsx)(co.a,{onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),u(e.dataTransfer.files)},className:Object(Na.a)(e.root,Object(bc.a)({},e.fixed,o)),children:Object(Lo.jsxs)(Dc.a,{className:e.panel,expanded:o||c,onChange:function(){s((function(e){return o||!e}))},TransitionProps:{style:o||c?{flex:1,overflow:"hidden",overflowY:"auto"}:{}},children:[Object(Lo.jsx)(Gc.a,{expandIcon:o?void 0:Object(Lo.jsx)(Yc.a,{}),children:Object(Lo.jsxs)(Jo.a,{container:!0,alignItems:"center",children:[Object(Lo.jsx)(Jo.a,{item:!0,children:Object(Lo.jsx)(vo.a,{children:"Image Glyph List"})}),Object(Lo.jsx)(Jo.a,{item:!0,xs:!0,container:!0,justifyContent:"center",children:Object(Lo.jsxs)(Po.a,{component:"label",color:"primary",size:"small",variant:"contained",startIcon:Object(Lo.jsx)(Vc.a,{}),children:["Select Images",Object(Lo.jsx)("input",{hidden:!0,type:"file",multiple:!0,accept:"image/*",onChange:function(e){if(e.target.files){var t=e.target.files;u(t)}}})]})}),Object(Lo.jsx)(Jo.a,{item:!0,children:Object(Lo.jsx)(Mo.a,{component:"div",onClick:function(e){e&&e.stopPropagation(),i((function(e){return!e}))},children:o?Object(Lo.jsx)(Wc.a,{}):Object(Lo.jsx)($c.a,{})})})]})}),Object(Lo.jsx)(Jc.a,{className:e.continer,children:Object(Lo.jsx)(co.a,{className:e.listWrap,children:Object(Lo.jsx)(ts,{})})})]})})})),os=Object(fo.a)((function(e){var t=e.palette,n=e.shadows;return Object(po.a)({root:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:0},tabsRoot:{minHeight:"auto",width:"100%",boxShadow:n[2],background:t.background.sidebar,position:"relative",zIndex:1},tabRoot:{minHeight:"auto",minWidth:"auto",maxWidth:"none",height:"34px",color:"rgba(255,255,255,0.5)",borderRight:"1px solid ".concat(t.background.default),textTransform:"none"},tabSelected:{background:t.background.default},tabWrapper:{color:"#FFF"}})})),is=function(){var e=os();return Object(Lo.jsxs)(co.a,{className:e.root,children:[Object(Lo.jsx)(zc,{}),Object(Lo.jsx)(Sc,{}),Object(Lo.jsx)(Ec,{}),Object(Lo.jsx)(rs,{})]})},ls=n(595),as=Object(fo.a)((function(e){return Object(po.a)({close:{padding:e.spacing(.5)}})}));function cs(){var e=as(),t=p.a.useState(!1),n=Object(xo.a)(t,2),r=n[0],o=n[1],i=function(e,t){"clickaway"!==t&&o(!1)},l=p.a.useCallback((function(e){var t=e.detail;o(!!t)}),[]);return p.a.useEffect((function(){return window.addEventListener("updateVerion",l,!1),function(){return window.removeEventListener("updateVerion",l,!1)}}),[l]),Object(Lo.jsx)(ls.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,onClose:i,message:"New version is available.",action:Object(Lo.jsxs)(p.a.Fragment,{children:[Object(Lo.jsx)(Po.a,{color:"secondary",size:"small",onClick:function(){window.location.reload()},children:"Reload"}),Object(Lo.jsx)(Mo.a,{"aria-label":"close",color:"inherit",className:e.close,onClick:i,children:Object(Lo.jsx)(Ic.a,{})})]})})}var ss=Object(fo.a)((function(e){var t=e.zIndex;return Object(po.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,position:"relative",height:"0",overflow:"hidden"},loadingBackdrop:{zIndex:t.drawer+1,color:"#fff"}})})),us=Object(j.c)((function(){var e=ss(),t=ho().ui;return Object(Lo.jsxs)(co.a,{className:e.root,children:[Object(Lo.jsx)(ja,{}),Object(Lo.jsx)(cs,{}),Object(Lo.jsxs)(co.a,{className:e.content,children:[Object(Lo.jsx)(li,{}),Object(Lo.jsx)(is,{}),Object(Lo.jsx)(oc,{})]}),Object(Lo.jsx)(so.a,{className:e.loadingBackdrop,open:!!t.globalLoader,children:Object(Lo.jsx)(uo.a,{color:"inherit"})})]})}));var fs=function(){return Object(Lo.jsxs)(v.a,{theme:ao,children:[Object(Lo.jsx)(m.a,{}),Object(Lo.jsx)(j.b,Object(O.a)(Object(O.a)({},(qr||(qr={ui:new I,workspace:new to}),qr)),{},{children:Object(Lo.jsx)(w.a,{anchorOrigin:{horizontal:"center",vertical:"top"},children:Object(Lo.jsx)(us,{})})}))]})},ps=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ds(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})},e.update()})).catch((function(e){console.error("Error during service worker registration:",e)}))}y.a({dsn:"https://007c463bad354a5baf9a11d8e9d7c8a6@o501223.ingest.sentry.io/5981296",release:"d8a33cb",integrations:[new b.a,new g.a],tracesSampleRate:1,environment:"production",replaysSessionSampleRate:0,replaysOnErrorSampleRate:1}),h.a.render(Object(Lo.jsx)(fs,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ps?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ds(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ds(t,e)}))}}({onUpdate:function(e){var t=e.waiting;if(t){var n=new MessageChannel;n.port1.onmessage=function(){window.dispatchEvent(new CustomEvent("updateVerion",{detail:t}))},t.postMessage({type:"SKIP_WAITING"},[n.port2])}}})}},[[511,1,2]]]);
//# sourceMappingURL=main.84838c15.chunk.js.map